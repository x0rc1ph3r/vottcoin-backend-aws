import { r as Gp, i as Q0, e as Rn, G as Qp } from "./inherits_browser-pi62VNAT.js";
import { j as uE, k as Nn, h as Jp } from "./index-BVkEElt3.js";
var N3 = function(e, t, r) {
  if (r || arguments.length === 2)
    for (var i = 0, n = t.length, s; i < n; i++)
      (s || !(i in t)) && (s || (s = Array.prototype.slice.call(t, 0, i)), s[i] = t[i]);
  return e.concat(s || Array.prototype.slice.call(t));
}, cE = (
  /** @class */
  /* @__PURE__ */ function() {
    function e(t, r, i) {
      this.name = t, this.version = r, this.os = i, this.type = "browser";
    }
    return e;
  }()
), lE = (
  /** @class */
  /* @__PURE__ */ function() {
    function e(t) {
      this.version = t, this.type = "node", this.name = "node", this.os = process.platform;
    }
    return e;
  }()
), dE = (
  /** @class */
  /* @__PURE__ */ function() {
    function e(t, r, i, n) {
      this.name = t, this.version = r, this.os = i, this.bot = n, this.type = "bot-device";
    }
    return e;
  }()
), pE = (
  /** @class */
  /* @__PURE__ */ function() {
    function e() {
      this.type = "bot", this.bot = !0, this.name = "bot", this.version = null, this.os = null;
    }
    return e;
  }()
), gE = (
  /** @class */
  /* @__PURE__ */ function() {
    function e() {
      this.type = "react-native", this.name = "react-native", this.version = null, this.os = null;
    }
    return e;
  }()
), mE = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/, vE = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/, P3 = 3, bE = [
  ["aol", /AOLShield\/([0-9\._]+)/],
  ["edge", /Edge\/([0-9\._]+)/],
  ["edge-ios", /EdgiOS\/([0-9\._]+)/],
  ["yandexbrowser", /YaBrowser\/([0-9\._]+)/],
  ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/],
  ["samsung", /SamsungBrowser\/([0-9\.]+)/],
  ["silk", /\bSilk\/([0-9._-]+)\b/],
  ["miui", /MiuiBrowser\/([0-9\.]+)$/],
  ["beaker", /BeakerBrowser\/([0-9\.]+)/],
  ["edge-chromium", /EdgA?\/([0-9\.]+)/],
  [
    "chromium-webview",
    /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/
  ],
  ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
  ["phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/],
  ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/],
  ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/],
  ["fxios", /FxiOS\/([0-9\.]+)/],
  ["opera-mini", /Opera Mini.*Version\/([0-9\.]+)/],
  ["opera", /Opera\/([0-9\.]+)(?:\s|$)/],
  ["opera", /OPR\/([0-9\.]+)(:?\s|$)/],
  ["pie", /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],
  ["pie", /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],
  ["netfront", /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],
  ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
  ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
  ["ie", /MSIE\s(7\.0)/],
  ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/],
  ["android", /Android\s([0-9\.]+)/],
  ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/],
  ["safari", /Version\/([0-9\._]+).*Safari/],
  ["facebook", /FB[AS]V\/([0-9\.]+)/],
  ["instagram", /Instagram\s([0-9\.]+)/],
  ["ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/],
  ["ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
  ["curl", /^curl\/([0-9\.]+)$/],
  ["searchbot", mE]
], R3 = [
  ["iOS", /iP(hone|od|ad)/],
  ["Android OS", /Android/],
  ["BlackBerry OS", /BlackBerry|BB10/],
  ["Windows Mobile", /IEMobile/],
  ["Amazon OS", /Kindle/],
  ["Windows 3.11", /Win16/],
  ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/],
  ["Windows 98", /(Windows 98)|(Win98)/],
  ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/],
  ["Windows XP", /(Windows NT 5.1)|(Windows XP)/],
  ["Windows Server 2003", /(Windows NT 5.2)/],
  ["Windows Vista", /(Windows NT 6.0)/],
  ["Windows 7", /(Windows NT 6.1)/],
  ["Windows 8", /(Windows NT 6.2)/],
  ["Windows 8.1", /(Windows NT 6.3)/],
  ["Windows 10", /(Windows NT 10.0)/],
  ["Windows ME", /Windows ME/],
  ["Windows CE", /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],
  ["Open BSD", /OpenBSD/],
  ["Sun OS", /SunOS/],
  ["Chrome OS", /CrOS/],
  ["Linux", /(Linux)|(X11)/],
  ["Mac OS", /(Mac_PowerPC)|(Macintosh)/],
  ["QNX", /QNX/],
  ["BeOS", /BeOS/],
  ["OS/2", /OS\/2/]
];
function yE(e) {
  return typeof document > "u" && typeof navigator < "u" && navigator.product === "ReactNative" ? new gE() : typeof navigator < "u" ? AE(navigator.userAgent) : EE();
}
function wE(e) {
  return e !== "" && bE.reduce(function(t, r) {
    var i = r[0], n = r[1];
    if (t)
      return t;
    var s = n.exec(e);
    return !!s && [i, s];
  }, !1);
}
function AE(e) {
  var t = wE(e);
  if (!t)
    return null;
  var r = t[0], i = t[1];
  if (r === "searchbot")
    return new pE();
  var n = i[1] && i[1].split(".").join("_").split("_").slice(0, 3);
  n ? n.length < P3 && (n = N3(N3([], n, !0), ME(P3 - n.length), !0)) : n = [];
  var s = n.join("."), u = _E(e), p = vE.exec(e);
  return p && p[1] ? new dE(r, s, u, p[1]) : new cE(r, s, u);
}
function _E(e) {
  for (var t = 0, r = R3.length; t < r; t++) {
    var i = R3[t], n = i[0], s = i[1], u = s.exec(e);
    if (u)
      return n;
  }
  return null;
}
function EE() {
  var e = typeof process < "u" && process.version;
  return e ? new lE(process.version.slice(1)) : null;
}
function ME(e) {
  for (var t = [], r = 0; r < e; r++)
    t.push("0");
  return t;
}
var Zt = {};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var X1 = function(e, t) {
  return X1 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, i) {
    r.__proto__ = i;
  } || function(r, i) {
    for (var n in i)
      i.hasOwnProperty(n) && (r[n] = i[n]);
  }, X1(e, t);
};
function SE(e, t) {
  X1(e, t);
  function r() {
    this.constructor = e;
  }
  e.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var Z1 = function() {
  return Z1 = Object.assign || function(t) {
    for (var r, i = 1, n = arguments.length; i < n; i++) {
      r = arguments[i];
      for (var s in r)
        Object.prototype.hasOwnProperty.call(r, s) && (t[s] = r[s]);
    }
    return t;
  }, Z1.apply(this, arguments);
};
function xE(e, t) {
  var r = {};
  for (var i in e)
    Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (r[i] = e[i]);
  if (e != null && typeof Object.getOwnPropertySymbols == "function")
    for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
      t.indexOf(i[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[n]) && (r[i[n]] = e[i[n]]);
  return r;
}
function IE(e, t, r, i) {
  var n = arguments.length, s = n < 3 ? t : i === null ? i = Object.getOwnPropertyDescriptor(t, r) : i, u;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    s = Reflect.decorate(e, t, r, i);
  else
    for (var p = e.length - 1; p >= 0; p--)
      (u = e[p]) && (s = (n < 3 ? u(s) : n > 3 ? u(t, r, s) : u(t, r)) || s);
  return n > 3 && s && Object.defineProperty(t, r, s), s;
}
function DE(e, t) {
  return function(r, i) {
    t(r, i, e);
  };
}
function CE(e, t) {
  if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
    return Reflect.metadata(e, t);
}
function NE(e, t, r, i) {
  function n(s) {
    return s instanceof r ? s : new r(function(u) {
      u(s);
    });
  }
  return new (r || (r = Promise))(function(s, u) {
    function p(w) {
      try {
        m(i.next(w));
      } catch (S) {
        u(S);
      }
    }
    function b(w) {
      try {
        m(i.throw(w));
      } catch (S) {
        u(S);
      }
    }
    function m(w) {
      w.done ? s(w.value) : n(w.value).then(p, b);
    }
    m((i = i.apply(e, t || [])).next());
  });
}
function PE(e, t) {
  var r = { label: 0, sent: function() {
    if (s[0] & 1)
      throw s[1];
    return s[1];
  }, trys: [], ops: [] }, i, n, s, u;
  return u = { next: p(0), throw: p(1), return: p(2) }, typeof Symbol == "function" && (u[Symbol.iterator] = function() {
    return this;
  }), u;
  function p(m) {
    return function(w) {
      return b([m, w]);
    };
  }
  function b(m) {
    if (i)
      throw new TypeError("Generator is already executing.");
    for (; r; )
      try {
        if (i = 1, n && (s = m[0] & 2 ? n.return : m[0] ? n.throw || ((s = n.return) && s.call(n), 0) : n.next) && !(s = s.call(n, m[1])).done)
          return s;
        switch (n = 0, s && (m = [m[0] & 2, s.value]), m[0]) {
          case 0:
          case 1:
            s = m;
            break;
          case 4:
            return r.label++, { value: m[1], done: !1 };
          case 5:
            r.label++, n = m[1], m = [0];
            continue;
          case 7:
            m = r.ops.pop(), r.trys.pop();
            continue;
          default:
            if (s = r.trys, !(s = s.length > 0 && s[s.length - 1]) && (m[0] === 6 || m[0] === 2)) {
              r = 0;
              continue;
            }
            if (m[0] === 3 && (!s || m[1] > s[0] && m[1] < s[3])) {
              r.label = m[1];
              break;
            }
            if (m[0] === 6 && r.label < s[1]) {
              r.label = s[1], s = m;
              break;
            }
            if (s && r.label < s[2]) {
              r.label = s[2], r.ops.push(m);
              break;
            }
            s[2] && r.ops.pop(), r.trys.pop();
            continue;
        }
        m = t.call(e, r);
      } catch (w) {
        m = [6, w], n = 0;
      } finally {
        i = s = 0;
      }
    if (m[0] & 5)
      throw m[1];
    return { value: m[0] ? m[1] : void 0, done: !0 };
  }
}
function RE(e, t, r, i) {
  i === void 0 && (i = r), e[i] = t[r];
}
function OE(e, t) {
  for (var r in e)
    r !== "default" && !t.hasOwnProperty(r) && (t[r] = e[r]);
}
function tp(e) {
  var t = typeof Symbol == "function" && Symbol.iterator, r = t && e[t], i = 0;
  if (r)
    return r.call(e);
  if (e && typeof e.length == "number")
    return {
      next: function() {
        return e && i >= e.length && (e = void 0), { value: e && e[i++], done: !e };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function Q6(e, t) {
  var r = typeof Symbol == "function" && e[Symbol.iterator];
  if (!r)
    return e;
  var i = r.call(e), n, s = [], u;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = i.next()).done; )
      s.push(n.value);
  } catch (p) {
    u = { error: p };
  } finally {
    try {
      n && !n.done && (r = i.return) && r.call(i);
    } finally {
      if (u)
        throw u.error;
    }
  }
  return s;
}
function BE() {
  for (var e = [], t = 0; t < arguments.length; t++)
    e = e.concat(Q6(arguments[t]));
  return e;
}
function TE() {
  for (var e = 0, t = 0, r = arguments.length; t < r; t++)
    e += arguments[t].length;
  for (var i = Array(e), n = 0, t = 0; t < r; t++)
    for (var s = arguments[t], u = 0, p = s.length; u < p; u++, n++)
      i[n] = s[u];
  return i;
}
function hu(e) {
  return this instanceof hu ? (this.v = e, this) : new hu(e);
}
function FE(e, t, r) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var i = r.apply(e, t || []), n, s = [];
  return n = {}, u("next"), u("throw"), u("return"), n[Symbol.asyncIterator] = function() {
    return this;
  }, n;
  function u(C) {
    i[C] && (n[C] = function(D) {
      return new Promise(function(P, k) {
        s.push([C, D, P, k]) > 1 || p(C, D);
      });
    });
  }
  function p(C, D) {
    try {
      b(i[C](D));
    } catch (P) {
      S(s[0][3], P);
    }
  }
  function b(C) {
    C.value instanceof hu ? Promise.resolve(C.value.v).then(m, w) : S(s[0][2], C);
  }
  function m(C) {
    p("next", C);
  }
  function w(C) {
    p("throw", C);
  }
  function S(C, D) {
    C(D), s.shift(), s.length && p(s[0][0], s[0][1]);
  }
}
function UE(e) {
  var t, r;
  return t = {}, i("next"), i("throw", function(n) {
    throw n;
  }), i("return"), t[Symbol.iterator] = function() {
    return this;
  }, t;
  function i(n, s) {
    t[n] = e[n] ? function(u) {
      return (r = !r) ? { value: hu(e[n](u)), done: n === "return" } : s ? s(u) : u;
    } : s;
  }
}
function qE(e) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var t = e[Symbol.asyncIterator], r;
  return t ? t.call(e) : (e = typeof tp == "function" ? tp(e) : e[Symbol.iterator](), r = {}, i("next"), i("throw"), i("return"), r[Symbol.asyncIterator] = function() {
    return this;
  }, r);
  function i(s) {
    r[s] = e[s] && function(u) {
      return new Promise(function(p, b) {
        u = e[s](u), n(p, b, u.done, u.value);
      });
    };
  }
  function n(s, u, p, b) {
    Promise.resolve(b).then(function(m) {
      s({ value: m, done: p });
    }, u);
  }
}
function LE(e, t) {
  return Object.defineProperty ? Object.defineProperty(e, "raw", { value: t }) : e.raw = t, e;
}
function kE(e) {
  if (e && e.__esModule)
    return e;
  var t = {};
  if (e != null)
    for (var r in e)
      Object.hasOwnProperty.call(e, r) && (t[r] = e[r]);
  return t.default = e, t;
}
function zE(e) {
  return e && e.__esModule ? e : { default: e };
}
function $E(e, t) {
  if (!t.has(e))
    throw new TypeError("attempted to get private field on non-instance");
  return t.get(e);
}
function HE(e, t, r) {
  if (!t.has(e))
    throw new TypeError("attempted to set private field on non-instance");
  return t.set(e, r), r;
}
const jE = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  get __assign() {
    return Z1;
  },
  __asyncDelegator: UE,
  __asyncGenerator: FE,
  __asyncValues: qE,
  __await: hu,
  __awaiter: NE,
  __classPrivateFieldGet: $E,
  __classPrivateFieldSet: HE,
  __createBinding: RE,
  __decorate: IE,
  __exportStar: OE,
  __extends: SE,
  __generator: PE,
  __importDefault: zE,
  __importStar: kE,
  __makeTemplateObject: LE,
  __metadata: CE,
  __param: DE,
  __read: Q6,
  __rest: xE,
  __spread: BE,
  __spreadArrays: TE,
  __values: tp
}, Symbol.toStringTag, { value: "Module" })), bu = /* @__PURE__ */ uE(jE);
var Rd = {}, Of = {}, O3;
function KE() {
  if (O3)
    return Of;
  O3 = 1, Object.defineProperty(Of, "__esModule", { value: !0 }), Of.delay = void 0;
  function e(t) {
    return new Promise((r) => {
      setTimeout(() => {
        r(!0);
      }, t);
    });
  }
  return Of.delay = e, Of;
}
var wa = {}, Od = {}, Aa = {}, B3;
function GE() {
  return B3 || (B3 = 1, Object.defineProperty(Aa, "__esModule", { value: !0 }), Aa.ONE_THOUSAND = Aa.ONE_HUNDRED = void 0, Aa.ONE_HUNDRED = 100, Aa.ONE_THOUSAND = 1e3), Aa;
}
var Bd = {}, T3;
function QE() {
  return T3 || (T3 = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.ONE_YEAR = e.FOUR_WEEKS = e.THREE_WEEKS = e.TWO_WEEKS = e.ONE_WEEK = e.THIRTY_DAYS = e.SEVEN_DAYS = e.FIVE_DAYS = e.THREE_DAYS = e.ONE_DAY = e.TWENTY_FOUR_HOURS = e.TWELVE_HOURS = e.SIX_HOURS = e.THREE_HOURS = e.ONE_HOUR = e.SIXTY_MINUTES = e.THIRTY_MINUTES = e.TEN_MINUTES = e.FIVE_MINUTES = e.ONE_MINUTE = e.SIXTY_SECONDS = e.THIRTY_SECONDS = e.TEN_SECONDS = e.FIVE_SECONDS = e.ONE_SECOND = void 0, e.ONE_SECOND = 1, e.FIVE_SECONDS = 5, e.TEN_SECONDS = 10, e.THIRTY_SECONDS = 30, e.SIXTY_SECONDS = 60, e.ONE_MINUTE = e.SIXTY_SECONDS, e.FIVE_MINUTES = e.ONE_MINUTE * 5, e.TEN_MINUTES = e.ONE_MINUTE * 10, e.THIRTY_MINUTES = e.ONE_MINUTE * 30, e.SIXTY_MINUTES = e.ONE_MINUTE * 60, e.ONE_HOUR = e.SIXTY_MINUTES, e.THREE_HOURS = e.ONE_HOUR * 3, e.SIX_HOURS = e.ONE_HOUR * 6, e.TWELVE_HOURS = e.ONE_HOUR * 12, e.TWENTY_FOUR_HOURS = e.ONE_HOUR * 24, e.ONE_DAY = e.TWENTY_FOUR_HOURS, e.THREE_DAYS = e.ONE_DAY * 3, e.FIVE_DAYS = e.ONE_DAY * 5, e.SEVEN_DAYS = e.ONE_DAY * 7, e.THIRTY_DAYS = e.ONE_DAY * 30, e.ONE_WEEK = e.SEVEN_DAYS, e.TWO_WEEKS = e.ONE_WEEK * 2, e.THREE_WEEKS = e.ONE_WEEK * 3, e.FOUR_WEEKS = e.ONE_WEEK * 4, e.ONE_YEAR = e.ONE_DAY * 365;
  }(Bd)), Bd;
}
var F3;
function J6() {
  return F3 || (F3 = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 });
    const t = bu;
    t.__exportStar(GE(), e), t.__exportStar(QE(), e);
  }(Od)), Od;
}
var U3;
function JE() {
  if (U3)
    return wa;
  U3 = 1, Object.defineProperty(wa, "__esModule", { value: !0 }), wa.fromMiliseconds = wa.toMiliseconds = void 0;
  const e = J6();
  function t(i) {
    return i * e.ONE_THOUSAND;
  }
  wa.toMiliseconds = t;
  function r(i) {
    return Math.floor(i / e.ONE_THOUSAND);
  }
  return wa.fromMiliseconds = r, wa;
}
var q3;
function YE() {
  return q3 || (q3 = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 });
    const t = bu;
    t.__exportStar(KE(), e), t.__exportStar(JE(), e);
  }(Rd)), Rd;
}
var uh = {}, L3;
function VE() {
  if (L3)
    return uh;
  L3 = 1, Object.defineProperty(uh, "__esModule", { value: !0 }), uh.Watch = void 0;
  class e {
    constructor() {
      this.timestamps = /* @__PURE__ */ new Map();
    }
    start(r) {
      if (this.timestamps.has(r))
        throw new Error(`Watch already started for label: ${r}`);
      this.timestamps.set(r, { started: Date.now() });
    }
    stop(r) {
      const i = this.get(r);
      if (typeof i.elapsed < "u")
        throw new Error(`Watch already stopped for label: ${r}`);
      const n = Date.now() - i.started;
      this.timestamps.set(r, { started: i.started, elapsed: n });
    }
    get(r) {
      const i = this.timestamps.get(r);
      if (typeof i > "u")
        throw new Error(`No timestamp found for label: ${r}`);
      return i;
    }
    elapsed(r) {
      const i = this.get(r);
      return i.elapsed || Date.now() - i.started;
    }
  }
  return uh.Watch = e, uh.default = e, uh;
}
var Td = {}, Bf = {}, k3;
function WE() {
  if (k3)
    return Bf;
  k3 = 1, Object.defineProperty(Bf, "__esModule", { value: !0 }), Bf.IWatch = void 0;
  class e {
  }
  return Bf.IWatch = e, Bf;
}
var z3;
function XE() {
  return z3 || (z3 = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), bu.__exportStar(WE(), e);
  }(Td)), Td;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 });
  const t = bu;
  t.__exportStar(YE(), e), t.__exportStar(VE(), e), t.__exportStar(XE(), e), t.__exportStar(J6(), e);
})(Zt);
var nr = {};
Object.defineProperty(nr, "__esModule", { value: !0 });
nr.getLocalStorage = nr.getLocalStorageOrThrow = nr.getCrypto = nr.getCryptoOrThrow = Y6 = nr.getLocation = nr.getLocationOrThrow = wu = nr.getNavigator = nr.getNavigatorOrThrow = yu = nr.getDocument = nr.getDocumentOrThrow = nr.getFromWindowOrThrow = nr.getFromWindow = void 0;
function Ta(e) {
  let t;
  return typeof window < "u" && typeof window[e] < "u" && (t = window[e]), t;
}
nr.getFromWindow = Ta;
function jh(e) {
  const t = Ta(e);
  if (!t)
    throw new Error(`${e} is not defined in Window`);
  return t;
}
nr.getFromWindowOrThrow = jh;
function ZE() {
  return jh("document");
}
nr.getDocumentOrThrow = ZE;
function tM() {
  return Ta("document");
}
var yu = nr.getDocument = tM;
function eM() {
  return jh("navigator");
}
nr.getNavigatorOrThrow = eM;
function rM() {
  return Ta("navigator");
}
var wu = nr.getNavigator = rM;
function iM() {
  return jh("location");
}
nr.getLocationOrThrow = iM;
function nM() {
  return Ta("location");
}
var Y6 = nr.getLocation = nM;
function sM() {
  return jh("crypto");
}
nr.getCryptoOrThrow = sM;
function oM() {
  return Ta("crypto");
}
nr.getCrypto = oM;
function aM() {
  return jh("localStorage");
}
nr.getLocalStorageOrThrow = aM;
function hM() {
  return Ta("localStorage");
}
nr.getLocalStorage = hM;
var Yp = {};
Object.defineProperty(Yp, "__esModule", { value: !0 });
var V6 = Yp.getWindowMetadata = void 0;
const $3 = nr;
function fM() {
  let e, t;
  try {
    e = $3.getDocumentOrThrow(), t = $3.getLocationOrThrow();
  } catch {
    return null;
  }
  function r() {
    const S = e.getElementsByTagName("link"), C = [];
    for (let D = 0; D < S.length; D++) {
      const P = S[D], k = P.getAttribute("rel");
      if (k && k.toLowerCase().indexOf("icon") > -1) {
        const z = P.getAttribute("href");
        if (z)
          if (z.toLowerCase().indexOf("https:") === -1 && z.toLowerCase().indexOf("http:") === -1 && z.indexOf("//") !== 0) {
            let V = t.protocol + "//" + t.host;
            if (z.indexOf("/") === 0)
              V += z;
            else {
              const Q = t.pathname.split("/");
              Q.pop();
              const W = Q.join("/");
              V += W + "/" + z;
            }
            C.push(V);
          } else if (z.indexOf("//") === 0) {
            const V = t.protocol + z;
            C.push(V);
          } else
            C.push(z);
      }
    }
    return C;
  }
  function i(...S) {
    const C = e.getElementsByTagName("meta");
    for (let D = 0; D < C.length; D++) {
      const P = C[D], k = ["itemprop", "property", "name"].map((z) => P.getAttribute(z)).filter((z) => z ? S.includes(z) : !1);
      if (k.length && k) {
        const z = P.getAttribute("content");
        if (z)
          return z;
      }
    }
    return "";
  }
  function n() {
    let S = i("name", "og:site_name", "og:title", "twitter:title");
    return S || (S = e.title), S;
  }
  function s() {
    return i("description", "og:description", "twitter:description", "keywords");
  }
  const u = n(), p = s(), b = t.origin, m = r();
  return {
    description: p,
    url: b,
    icons: m,
    name: u
  };
}
V6 = Yp.getWindowMetadata = fM;
var fu = {}, uM = (e) => encodeURIComponent(e).replace(/[!'()*]/g, (t) => `%${t.charCodeAt(0).toString(16).toUpperCase()}`), W6 = "%[a-f0-9]{2}", H3 = new RegExp("(" + W6 + ")|([^%]+?)", "gi"), j3 = new RegExp("(" + W6 + ")+", "gi");
function ep(e, t) {
  try {
    return [decodeURIComponent(e.join(""))];
  } catch {
  }
  if (e.length === 1)
    return e;
  t = t || 1;
  var r = e.slice(0, t), i = e.slice(t);
  return Array.prototype.concat.call([], ep(r), ep(i));
}
function cM(e) {
  try {
    return decodeURIComponent(e);
  } catch {
    for (var t = e.match(H3) || [], r = 1; r < t.length; r++)
      e = ep(t, r).join(""), t = e.match(H3) || [];
    return e;
  }
}
function lM(e) {
  for (var t = {
    "%FE%FF": "��",
    "%FF%FE": "��"
  }, r = j3.exec(e); r; ) {
    try {
      t[r[0]] = decodeURIComponent(r[0]);
    } catch {
      var i = cM(r[0]);
      i !== r[0] && (t[r[0]] = i);
    }
    r = j3.exec(e);
  }
  t["%C2"] = "�";
  for (var n = Object.keys(t), s = 0; s < n.length; s++) {
    var u = n[s];
    e = e.replace(new RegExp(u, "g"), t[u]);
  }
  return e;
}
var dM = function(e) {
  if (typeof e != "string")
    throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof e + "`");
  try {
    return e = e.replace(/\+/g, " "), decodeURIComponent(e);
  } catch {
    return lM(e);
  }
}, pM = (e, t) => {
  if (!(typeof e == "string" && typeof t == "string"))
    throw new TypeError("Expected the arguments to be of type `string`");
  if (t === "")
    return [e];
  const r = e.indexOf(t);
  return r === -1 ? [e] : [
    e.slice(0, r),
    e.slice(r + t.length)
  ];
}, gM = function(e, t) {
  for (var r = {}, i = Object.keys(e), n = Array.isArray(t), s = 0; s < i.length; s++) {
    var u = i[s], p = e[u];
    (n ? t.indexOf(u) !== -1 : t(u, p, e)) && (r[u] = p);
  }
  return r;
};
(function(e) {
  const t = uM, r = dM, i = pM, n = gM, s = (Q) => Q == null, u = Symbol("encodeFragmentIdentifier");
  function p(Q) {
    switch (Q.arrayFormat) {
      case "index":
        return (W) => ($, j) => {
          const K = $.length;
          return j === void 0 || Q.skipNull && j === null || Q.skipEmptyString && j === "" ? $ : j === null ? [...$, [w(W, Q), "[", K, "]"].join("")] : [
            ...$,
            [w(W, Q), "[", w(K, Q), "]=", w(j, Q)].join("")
          ];
        };
      case "bracket":
        return (W) => ($, j) => j === void 0 || Q.skipNull && j === null || Q.skipEmptyString && j === "" ? $ : j === null ? [...$, [w(W, Q), "[]"].join("")] : [...$, [w(W, Q), "[]=", w(j, Q)].join("")];
      case "colon-list-separator":
        return (W) => ($, j) => j === void 0 || Q.skipNull && j === null || Q.skipEmptyString && j === "" ? $ : j === null ? [...$, [w(W, Q), ":list="].join("")] : [...$, [w(W, Q), ":list=", w(j, Q)].join("")];
      case "comma":
      case "separator":
      case "bracket-separator": {
        const W = Q.arrayFormat === "bracket-separator" ? "[]=" : "=";
        return ($) => (j, K) => K === void 0 || Q.skipNull && K === null || Q.skipEmptyString && K === "" ? j : (K = K === null ? "" : K, j.length === 0 ? [[w($, Q), W, w(K, Q)].join("")] : [[j, w(K, Q)].join(Q.arrayFormatSeparator)]);
      }
      default:
        return (W) => ($, j) => j === void 0 || Q.skipNull && j === null || Q.skipEmptyString && j === "" ? $ : j === null ? [...$, w(W, Q)] : [...$, [w(W, Q), "=", w(j, Q)].join("")];
    }
  }
  function b(Q) {
    let W;
    switch (Q.arrayFormat) {
      case "index":
        return ($, j, K) => {
          if (W = /\[(\d*)\]$/.exec($), $ = $.replace(/\[\d*\]$/, ""), !W) {
            K[$] = j;
            return;
          }
          K[$] === void 0 && (K[$] = {}), K[$][W[1]] = j;
        };
      case "bracket":
        return ($, j, K) => {
          if (W = /(\[\])$/.exec($), $ = $.replace(/\[\]$/, ""), !W) {
            K[$] = j;
            return;
          }
          if (K[$] === void 0) {
            K[$] = [j];
            return;
          }
          K[$] = [].concat(K[$], j);
        };
      case "colon-list-separator":
        return ($, j, K) => {
          if (W = /(:list)$/.exec($), $ = $.replace(/:list$/, ""), !W) {
            K[$] = j;
            return;
          }
          if (K[$] === void 0) {
            K[$] = [j];
            return;
          }
          K[$] = [].concat(K[$], j);
        };
      case "comma":
      case "separator":
        return ($, j, K) => {
          const N = typeof j == "string" && j.includes(Q.arrayFormatSeparator), H = typeof j == "string" && !N && S(j, Q).includes(Q.arrayFormatSeparator);
          j = H ? S(j, Q) : j;
          const st = N || H ? j.split(Q.arrayFormatSeparator).map((ct) => S(ct, Q)) : j === null ? j : S(j, Q);
          K[$] = st;
        };
      case "bracket-separator":
        return ($, j, K) => {
          const N = /(\[\])$/.test($);
          if ($ = $.replace(/\[\]$/, ""), !N) {
            K[$] = j && S(j, Q);
            return;
          }
          const H = j === null ? [] : j.split(Q.arrayFormatSeparator).map((st) => S(st, Q));
          if (K[$] === void 0) {
            K[$] = H;
            return;
          }
          K[$] = [].concat(K[$], H);
        };
      default:
        return ($, j, K) => {
          if (K[$] === void 0) {
            K[$] = j;
            return;
          }
          K[$] = [].concat(K[$], j);
        };
    }
  }
  function m(Q) {
    if (typeof Q != "string" || Q.length !== 1)
      throw new TypeError("arrayFormatSeparator must be single character string");
  }
  function w(Q, W) {
    return W.encode ? W.strict ? t(Q) : encodeURIComponent(Q) : Q;
  }
  function S(Q, W) {
    return W.decode ? r(Q) : Q;
  }
  function C(Q) {
    return Array.isArray(Q) ? Q.sort() : typeof Q == "object" ? C(Object.keys(Q)).sort((W, $) => Number(W) - Number($)).map((W) => Q[W]) : Q;
  }
  function D(Q) {
    const W = Q.indexOf("#");
    return W !== -1 && (Q = Q.slice(0, W)), Q;
  }
  function P(Q) {
    let W = "";
    const $ = Q.indexOf("#");
    return $ !== -1 && (W = Q.slice($)), W;
  }
  function k(Q) {
    Q = D(Q);
    const W = Q.indexOf("?");
    return W === -1 ? "" : Q.slice(W + 1);
  }
  function z(Q, W) {
    return W.parseNumbers && !Number.isNaN(Number(Q)) && typeof Q == "string" && Q.trim() !== "" ? Q = Number(Q) : W.parseBooleans && Q !== null && (Q.toLowerCase() === "true" || Q.toLowerCase() === "false") && (Q = Q.toLowerCase() === "true"), Q;
  }
  function V(Q, W) {
    W = Object.assign({
      decode: !0,
      sort: !0,
      arrayFormat: "none",
      arrayFormatSeparator: ",",
      parseNumbers: !1,
      parseBooleans: !1
    }, W), m(W.arrayFormatSeparator);
    const $ = b(W), j = /* @__PURE__ */ Object.create(null);
    if (typeof Q != "string" || (Q = Q.trim().replace(/^[?#&]/, ""), !Q))
      return j;
    for (const K of Q.split("&")) {
      if (K === "")
        continue;
      let [N, H] = i(W.decode ? K.replace(/\+/g, " ") : K, "=");
      H = H === void 0 ? null : ["comma", "separator", "bracket-separator"].includes(W.arrayFormat) ? H : S(H, W), $(S(N, W), H, j);
    }
    for (const K of Object.keys(j)) {
      const N = j[K];
      if (typeof N == "object" && N !== null)
        for (const H of Object.keys(N))
          N[H] = z(N[H], W);
      else
        j[K] = z(N, W);
    }
    return W.sort === !1 ? j : (W.sort === !0 ? Object.keys(j).sort() : Object.keys(j).sort(W.sort)).reduce((K, N) => {
      const H = j[N];
      return H && typeof H == "object" && !Array.isArray(H) ? K[N] = C(H) : K[N] = H, K;
    }, /* @__PURE__ */ Object.create(null));
  }
  e.extract = k, e.parse = V, e.stringify = (Q, W) => {
    if (!Q)
      return "";
    W = Object.assign({
      encode: !0,
      strict: !0,
      arrayFormat: "none",
      arrayFormatSeparator: ","
    }, W), m(W.arrayFormatSeparator);
    const $ = (H) => W.skipNull && s(Q[H]) || W.skipEmptyString && Q[H] === "", j = p(W), K = {};
    for (const H of Object.keys(Q))
      $(H) || (K[H] = Q[H]);
    const N = Object.keys(K);
    return W.sort !== !1 && N.sort(W.sort), N.map((H) => {
      const st = Q[H];
      return st === void 0 ? "" : st === null ? w(H, W) : Array.isArray(st) ? st.length === 0 && W.arrayFormat === "bracket-separator" ? w(H, W) + "[]" : st.reduce(j(H), []).join("&") : w(H, W) + "=" + w(st, W);
    }).filter((H) => H.length > 0).join("&");
  }, e.parseUrl = (Q, W) => {
    W = Object.assign({
      decode: !0
    }, W);
    const [$, j] = i(Q, "#");
    return Object.assign(
      {
        url: $.split("?")[0] || "",
        query: V(k(Q), W)
      },
      W && W.parseFragmentIdentifier && j ? { fragmentIdentifier: S(j, W) } : {}
    );
  }, e.stringifyUrl = (Q, W) => {
    W = Object.assign({
      encode: !0,
      strict: !0,
      [u]: !0
    }, W);
    const $ = D(Q.url).split("?")[0] || "", j = e.extract(Q.url), K = e.parse(j, { sort: !1 }), N = Object.assign(K, Q.query);
    let H = e.stringify(N, W);
    H && (H = `?${H}`);
    let st = P(Q.url);
    return Q.fragmentIdentifier && (st = `#${W[u] ? w(Q.fragmentIdentifier, W) : Q.fragmentIdentifier}`), `${$}${H}${st}`;
  }, e.pick = (Q, W, $) => {
    $ = Object.assign({
      parseFragmentIdentifier: !0,
      [u]: !1
    }, $);
    const { url: j, query: K, fragmentIdentifier: N } = e.parseUrl(Q, $);
    return e.stringifyUrl({
      url: j,
      query: n(K, W),
      fragmentIdentifier: N
    }, $);
  }, e.exclude = (Q, W, $) => {
    const j = Array.isArray(W) ? (K) => !W.includes(K) : (K, N) => !W(K, N);
    return e.pick(Q, j, $);
  };
})(fu);
var Vp = {}, J0 = {}, Se = {}, X6 = {};
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 });
  function t(p, b) {
    var m = p >>> 16 & 65535, w = p & 65535, S = b >>> 16 & 65535, C = b & 65535;
    return w * C + (m * C + w * S << 16 >>> 0) | 0;
  }
  e.mul = Math.imul || t;
  function r(p, b) {
    return p + b | 0;
  }
  e.add = r;
  function i(p, b) {
    return p - b | 0;
  }
  e.sub = i;
  function n(p, b) {
    return p << b | p >>> 32 - b;
  }
  e.rotl = n;
  function s(p, b) {
    return p << 32 - b | p >>> b;
  }
  e.rotr = s;
  function u(p) {
    return typeof p == "number" && isFinite(p) && Math.floor(p) === p;
  }
  e.isInteger = Number.isInteger || u, e.MAX_SAFE_INTEGER = 9007199254740991, e.isSafeInteger = function(p) {
    return e.isInteger(p) && p >= -e.MAX_SAFE_INTEGER && p <= e.MAX_SAFE_INTEGER;
  };
})(X6);
Object.defineProperty(Se, "__esModule", { value: !0 });
var Z6 = X6;
function mM(e, t) {
  return t === void 0 && (t = 0), (e[t + 0] << 8 | e[t + 1]) << 16 >> 16;
}
Se.readInt16BE = mM;
function vM(e, t) {
  return t === void 0 && (t = 0), (e[t + 0] << 8 | e[t + 1]) >>> 0;
}
Se.readUint16BE = vM;
function bM(e, t) {
  return t === void 0 && (t = 0), (e[t + 1] << 8 | e[t]) << 16 >> 16;
}
Se.readInt16LE = bM;
function yM(e, t) {
  return t === void 0 && (t = 0), (e[t + 1] << 8 | e[t]) >>> 0;
}
Se.readUint16LE = yM;
function tb(e, t, r) {
  return t === void 0 && (t = new Uint8Array(2)), r === void 0 && (r = 0), t[r + 0] = e >>> 8, t[r + 1] = e >>> 0, t;
}
Se.writeUint16BE = tb;
Se.writeInt16BE = tb;
function eb(e, t, r) {
  return t === void 0 && (t = new Uint8Array(2)), r === void 0 && (r = 0), t[r + 0] = e >>> 0, t[r + 1] = e >>> 8, t;
}
Se.writeUint16LE = eb;
Se.writeInt16LE = eb;
function rp(e, t) {
  return t === void 0 && (t = 0), e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3];
}
Se.readInt32BE = rp;
function ip(e, t) {
  return t === void 0 && (t = 0), (e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3]) >>> 0;
}
Se.readUint32BE = ip;
function np(e, t) {
  return t === void 0 && (t = 0), e[t + 3] << 24 | e[t + 2] << 16 | e[t + 1] << 8 | e[t];
}
Se.readInt32LE = np;
function sp(e, t) {
  return t === void 0 && (t = 0), (e[t + 3] << 24 | e[t + 2] << 16 | e[t + 1] << 8 | e[t]) >>> 0;
}
Se.readUint32LE = sp;
function _0(e, t, r) {
  return t === void 0 && (t = new Uint8Array(4)), r === void 0 && (r = 0), t[r + 0] = e >>> 24, t[r + 1] = e >>> 16, t[r + 2] = e >>> 8, t[r + 3] = e >>> 0, t;
}
Se.writeUint32BE = _0;
Se.writeInt32BE = _0;
function E0(e, t, r) {
  return t === void 0 && (t = new Uint8Array(4)), r === void 0 && (r = 0), t[r + 0] = e >>> 0, t[r + 1] = e >>> 8, t[r + 2] = e >>> 16, t[r + 3] = e >>> 24, t;
}
Se.writeUint32LE = E0;
Se.writeInt32LE = E0;
function wM(e, t) {
  t === void 0 && (t = 0);
  var r = rp(e, t), i = rp(e, t + 4);
  return r * 4294967296 + i - (i >> 31) * 4294967296;
}
Se.readInt64BE = wM;
function AM(e, t) {
  t === void 0 && (t = 0);
  var r = ip(e, t), i = ip(e, t + 4);
  return r * 4294967296 + i;
}
Se.readUint64BE = AM;
function _M(e, t) {
  t === void 0 && (t = 0);
  var r = np(e, t), i = np(e, t + 4);
  return i * 4294967296 + r - (r >> 31) * 4294967296;
}
Se.readInt64LE = _M;
function EM(e, t) {
  t === void 0 && (t = 0);
  var r = sp(e, t), i = sp(e, t + 4);
  return i * 4294967296 + r;
}
Se.readUint64LE = EM;
function rb(e, t, r) {
  return t === void 0 && (t = new Uint8Array(8)), r === void 0 && (r = 0), _0(e / 4294967296 >>> 0, t, r), _0(e >>> 0, t, r + 4), t;
}
Se.writeUint64BE = rb;
Se.writeInt64BE = rb;
function ib(e, t, r) {
  return t === void 0 && (t = new Uint8Array(8)), r === void 0 && (r = 0), E0(e >>> 0, t, r), E0(e / 4294967296 >>> 0, t, r + 4), t;
}
Se.writeUint64LE = ib;
Se.writeInt64LE = ib;
function MM(e, t, r) {
  if (r === void 0 && (r = 0), e % 8 !== 0)
    throw new Error("readUintBE supports only bitLengths divisible by 8");
  if (e / 8 > t.length - r)
    throw new Error("readUintBE: array is too short for the given bitLength");
  for (var i = 0, n = 1, s = e / 8 + r - 1; s >= r; s--)
    i += t[s] * n, n *= 256;
  return i;
}
Se.readUintBE = MM;
function SM(e, t, r) {
  if (r === void 0 && (r = 0), e % 8 !== 0)
    throw new Error("readUintLE supports only bitLengths divisible by 8");
  if (e / 8 > t.length - r)
    throw new Error("readUintLE: array is too short for the given bitLength");
  for (var i = 0, n = 1, s = r; s < r + e / 8; s++)
    i += t[s] * n, n *= 256;
  return i;
}
Se.readUintLE = SM;
function xM(e, t, r, i) {
  if (r === void 0 && (r = new Uint8Array(e / 8)), i === void 0 && (i = 0), e % 8 !== 0)
    throw new Error("writeUintBE supports only bitLengths divisible by 8");
  if (!Z6.isSafeInteger(t))
    throw new Error("writeUintBE value must be an integer");
  for (var n = 1, s = e / 8 + i - 1; s >= i; s--)
    r[s] = t / n & 255, n *= 256;
  return r;
}
Se.writeUintBE = xM;
function IM(e, t, r, i) {
  if (r === void 0 && (r = new Uint8Array(e / 8)), i === void 0 && (i = 0), e % 8 !== 0)
    throw new Error("writeUintLE supports only bitLengths divisible by 8");
  if (!Z6.isSafeInteger(t))
    throw new Error("writeUintLE value must be an integer");
  for (var n = 1, s = i; s < i + e / 8; s++)
    r[s] = t / n & 255, n *= 256;
  return r;
}
Se.writeUintLE = IM;
function DM(e, t) {
  t === void 0 && (t = 0);
  var r = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return r.getFloat32(t);
}
Se.readFloat32BE = DM;
function CM(e, t) {
  t === void 0 && (t = 0);
  var r = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return r.getFloat32(t, !0);
}
Se.readFloat32LE = CM;
function NM(e, t) {
  t === void 0 && (t = 0);
  var r = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return r.getFloat64(t);
}
Se.readFloat64BE = NM;
function PM(e, t) {
  t === void 0 && (t = 0);
  var r = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return r.getFloat64(t, !0);
}
Se.readFloat64LE = PM;
function RM(e, t, r) {
  t === void 0 && (t = new Uint8Array(4)), r === void 0 && (r = 0);
  var i = new DataView(t.buffer, t.byteOffset, t.byteLength);
  return i.setFloat32(r, e), t;
}
Se.writeFloat32BE = RM;
function OM(e, t, r) {
  t === void 0 && (t = new Uint8Array(4)), r === void 0 && (r = 0);
  var i = new DataView(t.buffer, t.byteOffset, t.byteLength);
  return i.setFloat32(r, e, !0), t;
}
Se.writeFloat32LE = OM;
function BM(e, t, r) {
  t === void 0 && (t = new Uint8Array(8)), r === void 0 && (r = 0);
  var i = new DataView(t.buffer, t.byteOffset, t.byteLength);
  return i.setFloat64(r, e), t;
}
Se.writeFloat64BE = BM;
function TM(e, t, r) {
  t === void 0 && (t = new Uint8Array(8)), r === void 0 && (r = 0);
  var i = new DataView(t.buffer, t.byteOffset, t.byteLength);
  return i.setFloat64(r, e, !0), t;
}
Se.writeFloat64LE = TM;
var sn = {};
Object.defineProperty(sn, "__esModule", { value: !0 });
function FM(e) {
  for (var t = 0; t < e.length; t++)
    e[t] = 0;
  return e;
}
sn.wipe = FM;
Object.defineProperty(J0, "__esModule", { value: !0 });
var fi = Se, op = sn, UM = 20;
function qM(e, t, r) {
  for (var i = 1634760805, n = 857760878, s = 2036477234, u = 1797285236, p = r[3] << 24 | r[2] << 16 | r[1] << 8 | r[0], b = r[7] << 24 | r[6] << 16 | r[5] << 8 | r[4], m = r[11] << 24 | r[10] << 16 | r[9] << 8 | r[8], w = r[15] << 24 | r[14] << 16 | r[13] << 8 | r[12], S = r[19] << 24 | r[18] << 16 | r[17] << 8 | r[16], C = r[23] << 24 | r[22] << 16 | r[21] << 8 | r[20], D = r[27] << 24 | r[26] << 16 | r[25] << 8 | r[24], P = r[31] << 24 | r[30] << 16 | r[29] << 8 | r[28], k = t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0], z = t[7] << 24 | t[6] << 16 | t[5] << 8 | t[4], V = t[11] << 24 | t[10] << 16 | t[9] << 8 | t[8], Q = t[15] << 24 | t[14] << 16 | t[13] << 8 | t[12], W = i, $ = n, j = s, K = u, N = p, H = b, st = m, ct = w, L = S, I = C, o = D, h = P, c = k, v = z, y = V, M = Q, E = 0; E < UM; E += 2)
    W = W + N | 0, c ^= W, c = c >>> 16 | c << 16, L = L + c | 0, N ^= L, N = N >>> 20 | N << 12, $ = $ + H | 0, v ^= $, v = v >>> 16 | v << 16, I = I + v | 0, H ^= I, H = H >>> 20 | H << 12, j = j + st | 0, y ^= j, y = y >>> 16 | y << 16, o = o + y | 0, st ^= o, st = st >>> 20 | st << 12, K = K + ct | 0, M ^= K, M = M >>> 16 | M << 16, h = h + M | 0, ct ^= h, ct = ct >>> 20 | ct << 12, j = j + st | 0, y ^= j, y = y >>> 24 | y << 8, o = o + y | 0, st ^= o, st = st >>> 25 | st << 7, K = K + ct | 0, M ^= K, M = M >>> 24 | M << 8, h = h + M | 0, ct ^= h, ct = ct >>> 25 | ct << 7, $ = $ + H | 0, v ^= $, v = v >>> 24 | v << 8, I = I + v | 0, H ^= I, H = H >>> 25 | H << 7, W = W + N | 0, c ^= W, c = c >>> 24 | c << 8, L = L + c | 0, N ^= L, N = N >>> 25 | N << 7, W = W + H | 0, M ^= W, M = M >>> 16 | M << 16, o = o + M | 0, H ^= o, H = H >>> 20 | H << 12, $ = $ + st | 0, c ^= $, c = c >>> 16 | c << 16, h = h + c | 0, st ^= h, st = st >>> 20 | st << 12, j = j + ct | 0, v ^= j, v = v >>> 16 | v << 16, L = L + v | 0, ct ^= L, ct = ct >>> 20 | ct << 12, K = K + N | 0, y ^= K, y = y >>> 16 | y << 16, I = I + y | 0, N ^= I, N = N >>> 20 | N << 12, j = j + ct | 0, v ^= j, v = v >>> 24 | v << 8, L = L + v | 0, ct ^= L, ct = ct >>> 25 | ct << 7, K = K + N | 0, y ^= K, y = y >>> 24 | y << 8, I = I + y | 0, N ^= I, N = N >>> 25 | N << 7, $ = $ + st | 0, c ^= $, c = c >>> 24 | c << 8, h = h + c | 0, st ^= h, st = st >>> 25 | st << 7, W = W + H | 0, M ^= W, M = M >>> 24 | M << 8, o = o + M | 0, H ^= o, H = H >>> 25 | H << 7;
  fi.writeUint32LE(W + i | 0, e, 0), fi.writeUint32LE($ + n | 0, e, 4), fi.writeUint32LE(j + s | 0, e, 8), fi.writeUint32LE(K + u | 0, e, 12), fi.writeUint32LE(N + p | 0, e, 16), fi.writeUint32LE(H + b | 0, e, 20), fi.writeUint32LE(st + m | 0, e, 24), fi.writeUint32LE(ct + w | 0, e, 28), fi.writeUint32LE(L + S | 0, e, 32), fi.writeUint32LE(I + C | 0, e, 36), fi.writeUint32LE(o + D | 0, e, 40), fi.writeUint32LE(h + P | 0, e, 44), fi.writeUint32LE(c + k | 0, e, 48), fi.writeUint32LE(v + z | 0, e, 52), fi.writeUint32LE(y + V | 0, e, 56), fi.writeUint32LE(M + Q | 0, e, 60);
}
function nb(e, t, r, i, n) {
  if (n === void 0 && (n = 0), e.length !== 32)
    throw new Error("ChaCha: key size must be 32 bytes");
  if (i.length < r.length)
    throw new Error("ChaCha: destination is shorter than source");
  var s, u;
  if (n === 0) {
    if (t.length !== 8 && t.length !== 12)
      throw new Error("ChaCha nonce must be 8 or 12 bytes");
    s = new Uint8Array(16), u = s.length - t.length, s.set(t, u);
  } else {
    if (t.length !== 16)
      throw new Error("ChaCha nonce with counter must be 16 bytes");
    s = t, u = n;
  }
  for (var p = new Uint8Array(64), b = 0; b < r.length; b += 64) {
    qM(p, s, e);
    for (var m = b; m < b + 64 && m < r.length; m++)
      i[m] = r[m] ^ p[m - b];
    kM(s, 0, u);
  }
  return op.wipe(p), n === 0 && op.wipe(s), i;
}
J0.streamXOR = nb;
function LM(e, t, r, i) {
  return i === void 0 && (i = 0), op.wipe(r), nb(e, t, r, r, i);
}
J0.stream = LM;
function kM(e, t, r) {
  for (var i = 1; r--; )
    i = i + (e[t] & 255) | 0, e[t] = i & 255, i >>>= 8, t++;
  if (i > 0)
    throw new Error("ChaCha: counter overflow");
}
var sb = {}, sa = {};
Object.defineProperty(sa, "__esModule", { value: !0 });
function zM(e, t, r) {
  return ~(e - 1) & t | e - 1 & r;
}
sa.select = zM;
function $M(e, t) {
  return (e | 0) - (t | 0) - 1 >>> 31 & 1;
}
sa.lessOrEqual = $M;
function ob(e, t) {
  if (e.length !== t.length)
    return 0;
  for (var r = 0, i = 0; i < e.length; i++)
    r |= e[i] ^ t[i];
  return 1 & r - 1 >>> 8;
}
sa.compare = ob;
function HM(e, t) {
  return e.length === 0 || t.length === 0 ? !1 : ob(e, t) !== 0;
}
sa.equal = HM;
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 });
  var t = sa, r = sn;
  e.DIGEST_LENGTH = 16;
  var i = (
    /** @class */
    function() {
      function u(p) {
        this.digestLength = e.DIGEST_LENGTH, this._buffer = new Uint8Array(16), this._r = new Uint16Array(10), this._h = new Uint16Array(10), this._pad = new Uint16Array(8), this._leftover = 0, this._fin = 0, this._finished = !1;
        var b = p[0] | p[1] << 8;
        this._r[0] = b & 8191;
        var m = p[2] | p[3] << 8;
        this._r[1] = (b >>> 13 | m << 3) & 8191;
        var w = p[4] | p[5] << 8;
        this._r[2] = (m >>> 10 | w << 6) & 7939;
        var S = p[6] | p[7] << 8;
        this._r[3] = (w >>> 7 | S << 9) & 8191;
        var C = p[8] | p[9] << 8;
        this._r[4] = (S >>> 4 | C << 12) & 255, this._r[5] = C >>> 1 & 8190;
        var D = p[10] | p[11] << 8;
        this._r[6] = (C >>> 14 | D << 2) & 8191;
        var P = p[12] | p[13] << 8;
        this._r[7] = (D >>> 11 | P << 5) & 8065;
        var k = p[14] | p[15] << 8;
        this._r[8] = (P >>> 8 | k << 8) & 8191, this._r[9] = k >>> 5 & 127, this._pad[0] = p[16] | p[17] << 8, this._pad[1] = p[18] | p[19] << 8, this._pad[2] = p[20] | p[21] << 8, this._pad[3] = p[22] | p[23] << 8, this._pad[4] = p[24] | p[25] << 8, this._pad[5] = p[26] | p[27] << 8, this._pad[6] = p[28] | p[29] << 8, this._pad[7] = p[30] | p[31] << 8;
      }
      return u.prototype._blocks = function(p, b, m) {
        for (var w = this._fin ? 0 : 2048, S = this._h[0], C = this._h[1], D = this._h[2], P = this._h[3], k = this._h[4], z = this._h[5], V = this._h[6], Q = this._h[7], W = this._h[8], $ = this._h[9], j = this._r[0], K = this._r[1], N = this._r[2], H = this._r[3], st = this._r[4], ct = this._r[5], L = this._r[6], I = this._r[7], o = this._r[8], h = this._r[9]; m >= 16; ) {
          var c = p[b + 0] | p[b + 1] << 8;
          S += c & 8191;
          var v = p[b + 2] | p[b + 3] << 8;
          C += (c >>> 13 | v << 3) & 8191;
          var y = p[b + 4] | p[b + 5] << 8;
          D += (v >>> 10 | y << 6) & 8191;
          var M = p[b + 6] | p[b + 7] << 8;
          P += (y >>> 7 | M << 9) & 8191;
          var E = p[b + 8] | p[b + 9] << 8;
          k += (M >>> 4 | E << 12) & 8191, z += E >>> 1 & 8191;
          var d = p[b + 10] | p[b + 11] << 8;
          V += (E >>> 14 | d << 2) & 8191;
          var f = p[b + 12] | p[b + 13] << 8;
          Q += (d >>> 11 | f << 5) & 8191;
          var _ = p[b + 14] | p[b + 15] << 8;
          W += (f >>> 8 | _ << 8) & 8191, $ += _ >>> 5 | w;
          var Y = 0, X = Y;
          X += S * j, X += C * (5 * h), X += D * (5 * o), X += P * (5 * I), X += k * (5 * L), Y = X >>> 13, X &= 8191, X += z * (5 * ct), X += V * (5 * st), X += Q * (5 * H), X += W * (5 * N), X += $ * (5 * K), Y += X >>> 13, X &= 8191;
          var g = Y;
          g += S * K, g += C * j, g += D * (5 * h), g += P * (5 * o), g += k * (5 * I), Y = g >>> 13, g &= 8191, g += z * (5 * L), g += V * (5 * ct), g += Q * (5 * st), g += W * (5 * H), g += $ * (5 * N), Y += g >>> 13, g &= 8191;
          var F = Y;
          F += S * N, F += C * K, F += D * j, F += P * (5 * h), F += k * (5 * o), Y = F >>> 13, F &= 8191, F += z * (5 * I), F += V * (5 * L), F += Q * (5 * ct), F += W * (5 * st), F += $ * (5 * H), Y += F >>> 13, F &= 8191;
          var O = Y;
          O += S * H, O += C * N, O += D * K, O += P * j, O += k * (5 * h), Y = O >>> 13, O &= 8191, O += z * (5 * o), O += V * (5 * I), O += Q * (5 * L), O += W * (5 * ct), O += $ * (5 * st), Y += O >>> 13, O &= 8191;
          var B = Y;
          B += S * st, B += C * H, B += D * N, B += P * K, B += k * j, Y = B >>> 13, B &= 8191, B += z * (5 * h), B += V * (5 * o), B += Q * (5 * I), B += W * (5 * L), B += $ * (5 * ct), Y += B >>> 13, B &= 8191;
          var q = Y;
          q += S * ct, q += C * st, q += D * H, q += P * N, q += k * K, Y = q >>> 13, q &= 8191, q += z * j, q += V * (5 * h), q += Q * (5 * o), q += W * (5 * I), q += $ * (5 * L), Y += q >>> 13, q &= 8191;
          var x = Y;
          x += S * L, x += C * ct, x += D * st, x += P * H, x += k * N, Y = x >>> 13, x &= 8191, x += z * K, x += V * j, x += Q * (5 * h), x += W * (5 * o), x += $ * (5 * I), Y += x >>> 13, x &= 8191;
          var T = Y;
          T += S * I, T += C * L, T += D * ct, T += P * st, T += k * H, Y = T >>> 13, T &= 8191, T += z * N, T += V * K, T += Q * j, T += W * (5 * h), T += $ * (5 * o), Y += T >>> 13, T &= 8191;
          var Z = Y;
          Z += S * o, Z += C * I, Z += D * L, Z += P * ct, Z += k * st, Y = Z >>> 13, Z &= 8191, Z += z * H, Z += V * N, Z += Q * K, Z += W * j, Z += $ * (5 * h), Y += Z >>> 13, Z &= 8191;
          var it = Y;
          it += S * h, it += C * o, it += D * I, it += P * L, it += k * ct, Y = it >>> 13, it &= 8191, it += z * st, it += V * H, it += Q * N, it += W * K, it += $ * j, Y += it >>> 13, it &= 8191, Y = (Y << 2) + Y | 0, Y = Y + X | 0, X = Y & 8191, Y = Y >>> 13, g += Y, S = X, C = g, D = F, P = O, k = B, z = q, V = x, Q = T, W = Z, $ = it, b += 16, m -= 16;
        }
        this._h[0] = S, this._h[1] = C, this._h[2] = D, this._h[3] = P, this._h[4] = k, this._h[5] = z, this._h[6] = V, this._h[7] = Q, this._h[8] = W, this._h[9] = $;
      }, u.prototype.finish = function(p, b) {
        b === void 0 && (b = 0);
        var m = new Uint16Array(10), w, S, C, D;
        if (this._leftover) {
          for (D = this._leftover, this._buffer[D++] = 1; D < 16; D++)
            this._buffer[D] = 0;
          this._fin = 1, this._blocks(this._buffer, 0, 16);
        }
        for (w = this._h[1] >>> 13, this._h[1] &= 8191, D = 2; D < 10; D++)
          this._h[D] += w, w = this._h[D] >>> 13, this._h[D] &= 8191;
        for (this._h[0] += w * 5, w = this._h[0] >>> 13, this._h[0] &= 8191, this._h[1] += w, w = this._h[1] >>> 13, this._h[1] &= 8191, this._h[2] += w, m[0] = this._h[0] + 5, w = m[0] >>> 13, m[0] &= 8191, D = 1; D < 10; D++)
          m[D] = this._h[D] + w, w = m[D] >>> 13, m[D] &= 8191;
        for (m[9] -= 8192, S = (w ^ 1) - 1, D = 0; D < 10; D++)
          m[D] &= S;
        for (S = ~S, D = 0; D < 10; D++)
          this._h[D] = this._h[D] & S | m[D];
        for (this._h[0] = (this._h[0] | this._h[1] << 13) & 65535, this._h[1] = (this._h[1] >>> 3 | this._h[2] << 10) & 65535, this._h[2] = (this._h[2] >>> 6 | this._h[3] << 7) & 65535, this._h[3] = (this._h[3] >>> 9 | this._h[4] << 4) & 65535, this._h[4] = (this._h[4] >>> 12 | this._h[5] << 1 | this._h[6] << 14) & 65535, this._h[5] = (this._h[6] >>> 2 | this._h[7] << 11) & 65535, this._h[6] = (this._h[7] >>> 5 | this._h[8] << 8) & 65535, this._h[7] = (this._h[8] >>> 8 | this._h[9] << 5) & 65535, C = this._h[0] + this._pad[0], this._h[0] = C & 65535, D = 1; D < 8; D++)
          C = (this._h[D] + this._pad[D] | 0) + (C >>> 16) | 0, this._h[D] = C & 65535;
        return p[b + 0] = this._h[0] >>> 0, p[b + 1] = this._h[0] >>> 8, p[b + 2] = this._h[1] >>> 0, p[b + 3] = this._h[1] >>> 8, p[b + 4] = this._h[2] >>> 0, p[b + 5] = this._h[2] >>> 8, p[b + 6] = this._h[3] >>> 0, p[b + 7] = this._h[3] >>> 8, p[b + 8] = this._h[4] >>> 0, p[b + 9] = this._h[4] >>> 8, p[b + 10] = this._h[5] >>> 0, p[b + 11] = this._h[5] >>> 8, p[b + 12] = this._h[6] >>> 0, p[b + 13] = this._h[6] >>> 8, p[b + 14] = this._h[7] >>> 0, p[b + 15] = this._h[7] >>> 8, this._finished = !0, this;
      }, u.prototype.update = function(p) {
        var b = 0, m = p.length, w;
        if (this._leftover) {
          w = 16 - this._leftover, w > m && (w = m);
          for (var S = 0; S < w; S++)
            this._buffer[this._leftover + S] = p[b + S];
          if (m -= w, b += w, this._leftover += w, this._leftover < 16)
            return this;
          this._blocks(this._buffer, 0, 16), this._leftover = 0;
        }
        if (m >= 16 && (w = m - m % 16, this._blocks(p, b, w), b += w, m -= w), m) {
          for (var S = 0; S < m; S++)
            this._buffer[this._leftover + S] = p[b + S];
          this._leftover += m;
        }
        return this;
      }, u.prototype.digest = function() {
        if (this._finished)
          throw new Error("Poly1305 was finished");
        var p = new Uint8Array(16);
        return this.finish(p), p;
      }, u.prototype.clean = function() {
        return r.wipe(this._buffer), r.wipe(this._r), r.wipe(this._h), r.wipe(this._pad), this._leftover = 0, this._fin = 0, this._finished = !0, this;
      }, u;
    }()
  );
  e.Poly1305 = i;
  function n(u, p) {
    var b = new i(u);
    b.update(p);
    var m = b.digest();
    return b.clean(), m;
  }
  e.oneTimeAuth = n;
  function s(u, p) {
    return u.length !== e.DIGEST_LENGTH || p.length !== e.DIGEST_LENGTH ? !1 : t.equal(u, p);
  }
  e.equal = s;
})(sb);
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 });
  var t = J0, r = sb, i = sn, n = Se, s = sa;
  e.KEY_LENGTH = 32, e.NONCE_LENGTH = 12, e.TAG_LENGTH = 16;
  var u = new Uint8Array(16), p = (
    /** @class */
    function() {
      function b(m) {
        if (this.nonceLength = e.NONCE_LENGTH, this.tagLength = e.TAG_LENGTH, m.length !== e.KEY_LENGTH)
          throw new Error("ChaCha20Poly1305 needs 32-byte key");
        this._key = new Uint8Array(m);
      }
      return b.prototype.seal = function(m, w, S, C) {
        if (m.length > 16)
          throw new Error("ChaCha20Poly1305: incorrect nonce length");
        var D = new Uint8Array(16);
        D.set(m, D.length - m.length);
        var P = new Uint8Array(32);
        t.stream(this._key, D, P, 4);
        var k = w.length + this.tagLength, z;
        if (C) {
          if (C.length !== k)
            throw new Error("ChaCha20Poly1305: incorrect destination length");
          z = C;
        } else
          z = new Uint8Array(k);
        return t.streamXOR(this._key, D, w, z, 4), this._authenticate(z.subarray(z.length - this.tagLength, z.length), P, z.subarray(0, z.length - this.tagLength), S), i.wipe(D), z;
      }, b.prototype.open = function(m, w, S, C) {
        if (m.length > 16)
          throw new Error("ChaCha20Poly1305: incorrect nonce length");
        if (w.length < this.tagLength)
          return null;
        var D = new Uint8Array(16);
        D.set(m, D.length - m.length);
        var P = new Uint8Array(32);
        t.stream(this._key, D, P, 4);
        var k = new Uint8Array(this.tagLength);
        if (this._authenticate(k, P, w.subarray(0, w.length - this.tagLength), S), !s.equal(k, w.subarray(w.length - this.tagLength, w.length)))
          return null;
        var z = w.length - this.tagLength, V;
        if (C) {
          if (C.length !== z)
            throw new Error("ChaCha20Poly1305: incorrect destination length");
          V = C;
        } else
          V = new Uint8Array(z);
        return t.streamXOR(this._key, D, w.subarray(0, w.length - this.tagLength), V, 4), i.wipe(D), V;
      }, b.prototype.clean = function() {
        return i.wipe(this._key), this;
      }, b.prototype._authenticate = function(m, w, S, C) {
        var D = new r.Poly1305(w);
        C && (D.update(C), C.length % 16 > 0 && D.update(u.subarray(C.length % 16))), D.update(S), S.length % 16 > 0 && D.update(u.subarray(S.length % 16));
        var P = new Uint8Array(8);
        C && n.writeUint64LE(C.length, P), D.update(P), n.writeUint64LE(S.length, P), D.update(P);
        for (var k = D.digest(), z = 0; z < k.length; z++)
          m[z] = k[z];
        D.clean(), i.wipe(k), i.wipe(P);
      }, b;
    }()
  );
  e.ChaCha20Poly1305 = p;
})(Vp);
var ab = {}, Au = {}, Wp = {};
Object.defineProperty(Wp, "__esModule", { value: !0 });
function jM(e) {
  return typeof e.saveState < "u" && typeof e.restoreState < "u" && typeof e.cleanSavedState < "u";
}
Wp.isSerializableHash = jM;
Object.defineProperty(Au, "__esModule", { value: !0 });
var gs = Wp, KM = sa, GM = sn, hb = (
  /** @class */
  function() {
    function e(t, r) {
      this._finished = !1, this._inner = new t(), this._outer = new t(), this.blockSize = this._outer.blockSize, this.digestLength = this._outer.digestLength;
      var i = new Uint8Array(this.blockSize);
      r.length > this.blockSize ? this._inner.update(r).finish(i).clean() : i.set(r);
      for (var n = 0; n < i.length; n++)
        i[n] ^= 54;
      this._inner.update(i);
      for (var n = 0; n < i.length; n++)
        i[n] ^= 106;
      this._outer.update(i), gs.isSerializableHash(this._inner) && gs.isSerializableHash(this._outer) && (this._innerKeyedState = this._inner.saveState(), this._outerKeyedState = this._outer.saveState()), GM.wipe(i);
    }
    return e.prototype.reset = function() {
      if (!gs.isSerializableHash(this._inner) || !gs.isSerializableHash(this._outer))
        throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");
      return this._inner.restoreState(this._innerKeyedState), this._outer.restoreState(this._outerKeyedState), this._finished = !1, this;
    }, e.prototype.clean = function() {
      gs.isSerializableHash(this._inner) && this._inner.cleanSavedState(this._innerKeyedState), gs.isSerializableHash(this._outer) && this._outer.cleanSavedState(this._outerKeyedState), this._inner.clean(), this._outer.clean();
    }, e.prototype.update = function(t) {
      return this._inner.update(t), this;
    }, e.prototype.finish = function(t) {
      return this._finished ? (this._outer.finish(t), this) : (this._inner.finish(t), this._outer.update(t.subarray(0, this.digestLength)).finish(t), this._finished = !0, this);
    }, e.prototype.digest = function() {
      var t = new Uint8Array(this.digestLength);
      return this.finish(t), t;
    }, e.prototype.saveState = function() {
      if (!gs.isSerializableHash(this._inner))
        throw new Error("hmac: can't saveState() because hash doesn't implement it");
      return this._inner.saveState();
    }, e.prototype.restoreState = function(t) {
      if (!gs.isSerializableHash(this._inner) || !gs.isSerializableHash(this._outer))
        throw new Error("hmac: can't restoreState() because hash doesn't implement it");
      return this._inner.restoreState(t), this._outer.restoreState(this._outerKeyedState), this._finished = !1, this;
    }, e.prototype.cleanSavedState = function(t) {
      if (!gs.isSerializableHash(this._inner))
        throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");
      this._inner.cleanSavedState(t);
    }, e;
  }()
);
Au.HMAC = hb;
function QM(e, t, r) {
  var i = new hb(e, t);
  i.update(r);
  var n = i.digest();
  return i.clean(), n;
}
Au.hmac = QM;
Au.equal = KM.equal;
Object.defineProperty(ab, "__esModule", { value: !0 });
var K3 = Au, G3 = sn, JM = (
  /** @class */
  function() {
    function e(t, r, i, n) {
      i === void 0 && (i = new Uint8Array(0)), this._counter = new Uint8Array(1), this._hash = t, this._info = n;
      var s = K3.hmac(this._hash, i, r);
      this._hmac = new K3.HMAC(t, s), this._buffer = new Uint8Array(this._hmac.digestLength), this._bufpos = this._buffer.length;
    }
    return e.prototype._fillBuffer = function() {
      this._counter[0]++;
      var t = this._counter[0];
      if (t === 0)
        throw new Error("hkdf: cannot expand more");
      this._hmac.reset(), t > 1 && this._hmac.update(this._buffer), this._info && this._hmac.update(this._info), this._hmac.update(this._counter), this._hmac.finish(this._buffer), this._bufpos = 0;
    }, e.prototype.expand = function(t) {
      for (var r = new Uint8Array(t), i = 0; i < r.length; i++)
        this._bufpos === this._buffer.length && this._fillBuffer(), r[i] = this._buffer[this._bufpos++];
      return r;
    }, e.prototype.clean = function() {
      this._hmac.clean(), G3.wipe(this._buffer), G3.wipe(this._counter), this._bufpos = 0;
    }, e;
  }()
), YM = ab.HKDF = JM, Kh = {}, Y0 = {}, V0 = {};
Object.defineProperty(V0, "__esModule", { value: !0 });
V0.BrowserRandomSource = void 0;
const Q3 = 65536;
class VM {
  constructor() {
    this.isAvailable = !1, this.isInstantiated = !1;
    const t = typeof self < "u" ? self.crypto || self.msCrypto : null;
    t && t.getRandomValues !== void 0 && (this._crypto = t, this.isAvailable = !0, this.isInstantiated = !0);
  }
  randomBytes(t) {
    if (!this.isAvailable || !this._crypto)
      throw new Error("Browser random byte generator is not available.");
    const r = new Uint8Array(t);
    for (let i = 0; i < r.length; i += Q3)
      this._crypto.getRandomValues(r.subarray(i, i + Math.min(r.length - i, Q3)));
    return r;
  }
}
V0.BrowserRandomSource = VM;
function WM(e) {
  throw new Error('Could not dynamically require "' + e + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var W0 = {};
Object.defineProperty(W0, "__esModule", { value: !0 });
W0.NodeRandomSource = void 0;
const XM = sn;
class ZM {
  constructor() {
    if (this.isAvailable = !1, this.isInstantiated = !1, typeof WM < "u") {
      const t = Gp;
      t && t.randomBytes && (this._crypto = t, this.isAvailable = !0, this.isInstantiated = !0);
    }
  }
  randomBytes(t) {
    if (!this.isAvailable || !this._crypto)
      throw new Error("Node.js random byte generator is not available.");
    let r = this._crypto.randomBytes(t);
    if (r.length !== t)
      throw new Error("NodeRandomSource: got fewer bytes than requested");
    const i = new Uint8Array(t);
    for (let n = 0; n < i.length; n++)
      i[n] = r[n];
    return (0, XM.wipe)(r), i;
  }
}
W0.NodeRandomSource = ZM;
Object.defineProperty(Y0, "__esModule", { value: !0 });
Y0.SystemRandomSource = void 0;
const tS = V0, eS = W0;
class rS {
  constructor() {
    if (this.isAvailable = !1, this.name = "", this._source = new tS.BrowserRandomSource(), this._source.isAvailable) {
      this.isAvailable = !0, this.name = "Browser";
      return;
    }
    if (this._source = new eS.NodeRandomSource(), this._source.isAvailable) {
      this.isAvailable = !0, this.name = "Node";
      return;
    }
  }
  randomBytes(t) {
    if (!this.isAvailable)
      throw new Error("System random byte generator is not available.");
    return this._source.randomBytes(t);
  }
}
Y0.SystemRandomSource = rS;
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.randomStringForEntropy = e.randomString = e.randomUint32 = e.randomBytes = e.defaultRandomSource = void 0;
  const t = Y0, r = Se, i = sn;
  e.defaultRandomSource = new t.SystemRandomSource();
  function n(m, w = e.defaultRandomSource) {
    return w.randomBytes(m);
  }
  e.randomBytes = n;
  function s(m = e.defaultRandomSource) {
    const w = n(4, m), S = (0, r.readUint32LE)(w);
    return (0, i.wipe)(w), S;
  }
  e.randomUint32 = s;
  const u = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
  function p(m, w = u, S = e.defaultRandomSource) {
    if (w.length < 2)
      throw new Error("randomString charset is too short");
    if (w.length > 256)
      throw new Error("randomString charset is too long");
    let C = "";
    const D = w.length, P = 256 - 256 % D;
    for (; m > 0; ) {
      const k = n(Math.ceil(m * 256 / P), S);
      for (let z = 0; z < k.length && m > 0; z++) {
        const V = k[z];
        V < P && (C += w.charAt(V % D), m--);
      }
      (0, i.wipe)(k);
    }
    return C;
  }
  e.randomString = p;
  function b(m, w = u, S = e.defaultRandomSource) {
    const C = Math.ceil(m / (Math.log(w.length) / Math.LN2));
    return p(C, w, S);
  }
  e.randomStringForEntropy = b;
})(Kh);
var Fa = {};
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 });
  var t = Se, r = sn;
  e.DIGEST_LENGTH = 32, e.BLOCK_SIZE = 64;
  var i = (
    /** @class */
    function() {
      function p() {
        this.digestLength = e.DIGEST_LENGTH, this.blockSize = e.BLOCK_SIZE, this._state = new Int32Array(8), this._temp = new Int32Array(64), this._buffer = new Uint8Array(128), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this.reset();
      }
      return p.prototype._initState = function() {
        this._state[0] = 1779033703, this._state[1] = 3144134277, this._state[2] = 1013904242, this._state[3] = 2773480762, this._state[4] = 1359893119, this._state[5] = 2600822924, this._state[6] = 528734635, this._state[7] = 1541459225;
      }, p.prototype.reset = function() {
        return this._initState(), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this;
      }, p.prototype.clean = function() {
        r.wipe(this._buffer), r.wipe(this._temp), this.reset();
      }, p.prototype.update = function(b, m) {
        if (m === void 0 && (m = b.length), this._finished)
          throw new Error("SHA256: can't update because hash was finished.");
        var w = 0;
        if (this._bytesHashed += m, this._bufferLength > 0) {
          for (; this._bufferLength < this.blockSize && m > 0; )
            this._buffer[this._bufferLength++] = b[w++], m--;
          this._bufferLength === this.blockSize && (s(this._temp, this._state, this._buffer, 0, this.blockSize), this._bufferLength = 0);
        }
        for (m >= this.blockSize && (w = s(this._temp, this._state, b, w, m), m %= this.blockSize); m > 0; )
          this._buffer[this._bufferLength++] = b[w++], m--;
        return this;
      }, p.prototype.finish = function(b) {
        if (!this._finished) {
          var m = this._bytesHashed, w = this._bufferLength, S = m / 536870912 | 0, C = m << 3, D = m % 64 < 56 ? 64 : 128;
          this._buffer[w] = 128;
          for (var P = w + 1; P < D - 8; P++)
            this._buffer[P] = 0;
          t.writeUint32BE(S, this._buffer, D - 8), t.writeUint32BE(C, this._buffer, D - 4), s(this._temp, this._state, this._buffer, 0, D), this._finished = !0;
        }
        for (var P = 0; P < this.digestLength / 4; P++)
          t.writeUint32BE(this._state[P], b, P * 4);
        return this;
      }, p.prototype.digest = function() {
        var b = new Uint8Array(this.digestLength);
        return this.finish(b), b;
      }, p.prototype.saveState = function() {
        if (this._finished)
          throw new Error("SHA256: cannot save finished state");
        return {
          state: new Int32Array(this._state),
          buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0,
          bufferLength: this._bufferLength,
          bytesHashed: this._bytesHashed
        };
      }, p.prototype.restoreState = function(b) {
        return this._state.set(b.state), this._bufferLength = b.bufferLength, b.buffer && this._buffer.set(b.buffer), this._bytesHashed = b.bytesHashed, this._finished = !1, this;
      }, p.prototype.cleanSavedState = function(b) {
        r.wipe(b.state), b.buffer && r.wipe(b.buffer), b.bufferLength = 0, b.bytesHashed = 0;
      }, p;
    }()
  );
  e.SHA256 = i;
  var n = new Int32Array([
    1116352408,
    1899447441,
    3049323471,
    3921009573,
    961987163,
    1508970993,
    2453635748,
    2870763221,
    3624381080,
    310598401,
    607225278,
    1426881987,
    1925078388,
    2162078206,
    2614888103,
    3248222580,
    3835390401,
    4022224774,
    264347078,
    604807628,
    770255983,
    1249150122,
    1555081692,
    1996064986,
    2554220882,
    2821834349,
    2952996808,
    3210313671,
    3336571891,
    3584528711,
    113926993,
    338241895,
    666307205,
    773529912,
    1294757372,
    1396182291,
    1695183700,
    1986661051,
    2177026350,
    2456956037,
    2730485921,
    2820302411,
    3259730800,
    3345764771,
    3516065817,
    3600352804,
    4094571909,
    275423344,
    430227734,
    506948616,
    659060556,
    883997877,
    958139571,
    1322822218,
    1537002063,
    1747873779,
    1955562222,
    2024104815,
    2227730452,
    2361852424,
    2428436474,
    2756734187,
    3204031479,
    3329325298
  ]);
  function s(p, b, m, w, S) {
    for (; S >= 64; ) {
      for (var C = b[0], D = b[1], P = b[2], k = b[3], z = b[4], V = b[5], Q = b[6], W = b[7], $ = 0; $ < 16; $++) {
        var j = w + $ * 4;
        p[$] = t.readUint32BE(m, j);
      }
      for (var $ = 16; $ < 64; $++) {
        var K = p[$ - 2], N = (K >>> 17 | K << 15) ^ (K >>> 19 | K << 13) ^ K >>> 10;
        K = p[$ - 15];
        var H = (K >>> 7 | K << 25) ^ (K >>> 18 | K << 14) ^ K >>> 3;
        p[$] = (N + p[$ - 7] | 0) + (H + p[$ - 16] | 0);
      }
      for (var $ = 0; $ < 64; $++) {
        var N = (((z >>> 6 | z << 26) ^ (z >>> 11 | z << 21) ^ (z >>> 25 | z << 7)) + (z & V ^ ~z & Q) | 0) + (W + (n[$] + p[$] | 0) | 0) | 0, H = ((C >>> 2 | C << 30) ^ (C >>> 13 | C << 19) ^ (C >>> 22 | C << 10)) + (C & D ^ C & P ^ D & P) | 0;
        W = Q, Q = V, V = z, z = k + N | 0, k = P, P = D, D = C, C = N + H | 0;
      }
      b[0] += C, b[1] += D, b[2] += P, b[3] += k, b[4] += z, b[5] += V, b[6] += Q, b[7] += W, w += 64, S -= 64;
    }
    return w;
  }
  function u(p) {
    var b = new i();
    b.update(p);
    var m = b.digest();
    return b.clean(), m;
  }
  e.hash = u;
})(Fa);
var Xp = {};
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.sharedKey = e.generateKeyPair = e.generateKeyPairFromSeed = e.scalarMultBase = e.scalarMult = e.SHARED_KEY_LENGTH = e.SECRET_KEY_LENGTH = e.PUBLIC_KEY_LENGTH = void 0;
  const t = Kh, r = sn;
  e.PUBLIC_KEY_LENGTH = 32, e.SECRET_KEY_LENGTH = 32, e.SHARED_KEY_LENGTH = 32;
  function i($) {
    const j = new Float64Array(16);
    if ($)
      for (let K = 0; K < $.length; K++)
        j[K] = $[K];
    return j;
  }
  const n = new Uint8Array(32);
  n[0] = 9;
  const s = i([56129, 1]);
  function u($) {
    let j = 1;
    for (let K = 0; K < 16; K++) {
      let N = $[K] + j + 65535;
      j = Math.floor(N / 65536), $[K] = N - j * 65536;
    }
    $[0] += j - 1 + 37 * (j - 1);
  }
  function p($, j, K) {
    const N = ~(K - 1);
    for (let H = 0; H < 16; H++) {
      const st = N & ($[H] ^ j[H]);
      $[H] ^= st, j[H] ^= st;
    }
  }
  function b($, j) {
    const K = i(), N = i();
    for (let H = 0; H < 16; H++)
      N[H] = j[H];
    u(N), u(N), u(N);
    for (let H = 0; H < 2; H++) {
      K[0] = N[0] - 65517;
      for (let ct = 1; ct < 15; ct++)
        K[ct] = N[ct] - 65535 - (K[ct - 1] >> 16 & 1), K[ct - 1] &= 65535;
      K[15] = N[15] - 32767 - (K[14] >> 16 & 1);
      const st = K[15] >> 16 & 1;
      K[14] &= 65535, p(N, K, 1 - st);
    }
    for (let H = 0; H < 16; H++)
      $[2 * H] = N[H] & 255, $[2 * H + 1] = N[H] >> 8;
  }
  function m($, j) {
    for (let K = 0; K < 16; K++)
      $[K] = j[2 * K] + (j[2 * K + 1] << 8);
    $[15] &= 32767;
  }
  function w($, j, K) {
    for (let N = 0; N < 16; N++)
      $[N] = j[N] + K[N];
  }
  function S($, j, K) {
    for (let N = 0; N < 16; N++)
      $[N] = j[N] - K[N];
  }
  function C($, j, K) {
    let N, H, st = 0, ct = 0, L = 0, I = 0, o = 0, h = 0, c = 0, v = 0, y = 0, M = 0, E = 0, d = 0, f = 0, _ = 0, Y = 0, X = 0, g = 0, F = 0, O = 0, B = 0, q = 0, x = 0, T = 0, Z = 0, it = 0, et = 0, pt = 0, gt = 0, _t = 0, re = 0, bt = 0, Et = K[0], Qt = K[1], lt = K[2], yt = K[3], Wt = K[4], ft = K[5], wt = K[6], Kt = K[7], ut = K[8], It = K[9], Jt = K[10], mt = K[11], Pt = K[12], te = K[13], vt = K[14], Rt = K[15];
    N = j[0], st += N * Et, ct += N * Qt, L += N * lt, I += N * yt, o += N * Wt, h += N * ft, c += N * wt, v += N * Kt, y += N * ut, M += N * It, E += N * Jt, d += N * mt, f += N * Pt, _ += N * te, Y += N * vt, X += N * Rt, N = j[1], ct += N * Et, L += N * Qt, I += N * lt, o += N * yt, h += N * Wt, c += N * ft, v += N * wt, y += N * Kt, M += N * ut, E += N * It, d += N * Jt, f += N * mt, _ += N * Pt, Y += N * te, X += N * vt, g += N * Rt, N = j[2], L += N * Et, I += N * Qt, o += N * lt, h += N * yt, c += N * Wt, v += N * ft, y += N * wt, M += N * Kt, E += N * ut, d += N * It, f += N * Jt, _ += N * mt, Y += N * Pt, X += N * te, g += N * vt, F += N * Rt, N = j[3], I += N * Et, o += N * Qt, h += N * lt, c += N * yt, v += N * Wt, y += N * ft, M += N * wt, E += N * Kt, d += N * ut, f += N * It, _ += N * Jt, Y += N * mt, X += N * Pt, g += N * te, F += N * vt, O += N * Rt, N = j[4], o += N * Et, h += N * Qt, c += N * lt, v += N * yt, y += N * Wt, M += N * ft, E += N * wt, d += N * Kt, f += N * ut, _ += N * It, Y += N * Jt, X += N * mt, g += N * Pt, F += N * te, O += N * vt, B += N * Rt, N = j[5], h += N * Et, c += N * Qt, v += N * lt, y += N * yt, M += N * Wt, E += N * ft, d += N * wt, f += N * Kt, _ += N * ut, Y += N * It, X += N * Jt, g += N * mt, F += N * Pt, O += N * te, B += N * vt, q += N * Rt, N = j[6], c += N * Et, v += N * Qt, y += N * lt, M += N * yt, E += N * Wt, d += N * ft, f += N * wt, _ += N * Kt, Y += N * ut, X += N * It, g += N * Jt, F += N * mt, O += N * Pt, B += N * te, q += N * vt, x += N * Rt, N = j[7], v += N * Et, y += N * Qt, M += N * lt, E += N * yt, d += N * Wt, f += N * ft, _ += N * wt, Y += N * Kt, X += N * ut, g += N * It, F += N * Jt, O += N * mt, B += N * Pt, q += N * te, x += N * vt, T += N * Rt, N = j[8], y += N * Et, M += N * Qt, E += N * lt, d += N * yt, f += N * Wt, _ += N * ft, Y += N * wt, X += N * Kt, g += N * ut, F += N * It, O += N * Jt, B += N * mt, q += N * Pt, x += N * te, T += N * vt, Z += N * Rt, N = j[9], M += N * Et, E += N * Qt, d += N * lt, f += N * yt, _ += N * Wt, Y += N * ft, X += N * wt, g += N * Kt, F += N * ut, O += N * It, B += N * Jt, q += N * mt, x += N * Pt, T += N * te, Z += N * vt, it += N * Rt, N = j[10], E += N * Et, d += N * Qt, f += N * lt, _ += N * yt, Y += N * Wt, X += N * ft, g += N * wt, F += N * Kt, O += N * ut, B += N * It, q += N * Jt, x += N * mt, T += N * Pt, Z += N * te, it += N * vt, et += N * Rt, N = j[11], d += N * Et, f += N * Qt, _ += N * lt, Y += N * yt, X += N * Wt, g += N * ft, F += N * wt, O += N * Kt, B += N * ut, q += N * It, x += N * Jt, T += N * mt, Z += N * Pt, it += N * te, et += N * vt, pt += N * Rt, N = j[12], f += N * Et, _ += N * Qt, Y += N * lt, X += N * yt, g += N * Wt, F += N * ft, O += N * wt, B += N * Kt, q += N * ut, x += N * It, T += N * Jt, Z += N * mt, it += N * Pt, et += N * te, pt += N * vt, gt += N * Rt, N = j[13], _ += N * Et, Y += N * Qt, X += N * lt, g += N * yt, F += N * Wt, O += N * ft, B += N * wt, q += N * Kt, x += N * ut, T += N * It, Z += N * Jt, it += N * mt, et += N * Pt, pt += N * te, gt += N * vt, _t += N * Rt, N = j[14], Y += N * Et, X += N * Qt, g += N * lt, F += N * yt, O += N * Wt, B += N * ft, q += N * wt, x += N * Kt, T += N * ut, Z += N * It, it += N * Jt, et += N * mt, pt += N * Pt, gt += N * te, _t += N * vt, re += N * Rt, N = j[15], X += N * Et, g += N * Qt, F += N * lt, O += N * yt, B += N * Wt, q += N * ft, x += N * wt, T += N * Kt, Z += N * ut, it += N * It, et += N * Jt, pt += N * mt, gt += N * Pt, _t += N * te, re += N * vt, bt += N * Rt, st += 38 * g, ct += 38 * F, L += 38 * O, I += 38 * B, o += 38 * q, h += 38 * x, c += 38 * T, v += 38 * Z, y += 38 * it, M += 38 * et, E += 38 * pt, d += 38 * gt, f += 38 * _t, _ += 38 * re, Y += 38 * bt, H = 1, N = st + H + 65535, H = Math.floor(N / 65536), st = N - H * 65536, N = ct + H + 65535, H = Math.floor(N / 65536), ct = N - H * 65536, N = L + H + 65535, H = Math.floor(N / 65536), L = N - H * 65536, N = I + H + 65535, H = Math.floor(N / 65536), I = N - H * 65536, N = o + H + 65535, H = Math.floor(N / 65536), o = N - H * 65536, N = h + H + 65535, H = Math.floor(N / 65536), h = N - H * 65536, N = c + H + 65535, H = Math.floor(N / 65536), c = N - H * 65536, N = v + H + 65535, H = Math.floor(N / 65536), v = N - H * 65536, N = y + H + 65535, H = Math.floor(N / 65536), y = N - H * 65536, N = M + H + 65535, H = Math.floor(N / 65536), M = N - H * 65536, N = E + H + 65535, H = Math.floor(N / 65536), E = N - H * 65536, N = d + H + 65535, H = Math.floor(N / 65536), d = N - H * 65536, N = f + H + 65535, H = Math.floor(N / 65536), f = N - H * 65536, N = _ + H + 65535, H = Math.floor(N / 65536), _ = N - H * 65536, N = Y + H + 65535, H = Math.floor(N / 65536), Y = N - H * 65536, N = X + H + 65535, H = Math.floor(N / 65536), X = N - H * 65536, st += H - 1 + 37 * (H - 1), H = 1, N = st + H + 65535, H = Math.floor(N / 65536), st = N - H * 65536, N = ct + H + 65535, H = Math.floor(N / 65536), ct = N - H * 65536, N = L + H + 65535, H = Math.floor(N / 65536), L = N - H * 65536, N = I + H + 65535, H = Math.floor(N / 65536), I = N - H * 65536, N = o + H + 65535, H = Math.floor(N / 65536), o = N - H * 65536, N = h + H + 65535, H = Math.floor(N / 65536), h = N - H * 65536, N = c + H + 65535, H = Math.floor(N / 65536), c = N - H * 65536, N = v + H + 65535, H = Math.floor(N / 65536), v = N - H * 65536, N = y + H + 65535, H = Math.floor(N / 65536), y = N - H * 65536, N = M + H + 65535, H = Math.floor(N / 65536), M = N - H * 65536, N = E + H + 65535, H = Math.floor(N / 65536), E = N - H * 65536, N = d + H + 65535, H = Math.floor(N / 65536), d = N - H * 65536, N = f + H + 65535, H = Math.floor(N / 65536), f = N - H * 65536, N = _ + H + 65535, H = Math.floor(N / 65536), _ = N - H * 65536, N = Y + H + 65535, H = Math.floor(N / 65536), Y = N - H * 65536, N = X + H + 65535, H = Math.floor(N / 65536), X = N - H * 65536, st += H - 1 + 37 * (H - 1), $[0] = st, $[1] = ct, $[2] = L, $[3] = I, $[4] = o, $[5] = h, $[6] = c, $[7] = v, $[8] = y, $[9] = M, $[10] = E, $[11] = d, $[12] = f, $[13] = _, $[14] = Y, $[15] = X;
  }
  function D($, j) {
    C($, j, j);
  }
  function P($, j) {
    const K = i();
    for (let N = 0; N < 16; N++)
      K[N] = j[N];
    for (let N = 253; N >= 0; N--)
      D(K, K), N !== 2 && N !== 4 && C(K, K, j);
    for (let N = 0; N < 16; N++)
      $[N] = K[N];
  }
  function k($, j) {
    const K = new Uint8Array(32), N = new Float64Array(80), H = i(), st = i(), ct = i(), L = i(), I = i(), o = i();
    for (let y = 0; y < 31; y++)
      K[y] = $[y];
    K[31] = $[31] & 127 | 64, K[0] &= 248, m(N, j);
    for (let y = 0; y < 16; y++)
      st[y] = N[y];
    H[0] = L[0] = 1;
    for (let y = 254; y >= 0; --y) {
      const M = K[y >>> 3] >>> (y & 7) & 1;
      p(H, st, M), p(ct, L, M), w(I, H, ct), S(H, H, ct), w(ct, st, L), S(st, st, L), D(L, I), D(o, H), C(H, ct, H), C(ct, st, I), w(I, H, ct), S(H, H, ct), D(st, H), S(ct, L, o), C(H, ct, s), w(H, H, L), C(ct, ct, H), C(H, L, o), C(L, st, N), D(st, I), p(H, st, M), p(ct, L, M);
    }
    for (let y = 0; y < 16; y++)
      N[y + 16] = H[y], N[y + 32] = ct[y], N[y + 48] = st[y], N[y + 64] = L[y];
    const h = N.subarray(32), c = N.subarray(16);
    P(h, h), C(c, c, h);
    const v = new Uint8Array(32);
    return b(v, c), v;
  }
  e.scalarMult = k;
  function z($) {
    return k($, n);
  }
  e.scalarMultBase = z;
  function V($) {
    if ($.length !== e.SECRET_KEY_LENGTH)
      throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);
    const j = new Uint8Array($);
    return {
      publicKey: z(j),
      secretKey: j
    };
  }
  e.generateKeyPairFromSeed = V;
  function Q($) {
    const j = (0, t.randomBytes)(32, $), K = V(j);
    return (0, r.wipe)(j), K;
  }
  e.generateKeyPair = Q;
  function W($, j, K = !1) {
    if ($.length !== e.PUBLIC_KEY_LENGTH)
      throw new Error("X25519: incorrect secret key length");
    if (j.length !== e.PUBLIC_KEY_LENGTH)
      throw new Error("X25519: incorrect public key length");
    const N = k($, j);
    if (K) {
      let H = 0;
      for (let st = 0; st < N.length; st++)
        H |= N[st];
      if (H === 0)
        throw new Error("X25519: invalid shared key");
    }
    return N;
  }
  e.sharedKey = W;
})(Xp);
function fb(e = 0) {
  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null ? globalThis.Buffer.allocUnsafe(e) : new Uint8Array(e);
}
function ap(e, t) {
  t || (t = e.reduce((n, s) => n + s.length, 0));
  const r = fb(t);
  let i = 0;
  for (const n of e)
    r.set(n, i), i += n.length;
  return r;
}
function iS(e, t) {
  if (e.length >= 255)
    throw new TypeError("Alphabet too long");
  for (var r = new Uint8Array(256), i = 0; i < r.length; i++)
    r[i] = 255;
  for (var n = 0; n < e.length; n++) {
    var s = e.charAt(n), u = s.charCodeAt(0);
    if (r[u] !== 255)
      throw new TypeError(s + " is ambiguous");
    r[u] = n;
  }
  var p = e.length, b = e.charAt(0), m = Math.log(p) / Math.log(256), w = Math.log(256) / Math.log(p);
  function S(P) {
    if (P instanceof Uint8Array || (ArrayBuffer.isView(P) ? P = new Uint8Array(P.buffer, P.byteOffset, P.byteLength) : Array.isArray(P) && (P = Uint8Array.from(P))), !(P instanceof Uint8Array))
      throw new TypeError("Expected Uint8Array");
    if (P.length === 0)
      return "";
    for (var k = 0, z = 0, V = 0, Q = P.length; V !== Q && P[V] === 0; )
      V++, k++;
    for (var W = (Q - V) * w + 1 >>> 0, $ = new Uint8Array(W); V !== Q; ) {
      for (var j = P[V], K = 0, N = W - 1; (j !== 0 || K < z) && N !== -1; N--, K++)
        j += 256 * $[N] >>> 0, $[N] = j % p >>> 0, j = j / p >>> 0;
      if (j !== 0)
        throw new Error("Non-zero carry");
      z = K, V++;
    }
    for (var H = W - z; H !== W && $[H] === 0; )
      H++;
    for (var st = b.repeat(k); H < W; ++H)
      st += e.charAt($[H]);
    return st;
  }
  function C(P) {
    if (typeof P != "string")
      throw new TypeError("Expected String");
    if (P.length === 0)
      return new Uint8Array();
    var k = 0;
    if (P[k] !== " ") {
      for (var z = 0, V = 0; P[k] === b; )
        z++, k++;
      for (var Q = (P.length - k) * m + 1 >>> 0, W = new Uint8Array(Q); P[k]; ) {
        var $ = r[P.charCodeAt(k)];
        if ($ === 255)
          return;
        for (var j = 0, K = Q - 1; ($ !== 0 || j < V) && K !== -1; K--, j++)
          $ += p * W[K] >>> 0, W[K] = $ % 256 >>> 0, $ = $ / 256 >>> 0;
        if ($ !== 0)
          throw new Error("Non-zero carry");
        V = j, k++;
      }
      if (P[k] !== " ") {
        for (var N = Q - V; N !== Q && W[N] === 0; )
          N++;
        for (var H = new Uint8Array(z + (Q - N)), st = z; N !== Q; )
          H[st++] = W[N++];
        return H;
      }
    }
  }
  function D(P) {
    var k = C(P);
    if (k)
      return k;
    throw new Error(`Non-${t} character`);
  }
  return {
    encode: S,
    decodeUnsafe: C,
    decode: D
  };
}
var nS = iS, sS = nS;
const oS = (e) => {
  if (e instanceof Uint8Array && e.constructor.name === "Uint8Array")
    return e;
  if (e instanceof ArrayBuffer)
    return new Uint8Array(e);
  if (ArrayBuffer.isView(e))
    return new Uint8Array(e.buffer, e.byteOffset, e.byteLength);
  throw new Error("Unknown type, must be binary type");
}, aS = (e) => new TextEncoder().encode(e), hS = (e) => new TextDecoder().decode(e);
class fS {
  constructor(t, r, i) {
    this.name = t, this.prefix = r, this.baseEncode = i;
  }
  encode(t) {
    if (t instanceof Uint8Array)
      return `${this.prefix}${this.baseEncode(t)}`;
    throw Error("Unknown type, must be binary type");
  }
}
class uS {
  constructor(t, r, i) {
    if (this.name = t, this.prefix = r, r.codePointAt(0) === void 0)
      throw new Error("Invalid prefix character");
    this.prefixCodePoint = r.codePointAt(0), this.baseDecode = i;
  }
  decode(t) {
    if (typeof t == "string") {
      if (t.codePointAt(0) !== this.prefixCodePoint)
        throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);
      return this.baseDecode(t.slice(this.prefix.length));
    } else
      throw Error("Can only multibase decode strings");
  }
  or(t) {
    return ub(this, t);
  }
}
class cS {
  constructor(t) {
    this.decoders = t;
  }
  or(t) {
    return ub(this, t);
  }
  decode(t) {
    const r = t[0], i = this.decoders[r];
    if (i)
      return i.decode(t);
    throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`);
  }
}
const ub = (e, t) => new cS({
  ...e.decoders || { [e.prefix]: e },
  ...t.decoders || { [t.prefix]: t }
});
class lS {
  constructor(t, r, i, n) {
    this.name = t, this.prefix = r, this.baseEncode = i, this.baseDecode = n, this.encoder = new fS(t, r, i), this.decoder = new uS(t, r, n);
  }
  encode(t) {
    return this.encoder.encode(t);
  }
  decode(t) {
    return this.decoder.decode(t);
  }
}
const X0 = ({ name: e, prefix: t, encode: r, decode: i }) => new lS(e, t, r, i), _u = ({ prefix: e, name: t, alphabet: r }) => {
  const { encode: i, decode: n } = sS(r, t);
  return X0({
    prefix: e,
    name: t,
    encode: i,
    decode: (s) => oS(n(s))
  });
}, dS = (e, t, r, i) => {
  const n = {};
  for (let w = 0; w < t.length; ++w)
    n[t[w]] = w;
  let s = e.length;
  for (; e[s - 1] === "="; )
    --s;
  const u = new Uint8Array(s * r / 8 | 0);
  let p = 0, b = 0, m = 0;
  for (let w = 0; w < s; ++w) {
    const S = n[e[w]];
    if (S === void 0)
      throw new SyntaxError(`Non-${i} character`);
    b = b << r | S, p += r, p >= 8 && (p -= 8, u[m++] = 255 & b >> p);
  }
  if (p >= r || 255 & b << 8 - p)
    throw new SyntaxError("Unexpected end of data");
  return u;
}, pS = (e, t, r) => {
  const i = t[t.length - 1] === "=", n = (1 << r) - 1;
  let s = "", u = 0, p = 0;
  for (let b = 0; b < e.length; ++b)
    for (p = p << 8 | e[b], u += 8; u > r; )
      u -= r, s += t[n & p >> u];
  if (u && (s += t[n & p << r - u]), i)
    for (; s.length * r & 7; )
      s += "=";
  return s;
}, ni = ({ name: e, prefix: t, bitsPerChar: r, alphabet: i }) => X0({
  prefix: t,
  name: e,
  encode(n) {
    return pS(n, i, r);
  },
  decode(n) {
    return dS(n, i, r, e);
  }
}), gS = X0({
  prefix: "\0",
  name: "identity",
  encode: (e) => hS(e),
  decode: (e) => aS(e)
}), mS = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  identity: gS
}, Symbol.toStringTag, { value: "Module" })), vS = ni({
  prefix: "0",
  name: "base2",
  alphabet: "01",
  bitsPerChar: 1
}), bS = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  base2: vS
}, Symbol.toStringTag, { value: "Module" })), yS = ni({
  prefix: "7",
  name: "base8",
  alphabet: "01234567",
  bitsPerChar: 3
}), wS = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  base8: yS
}, Symbol.toStringTag, { value: "Module" })), AS = _u({
  prefix: "9",
  name: "base10",
  alphabet: "0123456789"
}), _S = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  base10: AS
}, Symbol.toStringTag, { value: "Module" })), ES = ni({
  prefix: "f",
  name: "base16",
  alphabet: "0123456789abcdef",
  bitsPerChar: 4
}), MS = ni({
  prefix: "F",
  name: "base16upper",
  alphabet: "0123456789ABCDEF",
  bitsPerChar: 4
}), SS = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  base16: ES,
  base16upper: MS
}, Symbol.toStringTag, { value: "Module" })), xS = ni({
  prefix: "b",
  name: "base32",
  alphabet: "abcdefghijklmnopqrstuvwxyz234567",
  bitsPerChar: 5
}), IS = ni({
  prefix: "B",
  name: "base32upper",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",
  bitsPerChar: 5
}), DS = ni({
  prefix: "c",
  name: "base32pad",
  alphabet: "abcdefghijklmnopqrstuvwxyz234567=",
  bitsPerChar: 5
}), CS = ni({
  prefix: "C",
  name: "base32padupper",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",
  bitsPerChar: 5
}), NS = ni({
  prefix: "v",
  name: "base32hex",
  alphabet: "0123456789abcdefghijklmnopqrstuv",
  bitsPerChar: 5
}), PS = ni({
  prefix: "V",
  name: "base32hexupper",
  alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV",
  bitsPerChar: 5
}), RS = ni({
  prefix: "t",
  name: "base32hexpad",
  alphabet: "0123456789abcdefghijklmnopqrstuv=",
  bitsPerChar: 5
}), OS = ni({
  prefix: "T",
  name: "base32hexpadupper",
  alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=",
  bitsPerChar: 5
}), BS = ni({
  prefix: "h",
  name: "base32z",
  alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769",
  bitsPerChar: 5
}), TS = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  base32: xS,
  base32hex: NS,
  base32hexpad: RS,
  base32hexpadupper: OS,
  base32hexupper: PS,
  base32pad: DS,
  base32padupper: CS,
  base32upper: IS,
  base32z: BS
}, Symbol.toStringTag, { value: "Module" })), FS = _u({
  prefix: "k",
  name: "base36",
  alphabet: "0123456789abcdefghijklmnopqrstuvwxyz"
}), US = _u({
  prefix: "K",
  name: "base36upper",
  alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"
}), qS = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  base36: FS,
  base36upper: US
}, Symbol.toStringTag, { value: "Module" })), LS = _u({
  name: "base58btc",
  prefix: "z",
  alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"
}), kS = _u({
  name: "base58flickr",
  prefix: "Z",
  alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"
}), zS = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  base58btc: LS,
  base58flickr: kS
}, Symbol.toStringTag, { value: "Module" })), $S = ni({
  prefix: "m",
  name: "base64",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
  bitsPerChar: 6
}), HS = ni({
  prefix: "M",
  name: "base64pad",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
  bitsPerChar: 6
}), jS = ni({
  prefix: "u",
  name: "base64url",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",
  bitsPerChar: 6
}), KS = ni({
  prefix: "U",
  name: "base64urlpad",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",
  bitsPerChar: 6
}), GS = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  base64: $S,
  base64pad: HS,
  base64url: jS,
  base64urlpad: KS
}, Symbol.toStringTag, { value: "Module" })), cb = Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"), QS = cb.reduce((e, t, r) => (e[r] = t, e), []), JS = cb.reduce((e, t, r) => (e[t.codePointAt(0)] = r, e), []);
function YS(e) {
  return e.reduce((t, r) => (t += QS[r], t), "");
}
function VS(e) {
  const t = [];
  for (const r of e) {
    const i = JS[r.codePointAt(0)];
    if (i === void 0)
      throw new Error(`Non-base256emoji character: ${r}`);
    t.push(i);
  }
  return new Uint8Array(t);
}
const WS = X0({
  prefix: "🚀",
  name: "base256emoji",
  encode: YS,
  decode: VS
}), XS = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  base256emoji: WS
}, Symbol.toStringTag, { value: "Module" }));
new TextEncoder();
new TextDecoder();
const J3 = {
  ...mS,
  ...bS,
  ...wS,
  ..._S,
  ...SS,
  ...TS,
  ...qS,
  ...zS,
  ...GS,
  ...XS
};
function lb(e, t, r, i) {
  return {
    name: e,
    prefix: t,
    encoder: {
      name: e,
      prefix: t,
      encode: r
    },
    decoder: { decode: i }
  };
}
const Y3 = lb("utf8", "u", (e) => "u" + new TextDecoder("utf8").decode(e), (e) => new TextEncoder().encode(e.substring(1))), Fd = lb("ascii", "a", (e) => {
  let t = "a";
  for (let r = 0; r < e.length; r++)
    t += String.fromCharCode(e[r]);
  return t;
}, (e) => {
  e = e.substring(1);
  const t = fb(e.length);
  for (let r = 0; r < e.length; r++)
    t[r] = e.charCodeAt(r);
  return t;
}), db = {
  utf8: Y3,
  "utf-8": Y3,
  hex: J3.base16,
  latin1: Fd,
  ascii: Fd,
  binary: Fd,
  ...J3
};
function kr(e, t = "utf8") {
  const r = db[t];
  if (!r)
    throw new Error(`Unsupported encoding "${t}"`);
  return (t === "utf8" || t === "utf-8") && globalThis.Buffer != null && globalThis.Buffer.from != null ? globalThis.Buffer.from(e, "utf8") : r.decoder.decode(`${r.prefix}${e}`);
}
function Jr(e, t = "utf8") {
  const r = db[t];
  if (!r)
    throw new Error(`Unsupported encoding "${t}"`);
  return (t === "utf8" || t === "utf-8") && globalThis.Buffer != null && globalThis.Buffer.from != null ? globalThis.Buffer.from(e.buffer, e.byteOffset, e.byteLength).toString("utf8") : r.encoder.encode(e).substring(1);
}
var pb = {};
const ZS = "elliptic", tx = "6.5.7", ex = "EC cryptography", rx = "lib/elliptic.js", ix = [
  "lib"
], nx = {
  lint: "eslint lib test",
  "lint:fix": "npm run lint -- --fix",
  unit: "istanbul test _mocha --reporter=spec test/index.js",
  test: "npm run lint && npm run unit",
  version: "grunt dist && git add dist/"
}, sx = {
  type: "git",
  url: "git@github.com:indutny/elliptic"
}, ox = [
  "EC",
  "Elliptic",
  "curve",
  "Cryptography"
], ax = "Fedor Indutny <fedor@indutny.com>", hx = "MIT", fx = {
  url: "https://github.com/indutny/elliptic/issues"
}, ux = "https://github.com/indutny/elliptic", cx = {
  brfs: "^2.0.2",
  coveralls: "^3.1.0",
  eslint: "^7.6.0",
  grunt: "^1.2.1",
  "grunt-browserify": "^5.3.0",
  "grunt-cli": "^1.3.2",
  "grunt-contrib-connect": "^3.0.0",
  "grunt-contrib-copy": "^1.0.0",
  "grunt-contrib-uglify": "^5.0.0",
  "grunt-mocha-istanbul": "^5.0.2",
  "grunt-saucelabs": "^9.0.1",
  istanbul: "^0.4.5",
  mocha: "^8.0.1"
}, lx = {
  "bn.js": "^4.11.9",
  brorand: "^1.1.0",
  "hash.js": "^1.0.0",
  "hmac-drbg": "^1.0.1",
  inherits: "^2.0.4",
  "minimalistic-assert": "^1.0.1",
  "minimalistic-crypto-utils": "^1.0.1"
}, dx = {
  name: ZS,
  version: tx,
  description: ex,
  main: rx,
  files: ix,
  scripts: nx,
  repository: sx,
  keywords: ox,
  author: ax,
  license: hx,
  bugs: fx,
  homepage: ux,
  devDependencies: cx,
  dependencies: lx
};
var on = {}, Zp = { exports: {} };
Zp.exports;
(function(e) {
  (function(t, r) {
    function i(L, I) {
      if (!L)
        throw new Error(I || "Assertion failed");
    }
    function n(L, I) {
      L.super_ = I;
      var o = function() {
      };
      o.prototype = I.prototype, L.prototype = new o(), L.prototype.constructor = L;
    }
    function s(L, I, o) {
      if (s.isBN(L))
        return L;
      this.negative = 0, this.words = null, this.length = 0, this.red = null, L !== null && ((I === "le" || I === "be") && (o = I, I = 10), this._init(L || 0, I || 10, o || "be"));
    }
    typeof t == "object" ? t.exports = s : r.BN = s, s.BN = s, s.wordSize = 26;
    var u;
    try {
      typeof window < "u" && typeof window.Buffer < "u" ? u = window.Buffer : u = Gp.Buffer;
    } catch {
    }
    s.isBN = function(I) {
      return I instanceof s ? !0 : I !== null && typeof I == "object" && I.constructor.wordSize === s.wordSize && Array.isArray(I.words);
    }, s.max = function(I, o) {
      return I.cmp(o) > 0 ? I : o;
    }, s.min = function(I, o) {
      return I.cmp(o) < 0 ? I : o;
    }, s.prototype._init = function(I, o, h) {
      if (typeof I == "number")
        return this._initNumber(I, o, h);
      if (typeof I == "object")
        return this._initArray(I, o, h);
      o === "hex" && (o = 16), i(o === (o | 0) && o >= 2 && o <= 36), I = I.toString().replace(/\s+/g, "");
      var c = 0;
      I[0] === "-" && (c++, this.negative = 1), c < I.length && (o === 16 ? this._parseHex(I, c, h) : (this._parseBase(I, o, c), h === "le" && this._initArray(this.toArray(), o, h)));
    }, s.prototype._initNumber = function(I, o, h) {
      I < 0 && (this.negative = 1, I = -I), I < 67108864 ? (this.words = [I & 67108863], this.length = 1) : I < 4503599627370496 ? (this.words = [
        I & 67108863,
        I / 67108864 & 67108863
      ], this.length = 2) : (i(I < 9007199254740992), this.words = [
        I & 67108863,
        I / 67108864 & 67108863,
        1
      ], this.length = 3), h === "le" && this._initArray(this.toArray(), o, h);
    }, s.prototype._initArray = function(I, o, h) {
      if (i(typeof I.length == "number"), I.length <= 0)
        return this.words = [0], this.length = 1, this;
      this.length = Math.ceil(I.length / 3), this.words = new Array(this.length);
      for (var c = 0; c < this.length; c++)
        this.words[c] = 0;
      var v, y, M = 0;
      if (h === "be")
        for (c = I.length - 1, v = 0; c >= 0; c -= 3)
          y = I[c] | I[c - 1] << 8 | I[c - 2] << 16, this.words[v] |= y << M & 67108863, this.words[v + 1] = y >>> 26 - M & 67108863, M += 24, M >= 26 && (M -= 26, v++);
      else if (h === "le")
        for (c = 0, v = 0; c < I.length; c += 3)
          y = I[c] | I[c + 1] << 8 | I[c + 2] << 16, this.words[v] |= y << M & 67108863, this.words[v + 1] = y >>> 26 - M & 67108863, M += 24, M >= 26 && (M -= 26, v++);
      return this.strip();
    };
    function p(L, I) {
      var o = L.charCodeAt(I);
      return o >= 65 && o <= 70 ? o - 55 : o >= 97 && o <= 102 ? o - 87 : o - 48 & 15;
    }
    function b(L, I, o) {
      var h = p(L, o);
      return o - 1 >= I && (h |= p(L, o - 1) << 4), h;
    }
    s.prototype._parseHex = function(I, o, h) {
      this.length = Math.ceil((I.length - o) / 6), this.words = new Array(this.length);
      for (var c = 0; c < this.length; c++)
        this.words[c] = 0;
      var v = 0, y = 0, M;
      if (h === "be")
        for (c = I.length - 1; c >= o; c -= 2)
          M = b(I, o, c) << v, this.words[y] |= M & 67108863, v >= 18 ? (v -= 18, y += 1, this.words[y] |= M >>> 26) : v += 8;
      else {
        var E = I.length - o;
        for (c = E % 2 === 0 ? o + 1 : o; c < I.length; c += 2)
          M = b(I, o, c) << v, this.words[y] |= M & 67108863, v >= 18 ? (v -= 18, y += 1, this.words[y] |= M >>> 26) : v += 8;
      }
      this.strip();
    };
    function m(L, I, o, h) {
      for (var c = 0, v = Math.min(L.length, o), y = I; y < v; y++) {
        var M = L.charCodeAt(y) - 48;
        c *= h, M >= 49 ? c += M - 49 + 10 : M >= 17 ? c += M - 17 + 10 : c += M;
      }
      return c;
    }
    s.prototype._parseBase = function(I, o, h) {
      this.words = [0], this.length = 1;
      for (var c = 0, v = 1; v <= 67108863; v *= o)
        c++;
      c--, v = v / o | 0;
      for (var y = I.length - h, M = y % c, E = Math.min(y, y - M) + h, d = 0, f = h; f < E; f += c)
        d = m(I, f, f + c, o), this.imuln(v), this.words[0] + d < 67108864 ? this.words[0] += d : this._iaddn(d);
      if (M !== 0) {
        var _ = 1;
        for (d = m(I, f, I.length, o), f = 0; f < M; f++)
          _ *= o;
        this.imuln(_), this.words[0] + d < 67108864 ? this.words[0] += d : this._iaddn(d);
      }
      this.strip();
    }, s.prototype.copy = function(I) {
      I.words = new Array(this.length);
      for (var o = 0; o < this.length; o++)
        I.words[o] = this.words[o];
      I.length = this.length, I.negative = this.negative, I.red = this.red;
    }, s.prototype.clone = function() {
      var I = new s(null);
      return this.copy(I), I;
    }, s.prototype._expand = function(I) {
      for (; this.length < I; )
        this.words[this.length++] = 0;
      return this;
    }, s.prototype.strip = function() {
      for (; this.length > 1 && this.words[this.length - 1] === 0; )
        this.length--;
      return this._normSign();
    }, s.prototype._normSign = function() {
      return this.length === 1 && this.words[0] === 0 && (this.negative = 0), this;
    }, s.prototype.inspect = function() {
      return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
    };
    var w = [
      "",
      "0",
      "00",
      "000",
      "0000",
      "00000",
      "000000",
      "0000000",
      "00000000",
      "000000000",
      "0000000000",
      "00000000000",
      "000000000000",
      "0000000000000",
      "00000000000000",
      "000000000000000",
      "0000000000000000",
      "00000000000000000",
      "000000000000000000",
      "0000000000000000000",
      "00000000000000000000",
      "000000000000000000000",
      "0000000000000000000000",
      "00000000000000000000000",
      "000000000000000000000000",
      "0000000000000000000000000"
    ], S = [
      0,
      0,
      25,
      16,
      12,
      11,
      10,
      9,
      8,
      8,
      7,
      7,
      7,
      7,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5
    ], C = [
      0,
      0,
      33554432,
      43046721,
      16777216,
      48828125,
      60466176,
      40353607,
      16777216,
      43046721,
      1e7,
      19487171,
      35831808,
      62748517,
      7529536,
      11390625,
      16777216,
      24137569,
      34012224,
      47045881,
      64e6,
      4084101,
      5153632,
      6436343,
      7962624,
      9765625,
      11881376,
      14348907,
      17210368,
      20511149,
      243e5,
      28629151,
      33554432,
      39135393,
      45435424,
      52521875,
      60466176
    ];
    s.prototype.toString = function(I, o) {
      I = I || 10, o = o | 0 || 1;
      var h;
      if (I === 16 || I === "hex") {
        h = "";
        for (var c = 0, v = 0, y = 0; y < this.length; y++) {
          var M = this.words[y], E = ((M << c | v) & 16777215).toString(16);
          v = M >>> 24 - c & 16777215, v !== 0 || y !== this.length - 1 ? h = w[6 - E.length] + E + h : h = E + h, c += 2, c >= 26 && (c -= 26, y--);
        }
        for (v !== 0 && (h = v.toString(16) + h); h.length % o !== 0; )
          h = "0" + h;
        return this.negative !== 0 && (h = "-" + h), h;
      }
      if (I === (I | 0) && I >= 2 && I <= 36) {
        var d = S[I], f = C[I];
        h = "";
        var _ = this.clone();
        for (_.negative = 0; !_.isZero(); ) {
          var Y = _.modn(f).toString(I);
          _ = _.idivn(f), _.isZero() ? h = Y + h : h = w[d - Y.length] + Y + h;
        }
        for (this.isZero() && (h = "0" + h); h.length % o !== 0; )
          h = "0" + h;
        return this.negative !== 0 && (h = "-" + h), h;
      }
      i(!1, "Base should be between 2 and 36");
    }, s.prototype.toNumber = function() {
      var I = this.words[0];
      return this.length === 2 ? I += this.words[1] * 67108864 : this.length === 3 && this.words[2] === 1 ? I += 4503599627370496 + this.words[1] * 67108864 : this.length > 2 && i(!1, "Number can only safely store up to 53 bits"), this.negative !== 0 ? -I : I;
    }, s.prototype.toJSON = function() {
      return this.toString(16);
    }, s.prototype.toBuffer = function(I, o) {
      return i(typeof u < "u"), this.toArrayLike(u, I, o);
    }, s.prototype.toArray = function(I, o) {
      return this.toArrayLike(Array, I, o);
    }, s.prototype.toArrayLike = function(I, o, h) {
      var c = this.byteLength(), v = h || Math.max(1, c);
      i(c <= v, "byte array longer than desired length"), i(v > 0, "Requested array length <= 0"), this.strip();
      var y = o === "le", M = new I(v), E, d, f = this.clone();
      if (y) {
        for (d = 0; !f.isZero(); d++)
          E = f.andln(255), f.iushrn(8), M[d] = E;
        for (; d < v; d++)
          M[d] = 0;
      } else {
        for (d = 0; d < v - c; d++)
          M[d] = 0;
        for (d = 0; !f.isZero(); d++)
          E = f.andln(255), f.iushrn(8), M[v - d - 1] = E;
      }
      return M;
    }, Math.clz32 ? s.prototype._countBits = function(I) {
      return 32 - Math.clz32(I);
    } : s.prototype._countBits = function(I) {
      var o = I, h = 0;
      return o >= 4096 && (h += 13, o >>>= 13), o >= 64 && (h += 7, o >>>= 7), o >= 8 && (h += 4, o >>>= 4), o >= 2 && (h += 2, o >>>= 2), h + o;
    }, s.prototype._zeroBits = function(I) {
      if (I === 0)
        return 26;
      var o = I, h = 0;
      return o & 8191 || (h += 13, o >>>= 13), o & 127 || (h += 7, o >>>= 7), o & 15 || (h += 4, o >>>= 4), o & 3 || (h += 2, o >>>= 2), o & 1 || h++, h;
    }, s.prototype.bitLength = function() {
      var I = this.words[this.length - 1], o = this._countBits(I);
      return (this.length - 1) * 26 + o;
    };
    function D(L) {
      for (var I = new Array(L.bitLength()), o = 0; o < I.length; o++) {
        var h = o / 26 | 0, c = o % 26;
        I[o] = (L.words[h] & 1 << c) >>> c;
      }
      return I;
    }
    s.prototype.zeroBits = function() {
      if (this.isZero())
        return 0;
      for (var I = 0, o = 0; o < this.length; o++) {
        var h = this._zeroBits(this.words[o]);
        if (I += h, h !== 26)
          break;
      }
      return I;
    }, s.prototype.byteLength = function() {
      return Math.ceil(this.bitLength() / 8);
    }, s.prototype.toTwos = function(I) {
      return this.negative !== 0 ? this.abs().inotn(I).iaddn(1) : this.clone();
    }, s.prototype.fromTwos = function(I) {
      return this.testn(I - 1) ? this.notn(I).iaddn(1).ineg() : this.clone();
    }, s.prototype.isNeg = function() {
      return this.negative !== 0;
    }, s.prototype.neg = function() {
      return this.clone().ineg();
    }, s.prototype.ineg = function() {
      return this.isZero() || (this.negative ^= 1), this;
    }, s.prototype.iuor = function(I) {
      for (; this.length < I.length; )
        this.words[this.length++] = 0;
      for (var o = 0; o < I.length; o++)
        this.words[o] = this.words[o] | I.words[o];
      return this.strip();
    }, s.prototype.ior = function(I) {
      return i((this.negative | I.negative) === 0), this.iuor(I);
    }, s.prototype.or = function(I) {
      return this.length > I.length ? this.clone().ior(I) : I.clone().ior(this);
    }, s.prototype.uor = function(I) {
      return this.length > I.length ? this.clone().iuor(I) : I.clone().iuor(this);
    }, s.prototype.iuand = function(I) {
      var o;
      this.length > I.length ? o = I : o = this;
      for (var h = 0; h < o.length; h++)
        this.words[h] = this.words[h] & I.words[h];
      return this.length = o.length, this.strip();
    }, s.prototype.iand = function(I) {
      return i((this.negative | I.negative) === 0), this.iuand(I);
    }, s.prototype.and = function(I) {
      return this.length > I.length ? this.clone().iand(I) : I.clone().iand(this);
    }, s.prototype.uand = function(I) {
      return this.length > I.length ? this.clone().iuand(I) : I.clone().iuand(this);
    }, s.prototype.iuxor = function(I) {
      var o, h;
      this.length > I.length ? (o = this, h = I) : (o = I, h = this);
      for (var c = 0; c < h.length; c++)
        this.words[c] = o.words[c] ^ h.words[c];
      if (this !== o)
        for (; c < o.length; c++)
          this.words[c] = o.words[c];
      return this.length = o.length, this.strip();
    }, s.prototype.ixor = function(I) {
      return i((this.negative | I.negative) === 0), this.iuxor(I);
    }, s.prototype.xor = function(I) {
      return this.length > I.length ? this.clone().ixor(I) : I.clone().ixor(this);
    }, s.prototype.uxor = function(I) {
      return this.length > I.length ? this.clone().iuxor(I) : I.clone().iuxor(this);
    }, s.prototype.inotn = function(I) {
      i(typeof I == "number" && I >= 0);
      var o = Math.ceil(I / 26) | 0, h = I % 26;
      this._expand(o), h > 0 && o--;
      for (var c = 0; c < o; c++)
        this.words[c] = ~this.words[c] & 67108863;
      return h > 0 && (this.words[c] = ~this.words[c] & 67108863 >> 26 - h), this.strip();
    }, s.prototype.notn = function(I) {
      return this.clone().inotn(I);
    }, s.prototype.setn = function(I, o) {
      i(typeof I == "number" && I >= 0);
      var h = I / 26 | 0, c = I % 26;
      return this._expand(h + 1), o ? this.words[h] = this.words[h] | 1 << c : this.words[h] = this.words[h] & ~(1 << c), this.strip();
    }, s.prototype.iadd = function(I) {
      var o;
      if (this.negative !== 0 && I.negative === 0)
        return this.negative = 0, o = this.isub(I), this.negative ^= 1, this._normSign();
      if (this.negative === 0 && I.negative !== 0)
        return I.negative = 0, o = this.isub(I), I.negative = 1, o._normSign();
      var h, c;
      this.length > I.length ? (h = this, c = I) : (h = I, c = this);
      for (var v = 0, y = 0; y < c.length; y++)
        o = (h.words[y] | 0) + (c.words[y] | 0) + v, this.words[y] = o & 67108863, v = o >>> 26;
      for (; v !== 0 && y < h.length; y++)
        o = (h.words[y] | 0) + v, this.words[y] = o & 67108863, v = o >>> 26;
      if (this.length = h.length, v !== 0)
        this.words[this.length] = v, this.length++;
      else if (h !== this)
        for (; y < h.length; y++)
          this.words[y] = h.words[y];
      return this;
    }, s.prototype.add = function(I) {
      var o;
      return I.negative !== 0 && this.negative === 0 ? (I.negative = 0, o = this.sub(I), I.negative ^= 1, o) : I.negative === 0 && this.negative !== 0 ? (this.negative = 0, o = I.sub(this), this.negative = 1, o) : this.length > I.length ? this.clone().iadd(I) : I.clone().iadd(this);
    }, s.prototype.isub = function(I) {
      if (I.negative !== 0) {
        I.negative = 0;
        var o = this.iadd(I);
        return I.negative = 1, o._normSign();
      } else if (this.negative !== 0)
        return this.negative = 0, this.iadd(I), this.negative = 1, this._normSign();
      var h = this.cmp(I);
      if (h === 0)
        return this.negative = 0, this.length = 1, this.words[0] = 0, this;
      var c, v;
      h > 0 ? (c = this, v = I) : (c = I, v = this);
      for (var y = 0, M = 0; M < v.length; M++)
        o = (c.words[M] | 0) - (v.words[M] | 0) + y, y = o >> 26, this.words[M] = o & 67108863;
      for (; y !== 0 && M < c.length; M++)
        o = (c.words[M] | 0) + y, y = o >> 26, this.words[M] = o & 67108863;
      if (y === 0 && M < c.length && c !== this)
        for (; M < c.length; M++)
          this.words[M] = c.words[M];
      return this.length = Math.max(this.length, M), c !== this && (this.negative = 1), this.strip();
    }, s.prototype.sub = function(I) {
      return this.clone().isub(I);
    };
    function P(L, I, o) {
      o.negative = I.negative ^ L.negative;
      var h = L.length + I.length | 0;
      o.length = h, h = h - 1 | 0;
      var c = L.words[0] | 0, v = I.words[0] | 0, y = c * v, M = y & 67108863, E = y / 67108864 | 0;
      o.words[0] = M;
      for (var d = 1; d < h; d++) {
        for (var f = E >>> 26, _ = E & 67108863, Y = Math.min(d, I.length - 1), X = Math.max(0, d - L.length + 1); X <= Y; X++) {
          var g = d - X | 0;
          c = L.words[g] | 0, v = I.words[X] | 0, y = c * v + _, f += y / 67108864 | 0, _ = y & 67108863;
        }
        o.words[d] = _ | 0, E = f | 0;
      }
      return E !== 0 ? o.words[d] = E | 0 : o.length--, o.strip();
    }
    var k = function(I, o, h) {
      var c = I.words, v = o.words, y = h.words, M = 0, E, d, f, _ = c[0] | 0, Y = _ & 8191, X = _ >>> 13, g = c[1] | 0, F = g & 8191, O = g >>> 13, B = c[2] | 0, q = B & 8191, x = B >>> 13, T = c[3] | 0, Z = T & 8191, it = T >>> 13, et = c[4] | 0, pt = et & 8191, gt = et >>> 13, _t = c[5] | 0, re = _t & 8191, bt = _t >>> 13, Et = c[6] | 0, Qt = Et & 8191, lt = Et >>> 13, yt = c[7] | 0, Wt = yt & 8191, ft = yt >>> 13, wt = c[8] | 0, Kt = wt & 8191, ut = wt >>> 13, It = c[9] | 0, Jt = It & 8191, mt = It >>> 13, Pt = v[0] | 0, te = Pt & 8191, vt = Pt >>> 13, Rt = v[1] | 0, ue = Rt & 8191, Tt = Rt >>> 13, Yt = v[2] | 0, ce = Yt & 8191, Ft = Yt >>> 13, Vt = v[3] | 0, de = Vt & 8191, Mt = Vt >>> 13, Lt = v[4] | 0, se = Lt & 8191, St = Lt >>> 13, kt = v[5] | 0, ie = kt & 8191, Dt = kt >>> 13, jt = v[6] | 0, oe = jt & 8191, Ct = jt >>> 13, zt = v[7] | 0, he = zt & 8191, xt = zt >>> 13, qt = v[8] | 0, fe = qt & 8191, Nt = qt >>> 13, Xt = v[9] | 0, be = Xt & 8191, Ht = Xt >>> 13;
      h.negative = I.negative ^ o.negative, h.length = 19, E = Math.imul(Y, te), d = Math.imul(Y, vt), d = d + Math.imul(X, te) | 0, f = Math.imul(X, vt);
      var Gt = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (Gt >>> 26) | 0, Gt &= 67108863, E = Math.imul(F, te), d = Math.imul(F, vt), d = d + Math.imul(O, te) | 0, f = Math.imul(O, vt), E = E + Math.imul(Y, ue) | 0, d = d + Math.imul(Y, Tt) | 0, d = d + Math.imul(X, ue) | 0, f = f + Math.imul(X, Tt) | 0;
      var ze = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (ze >>> 26) | 0, ze &= 67108863, E = Math.imul(q, te), d = Math.imul(q, vt), d = d + Math.imul(x, te) | 0, f = Math.imul(x, vt), E = E + Math.imul(F, ue) | 0, d = d + Math.imul(F, Tt) | 0, d = d + Math.imul(O, ue) | 0, f = f + Math.imul(O, Tt) | 0, E = E + Math.imul(Y, ce) | 0, d = d + Math.imul(Y, Ft) | 0, d = d + Math.imul(X, ce) | 0, f = f + Math.imul(X, Ft) | 0;
      var $e = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + ($e >>> 26) | 0, $e &= 67108863, E = Math.imul(Z, te), d = Math.imul(Z, vt), d = d + Math.imul(it, te) | 0, f = Math.imul(it, vt), E = E + Math.imul(q, ue) | 0, d = d + Math.imul(q, Tt) | 0, d = d + Math.imul(x, ue) | 0, f = f + Math.imul(x, Tt) | 0, E = E + Math.imul(F, ce) | 0, d = d + Math.imul(F, Ft) | 0, d = d + Math.imul(O, ce) | 0, f = f + Math.imul(O, Ft) | 0, E = E + Math.imul(Y, de) | 0, d = d + Math.imul(Y, Mt) | 0, d = d + Math.imul(X, de) | 0, f = f + Math.imul(X, Mt) | 0;
      var He = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (He >>> 26) | 0, He &= 67108863, E = Math.imul(pt, te), d = Math.imul(pt, vt), d = d + Math.imul(gt, te) | 0, f = Math.imul(gt, vt), E = E + Math.imul(Z, ue) | 0, d = d + Math.imul(Z, Tt) | 0, d = d + Math.imul(it, ue) | 0, f = f + Math.imul(it, Tt) | 0, E = E + Math.imul(q, ce) | 0, d = d + Math.imul(q, Ft) | 0, d = d + Math.imul(x, ce) | 0, f = f + Math.imul(x, Ft) | 0, E = E + Math.imul(F, de) | 0, d = d + Math.imul(F, Mt) | 0, d = d + Math.imul(O, de) | 0, f = f + Math.imul(O, Mt) | 0, E = E + Math.imul(Y, se) | 0, d = d + Math.imul(Y, St) | 0, d = d + Math.imul(X, se) | 0, f = f + Math.imul(X, St) | 0;
      var je = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (je >>> 26) | 0, je &= 67108863, E = Math.imul(re, te), d = Math.imul(re, vt), d = d + Math.imul(bt, te) | 0, f = Math.imul(bt, vt), E = E + Math.imul(pt, ue) | 0, d = d + Math.imul(pt, Tt) | 0, d = d + Math.imul(gt, ue) | 0, f = f + Math.imul(gt, Tt) | 0, E = E + Math.imul(Z, ce) | 0, d = d + Math.imul(Z, Ft) | 0, d = d + Math.imul(it, ce) | 0, f = f + Math.imul(it, Ft) | 0, E = E + Math.imul(q, de) | 0, d = d + Math.imul(q, Mt) | 0, d = d + Math.imul(x, de) | 0, f = f + Math.imul(x, Mt) | 0, E = E + Math.imul(F, se) | 0, d = d + Math.imul(F, St) | 0, d = d + Math.imul(O, se) | 0, f = f + Math.imul(O, St) | 0, E = E + Math.imul(Y, ie) | 0, d = d + Math.imul(Y, Dt) | 0, d = d + Math.imul(X, ie) | 0, f = f + Math.imul(X, Dt) | 0;
      var Ke = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (Ke >>> 26) | 0, Ke &= 67108863, E = Math.imul(Qt, te), d = Math.imul(Qt, vt), d = d + Math.imul(lt, te) | 0, f = Math.imul(lt, vt), E = E + Math.imul(re, ue) | 0, d = d + Math.imul(re, Tt) | 0, d = d + Math.imul(bt, ue) | 0, f = f + Math.imul(bt, Tt) | 0, E = E + Math.imul(pt, ce) | 0, d = d + Math.imul(pt, Ft) | 0, d = d + Math.imul(gt, ce) | 0, f = f + Math.imul(gt, Ft) | 0, E = E + Math.imul(Z, de) | 0, d = d + Math.imul(Z, Mt) | 0, d = d + Math.imul(it, de) | 0, f = f + Math.imul(it, Mt) | 0, E = E + Math.imul(q, se) | 0, d = d + Math.imul(q, St) | 0, d = d + Math.imul(x, se) | 0, f = f + Math.imul(x, St) | 0, E = E + Math.imul(F, ie) | 0, d = d + Math.imul(F, Dt) | 0, d = d + Math.imul(O, ie) | 0, f = f + Math.imul(O, Dt) | 0, E = E + Math.imul(Y, oe) | 0, d = d + Math.imul(Y, Ct) | 0, d = d + Math.imul(X, oe) | 0, f = f + Math.imul(X, Ct) | 0;
      var Ie = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (Ie >>> 26) | 0, Ie &= 67108863, E = Math.imul(Wt, te), d = Math.imul(Wt, vt), d = d + Math.imul(ft, te) | 0, f = Math.imul(ft, vt), E = E + Math.imul(Qt, ue) | 0, d = d + Math.imul(Qt, Tt) | 0, d = d + Math.imul(lt, ue) | 0, f = f + Math.imul(lt, Tt) | 0, E = E + Math.imul(re, ce) | 0, d = d + Math.imul(re, Ft) | 0, d = d + Math.imul(bt, ce) | 0, f = f + Math.imul(bt, Ft) | 0, E = E + Math.imul(pt, de) | 0, d = d + Math.imul(pt, Mt) | 0, d = d + Math.imul(gt, de) | 0, f = f + Math.imul(gt, Mt) | 0, E = E + Math.imul(Z, se) | 0, d = d + Math.imul(Z, St) | 0, d = d + Math.imul(it, se) | 0, f = f + Math.imul(it, St) | 0, E = E + Math.imul(q, ie) | 0, d = d + Math.imul(q, Dt) | 0, d = d + Math.imul(x, ie) | 0, f = f + Math.imul(x, Dt) | 0, E = E + Math.imul(F, oe) | 0, d = d + Math.imul(F, Ct) | 0, d = d + Math.imul(O, oe) | 0, f = f + Math.imul(O, Ct) | 0, E = E + Math.imul(Y, he) | 0, d = d + Math.imul(Y, xt) | 0, d = d + Math.imul(X, he) | 0, f = f + Math.imul(X, xt) | 0;
      var lr = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (lr >>> 26) | 0, lr &= 67108863, E = Math.imul(Kt, te), d = Math.imul(Kt, vt), d = d + Math.imul(ut, te) | 0, f = Math.imul(ut, vt), E = E + Math.imul(Wt, ue) | 0, d = d + Math.imul(Wt, Tt) | 0, d = d + Math.imul(ft, ue) | 0, f = f + Math.imul(ft, Tt) | 0, E = E + Math.imul(Qt, ce) | 0, d = d + Math.imul(Qt, Ft) | 0, d = d + Math.imul(lt, ce) | 0, f = f + Math.imul(lt, Ft) | 0, E = E + Math.imul(re, de) | 0, d = d + Math.imul(re, Mt) | 0, d = d + Math.imul(bt, de) | 0, f = f + Math.imul(bt, Mt) | 0, E = E + Math.imul(pt, se) | 0, d = d + Math.imul(pt, St) | 0, d = d + Math.imul(gt, se) | 0, f = f + Math.imul(gt, St) | 0, E = E + Math.imul(Z, ie) | 0, d = d + Math.imul(Z, Dt) | 0, d = d + Math.imul(it, ie) | 0, f = f + Math.imul(it, Dt) | 0, E = E + Math.imul(q, oe) | 0, d = d + Math.imul(q, Ct) | 0, d = d + Math.imul(x, oe) | 0, f = f + Math.imul(x, Ct) | 0, E = E + Math.imul(F, he) | 0, d = d + Math.imul(F, xt) | 0, d = d + Math.imul(O, he) | 0, f = f + Math.imul(O, xt) | 0, E = E + Math.imul(Y, fe) | 0, d = d + Math.imul(Y, Nt) | 0, d = d + Math.imul(X, fe) | 0, f = f + Math.imul(X, Nt) | 0;
      var Ir = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (Ir >>> 26) | 0, Ir &= 67108863, E = Math.imul(Jt, te), d = Math.imul(Jt, vt), d = d + Math.imul(mt, te) | 0, f = Math.imul(mt, vt), E = E + Math.imul(Kt, ue) | 0, d = d + Math.imul(Kt, Tt) | 0, d = d + Math.imul(ut, ue) | 0, f = f + Math.imul(ut, Tt) | 0, E = E + Math.imul(Wt, ce) | 0, d = d + Math.imul(Wt, Ft) | 0, d = d + Math.imul(ft, ce) | 0, f = f + Math.imul(ft, Ft) | 0, E = E + Math.imul(Qt, de) | 0, d = d + Math.imul(Qt, Mt) | 0, d = d + Math.imul(lt, de) | 0, f = f + Math.imul(lt, Mt) | 0, E = E + Math.imul(re, se) | 0, d = d + Math.imul(re, St) | 0, d = d + Math.imul(bt, se) | 0, f = f + Math.imul(bt, St) | 0, E = E + Math.imul(pt, ie) | 0, d = d + Math.imul(pt, Dt) | 0, d = d + Math.imul(gt, ie) | 0, f = f + Math.imul(gt, Dt) | 0, E = E + Math.imul(Z, oe) | 0, d = d + Math.imul(Z, Ct) | 0, d = d + Math.imul(it, oe) | 0, f = f + Math.imul(it, Ct) | 0, E = E + Math.imul(q, he) | 0, d = d + Math.imul(q, xt) | 0, d = d + Math.imul(x, he) | 0, f = f + Math.imul(x, xt) | 0, E = E + Math.imul(F, fe) | 0, d = d + Math.imul(F, Nt) | 0, d = d + Math.imul(O, fe) | 0, f = f + Math.imul(O, Nt) | 0, E = E + Math.imul(Y, be) | 0, d = d + Math.imul(Y, Ht) | 0, d = d + Math.imul(X, be) | 0, f = f + Math.imul(X, Ht) | 0;
      var dr = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (dr >>> 26) | 0, dr &= 67108863, E = Math.imul(Jt, ue), d = Math.imul(Jt, Tt), d = d + Math.imul(mt, ue) | 0, f = Math.imul(mt, Tt), E = E + Math.imul(Kt, ce) | 0, d = d + Math.imul(Kt, Ft) | 0, d = d + Math.imul(ut, ce) | 0, f = f + Math.imul(ut, Ft) | 0, E = E + Math.imul(Wt, de) | 0, d = d + Math.imul(Wt, Mt) | 0, d = d + Math.imul(ft, de) | 0, f = f + Math.imul(ft, Mt) | 0, E = E + Math.imul(Qt, se) | 0, d = d + Math.imul(Qt, St) | 0, d = d + Math.imul(lt, se) | 0, f = f + Math.imul(lt, St) | 0, E = E + Math.imul(re, ie) | 0, d = d + Math.imul(re, Dt) | 0, d = d + Math.imul(bt, ie) | 0, f = f + Math.imul(bt, Dt) | 0, E = E + Math.imul(pt, oe) | 0, d = d + Math.imul(pt, Ct) | 0, d = d + Math.imul(gt, oe) | 0, f = f + Math.imul(gt, Ct) | 0, E = E + Math.imul(Z, he) | 0, d = d + Math.imul(Z, xt) | 0, d = d + Math.imul(it, he) | 0, f = f + Math.imul(it, xt) | 0, E = E + Math.imul(q, fe) | 0, d = d + Math.imul(q, Nt) | 0, d = d + Math.imul(x, fe) | 0, f = f + Math.imul(x, Nt) | 0, E = E + Math.imul(F, be) | 0, d = d + Math.imul(F, Ht) | 0, d = d + Math.imul(O, be) | 0, f = f + Math.imul(O, Ht) | 0;
      var Dr = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (Dr >>> 26) | 0, Dr &= 67108863, E = Math.imul(Jt, ce), d = Math.imul(Jt, Ft), d = d + Math.imul(mt, ce) | 0, f = Math.imul(mt, Ft), E = E + Math.imul(Kt, de) | 0, d = d + Math.imul(Kt, Mt) | 0, d = d + Math.imul(ut, de) | 0, f = f + Math.imul(ut, Mt) | 0, E = E + Math.imul(Wt, se) | 0, d = d + Math.imul(Wt, St) | 0, d = d + Math.imul(ft, se) | 0, f = f + Math.imul(ft, St) | 0, E = E + Math.imul(Qt, ie) | 0, d = d + Math.imul(Qt, Dt) | 0, d = d + Math.imul(lt, ie) | 0, f = f + Math.imul(lt, Dt) | 0, E = E + Math.imul(re, oe) | 0, d = d + Math.imul(re, Ct) | 0, d = d + Math.imul(bt, oe) | 0, f = f + Math.imul(bt, Ct) | 0, E = E + Math.imul(pt, he) | 0, d = d + Math.imul(pt, xt) | 0, d = d + Math.imul(gt, he) | 0, f = f + Math.imul(gt, xt) | 0, E = E + Math.imul(Z, fe) | 0, d = d + Math.imul(Z, Nt) | 0, d = d + Math.imul(it, fe) | 0, f = f + Math.imul(it, Nt) | 0, E = E + Math.imul(q, be) | 0, d = d + Math.imul(q, Ht) | 0, d = d + Math.imul(x, be) | 0, f = f + Math.imul(x, Ht) | 0;
      var Cr = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (Cr >>> 26) | 0, Cr &= 67108863, E = Math.imul(Jt, de), d = Math.imul(Jt, Mt), d = d + Math.imul(mt, de) | 0, f = Math.imul(mt, Mt), E = E + Math.imul(Kt, se) | 0, d = d + Math.imul(Kt, St) | 0, d = d + Math.imul(ut, se) | 0, f = f + Math.imul(ut, St) | 0, E = E + Math.imul(Wt, ie) | 0, d = d + Math.imul(Wt, Dt) | 0, d = d + Math.imul(ft, ie) | 0, f = f + Math.imul(ft, Dt) | 0, E = E + Math.imul(Qt, oe) | 0, d = d + Math.imul(Qt, Ct) | 0, d = d + Math.imul(lt, oe) | 0, f = f + Math.imul(lt, Ct) | 0, E = E + Math.imul(re, he) | 0, d = d + Math.imul(re, xt) | 0, d = d + Math.imul(bt, he) | 0, f = f + Math.imul(bt, xt) | 0, E = E + Math.imul(pt, fe) | 0, d = d + Math.imul(pt, Nt) | 0, d = d + Math.imul(gt, fe) | 0, f = f + Math.imul(gt, Nt) | 0, E = E + Math.imul(Z, be) | 0, d = d + Math.imul(Z, Ht) | 0, d = d + Math.imul(it, be) | 0, f = f + Math.imul(it, Ht) | 0;
      var pr = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (pr >>> 26) | 0, pr &= 67108863, E = Math.imul(Jt, se), d = Math.imul(Jt, St), d = d + Math.imul(mt, se) | 0, f = Math.imul(mt, St), E = E + Math.imul(Kt, ie) | 0, d = d + Math.imul(Kt, Dt) | 0, d = d + Math.imul(ut, ie) | 0, f = f + Math.imul(ut, Dt) | 0, E = E + Math.imul(Wt, oe) | 0, d = d + Math.imul(Wt, Ct) | 0, d = d + Math.imul(ft, oe) | 0, f = f + Math.imul(ft, Ct) | 0, E = E + Math.imul(Qt, he) | 0, d = d + Math.imul(Qt, xt) | 0, d = d + Math.imul(lt, he) | 0, f = f + Math.imul(lt, xt) | 0, E = E + Math.imul(re, fe) | 0, d = d + Math.imul(re, Nt) | 0, d = d + Math.imul(bt, fe) | 0, f = f + Math.imul(bt, Nt) | 0, E = E + Math.imul(pt, be) | 0, d = d + Math.imul(pt, Ht) | 0, d = d + Math.imul(gt, be) | 0, f = f + Math.imul(gt, Ht) | 0;
      var Er = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (Er >>> 26) | 0, Er &= 67108863, E = Math.imul(Jt, ie), d = Math.imul(Jt, Dt), d = d + Math.imul(mt, ie) | 0, f = Math.imul(mt, Dt), E = E + Math.imul(Kt, oe) | 0, d = d + Math.imul(Kt, Ct) | 0, d = d + Math.imul(ut, oe) | 0, f = f + Math.imul(ut, Ct) | 0, E = E + Math.imul(Wt, he) | 0, d = d + Math.imul(Wt, xt) | 0, d = d + Math.imul(ft, he) | 0, f = f + Math.imul(ft, xt) | 0, E = E + Math.imul(Qt, fe) | 0, d = d + Math.imul(Qt, Nt) | 0, d = d + Math.imul(lt, fe) | 0, f = f + Math.imul(lt, Nt) | 0, E = E + Math.imul(re, be) | 0, d = d + Math.imul(re, Ht) | 0, d = d + Math.imul(bt, be) | 0, f = f + Math.imul(bt, Ht) | 0;
      var Mr = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (Mr >>> 26) | 0, Mr &= 67108863, E = Math.imul(Jt, oe), d = Math.imul(Jt, Ct), d = d + Math.imul(mt, oe) | 0, f = Math.imul(mt, Ct), E = E + Math.imul(Kt, he) | 0, d = d + Math.imul(Kt, xt) | 0, d = d + Math.imul(ut, he) | 0, f = f + Math.imul(ut, xt) | 0, E = E + Math.imul(Wt, fe) | 0, d = d + Math.imul(Wt, Nt) | 0, d = d + Math.imul(ft, fe) | 0, f = f + Math.imul(ft, Nt) | 0, E = E + Math.imul(Qt, be) | 0, d = d + Math.imul(Qt, Ht) | 0, d = d + Math.imul(lt, be) | 0, f = f + Math.imul(lt, Ht) | 0;
      var Ze = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (Ze >>> 26) | 0, Ze &= 67108863, E = Math.imul(Jt, he), d = Math.imul(Jt, xt), d = d + Math.imul(mt, he) | 0, f = Math.imul(mt, xt), E = E + Math.imul(Kt, fe) | 0, d = d + Math.imul(Kt, Nt) | 0, d = d + Math.imul(ut, fe) | 0, f = f + Math.imul(ut, Nt) | 0, E = E + Math.imul(Wt, be) | 0, d = d + Math.imul(Wt, Ht) | 0, d = d + Math.imul(ft, be) | 0, f = f + Math.imul(ft, Ht) | 0;
      var Nr = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (Nr >>> 26) | 0, Nr &= 67108863, E = Math.imul(Jt, fe), d = Math.imul(Jt, Nt), d = d + Math.imul(mt, fe) | 0, f = Math.imul(mt, Nt), E = E + Math.imul(Kt, be) | 0, d = d + Math.imul(Kt, Ht) | 0, d = d + Math.imul(ut, be) | 0, f = f + Math.imul(ut, Ht) | 0;
      var Pr = (M + E | 0) + ((d & 8191) << 13) | 0;
      M = (f + (d >>> 13) | 0) + (Pr >>> 26) | 0, Pr &= 67108863, E = Math.imul(Jt, be), d = Math.imul(Jt, Ht), d = d + Math.imul(mt, be) | 0, f = Math.imul(mt, Ht);
      var Rr = (M + E | 0) + ((d & 8191) << 13) | 0;
      return M = (f + (d >>> 13) | 0) + (Rr >>> 26) | 0, Rr &= 67108863, y[0] = Gt, y[1] = ze, y[2] = $e, y[3] = He, y[4] = je, y[5] = Ke, y[6] = Ie, y[7] = lr, y[8] = Ir, y[9] = dr, y[10] = Dr, y[11] = Cr, y[12] = pr, y[13] = Er, y[14] = Mr, y[15] = Ze, y[16] = Nr, y[17] = Pr, y[18] = Rr, M !== 0 && (y[19] = M, h.length++), h;
    };
    Math.imul || (k = P);
    function z(L, I, o) {
      o.negative = I.negative ^ L.negative, o.length = L.length + I.length;
      for (var h = 0, c = 0, v = 0; v < o.length - 1; v++) {
        var y = c;
        c = 0;
        for (var M = h & 67108863, E = Math.min(v, I.length - 1), d = Math.max(0, v - L.length + 1); d <= E; d++) {
          var f = v - d, _ = L.words[f] | 0, Y = I.words[d] | 0, X = _ * Y, g = X & 67108863;
          y = y + (X / 67108864 | 0) | 0, g = g + M | 0, M = g & 67108863, y = y + (g >>> 26) | 0, c += y >>> 26, y &= 67108863;
        }
        o.words[v] = M, h = y, y = c;
      }
      return h !== 0 ? o.words[v] = h : o.length--, o.strip();
    }
    function V(L, I, o) {
      var h = new Q();
      return h.mulp(L, I, o);
    }
    s.prototype.mulTo = function(I, o) {
      var h, c = this.length + I.length;
      return this.length === 10 && I.length === 10 ? h = k(this, I, o) : c < 63 ? h = P(this, I, o) : c < 1024 ? h = z(this, I, o) : h = V(this, I, o), h;
    };
    function Q(L, I) {
      this.x = L, this.y = I;
    }
    Q.prototype.makeRBT = function(I) {
      for (var o = new Array(I), h = s.prototype._countBits(I) - 1, c = 0; c < I; c++)
        o[c] = this.revBin(c, h, I);
      return o;
    }, Q.prototype.revBin = function(I, o, h) {
      if (I === 0 || I === h - 1)
        return I;
      for (var c = 0, v = 0; v < o; v++)
        c |= (I & 1) << o - v - 1, I >>= 1;
      return c;
    }, Q.prototype.permute = function(I, o, h, c, v, y) {
      for (var M = 0; M < y; M++)
        c[M] = o[I[M]], v[M] = h[I[M]];
    }, Q.prototype.transform = function(I, o, h, c, v, y) {
      this.permute(y, I, o, h, c, v);
      for (var M = 1; M < v; M <<= 1)
        for (var E = M << 1, d = Math.cos(2 * Math.PI / E), f = Math.sin(2 * Math.PI / E), _ = 0; _ < v; _ += E)
          for (var Y = d, X = f, g = 0; g < M; g++) {
            var F = h[_ + g], O = c[_ + g], B = h[_ + g + M], q = c[_ + g + M], x = Y * B - X * q;
            q = Y * q + X * B, B = x, h[_ + g] = F + B, c[_ + g] = O + q, h[_ + g + M] = F - B, c[_ + g + M] = O - q, g !== E && (x = d * Y - f * X, X = d * X + f * Y, Y = x);
          }
    }, Q.prototype.guessLen13b = function(I, o) {
      var h = Math.max(o, I) | 1, c = h & 1, v = 0;
      for (h = h / 2 | 0; h; h = h >>> 1)
        v++;
      return 1 << v + 1 + c;
    }, Q.prototype.conjugate = function(I, o, h) {
      if (!(h <= 1))
        for (var c = 0; c < h / 2; c++) {
          var v = I[c];
          I[c] = I[h - c - 1], I[h - c - 1] = v, v = o[c], o[c] = -o[h - c - 1], o[h - c - 1] = -v;
        }
    }, Q.prototype.normalize13b = function(I, o) {
      for (var h = 0, c = 0; c < o / 2; c++) {
        var v = Math.round(I[2 * c + 1] / o) * 8192 + Math.round(I[2 * c] / o) + h;
        I[c] = v & 67108863, v < 67108864 ? h = 0 : h = v / 67108864 | 0;
      }
      return I;
    }, Q.prototype.convert13b = function(I, o, h, c) {
      for (var v = 0, y = 0; y < o; y++)
        v = v + (I[y] | 0), h[2 * y] = v & 8191, v = v >>> 13, h[2 * y + 1] = v & 8191, v = v >>> 13;
      for (y = 2 * o; y < c; ++y)
        h[y] = 0;
      i(v === 0), i((v & -8192) === 0);
    }, Q.prototype.stub = function(I) {
      for (var o = new Array(I), h = 0; h < I; h++)
        o[h] = 0;
      return o;
    }, Q.prototype.mulp = function(I, o, h) {
      var c = 2 * this.guessLen13b(I.length, o.length), v = this.makeRBT(c), y = this.stub(c), M = new Array(c), E = new Array(c), d = new Array(c), f = new Array(c), _ = new Array(c), Y = new Array(c), X = h.words;
      X.length = c, this.convert13b(I.words, I.length, M, c), this.convert13b(o.words, o.length, f, c), this.transform(M, y, E, d, c, v), this.transform(f, y, _, Y, c, v);
      for (var g = 0; g < c; g++) {
        var F = E[g] * _[g] - d[g] * Y[g];
        d[g] = E[g] * Y[g] + d[g] * _[g], E[g] = F;
      }
      return this.conjugate(E, d, c), this.transform(E, d, X, y, c, v), this.conjugate(X, y, c), this.normalize13b(X, c), h.negative = I.negative ^ o.negative, h.length = I.length + o.length, h.strip();
    }, s.prototype.mul = function(I) {
      var o = new s(null);
      return o.words = new Array(this.length + I.length), this.mulTo(I, o);
    }, s.prototype.mulf = function(I) {
      var o = new s(null);
      return o.words = new Array(this.length + I.length), V(this, I, o);
    }, s.prototype.imul = function(I) {
      return this.clone().mulTo(I, this);
    }, s.prototype.imuln = function(I) {
      i(typeof I == "number"), i(I < 67108864);
      for (var o = 0, h = 0; h < this.length; h++) {
        var c = (this.words[h] | 0) * I, v = (c & 67108863) + (o & 67108863);
        o >>= 26, o += c / 67108864 | 0, o += v >>> 26, this.words[h] = v & 67108863;
      }
      return o !== 0 && (this.words[h] = o, this.length++), this;
    }, s.prototype.muln = function(I) {
      return this.clone().imuln(I);
    }, s.prototype.sqr = function() {
      return this.mul(this);
    }, s.prototype.isqr = function() {
      return this.imul(this.clone());
    }, s.prototype.pow = function(I) {
      var o = D(I);
      if (o.length === 0)
        return new s(1);
      for (var h = this, c = 0; c < o.length && o[c] === 0; c++, h = h.sqr())
        ;
      if (++c < o.length)
        for (var v = h.sqr(); c < o.length; c++, v = v.sqr())
          o[c] !== 0 && (h = h.mul(v));
      return h;
    }, s.prototype.iushln = function(I) {
      i(typeof I == "number" && I >= 0);
      var o = I % 26, h = (I - o) / 26, c = 67108863 >>> 26 - o << 26 - o, v;
      if (o !== 0) {
        var y = 0;
        for (v = 0; v < this.length; v++) {
          var M = this.words[v] & c, E = (this.words[v] | 0) - M << o;
          this.words[v] = E | y, y = M >>> 26 - o;
        }
        y && (this.words[v] = y, this.length++);
      }
      if (h !== 0) {
        for (v = this.length - 1; v >= 0; v--)
          this.words[v + h] = this.words[v];
        for (v = 0; v < h; v++)
          this.words[v] = 0;
        this.length += h;
      }
      return this.strip();
    }, s.prototype.ishln = function(I) {
      return i(this.negative === 0), this.iushln(I);
    }, s.prototype.iushrn = function(I, o, h) {
      i(typeof I == "number" && I >= 0);
      var c;
      o ? c = (o - o % 26) / 26 : c = 0;
      var v = I % 26, y = Math.min((I - v) / 26, this.length), M = 67108863 ^ 67108863 >>> v << v, E = h;
      if (c -= y, c = Math.max(0, c), E) {
        for (var d = 0; d < y; d++)
          E.words[d] = this.words[d];
        E.length = y;
      }
      if (y !== 0)
        if (this.length > y)
          for (this.length -= y, d = 0; d < this.length; d++)
            this.words[d] = this.words[d + y];
        else
          this.words[0] = 0, this.length = 1;
      var f = 0;
      for (d = this.length - 1; d >= 0 && (f !== 0 || d >= c); d--) {
        var _ = this.words[d] | 0;
        this.words[d] = f << 26 - v | _ >>> v, f = _ & M;
      }
      return E && f !== 0 && (E.words[E.length++] = f), this.length === 0 && (this.words[0] = 0, this.length = 1), this.strip();
    }, s.prototype.ishrn = function(I, o, h) {
      return i(this.negative === 0), this.iushrn(I, o, h);
    }, s.prototype.shln = function(I) {
      return this.clone().ishln(I);
    }, s.prototype.ushln = function(I) {
      return this.clone().iushln(I);
    }, s.prototype.shrn = function(I) {
      return this.clone().ishrn(I);
    }, s.prototype.ushrn = function(I) {
      return this.clone().iushrn(I);
    }, s.prototype.testn = function(I) {
      i(typeof I == "number" && I >= 0);
      var o = I % 26, h = (I - o) / 26, c = 1 << o;
      if (this.length <= h)
        return !1;
      var v = this.words[h];
      return !!(v & c);
    }, s.prototype.imaskn = function(I) {
      i(typeof I == "number" && I >= 0);
      var o = I % 26, h = (I - o) / 26;
      if (i(this.negative === 0, "imaskn works only with positive numbers"), this.length <= h)
        return this;
      if (o !== 0 && h++, this.length = Math.min(h, this.length), o !== 0) {
        var c = 67108863 ^ 67108863 >>> o << o;
        this.words[this.length - 1] &= c;
      }
      return this.strip();
    }, s.prototype.maskn = function(I) {
      return this.clone().imaskn(I);
    }, s.prototype.iaddn = function(I) {
      return i(typeof I == "number"), i(I < 67108864), I < 0 ? this.isubn(-I) : this.negative !== 0 ? this.length === 1 && (this.words[0] | 0) < I ? (this.words[0] = I - (this.words[0] | 0), this.negative = 0, this) : (this.negative = 0, this.isubn(I), this.negative = 1, this) : this._iaddn(I);
    }, s.prototype._iaddn = function(I) {
      this.words[0] += I;
      for (var o = 0; o < this.length && this.words[o] >= 67108864; o++)
        this.words[o] -= 67108864, o === this.length - 1 ? this.words[o + 1] = 1 : this.words[o + 1]++;
      return this.length = Math.max(this.length, o + 1), this;
    }, s.prototype.isubn = function(I) {
      if (i(typeof I == "number"), i(I < 67108864), I < 0)
        return this.iaddn(-I);
      if (this.negative !== 0)
        return this.negative = 0, this.iaddn(I), this.negative = 1, this;
      if (this.words[0] -= I, this.length === 1 && this.words[0] < 0)
        this.words[0] = -this.words[0], this.negative = 1;
      else
        for (var o = 0; o < this.length && this.words[o] < 0; o++)
          this.words[o] += 67108864, this.words[o + 1] -= 1;
      return this.strip();
    }, s.prototype.addn = function(I) {
      return this.clone().iaddn(I);
    }, s.prototype.subn = function(I) {
      return this.clone().isubn(I);
    }, s.prototype.iabs = function() {
      return this.negative = 0, this;
    }, s.prototype.abs = function() {
      return this.clone().iabs();
    }, s.prototype._ishlnsubmul = function(I, o, h) {
      var c = I.length + h, v;
      this._expand(c);
      var y, M = 0;
      for (v = 0; v < I.length; v++) {
        y = (this.words[v + h] | 0) + M;
        var E = (I.words[v] | 0) * o;
        y -= E & 67108863, M = (y >> 26) - (E / 67108864 | 0), this.words[v + h] = y & 67108863;
      }
      for (; v < this.length - h; v++)
        y = (this.words[v + h] | 0) + M, M = y >> 26, this.words[v + h] = y & 67108863;
      if (M === 0)
        return this.strip();
      for (i(M === -1), M = 0, v = 0; v < this.length; v++)
        y = -(this.words[v] | 0) + M, M = y >> 26, this.words[v] = y & 67108863;
      return this.negative = 1, this.strip();
    }, s.prototype._wordDiv = function(I, o) {
      var h = this.length - I.length, c = this.clone(), v = I, y = v.words[v.length - 1] | 0, M = this._countBits(y);
      h = 26 - M, h !== 0 && (v = v.ushln(h), c.iushln(h), y = v.words[v.length - 1] | 0);
      var E = c.length - v.length, d;
      if (o !== "mod") {
        d = new s(null), d.length = E + 1, d.words = new Array(d.length);
        for (var f = 0; f < d.length; f++)
          d.words[f] = 0;
      }
      var _ = c.clone()._ishlnsubmul(v, 1, E);
      _.negative === 0 && (c = _, d && (d.words[E] = 1));
      for (var Y = E - 1; Y >= 0; Y--) {
        var X = (c.words[v.length + Y] | 0) * 67108864 + (c.words[v.length + Y - 1] | 0);
        for (X = Math.min(X / y | 0, 67108863), c._ishlnsubmul(v, X, Y); c.negative !== 0; )
          X--, c.negative = 0, c._ishlnsubmul(v, 1, Y), c.isZero() || (c.negative ^= 1);
        d && (d.words[Y] = X);
      }
      return d && d.strip(), c.strip(), o !== "div" && h !== 0 && c.iushrn(h), {
        div: d || null,
        mod: c
      };
    }, s.prototype.divmod = function(I, o, h) {
      if (i(!I.isZero()), this.isZero())
        return {
          div: new s(0),
          mod: new s(0)
        };
      var c, v, y;
      return this.negative !== 0 && I.negative === 0 ? (y = this.neg().divmod(I, o), o !== "mod" && (c = y.div.neg()), o !== "div" && (v = y.mod.neg(), h && v.negative !== 0 && v.iadd(I)), {
        div: c,
        mod: v
      }) : this.negative === 0 && I.negative !== 0 ? (y = this.divmod(I.neg(), o), o !== "mod" && (c = y.div.neg()), {
        div: c,
        mod: y.mod
      }) : this.negative & I.negative ? (y = this.neg().divmod(I.neg(), o), o !== "div" && (v = y.mod.neg(), h && v.negative !== 0 && v.isub(I)), {
        div: y.div,
        mod: v
      }) : I.length > this.length || this.cmp(I) < 0 ? {
        div: new s(0),
        mod: this
      } : I.length === 1 ? o === "div" ? {
        div: this.divn(I.words[0]),
        mod: null
      } : o === "mod" ? {
        div: null,
        mod: new s(this.modn(I.words[0]))
      } : {
        div: this.divn(I.words[0]),
        mod: new s(this.modn(I.words[0]))
      } : this._wordDiv(I, o);
    }, s.prototype.div = function(I) {
      return this.divmod(I, "div", !1).div;
    }, s.prototype.mod = function(I) {
      return this.divmod(I, "mod", !1).mod;
    }, s.prototype.umod = function(I) {
      return this.divmod(I, "mod", !0).mod;
    }, s.prototype.divRound = function(I) {
      var o = this.divmod(I);
      if (o.mod.isZero())
        return o.div;
      var h = o.div.negative !== 0 ? o.mod.isub(I) : o.mod, c = I.ushrn(1), v = I.andln(1), y = h.cmp(c);
      return y < 0 || v === 1 && y === 0 ? o.div : o.div.negative !== 0 ? o.div.isubn(1) : o.div.iaddn(1);
    }, s.prototype.modn = function(I) {
      i(I <= 67108863);
      for (var o = (1 << 26) % I, h = 0, c = this.length - 1; c >= 0; c--)
        h = (o * h + (this.words[c] | 0)) % I;
      return h;
    }, s.prototype.idivn = function(I) {
      i(I <= 67108863);
      for (var o = 0, h = this.length - 1; h >= 0; h--) {
        var c = (this.words[h] | 0) + o * 67108864;
        this.words[h] = c / I | 0, o = c % I;
      }
      return this.strip();
    }, s.prototype.divn = function(I) {
      return this.clone().idivn(I);
    }, s.prototype.egcd = function(I) {
      i(I.negative === 0), i(!I.isZero());
      var o = this, h = I.clone();
      o.negative !== 0 ? o = o.umod(I) : o = o.clone();
      for (var c = new s(1), v = new s(0), y = new s(0), M = new s(1), E = 0; o.isEven() && h.isEven(); )
        o.iushrn(1), h.iushrn(1), ++E;
      for (var d = h.clone(), f = o.clone(); !o.isZero(); ) {
        for (var _ = 0, Y = 1; !(o.words[0] & Y) && _ < 26; ++_, Y <<= 1)
          ;
        if (_ > 0)
          for (o.iushrn(_); _-- > 0; )
            (c.isOdd() || v.isOdd()) && (c.iadd(d), v.isub(f)), c.iushrn(1), v.iushrn(1);
        for (var X = 0, g = 1; !(h.words[0] & g) && X < 26; ++X, g <<= 1)
          ;
        if (X > 0)
          for (h.iushrn(X); X-- > 0; )
            (y.isOdd() || M.isOdd()) && (y.iadd(d), M.isub(f)), y.iushrn(1), M.iushrn(1);
        o.cmp(h) >= 0 ? (o.isub(h), c.isub(y), v.isub(M)) : (h.isub(o), y.isub(c), M.isub(v));
      }
      return {
        a: y,
        b: M,
        gcd: h.iushln(E)
      };
    }, s.prototype._invmp = function(I) {
      i(I.negative === 0), i(!I.isZero());
      var o = this, h = I.clone();
      o.negative !== 0 ? o = o.umod(I) : o = o.clone();
      for (var c = new s(1), v = new s(0), y = h.clone(); o.cmpn(1) > 0 && h.cmpn(1) > 0; ) {
        for (var M = 0, E = 1; !(o.words[0] & E) && M < 26; ++M, E <<= 1)
          ;
        if (M > 0)
          for (o.iushrn(M); M-- > 0; )
            c.isOdd() && c.iadd(y), c.iushrn(1);
        for (var d = 0, f = 1; !(h.words[0] & f) && d < 26; ++d, f <<= 1)
          ;
        if (d > 0)
          for (h.iushrn(d); d-- > 0; )
            v.isOdd() && v.iadd(y), v.iushrn(1);
        o.cmp(h) >= 0 ? (o.isub(h), c.isub(v)) : (h.isub(o), v.isub(c));
      }
      var _;
      return o.cmpn(1) === 0 ? _ = c : _ = v, _.cmpn(0) < 0 && _.iadd(I), _;
    }, s.prototype.gcd = function(I) {
      if (this.isZero())
        return I.abs();
      if (I.isZero())
        return this.abs();
      var o = this.clone(), h = I.clone();
      o.negative = 0, h.negative = 0;
      for (var c = 0; o.isEven() && h.isEven(); c++)
        o.iushrn(1), h.iushrn(1);
      do {
        for (; o.isEven(); )
          o.iushrn(1);
        for (; h.isEven(); )
          h.iushrn(1);
        var v = o.cmp(h);
        if (v < 0) {
          var y = o;
          o = h, h = y;
        } else if (v === 0 || h.cmpn(1) === 0)
          break;
        o.isub(h);
      } while (!0);
      return h.iushln(c);
    }, s.prototype.invm = function(I) {
      return this.egcd(I).a.umod(I);
    }, s.prototype.isEven = function() {
      return (this.words[0] & 1) === 0;
    }, s.prototype.isOdd = function() {
      return (this.words[0] & 1) === 1;
    }, s.prototype.andln = function(I) {
      return this.words[0] & I;
    }, s.prototype.bincn = function(I) {
      i(typeof I == "number");
      var o = I % 26, h = (I - o) / 26, c = 1 << o;
      if (this.length <= h)
        return this._expand(h + 1), this.words[h] |= c, this;
      for (var v = c, y = h; v !== 0 && y < this.length; y++) {
        var M = this.words[y] | 0;
        M += v, v = M >>> 26, M &= 67108863, this.words[y] = M;
      }
      return v !== 0 && (this.words[y] = v, this.length++), this;
    }, s.prototype.isZero = function() {
      return this.length === 1 && this.words[0] === 0;
    }, s.prototype.cmpn = function(I) {
      var o = I < 0;
      if (this.negative !== 0 && !o)
        return -1;
      if (this.negative === 0 && o)
        return 1;
      this.strip();
      var h;
      if (this.length > 1)
        h = 1;
      else {
        o && (I = -I), i(I <= 67108863, "Number is too big");
        var c = this.words[0] | 0;
        h = c === I ? 0 : c < I ? -1 : 1;
      }
      return this.negative !== 0 ? -h | 0 : h;
    }, s.prototype.cmp = function(I) {
      if (this.negative !== 0 && I.negative === 0)
        return -1;
      if (this.negative === 0 && I.negative !== 0)
        return 1;
      var o = this.ucmp(I);
      return this.negative !== 0 ? -o | 0 : o;
    }, s.prototype.ucmp = function(I) {
      if (this.length > I.length)
        return 1;
      if (this.length < I.length)
        return -1;
      for (var o = 0, h = this.length - 1; h >= 0; h--) {
        var c = this.words[h] | 0, v = I.words[h] | 0;
        if (c !== v) {
          c < v ? o = -1 : c > v && (o = 1);
          break;
        }
      }
      return o;
    }, s.prototype.gtn = function(I) {
      return this.cmpn(I) === 1;
    }, s.prototype.gt = function(I) {
      return this.cmp(I) === 1;
    }, s.prototype.gten = function(I) {
      return this.cmpn(I) >= 0;
    }, s.prototype.gte = function(I) {
      return this.cmp(I) >= 0;
    }, s.prototype.ltn = function(I) {
      return this.cmpn(I) === -1;
    }, s.prototype.lt = function(I) {
      return this.cmp(I) === -1;
    }, s.prototype.lten = function(I) {
      return this.cmpn(I) <= 0;
    }, s.prototype.lte = function(I) {
      return this.cmp(I) <= 0;
    }, s.prototype.eqn = function(I) {
      return this.cmpn(I) === 0;
    }, s.prototype.eq = function(I) {
      return this.cmp(I) === 0;
    }, s.red = function(I) {
      return new st(I);
    }, s.prototype.toRed = function(I) {
      return i(!this.red, "Already a number in reduction context"), i(this.negative === 0, "red works only with positives"), I.convertTo(this)._forceRed(I);
    }, s.prototype.fromRed = function() {
      return i(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this);
    }, s.prototype._forceRed = function(I) {
      return this.red = I, this;
    }, s.prototype.forceRed = function(I) {
      return i(!this.red, "Already a number in reduction context"), this._forceRed(I);
    }, s.prototype.redAdd = function(I) {
      return i(this.red, "redAdd works only with red numbers"), this.red.add(this, I);
    }, s.prototype.redIAdd = function(I) {
      return i(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, I);
    }, s.prototype.redSub = function(I) {
      return i(this.red, "redSub works only with red numbers"), this.red.sub(this, I);
    }, s.prototype.redISub = function(I) {
      return i(this.red, "redISub works only with red numbers"), this.red.isub(this, I);
    }, s.prototype.redShl = function(I) {
      return i(this.red, "redShl works only with red numbers"), this.red.shl(this, I);
    }, s.prototype.redMul = function(I) {
      return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, I), this.red.mul(this, I);
    }, s.prototype.redIMul = function(I) {
      return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, I), this.red.imul(this, I);
    }, s.prototype.redSqr = function() {
      return i(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this);
    }, s.prototype.redISqr = function() {
      return i(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this);
    }, s.prototype.redSqrt = function() {
      return i(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this);
    }, s.prototype.redInvm = function() {
      return i(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this);
    }, s.prototype.redNeg = function() {
      return i(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this);
    }, s.prototype.redPow = function(I) {
      return i(this.red && !I.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, I);
    };
    var W = {
      k256: null,
      p224: null,
      p192: null,
      p25519: null
    };
    function $(L, I) {
      this.name = L, this.p = new s(I, 16), this.n = this.p.bitLength(), this.k = new s(1).iushln(this.n).isub(this.p), this.tmp = this._tmp();
    }
    $.prototype._tmp = function() {
      var I = new s(null);
      return I.words = new Array(Math.ceil(this.n / 13)), I;
    }, $.prototype.ireduce = function(I) {
      var o = I, h;
      do
        this.split(o, this.tmp), o = this.imulK(o), o = o.iadd(this.tmp), h = o.bitLength();
      while (h > this.n);
      var c = h < this.n ? -1 : o.ucmp(this.p);
      return c === 0 ? (o.words[0] = 0, o.length = 1) : c > 0 ? o.isub(this.p) : o.strip !== void 0 ? o.strip() : o._strip(), o;
    }, $.prototype.split = function(I, o) {
      I.iushrn(this.n, 0, o);
    }, $.prototype.imulK = function(I) {
      return I.imul(this.k);
    };
    function j() {
      $.call(
        this,
        "k256",
        "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f"
      );
    }
    n(j, $), j.prototype.split = function(I, o) {
      for (var h = 4194303, c = Math.min(I.length, 9), v = 0; v < c; v++)
        o.words[v] = I.words[v];
      if (o.length = c, I.length <= 9) {
        I.words[0] = 0, I.length = 1;
        return;
      }
      var y = I.words[9];
      for (o.words[o.length++] = y & h, v = 10; v < I.length; v++) {
        var M = I.words[v] | 0;
        I.words[v - 10] = (M & h) << 4 | y >>> 22, y = M;
      }
      y >>>= 22, I.words[v - 10] = y, y === 0 && I.length > 10 ? I.length -= 10 : I.length -= 9;
    }, j.prototype.imulK = function(I) {
      I.words[I.length] = 0, I.words[I.length + 1] = 0, I.length += 2;
      for (var o = 0, h = 0; h < I.length; h++) {
        var c = I.words[h] | 0;
        o += c * 977, I.words[h] = o & 67108863, o = c * 64 + (o / 67108864 | 0);
      }
      return I.words[I.length - 1] === 0 && (I.length--, I.words[I.length - 1] === 0 && I.length--), I;
    };
    function K() {
      $.call(
        this,
        "p224",
        "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001"
      );
    }
    n(K, $);
    function N() {
      $.call(
        this,
        "p192",
        "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff"
      );
    }
    n(N, $);
    function H() {
      $.call(
        this,
        "25519",
        "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed"
      );
    }
    n(H, $), H.prototype.imulK = function(I) {
      for (var o = 0, h = 0; h < I.length; h++) {
        var c = (I.words[h] | 0) * 19 + o, v = c & 67108863;
        c >>>= 26, I.words[h] = v, o = c;
      }
      return o !== 0 && (I.words[I.length++] = o), I;
    }, s._prime = function(I) {
      if (W[I])
        return W[I];
      var o;
      if (I === "k256")
        o = new j();
      else if (I === "p224")
        o = new K();
      else if (I === "p192")
        o = new N();
      else if (I === "p25519")
        o = new H();
      else
        throw new Error("Unknown prime " + I);
      return W[I] = o, o;
    };
    function st(L) {
      if (typeof L == "string") {
        var I = s._prime(L);
        this.m = I.p, this.prime = I;
      } else
        i(L.gtn(1), "modulus must be greater than 1"), this.m = L, this.prime = null;
    }
    st.prototype._verify1 = function(I) {
      i(I.negative === 0, "red works only with positives"), i(I.red, "red works only with red numbers");
    }, st.prototype._verify2 = function(I, o) {
      i((I.negative | o.negative) === 0, "red works only with positives"), i(
        I.red && I.red === o.red,
        "red works only with red numbers"
      );
    }, st.prototype.imod = function(I) {
      return this.prime ? this.prime.ireduce(I)._forceRed(this) : I.umod(this.m)._forceRed(this);
    }, st.prototype.neg = function(I) {
      return I.isZero() ? I.clone() : this.m.sub(I)._forceRed(this);
    }, st.prototype.add = function(I, o) {
      this._verify2(I, o);
      var h = I.add(o);
      return h.cmp(this.m) >= 0 && h.isub(this.m), h._forceRed(this);
    }, st.prototype.iadd = function(I, o) {
      this._verify2(I, o);
      var h = I.iadd(o);
      return h.cmp(this.m) >= 0 && h.isub(this.m), h;
    }, st.prototype.sub = function(I, o) {
      this._verify2(I, o);
      var h = I.sub(o);
      return h.cmpn(0) < 0 && h.iadd(this.m), h._forceRed(this);
    }, st.prototype.isub = function(I, o) {
      this._verify2(I, o);
      var h = I.isub(o);
      return h.cmpn(0) < 0 && h.iadd(this.m), h;
    }, st.prototype.shl = function(I, o) {
      return this._verify1(I), this.imod(I.ushln(o));
    }, st.prototype.imul = function(I, o) {
      return this._verify2(I, o), this.imod(I.imul(o));
    }, st.prototype.mul = function(I, o) {
      return this._verify2(I, o), this.imod(I.mul(o));
    }, st.prototype.isqr = function(I) {
      return this.imul(I, I.clone());
    }, st.prototype.sqr = function(I) {
      return this.mul(I, I);
    }, st.prototype.sqrt = function(I) {
      if (I.isZero())
        return I.clone();
      var o = this.m.andln(3);
      if (i(o % 2 === 1), o === 3) {
        var h = this.m.add(new s(1)).iushrn(2);
        return this.pow(I, h);
      }
      for (var c = this.m.subn(1), v = 0; !c.isZero() && c.andln(1) === 0; )
        v++, c.iushrn(1);
      i(!c.isZero());
      var y = new s(1).toRed(this), M = y.redNeg(), E = this.m.subn(1).iushrn(1), d = this.m.bitLength();
      for (d = new s(2 * d * d).toRed(this); this.pow(d, E).cmp(M) !== 0; )
        d.redIAdd(M);
      for (var f = this.pow(d, c), _ = this.pow(I, c.addn(1).iushrn(1)), Y = this.pow(I, c), X = v; Y.cmp(y) !== 0; ) {
        for (var g = Y, F = 0; g.cmp(y) !== 0; F++)
          g = g.redSqr();
        i(F < X);
        var O = this.pow(f, new s(1).iushln(X - F - 1));
        _ = _.redMul(O), f = O.redSqr(), Y = Y.redMul(f), X = F;
      }
      return _;
    }, st.prototype.invm = function(I) {
      var o = I._invmp(this.m);
      return o.negative !== 0 ? (o.negative = 0, this.imod(o).redNeg()) : this.imod(o);
    }, st.prototype.pow = function(I, o) {
      if (o.isZero())
        return new s(1).toRed(this);
      if (o.cmpn(1) === 0)
        return I.clone();
      var h = 4, c = new Array(1 << h);
      c[0] = new s(1).toRed(this), c[1] = I;
      for (var v = 2; v < c.length; v++)
        c[v] = this.mul(c[v - 1], I);
      var y = c[0], M = 0, E = 0, d = o.bitLength() % 26;
      for (d === 0 && (d = 26), v = o.length - 1; v >= 0; v--) {
        for (var f = o.words[v], _ = d - 1; _ >= 0; _--) {
          var Y = f >> _ & 1;
          if (y !== c[0] && (y = this.sqr(y)), Y === 0 && M === 0) {
            E = 0;
            continue;
          }
          M <<= 1, M |= Y, E++, !(E !== h && (v !== 0 || _ !== 0)) && (y = this.mul(y, c[M]), E = 0, M = 0);
        }
        d = 26;
      }
      return y;
    }, st.prototype.convertTo = function(I) {
      var o = I.umod(this.m);
      return o === I ? o.clone() : o;
    }, st.prototype.convertFrom = function(I) {
      var o = I.clone();
      return o.red = null, o;
    }, s.mont = function(I) {
      return new ct(I);
    };
    function ct(L) {
      st.call(this, L), this.shift = this.m.bitLength(), this.shift % 26 !== 0 && (this.shift += 26 - this.shift % 26), this.r = new s(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv);
    }
    n(ct, st), ct.prototype.convertTo = function(I) {
      return this.imod(I.ushln(this.shift));
    }, ct.prototype.convertFrom = function(I) {
      var o = this.imod(I.mul(this.rinv));
      return o.red = null, o;
    }, ct.prototype.imul = function(I, o) {
      if (I.isZero() || o.isZero())
        return I.words[0] = 0, I.length = 1, I;
      var h = I.imul(o), c = h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), v = h.isub(c).iushrn(this.shift), y = v;
      return v.cmp(this.m) >= 0 ? y = v.isub(this.m) : v.cmpn(0) < 0 && (y = v.iadd(this.m)), y._forceRed(this);
    }, ct.prototype.mul = function(I, o) {
      if (I.isZero() || o.isZero())
        return new s(0)._forceRed(this);
      var h = I.mul(o), c = h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), v = h.isub(c).iushrn(this.shift), y = v;
      return v.cmp(this.m) >= 0 ? y = v.isub(this.m) : v.cmpn(0) < 0 && (y = v.iadd(this.m)), y._forceRed(this);
    }, ct.prototype.invm = function(I) {
      var o = this.imod(I._invmp(this.m).mul(this.r2));
      return o._forceRed(this);
    };
  })(e, Nn);
})(Zp);
var Ro = Zp.exports, Ua = gb;
function gb(e, t) {
  if (!e)
    throw new Error(t || "Assertion failed");
}
gb.equal = function(t, r, i) {
  if (t != r)
    throw new Error(i || "Assertion failed: " + t + " != " + r);
};
var t2 = {};
(function(e) {
  var t = e;
  function r(s, u) {
    if (Array.isArray(s))
      return s.slice();
    if (!s)
      return [];
    var p = [];
    if (typeof s != "string") {
      for (var b = 0; b < s.length; b++)
        p[b] = s[b] | 0;
      return p;
    }
    if (u === "hex") {
      s = s.replace(/[^a-z0-9]+/ig, ""), s.length % 2 !== 0 && (s = "0" + s);
      for (var b = 0; b < s.length; b += 2)
        p.push(parseInt(s[b] + s[b + 1], 16));
    } else
      for (var b = 0; b < s.length; b++) {
        var m = s.charCodeAt(b), w = m >> 8, S = m & 255;
        w ? p.push(w, S) : p.push(S);
      }
    return p;
  }
  t.toArray = r;
  function i(s) {
    return s.length === 1 ? "0" + s : s;
  }
  t.zero2 = i;
  function n(s) {
    for (var u = "", p = 0; p < s.length; p++)
      u += i(s[p].toString(16));
    return u;
  }
  t.toHex = n, t.encode = function(u, p) {
    return p === "hex" ? n(u) : u;
  };
})(t2);
(function(e) {
  var t = e, r = Ro, i = Ua, n = t2;
  t.assert = i, t.toArray = n.toArray, t.zero2 = n.zero2, t.toHex = n.toHex, t.encode = n.encode;
  function s(w, S, C) {
    var D = new Array(Math.max(w.bitLength(), C) + 1), P;
    for (P = 0; P < D.length; P += 1)
      D[P] = 0;
    var k = 1 << S + 1, z = w.clone();
    for (P = 0; P < D.length; P++) {
      var V, Q = z.andln(k - 1);
      z.isOdd() ? (Q > (k >> 1) - 1 ? V = (k >> 1) - Q : V = Q, z.isubn(V)) : V = 0, D[P] = V, z.iushrn(1);
    }
    return D;
  }
  t.getNAF = s;
  function u(w, S) {
    var C = [
      [],
      []
    ];
    w = w.clone(), S = S.clone();
    for (var D = 0, P = 0, k; w.cmpn(-D) > 0 || S.cmpn(-P) > 0; ) {
      var z = w.andln(3) + D & 3, V = S.andln(3) + P & 3;
      z === 3 && (z = -1), V === 3 && (V = -1);
      var Q;
      z & 1 ? (k = w.andln(7) + D & 7, (k === 3 || k === 5) && V === 2 ? Q = -z : Q = z) : Q = 0, C[0].push(Q);
      var W;
      V & 1 ? (k = S.andln(7) + P & 7, (k === 3 || k === 5) && z === 2 ? W = -V : W = V) : W = 0, C[1].push(W), 2 * D === Q + 1 && (D = 1 - D), 2 * P === W + 1 && (P = 1 - P), w.iushrn(1), S.iushrn(1);
    }
    return C;
  }
  t.getJSF = u;
  function p(w, S, C) {
    var D = "_" + S;
    w.prototype[S] = function() {
      return this[D] !== void 0 ? this[D] : this[D] = C.call(this);
    };
  }
  t.cachedProperty = p;
  function b(w) {
    return typeof w == "string" ? t.toArray(w, "hex") : w;
  }
  t.parseBytes = b;
  function m(w) {
    return new r(w, "hex", "le");
  }
  t.intFromLE = m;
})(on);
var e2 = { exports: {} }, Ud;
e2.exports = function(t) {
  return Ud || (Ud = new ea(null)), Ud.generate(t);
};
function ea(e) {
  this.rand = e;
}
e2.exports.Rand = ea;
ea.prototype.generate = function(t) {
  return this._rand(t);
};
ea.prototype._rand = function(t) {
  if (this.rand.getBytes)
    return this.rand.getBytes(t);
  for (var r = new Uint8Array(t), i = 0; i < r.length; i++)
    r[i] = this.rand.getByte();
  return r;
};
if (typeof self == "object")
  self.crypto && self.crypto.getRandomValues ? ea.prototype._rand = function(t) {
    var r = new Uint8Array(t);
    return self.crypto.getRandomValues(r), r;
  } : self.msCrypto && self.msCrypto.getRandomValues ? ea.prototype._rand = function(t) {
    var r = new Uint8Array(t);
    return self.msCrypto.getRandomValues(r), r;
  } : typeof window == "object" && (ea.prototype._rand = function() {
    throw new Error("Not implemented yet");
  });
else
  try {
    var V3 = Gp;
    if (typeof V3.randomBytes != "function")
      throw new Error("Not supported");
    ea.prototype._rand = function(t) {
      return V3.randomBytes(t);
    };
  } catch {
  }
var mb = e2.exports, r2 = {}, _a = Ro, Eu = on, M0 = Eu.getNAF, px = Eu.getJSF, S0 = Eu.assert;
function oa(e, t) {
  this.type = e, this.p = new _a(t.p, 16), this.red = t.prime ? _a.red(t.prime) : _a.mont(this.p), this.zero = new _a(0).toRed(this.red), this.one = new _a(1).toRed(this.red), this.two = new _a(2).toRed(this.red), this.n = t.n && new _a(t.n, 16), this.g = t.g && this.pointFromJSON(t.g, t.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4), this._bitLength = this.n ? this.n.bitLength() : 0;
  var r = this.n && this.p.div(this.n);
  !r || r.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red));
}
var Z0 = oa;
oa.prototype.point = function() {
  throw new Error("Not implemented");
};
oa.prototype.validate = function() {
  throw new Error("Not implemented");
};
oa.prototype._fixedNafMul = function(t, r) {
  S0(t.precomputed);
  var i = t._getDoubles(), n = M0(r, 1, this._bitLength), s = (1 << i.step + 1) - (i.step % 2 === 0 ? 2 : 1);
  s /= 3;
  var u = [], p, b;
  for (p = 0; p < n.length; p += i.step) {
    b = 0;
    for (var m = p + i.step - 1; m >= p; m--)
      b = (b << 1) + n[m];
    u.push(b);
  }
  for (var w = this.jpoint(null, null, null), S = this.jpoint(null, null, null), C = s; C > 0; C--) {
    for (p = 0; p < u.length; p++)
      b = u[p], b === C ? S = S.mixedAdd(i.points[p]) : b === -C && (S = S.mixedAdd(i.points[p].neg()));
    w = w.add(S);
  }
  return w.toP();
};
oa.prototype._wnafMul = function(t, r) {
  var i = 4, n = t._getNAFPoints(i);
  i = n.wnd;
  for (var s = n.points, u = M0(r, i, this._bitLength), p = this.jpoint(null, null, null), b = u.length - 1; b >= 0; b--) {
    for (var m = 0; b >= 0 && u[b] === 0; b--)
      m++;
    if (b >= 0 && m++, p = p.dblp(m), b < 0)
      break;
    var w = u[b];
    S0(w !== 0), t.type === "affine" ? w > 0 ? p = p.mixedAdd(s[w - 1 >> 1]) : p = p.mixedAdd(s[-w - 1 >> 1].neg()) : w > 0 ? p = p.add(s[w - 1 >> 1]) : p = p.add(s[-w - 1 >> 1].neg());
  }
  return t.type === "affine" ? p.toP() : p;
};
oa.prototype._wnafMulAdd = function(t, r, i, n, s) {
  var u = this._wnafT1, p = this._wnafT2, b = this._wnafT3, m = 0, w, S, C;
  for (w = 0; w < n; w++) {
    C = r[w];
    var D = C._getNAFPoints(t);
    u[w] = D.wnd, p[w] = D.points;
  }
  for (w = n - 1; w >= 1; w -= 2) {
    var P = w - 1, k = w;
    if (u[P] !== 1 || u[k] !== 1) {
      b[P] = M0(i[P], u[P], this._bitLength), b[k] = M0(i[k], u[k], this._bitLength), m = Math.max(b[P].length, m), m = Math.max(b[k].length, m);
      continue;
    }
    var z = [
      r[P],
      /* 1 */
      null,
      /* 3 */
      null,
      /* 5 */
      r[k]
      /* 7 */
    ];
    r[P].y.cmp(r[k].y) === 0 ? (z[1] = r[P].add(r[k]), z[2] = r[P].toJ().mixedAdd(r[k].neg())) : r[P].y.cmp(r[k].y.redNeg()) === 0 ? (z[1] = r[P].toJ().mixedAdd(r[k]), z[2] = r[P].add(r[k].neg())) : (z[1] = r[P].toJ().mixedAdd(r[k]), z[2] = r[P].toJ().mixedAdd(r[k].neg()));
    var V = [
      -3,
      /* -1 -1 */
      -1,
      /* -1 0 */
      -5,
      /* -1 1 */
      -7,
      /* 0 -1 */
      0,
      /* 0 0 */
      7,
      /* 0 1 */
      5,
      /* 1 -1 */
      1,
      /* 1 0 */
      3
      /* 1 1 */
    ], Q = px(i[P], i[k]);
    for (m = Math.max(Q[0].length, m), b[P] = new Array(m), b[k] = new Array(m), S = 0; S < m; S++) {
      var W = Q[0][S] | 0, $ = Q[1][S] | 0;
      b[P][S] = V[(W + 1) * 3 + ($ + 1)], b[k][S] = 0, p[P] = z;
    }
  }
  var j = this.jpoint(null, null, null), K = this._wnafT4;
  for (w = m; w >= 0; w--) {
    for (var N = 0; w >= 0; ) {
      var H = !0;
      for (S = 0; S < n; S++)
        K[S] = b[S][w] | 0, K[S] !== 0 && (H = !1);
      if (!H)
        break;
      N++, w--;
    }
    if (w >= 0 && N++, j = j.dblp(N), w < 0)
      break;
    for (S = 0; S < n; S++) {
      var st = K[S];
      st !== 0 && (st > 0 ? C = p[S][st - 1 >> 1] : st < 0 && (C = p[S][-st - 1 >> 1].neg()), C.type === "affine" ? j = j.mixedAdd(C) : j = j.add(C));
    }
  }
  for (w = 0; w < n; w++)
    p[w] = null;
  return s ? j : j.toP();
};
function On(e, t) {
  this.curve = e, this.type = t, this.precomputed = null;
}
oa.BasePoint = On;
On.prototype.eq = function() {
  throw new Error("Not implemented");
};
On.prototype.validate = function() {
  return this.curve.validate(this);
};
oa.prototype.decodePoint = function(t, r) {
  t = Eu.toArray(t, r);
  var i = this.p.byteLength();
  if ((t[0] === 4 || t[0] === 6 || t[0] === 7) && t.length - 1 === 2 * i) {
    t[0] === 6 ? S0(t[t.length - 1] % 2 === 0) : t[0] === 7 && S0(t[t.length - 1] % 2 === 1);
    var n = this.point(
      t.slice(1, 1 + i),
      t.slice(1 + i, 1 + 2 * i)
    );
    return n;
  } else if ((t[0] === 2 || t[0] === 3) && t.length - 1 === i)
    return this.pointFromX(t.slice(1, 1 + i), t[0] === 3);
  throw new Error("Unknown point format");
};
On.prototype.encodeCompressed = function(t) {
  return this.encode(t, !0);
};
On.prototype._encode = function(t) {
  var r = this.curve.p.byteLength(), i = this.getX().toArray("be", r);
  return t ? [this.getY().isEven() ? 2 : 3].concat(i) : [4].concat(i, this.getY().toArray("be", r));
};
On.prototype.encode = function(t, r) {
  return Eu.encode(this._encode(r), t);
};
On.prototype.precompute = function(t) {
  if (this.precomputed)
    return this;
  var r = {
    doubles: null,
    naf: null,
    beta: null
  };
  return r.naf = this._getNAFPoints(8), r.doubles = this._getDoubles(4, t), r.beta = this._getBeta(), this.precomputed = r, this;
};
On.prototype._hasDoubles = function(t) {
  if (!this.precomputed)
    return !1;
  var r = this.precomputed.doubles;
  return r ? r.points.length >= Math.ceil((t.bitLength() + 1) / r.step) : !1;
};
On.prototype._getDoubles = function(t, r) {
  if (this.precomputed && this.precomputed.doubles)
    return this.precomputed.doubles;
  for (var i = [this], n = this, s = 0; s < r; s += t) {
    for (var u = 0; u < t; u++)
      n = n.dbl();
    i.push(n);
  }
  return {
    step: t,
    points: i
  };
};
On.prototype._getNAFPoints = function(t) {
  if (this.precomputed && this.precomputed.naf)
    return this.precomputed.naf;
  for (var r = [this], i = (1 << t) - 1, n = i === 1 ? null : this.dbl(), s = 1; s < i; s++)
    r[s] = r[s - 1].add(n);
  return {
    wnd: t,
    points: r
  };
};
On.prototype._getBeta = function() {
  return null;
};
On.prototype.dblp = function(t) {
  for (var r = this, i = 0; i < t; i++)
    r = r.dbl();
  return r;
};
var gx = on, vr = Ro, i2 = Q0, Gh = Z0, mx = gx.assert;
function Bn(e) {
  Gh.call(this, "short", e), this.a = new vr(e.a, 16).toRed(this.red), this.b = new vr(e.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = this.a.fromRed().cmpn(0) === 0, this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0, this.endo = this._getEndomorphism(e), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4);
}
i2(Bn, Gh);
var vx = Bn;
Bn.prototype._getEndomorphism = function(t) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var r, i;
    if (t.beta)
      r = new vr(t.beta, 16).toRed(this.red);
    else {
      var n = this._getEndoRoots(this.p);
      r = n[0].cmp(n[1]) < 0 ? n[0] : n[1], r = r.toRed(this.red);
    }
    if (t.lambda)
      i = new vr(t.lambda, 16);
    else {
      var s = this._getEndoRoots(this.n);
      this.g.mul(s[0]).x.cmp(this.g.x.redMul(r)) === 0 ? i = s[0] : (i = s[1], mx(this.g.mul(i).x.cmp(this.g.x.redMul(r)) === 0));
    }
    var u;
    return t.basis ? u = t.basis.map(function(p) {
      return {
        a: new vr(p.a, 16),
        b: new vr(p.b, 16)
      };
    }) : u = this._getEndoBasis(i), {
      beta: r,
      lambda: i,
      basis: u
    };
  }
};
Bn.prototype._getEndoRoots = function(t) {
  var r = t === this.p ? this.red : vr.mont(t), i = new vr(2).toRed(r).redInvm(), n = i.redNeg(), s = new vr(3).toRed(r).redNeg().redSqrt().redMul(i), u = n.redAdd(s).fromRed(), p = n.redSub(s).fromRed();
  return [u, p];
};
Bn.prototype._getEndoBasis = function(t) {
  for (var r = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), i = t, n = this.n.clone(), s = new vr(1), u = new vr(0), p = new vr(0), b = new vr(1), m, w, S, C, D, P, k, z = 0, V, Q; i.cmpn(0) !== 0; ) {
    var W = n.div(i);
    V = n.sub(W.mul(i)), Q = p.sub(W.mul(s));
    var $ = b.sub(W.mul(u));
    if (!S && V.cmp(r) < 0)
      m = k.neg(), w = s, S = V.neg(), C = Q;
    else if (S && ++z === 2)
      break;
    k = V, n = i, i = V, p = s, s = Q, b = u, u = $;
  }
  D = V.neg(), P = Q;
  var j = S.sqr().add(C.sqr()), K = D.sqr().add(P.sqr());
  return K.cmp(j) >= 0 && (D = m, P = w), S.negative && (S = S.neg(), C = C.neg()), D.negative && (D = D.neg(), P = P.neg()), [
    { a: S, b: C },
    { a: D, b: P }
  ];
};
Bn.prototype._endoSplit = function(t) {
  var r = this.endo.basis, i = r[0], n = r[1], s = n.b.mul(t).divRound(this.n), u = i.b.neg().mul(t).divRound(this.n), p = s.mul(i.a), b = u.mul(n.a), m = s.mul(i.b), w = u.mul(n.b), S = t.sub(p).sub(b), C = m.add(w).neg();
  return { k1: S, k2: C };
};
Bn.prototype.pointFromX = function(t, r) {
  t = new vr(t, 16), t.red || (t = t.toRed(this.red));
  var i = t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b), n = i.redSqrt();
  if (n.redSqr().redSub(i).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var s = n.fromRed().isOdd();
  return (r && !s || !r && s) && (n = n.redNeg()), this.point(t, n);
};
Bn.prototype.validate = function(t) {
  if (t.inf)
    return !0;
  var r = t.x, i = t.y, n = this.a.redMul(r), s = r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);
  return i.redSqr().redISub(s).cmpn(0) === 0;
};
Bn.prototype._endoWnafMulAdd = function(t, r, i) {
  for (var n = this._endoWnafT1, s = this._endoWnafT2, u = 0; u < t.length; u++) {
    var p = this._endoSplit(r[u]), b = t[u], m = b._getBeta();
    p.k1.negative && (p.k1.ineg(), b = b.neg(!0)), p.k2.negative && (p.k2.ineg(), m = m.neg(!0)), n[u * 2] = b, n[u * 2 + 1] = m, s[u * 2] = p.k1, s[u * 2 + 1] = p.k2;
  }
  for (var w = this._wnafMulAdd(1, n, s, u * 2, i), S = 0; S < u * 2; S++)
    n[S] = null, s[S] = null;
  return w;
};
function Vr(e, t, r, i) {
  Gh.BasePoint.call(this, e, "affine"), t === null && r === null ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new vr(t, 16), this.y = new vr(r, 16), i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1);
}
i2(Vr, Gh.BasePoint);
Bn.prototype.point = function(t, r, i) {
  return new Vr(this, t, r, i);
};
Bn.prototype.pointFromJSON = function(t, r) {
  return Vr.fromJSON(this, t, r);
};
Vr.prototype._getBeta = function() {
  if (this.curve.endo) {
    var t = this.precomputed;
    if (t && t.beta)
      return t.beta;
    var r = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
    if (t) {
      var i = this.curve, n = function(s) {
        return i.point(s.x.redMul(i.endo.beta), s.y);
      };
      t.beta = r, r.precomputed = {
        beta: null,
        naf: t.naf && {
          wnd: t.naf.wnd,
          points: t.naf.points.map(n)
        },
        doubles: t.doubles && {
          step: t.doubles.step,
          points: t.doubles.points.map(n)
        }
      };
    }
    return r;
  }
};
Vr.prototype.toJSON = function() {
  return this.precomputed ? [this.x, this.y, this.precomputed && {
    doubles: this.precomputed.doubles && {
      step: this.precomputed.doubles.step,
      points: this.precomputed.doubles.points.slice(1)
    },
    naf: this.precomputed.naf && {
      wnd: this.precomputed.naf.wnd,
      points: this.precomputed.naf.points.slice(1)
    }
  }] : [this.x, this.y];
};
Vr.fromJSON = function(t, r, i) {
  typeof r == "string" && (r = JSON.parse(r));
  var n = t.point(r[0], r[1], i);
  if (!r[2])
    return n;
  function s(p) {
    return t.point(p[0], p[1], i);
  }
  var u = r[2];
  return n.precomputed = {
    beta: null,
    doubles: u.doubles && {
      step: u.doubles.step,
      points: [n].concat(u.doubles.points.map(s))
    },
    naf: u.naf && {
      wnd: u.naf.wnd,
      points: [n].concat(u.naf.points.map(s))
    }
  }, n;
};
Vr.prototype.inspect = function() {
  return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">";
};
Vr.prototype.isInfinity = function() {
  return this.inf;
};
Vr.prototype.add = function(t) {
  if (this.inf)
    return t;
  if (t.inf)
    return this;
  if (this.eq(t))
    return this.dbl();
  if (this.neg().eq(t))
    return this.curve.point(null, null);
  if (this.x.cmp(t.x) === 0)
    return this.curve.point(null, null);
  var r = this.y.redSub(t.y);
  r.cmpn(0) !== 0 && (r = r.redMul(this.x.redSub(t.x).redInvm()));
  var i = r.redSqr().redISub(this.x).redISub(t.x), n = r.redMul(this.x.redSub(i)).redISub(this.y);
  return this.curve.point(i, n);
};
Vr.prototype.dbl = function() {
  if (this.inf)
    return this;
  var t = this.y.redAdd(this.y);
  if (t.cmpn(0) === 0)
    return this.curve.point(null, null);
  var r = this.curve.a, i = this.x.redSqr(), n = t.redInvm(), s = i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n), u = s.redSqr().redISub(this.x.redAdd(this.x)), p = s.redMul(this.x.redSub(u)).redISub(this.y);
  return this.curve.point(u, p);
};
Vr.prototype.getX = function() {
  return this.x.fromRed();
};
Vr.prototype.getY = function() {
  return this.y.fromRed();
};
Vr.prototype.mul = function(t) {
  return t = new vr(t, 16), this.isInfinity() ? this : this._hasDoubles(t) ? this.curve._fixedNafMul(this, t) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [t]) : this.curve._wnafMul(this, t);
};
Vr.prototype.mulAdd = function(t, r, i) {
  var n = [this, r], s = [t, i];
  return this.curve.endo ? this.curve._endoWnafMulAdd(n, s) : this.curve._wnafMulAdd(1, n, s, 2);
};
Vr.prototype.jmulAdd = function(t, r, i) {
  var n = [this, r], s = [t, i];
  return this.curve.endo ? this.curve._endoWnafMulAdd(n, s, !0) : this.curve._wnafMulAdd(1, n, s, 2, !0);
};
Vr.prototype.eq = function(t) {
  return this === t || this.inf === t.inf && (this.inf || this.x.cmp(t.x) === 0 && this.y.cmp(t.y) === 0);
};
Vr.prototype.neg = function(t) {
  if (this.inf)
    return this;
  var r = this.curve.point(this.x, this.y.redNeg());
  if (t && this.precomputed) {
    var i = this.precomputed, n = function(s) {
      return s.neg();
    };
    r.precomputed = {
      naf: i.naf && {
        wnd: i.naf.wnd,
        points: i.naf.points.map(n)
      },
      doubles: i.doubles && {
        step: i.doubles.step,
        points: i.doubles.points.map(n)
      }
    };
  }
  return r;
};
Vr.prototype.toJ = function() {
  if (this.inf)
    return this.curve.jpoint(null, null, null);
  var t = this.curve.jpoint(this.x, this.y, this.curve.one);
  return t;
};
function si(e, t, r, i) {
  Gh.BasePoint.call(this, e, "jacobian"), t === null && r === null && i === null ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new vr(0)) : (this.x = new vr(t, 16), this.y = new vr(r, 16), this.z = new vr(i, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one;
}
i2(si, Gh.BasePoint);
Bn.prototype.jpoint = function(t, r, i) {
  return new si(this, t, r, i);
};
si.prototype.toP = function() {
  if (this.isInfinity())
    return this.curve.point(null, null);
  var t = this.z.redInvm(), r = t.redSqr(), i = this.x.redMul(r), n = this.y.redMul(r).redMul(t);
  return this.curve.point(i, n);
};
si.prototype.neg = function() {
  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
};
si.prototype.add = function(t) {
  if (this.isInfinity())
    return t;
  if (t.isInfinity())
    return this;
  var r = t.z.redSqr(), i = this.z.redSqr(), n = this.x.redMul(r), s = t.x.redMul(i), u = this.y.redMul(r.redMul(t.z)), p = t.y.redMul(i.redMul(this.z)), b = n.redSub(s), m = u.redSub(p);
  if (b.cmpn(0) === 0)
    return m.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var w = b.redSqr(), S = w.redMul(b), C = n.redMul(w), D = m.redSqr().redIAdd(S).redISub(C).redISub(C), P = m.redMul(C.redISub(D)).redISub(u.redMul(S)), k = this.z.redMul(t.z).redMul(b);
  return this.curve.jpoint(D, P, k);
};
si.prototype.mixedAdd = function(t) {
  if (this.isInfinity())
    return t.toJ();
  if (t.isInfinity())
    return this;
  var r = this.z.redSqr(), i = this.x, n = t.x.redMul(r), s = this.y, u = t.y.redMul(r).redMul(this.z), p = i.redSub(n), b = s.redSub(u);
  if (p.cmpn(0) === 0)
    return b.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var m = p.redSqr(), w = m.redMul(p), S = i.redMul(m), C = b.redSqr().redIAdd(w).redISub(S).redISub(S), D = b.redMul(S.redISub(C)).redISub(s.redMul(w)), P = this.z.redMul(p);
  return this.curve.jpoint(C, D, P);
};
si.prototype.dblp = function(t) {
  if (t === 0)
    return this;
  if (this.isInfinity())
    return this;
  if (!t)
    return this.dbl();
  var r;
  if (this.curve.zeroA || this.curve.threeA) {
    var i = this;
    for (r = 0; r < t; r++)
      i = i.dbl();
    return i;
  }
  var n = this.curve.a, s = this.curve.tinv, u = this.x, p = this.y, b = this.z, m = b.redSqr().redSqr(), w = p.redAdd(p);
  for (r = 0; r < t; r++) {
    var S = u.redSqr(), C = w.redSqr(), D = C.redSqr(), P = S.redAdd(S).redIAdd(S).redIAdd(n.redMul(m)), k = u.redMul(C), z = P.redSqr().redISub(k.redAdd(k)), V = k.redISub(z), Q = P.redMul(V);
    Q = Q.redIAdd(Q).redISub(D);
    var W = w.redMul(b);
    r + 1 < t && (m = m.redMul(D)), u = z, b = W, w = Q;
  }
  return this.curve.jpoint(u, w.redMul(s), b);
};
si.prototype.dbl = function() {
  return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl();
};
si.prototype._zeroDbl = function() {
  var t, r, i;
  if (this.zOne) {
    var n = this.x.redSqr(), s = this.y.redSqr(), u = s.redSqr(), p = this.x.redAdd(s).redSqr().redISub(n).redISub(u);
    p = p.redIAdd(p);
    var b = n.redAdd(n).redIAdd(n), m = b.redSqr().redISub(p).redISub(p), w = u.redIAdd(u);
    w = w.redIAdd(w), w = w.redIAdd(w), t = m, r = b.redMul(p.redISub(m)).redISub(w), i = this.y.redAdd(this.y);
  } else {
    var S = this.x.redSqr(), C = this.y.redSqr(), D = C.redSqr(), P = this.x.redAdd(C).redSqr().redISub(S).redISub(D);
    P = P.redIAdd(P);
    var k = S.redAdd(S).redIAdd(S), z = k.redSqr(), V = D.redIAdd(D);
    V = V.redIAdd(V), V = V.redIAdd(V), t = z.redISub(P).redISub(P), r = k.redMul(P.redISub(t)).redISub(V), i = this.y.redMul(this.z), i = i.redIAdd(i);
  }
  return this.curve.jpoint(t, r, i);
};
si.prototype._threeDbl = function() {
  var t, r, i;
  if (this.zOne) {
    var n = this.x.redSqr(), s = this.y.redSqr(), u = s.redSqr(), p = this.x.redAdd(s).redSqr().redISub(n).redISub(u);
    p = p.redIAdd(p);
    var b = n.redAdd(n).redIAdd(n).redIAdd(this.curve.a), m = b.redSqr().redISub(p).redISub(p);
    t = m;
    var w = u.redIAdd(u);
    w = w.redIAdd(w), w = w.redIAdd(w), r = b.redMul(p.redISub(m)).redISub(w), i = this.y.redAdd(this.y);
  } else {
    var S = this.z.redSqr(), C = this.y.redSqr(), D = this.x.redMul(C), P = this.x.redSub(S).redMul(this.x.redAdd(S));
    P = P.redAdd(P).redIAdd(P);
    var k = D.redIAdd(D);
    k = k.redIAdd(k);
    var z = k.redAdd(k);
    t = P.redSqr().redISub(z), i = this.y.redAdd(this.z).redSqr().redISub(C).redISub(S);
    var V = C.redSqr();
    V = V.redIAdd(V), V = V.redIAdd(V), V = V.redIAdd(V), r = P.redMul(k.redISub(t)).redISub(V);
  }
  return this.curve.jpoint(t, r, i);
};
si.prototype._dbl = function() {
  var t = this.curve.a, r = this.x, i = this.y, n = this.z, s = n.redSqr().redSqr(), u = r.redSqr(), p = i.redSqr(), b = u.redAdd(u).redIAdd(u).redIAdd(t.redMul(s)), m = r.redAdd(r);
  m = m.redIAdd(m);
  var w = m.redMul(p), S = b.redSqr().redISub(w.redAdd(w)), C = w.redISub(S), D = p.redSqr();
  D = D.redIAdd(D), D = D.redIAdd(D), D = D.redIAdd(D);
  var P = b.redMul(C).redISub(D), k = i.redAdd(i).redMul(n);
  return this.curve.jpoint(S, P, k);
};
si.prototype.trpl = function() {
  if (!this.curve.zeroA)
    return this.dbl().add(this);
  var t = this.x.redSqr(), r = this.y.redSqr(), i = this.z.redSqr(), n = r.redSqr(), s = t.redAdd(t).redIAdd(t), u = s.redSqr(), p = this.x.redAdd(r).redSqr().redISub(t).redISub(n);
  p = p.redIAdd(p), p = p.redAdd(p).redIAdd(p), p = p.redISub(u);
  var b = p.redSqr(), m = n.redIAdd(n);
  m = m.redIAdd(m), m = m.redIAdd(m), m = m.redIAdd(m);
  var w = s.redIAdd(p).redSqr().redISub(u).redISub(b).redISub(m), S = r.redMul(w);
  S = S.redIAdd(S), S = S.redIAdd(S);
  var C = this.x.redMul(b).redISub(S);
  C = C.redIAdd(C), C = C.redIAdd(C);
  var D = this.y.redMul(w.redMul(m.redISub(w)).redISub(p.redMul(b)));
  D = D.redIAdd(D), D = D.redIAdd(D), D = D.redIAdd(D);
  var P = this.z.redAdd(p).redSqr().redISub(i).redISub(b);
  return this.curve.jpoint(C, D, P);
};
si.prototype.mul = function(t, r) {
  return t = new vr(t, r), this.curve._wnafMul(this, t);
};
si.prototype.eq = function(t) {
  if (t.type === "affine")
    return this.eq(t.toJ());
  if (this === t)
    return !0;
  var r = this.z.redSqr(), i = t.z.redSqr();
  if (this.x.redMul(i).redISub(t.x.redMul(r)).cmpn(0) !== 0)
    return !1;
  var n = r.redMul(this.z), s = i.redMul(t.z);
  return this.y.redMul(s).redISub(t.y.redMul(n)).cmpn(0) === 0;
};
si.prototype.eqXToP = function(t) {
  var r = this.z.redSqr(), i = t.toRed(this.curve.red).redMul(r);
  if (this.x.cmp(i) === 0)
    return !0;
  for (var n = t.clone(), s = this.curve.redN.redMul(r); ; ) {
    if (n.iadd(this.curve.n), n.cmp(this.curve.p) >= 0)
      return !1;
    if (i.redIAdd(s), this.x.cmp(i) === 0)
      return !0;
  }
};
si.prototype.inspect = function() {
  return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">";
};
si.prototype.isInfinity = function() {
  return this.z.cmpn(0) === 0;
};
var Eh = Ro, vb = Q0, tl = Z0, bx = on;
function Qh(e) {
  tl.call(this, "mont", e), this.a = new Eh(e.a, 16).toRed(this.red), this.b = new Eh(e.b, 16).toRed(this.red), this.i4 = new Eh(4).toRed(this.red).redInvm(), this.two = new Eh(2).toRed(this.red), this.a24 = this.i4.redMul(this.a.redAdd(this.two));
}
vb(Qh, tl);
var yx = Qh;
Qh.prototype.validate = function(t) {
  var r = t.normalize().x, i = r.redSqr(), n = i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r), s = n.redSqrt();
  return s.redSqr().cmp(n) === 0;
};
function Yr(e, t, r) {
  tl.BasePoint.call(this, e, "projective"), t === null && r === null ? (this.x = this.curve.one, this.z = this.curve.zero) : (this.x = new Eh(t, 16), this.z = new Eh(r, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)));
}
vb(Yr, tl.BasePoint);
Qh.prototype.decodePoint = function(t, r) {
  return this.point(bx.toArray(t, r), 1);
};
Qh.prototype.point = function(t, r) {
  return new Yr(this, t, r);
};
Qh.prototype.pointFromJSON = function(t) {
  return Yr.fromJSON(this, t);
};
Yr.prototype.precompute = function() {
};
Yr.prototype._encode = function() {
  return this.getX().toArray("be", this.curve.p.byteLength());
};
Yr.fromJSON = function(t, r) {
  return new Yr(t, r[0], r[1] || t.one);
};
Yr.prototype.inspect = function() {
  return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">";
};
Yr.prototype.isInfinity = function() {
  return this.z.cmpn(0) === 0;
};
Yr.prototype.dbl = function() {
  var t = this.x.redAdd(this.z), r = t.redSqr(), i = this.x.redSub(this.z), n = i.redSqr(), s = r.redSub(n), u = r.redMul(n), p = s.redMul(n.redAdd(this.curve.a24.redMul(s)));
  return this.curve.point(u, p);
};
Yr.prototype.add = function() {
  throw new Error("Not supported on Montgomery curve");
};
Yr.prototype.diffAdd = function(t, r) {
  var i = this.x.redAdd(this.z), n = this.x.redSub(this.z), s = t.x.redAdd(t.z), u = t.x.redSub(t.z), p = u.redMul(i), b = s.redMul(n), m = r.z.redMul(p.redAdd(b).redSqr()), w = r.x.redMul(p.redISub(b).redSqr());
  return this.curve.point(m, w);
};
Yr.prototype.mul = function(t) {
  for (var r = t.clone(), i = this, n = this.curve.point(null, null), s = this, u = []; r.cmpn(0) !== 0; r.iushrn(1))
    u.push(r.andln(1));
  for (var p = u.length - 1; p >= 0; p--)
    u[p] === 0 ? (i = i.diffAdd(n, s), n = n.dbl()) : (n = i.diffAdd(n, s), i = i.dbl());
  return n;
};
Yr.prototype.mulAdd = function() {
  throw new Error("Not supported on Montgomery curve");
};
Yr.prototype.jumlAdd = function() {
  throw new Error("Not supported on Montgomery curve");
};
Yr.prototype.eq = function(t) {
  return this.getX().cmp(t.getX()) === 0;
};
Yr.prototype.normalize = function() {
  return this.x = this.x.redMul(this.z.redInvm()), this.z = this.curve.one, this;
};
Yr.prototype.getX = function() {
  return this.normalize(), this.x.fromRed();
};
var wx = on, Do = Ro, bb = Q0, el = Z0, Ax = wx.assert;
function Vs(e) {
  this.twisted = (e.a | 0) !== 1, this.mOneA = this.twisted && (e.a | 0) === -1, this.extended = this.mOneA, el.call(this, "edwards", e), this.a = new Do(e.a, 16).umod(this.red.m), this.a = this.a.toRed(this.red), this.c = new Do(e.c, 16).toRed(this.red), this.c2 = this.c.redSqr(), this.d = new Do(e.d, 16).toRed(this.red), this.dd = this.d.redAdd(this.d), Ax(!this.twisted || this.c.fromRed().cmpn(1) === 0), this.oneC = (e.c | 0) === 1;
}
bb(Vs, el);
var _x = Vs;
Vs.prototype._mulA = function(t) {
  return this.mOneA ? t.redNeg() : this.a.redMul(t);
};
Vs.prototype._mulC = function(t) {
  return this.oneC ? t : this.c.redMul(t);
};
Vs.prototype.jpoint = function(t, r, i, n) {
  return this.point(t, r, i, n);
};
Vs.prototype.pointFromX = function(t, r) {
  t = new Do(t, 16), t.red || (t = t.toRed(this.red));
  var i = t.redSqr(), n = this.c2.redSub(this.a.redMul(i)), s = this.one.redSub(this.c2.redMul(this.d).redMul(i)), u = n.redMul(s.redInvm()), p = u.redSqrt();
  if (p.redSqr().redSub(u).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var b = p.fromRed().isOdd();
  return (r && !b || !r && b) && (p = p.redNeg()), this.point(t, p);
};
Vs.prototype.pointFromY = function(t, r) {
  t = new Do(t, 16), t.red || (t = t.toRed(this.red));
  var i = t.redSqr(), n = i.redSub(this.c2), s = i.redMul(this.d).redMul(this.c2).redSub(this.a), u = n.redMul(s.redInvm());
  if (u.cmp(this.zero) === 0) {
    if (r)
      throw new Error("invalid point");
    return this.point(this.zero, t);
  }
  var p = u.redSqrt();
  if (p.redSqr().redSub(u).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  return p.fromRed().isOdd() !== r && (p = p.redNeg()), this.point(p, t);
};
Vs.prototype.validate = function(t) {
  if (t.isInfinity())
    return !0;
  t.normalize();
  var r = t.x.redSqr(), i = t.y.redSqr(), n = r.redMul(this.a).redAdd(i), s = this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));
  return n.cmp(s) === 0;
};
function or(e, t, r, i, n) {
  el.BasePoint.call(this, e, "projective"), t === null && r === null && i === null ? (this.x = this.curve.zero, this.y = this.curve.one, this.z = this.curve.one, this.t = this.curve.zero, this.zOne = !0) : (this.x = new Do(t, 16), this.y = new Do(r, 16), this.z = i ? new Do(i, 16) : this.curve.one, this.t = n && new Do(n, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red)), this.zOne = this.z === this.curve.one, this.curve.extended && !this.t && (this.t = this.x.redMul(this.y), this.zOne || (this.t = this.t.redMul(this.z.redInvm()))));
}
bb(or, el.BasePoint);
Vs.prototype.pointFromJSON = function(t) {
  return or.fromJSON(this, t);
};
Vs.prototype.point = function(t, r, i, n) {
  return new or(this, t, r, i, n);
};
or.fromJSON = function(t, r) {
  return new or(t, r[0], r[1], r[2]);
};
or.prototype.inspect = function() {
  return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">";
};
or.prototype.isInfinity = function() {
  return this.x.cmpn(0) === 0 && (this.y.cmp(this.z) === 0 || this.zOne && this.y.cmp(this.curve.c) === 0);
};
or.prototype._extDbl = function() {
  var t = this.x.redSqr(), r = this.y.redSqr(), i = this.z.redSqr();
  i = i.redIAdd(i);
  var n = this.curve._mulA(t), s = this.x.redAdd(this.y).redSqr().redISub(t).redISub(r), u = n.redAdd(r), p = u.redSub(i), b = n.redSub(r), m = s.redMul(p), w = u.redMul(b), S = s.redMul(b), C = p.redMul(u);
  return this.curve.point(m, w, C, S);
};
or.prototype._projDbl = function() {
  var t = this.x.redAdd(this.y).redSqr(), r = this.x.redSqr(), i = this.y.redSqr(), n, s, u, p, b, m;
  if (this.curve.twisted) {
    p = this.curve._mulA(r);
    var w = p.redAdd(i);
    this.zOne ? (n = t.redSub(r).redSub(i).redMul(w.redSub(this.curve.two)), s = w.redMul(p.redSub(i)), u = w.redSqr().redSub(w).redSub(w)) : (b = this.z.redSqr(), m = w.redSub(b).redISub(b), n = t.redSub(r).redISub(i).redMul(m), s = w.redMul(p.redSub(i)), u = w.redMul(m));
  } else
    p = r.redAdd(i), b = this.curve._mulC(this.z).redSqr(), m = p.redSub(b).redSub(b), n = this.curve._mulC(t.redISub(p)).redMul(m), s = this.curve._mulC(p).redMul(r.redISub(i)), u = p.redMul(m);
  return this.curve.point(n, s, u);
};
or.prototype.dbl = function() {
  return this.isInfinity() ? this : this.curve.extended ? this._extDbl() : this._projDbl();
};
or.prototype._extAdd = function(t) {
  var r = this.y.redSub(this.x).redMul(t.y.redSub(t.x)), i = this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)), n = this.t.redMul(this.curve.dd).redMul(t.t), s = this.z.redMul(t.z.redAdd(t.z)), u = i.redSub(r), p = s.redSub(n), b = s.redAdd(n), m = i.redAdd(r), w = u.redMul(p), S = b.redMul(m), C = u.redMul(m), D = p.redMul(b);
  return this.curve.point(w, S, D, C);
};
or.prototype._projAdd = function(t) {
  var r = this.z.redMul(t.z), i = r.redSqr(), n = this.x.redMul(t.x), s = this.y.redMul(t.y), u = this.curve.d.redMul(n).redMul(s), p = i.redSub(u), b = i.redAdd(u), m = this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(n).redISub(s), w = r.redMul(p).redMul(m), S, C;
  return this.curve.twisted ? (S = r.redMul(b).redMul(s.redSub(this.curve._mulA(n))), C = p.redMul(b)) : (S = r.redMul(b).redMul(s.redSub(n)), C = this.curve._mulC(p).redMul(b)), this.curve.point(w, S, C);
};
or.prototype.add = function(t) {
  return this.isInfinity() ? t : t.isInfinity() ? this : this.curve.extended ? this._extAdd(t) : this._projAdd(t);
};
or.prototype.mul = function(t) {
  return this._hasDoubles(t) ? this.curve._fixedNafMul(this, t) : this.curve._wnafMul(this, t);
};
or.prototype.mulAdd = function(t, r, i) {
  return this.curve._wnafMulAdd(1, [this, r], [t, i], 2, !1);
};
or.prototype.jmulAdd = function(t, r, i) {
  return this.curve._wnafMulAdd(1, [this, r], [t, i], 2, !0);
};
or.prototype.normalize = function() {
  if (this.zOne)
    return this;
  var t = this.z.redInvm();
  return this.x = this.x.redMul(t), this.y = this.y.redMul(t), this.t && (this.t = this.t.redMul(t)), this.z = this.curve.one, this.zOne = !0, this;
};
or.prototype.neg = function() {
  return this.curve.point(
    this.x.redNeg(),
    this.y,
    this.z,
    this.t && this.t.redNeg()
  );
};
or.prototype.getX = function() {
  return this.normalize(), this.x.fromRed();
};
or.prototype.getY = function() {
  return this.normalize(), this.y.fromRed();
};
or.prototype.eq = function(t) {
  return this === t || this.getX().cmp(t.getX()) === 0 && this.getY().cmp(t.getY()) === 0;
};
or.prototype.eqXToP = function(t) {
  var r = t.toRed(this.curve.red).redMul(this.z);
  if (this.x.cmp(r) === 0)
    return !0;
  for (var i = t.clone(), n = this.curve.redN.redMul(this.z); ; ) {
    if (i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)
      return !1;
    if (r.redIAdd(n), this.x.cmp(r) === 0)
      return !0;
  }
};
or.prototype.toP = or.prototype.normalize;
or.prototype.mixedAdd = or.prototype.add;
(function(e) {
  var t = e;
  t.base = Z0, t.short = vx, t.mont = yx, t.edwards = _x;
})(r2);
var rl = {}, il = {}, Te = {}, Ex = Ua, Mx = Q0;
Te.inherits = Mx;
function Sx(e, t) {
  return (e.charCodeAt(t) & 64512) !== 55296 || t < 0 || t + 1 >= e.length ? !1 : (e.charCodeAt(t + 1) & 64512) === 56320;
}
function xx(e, t) {
  if (Array.isArray(e))
    return e.slice();
  if (!e)
    return [];
  var r = [];
  if (typeof e == "string")
    if (t) {
      if (t === "hex")
        for (e = e.replace(/[^a-z0-9]+/ig, ""), e.length % 2 !== 0 && (e = "0" + e), n = 0; n < e.length; n += 2)
          r.push(parseInt(e[n] + e[n + 1], 16));
    } else
      for (var i = 0, n = 0; n < e.length; n++) {
        var s = e.charCodeAt(n);
        s < 128 ? r[i++] = s : s < 2048 ? (r[i++] = s >> 6 | 192, r[i++] = s & 63 | 128) : Sx(e, n) ? (s = 65536 + ((s & 1023) << 10) + (e.charCodeAt(++n) & 1023), r[i++] = s >> 18 | 240, r[i++] = s >> 12 & 63 | 128, r[i++] = s >> 6 & 63 | 128, r[i++] = s & 63 | 128) : (r[i++] = s >> 12 | 224, r[i++] = s >> 6 & 63 | 128, r[i++] = s & 63 | 128);
      }
  else
    for (n = 0; n < e.length; n++)
      r[n] = e[n] | 0;
  return r;
}
Te.toArray = xx;
function Ix(e) {
  for (var t = "", r = 0; r < e.length; r++)
    t += wb(e[r].toString(16));
  return t;
}
Te.toHex = Ix;
function yb(e) {
  var t = e >>> 24 | e >>> 8 & 65280 | e << 8 & 16711680 | (e & 255) << 24;
  return t >>> 0;
}
Te.htonl = yb;
function Dx(e, t) {
  for (var r = "", i = 0; i < e.length; i++) {
    var n = e[i];
    t === "little" && (n = yb(n)), r += Ab(n.toString(16));
  }
  return r;
}
Te.toHex32 = Dx;
function wb(e) {
  return e.length === 1 ? "0" + e : e;
}
Te.zero2 = wb;
function Ab(e) {
  return e.length === 7 ? "0" + e : e.length === 6 ? "00" + e : e.length === 5 ? "000" + e : e.length === 4 ? "0000" + e : e.length === 3 ? "00000" + e : e.length === 2 ? "000000" + e : e.length === 1 ? "0000000" + e : e;
}
Te.zero8 = Ab;
function Cx(e, t, r, i) {
  var n = r - t;
  Ex(n % 4 === 0);
  for (var s = new Array(n / 4), u = 0, p = t; u < s.length; u++, p += 4) {
    var b;
    i === "big" ? b = e[p] << 24 | e[p + 1] << 16 | e[p + 2] << 8 | e[p + 3] : b = e[p + 3] << 24 | e[p + 2] << 16 | e[p + 1] << 8 | e[p], s[u] = b >>> 0;
  }
  return s;
}
Te.join32 = Cx;
function Nx(e, t) {
  for (var r = new Array(e.length * 4), i = 0, n = 0; i < e.length; i++, n += 4) {
    var s = e[i];
    t === "big" ? (r[n] = s >>> 24, r[n + 1] = s >>> 16 & 255, r[n + 2] = s >>> 8 & 255, r[n + 3] = s & 255) : (r[n + 3] = s >>> 24, r[n + 2] = s >>> 16 & 255, r[n + 1] = s >>> 8 & 255, r[n] = s & 255);
  }
  return r;
}
Te.split32 = Nx;
function Px(e, t) {
  return e >>> t | e << 32 - t;
}
Te.rotr32 = Px;
function Rx(e, t) {
  return e << t | e >>> 32 - t;
}
Te.rotl32 = Rx;
function Ox(e, t) {
  return e + t >>> 0;
}
Te.sum32 = Ox;
function Bx(e, t, r) {
  return e + t + r >>> 0;
}
Te.sum32_3 = Bx;
function Tx(e, t, r, i) {
  return e + t + r + i >>> 0;
}
Te.sum32_4 = Tx;
function Fx(e, t, r, i, n) {
  return e + t + r + i + n >>> 0;
}
Te.sum32_5 = Fx;
function Ux(e, t, r, i) {
  var n = e[t], s = e[t + 1], u = i + s >>> 0, p = (u < i ? 1 : 0) + r + n;
  e[t] = p >>> 0, e[t + 1] = u;
}
Te.sum64 = Ux;
function qx(e, t, r, i) {
  var n = t + i >>> 0, s = (n < t ? 1 : 0) + e + r;
  return s >>> 0;
}
Te.sum64_hi = qx;
function Lx(e, t, r, i) {
  var n = t + i;
  return n >>> 0;
}
Te.sum64_lo = Lx;
function kx(e, t, r, i, n, s, u, p) {
  var b = 0, m = t;
  m = m + i >>> 0, b += m < t ? 1 : 0, m = m + s >>> 0, b += m < s ? 1 : 0, m = m + p >>> 0, b += m < p ? 1 : 0;
  var w = e + r + n + u + b;
  return w >>> 0;
}
Te.sum64_4_hi = kx;
function zx(e, t, r, i, n, s, u, p) {
  var b = t + i + s + p;
  return b >>> 0;
}
Te.sum64_4_lo = zx;
function $x(e, t, r, i, n, s, u, p, b, m) {
  var w = 0, S = t;
  S = S + i >>> 0, w += S < t ? 1 : 0, S = S + s >>> 0, w += S < s ? 1 : 0, S = S + p >>> 0, w += S < p ? 1 : 0, S = S + m >>> 0, w += S < m ? 1 : 0;
  var C = e + r + n + u + b + w;
  return C >>> 0;
}
Te.sum64_5_hi = $x;
function Hx(e, t, r, i, n, s, u, p, b, m) {
  var w = t + i + s + p + m;
  return w >>> 0;
}
Te.sum64_5_lo = Hx;
function jx(e, t, r) {
  var i = t << 32 - r | e >>> r;
  return i >>> 0;
}
Te.rotr64_hi = jx;
function Kx(e, t, r) {
  var i = e << 32 - r | t >>> r;
  return i >>> 0;
}
Te.rotr64_lo = Kx;
function Gx(e, t, r) {
  return e >>> r;
}
Te.shr64_hi = Gx;
function Qx(e, t, r) {
  var i = e << 32 - r | t >>> r;
  return i >>> 0;
}
Te.shr64_lo = Qx;
var Jh = {}, W3 = Te, Jx = Ua;
function nl() {
  this.pending = null, this.pendingTotal = 0, this.blockSize = this.constructor.blockSize, this.outSize = this.constructor.outSize, this.hmacStrength = this.constructor.hmacStrength, this.padLength = this.constructor.padLength / 8, this.endian = "big", this._delta8 = this.blockSize / 8, this._delta32 = this.blockSize / 32;
}
Jh.BlockHash = nl;
nl.prototype.update = function(t, r) {
  if (t = W3.toArray(t, r), this.pending ? this.pending = this.pending.concat(t) : this.pending = t, this.pendingTotal += t.length, this.pending.length >= this._delta8) {
    t = this.pending;
    var i = t.length % this._delta8;
    this.pending = t.slice(t.length - i, t.length), this.pending.length === 0 && (this.pending = null), t = W3.join32(t, 0, t.length - i, this.endian);
    for (var n = 0; n < t.length; n += this._delta32)
      this._update(t, n, n + this._delta32);
  }
  return this;
};
nl.prototype.digest = function(t) {
  return this.update(this._pad()), Jx(this.pending === null), this._digest(t);
};
nl.prototype._pad = function() {
  var t = this.pendingTotal, r = this._delta8, i = r - (t + this.padLength) % r, n = new Array(i + this.padLength);
  n[0] = 128;
  for (var s = 1; s < i; s++)
    n[s] = 0;
  if (t <<= 3, this.endian === "big") {
    for (var u = 8; u < this.padLength; u++)
      n[s++] = 0;
    n[s++] = 0, n[s++] = 0, n[s++] = 0, n[s++] = 0, n[s++] = t >>> 24 & 255, n[s++] = t >>> 16 & 255, n[s++] = t >>> 8 & 255, n[s++] = t & 255;
  } else
    for (n[s++] = t & 255, n[s++] = t >>> 8 & 255, n[s++] = t >>> 16 & 255, n[s++] = t >>> 24 & 255, n[s++] = 0, n[s++] = 0, n[s++] = 0, n[s++] = 0, u = 8; u < this.padLength; u++)
      n[s++] = 0;
  return n;
};
var Yh = {}, Ws = {}, Yx = Te, Rs = Yx.rotr32;
function Vx(e, t, r, i) {
  if (e === 0)
    return _b(t, r, i);
  if (e === 1 || e === 3)
    return Mb(t, r, i);
  if (e === 2)
    return Eb(t, r, i);
}
Ws.ft_1 = Vx;
function _b(e, t, r) {
  return e & t ^ ~e & r;
}
Ws.ch32 = _b;
function Eb(e, t, r) {
  return e & t ^ e & r ^ t & r;
}
Ws.maj32 = Eb;
function Mb(e, t, r) {
  return e ^ t ^ r;
}
Ws.p32 = Mb;
function Wx(e) {
  return Rs(e, 2) ^ Rs(e, 13) ^ Rs(e, 22);
}
Ws.s0_256 = Wx;
function Xx(e) {
  return Rs(e, 6) ^ Rs(e, 11) ^ Rs(e, 25);
}
Ws.s1_256 = Xx;
function Zx(e) {
  return Rs(e, 7) ^ Rs(e, 18) ^ e >>> 3;
}
Ws.g0_256 = Zx;
function tI(e) {
  return Rs(e, 17) ^ Rs(e, 19) ^ e >>> 10;
}
Ws.g1_256 = tI;
var Rh = Te, eI = Jh, rI = Ws, qd = Rh.rotl32, Tf = Rh.sum32, iI = Rh.sum32_5, nI = rI.ft_1, Sb = eI.BlockHash, sI = [
  1518500249,
  1859775393,
  2400959708,
  3395469782
];
function Gs() {
  if (!(this instanceof Gs))
    return new Gs();
  Sb.call(this), this.h = [
    1732584193,
    4023233417,
    2562383102,
    271733878,
    3285377520
  ], this.W = new Array(80);
}
Rh.inherits(Gs, Sb);
var oI = Gs;
Gs.blockSize = 512;
Gs.outSize = 160;
Gs.hmacStrength = 80;
Gs.padLength = 64;
Gs.prototype._update = function(t, r) {
  for (var i = this.W, n = 0; n < 16; n++)
    i[n] = t[r + n];
  for (; n < i.length; n++)
    i[n] = qd(i[n - 3] ^ i[n - 8] ^ i[n - 14] ^ i[n - 16], 1);
  var s = this.h[0], u = this.h[1], p = this.h[2], b = this.h[3], m = this.h[4];
  for (n = 0; n < i.length; n++) {
    var w = ~~(n / 20), S = iI(qd(s, 5), nI(w, u, p, b), m, i[n], sI[w]);
    m = b, b = p, p = qd(u, 30), u = s, s = S;
  }
  this.h[0] = Tf(this.h[0], s), this.h[1] = Tf(this.h[1], u), this.h[2] = Tf(this.h[2], p), this.h[3] = Tf(this.h[3], b), this.h[4] = Tf(this.h[4], m);
};
Gs.prototype._digest = function(t) {
  return t === "hex" ? Rh.toHex32(this.h, "big") : Rh.split32(this.h, "big");
};
var Oh = Te, aI = Jh, Vh = Ws, hI = Ua, kn = Oh.sum32, fI = Oh.sum32_4, uI = Oh.sum32_5, cI = Vh.ch32, lI = Vh.maj32, dI = Vh.s0_256, pI = Vh.s1_256, gI = Vh.g0_256, mI = Vh.g1_256, xb = aI.BlockHash, vI = [
  1116352408,
  1899447441,
  3049323471,
  3921009573,
  961987163,
  1508970993,
  2453635748,
  2870763221,
  3624381080,
  310598401,
  607225278,
  1426881987,
  1925078388,
  2162078206,
  2614888103,
  3248222580,
  3835390401,
  4022224774,
  264347078,
  604807628,
  770255983,
  1249150122,
  1555081692,
  1996064986,
  2554220882,
  2821834349,
  2952996808,
  3210313671,
  3336571891,
  3584528711,
  113926993,
  338241895,
  666307205,
  773529912,
  1294757372,
  1396182291,
  1695183700,
  1986661051,
  2177026350,
  2456956037,
  2730485921,
  2820302411,
  3259730800,
  3345764771,
  3516065817,
  3600352804,
  4094571909,
  275423344,
  430227734,
  506948616,
  659060556,
  883997877,
  958139571,
  1322822218,
  1537002063,
  1747873779,
  1955562222,
  2024104815,
  2227730452,
  2361852424,
  2428436474,
  2756734187,
  3204031479,
  3329325298
];
function Qs() {
  if (!(this instanceof Qs))
    return new Qs();
  xb.call(this), this.h = [
    1779033703,
    3144134277,
    1013904242,
    2773480762,
    1359893119,
    2600822924,
    528734635,
    1541459225
  ], this.k = vI, this.W = new Array(64);
}
Oh.inherits(Qs, xb);
var Ib = Qs;
Qs.blockSize = 512;
Qs.outSize = 256;
Qs.hmacStrength = 192;
Qs.padLength = 64;
Qs.prototype._update = function(t, r) {
  for (var i = this.W, n = 0; n < 16; n++)
    i[n] = t[r + n];
  for (; n < i.length; n++)
    i[n] = fI(mI(i[n - 2]), i[n - 7], gI(i[n - 15]), i[n - 16]);
  var s = this.h[0], u = this.h[1], p = this.h[2], b = this.h[3], m = this.h[4], w = this.h[5], S = this.h[6], C = this.h[7];
  for (hI(this.k.length === i.length), n = 0; n < i.length; n++) {
    var D = uI(C, pI(m), cI(m, w, S), this.k[n], i[n]), P = kn(dI(s), lI(s, u, p));
    C = S, S = w, w = m, m = kn(b, D), b = p, p = u, u = s, s = kn(D, P);
  }
  this.h[0] = kn(this.h[0], s), this.h[1] = kn(this.h[1], u), this.h[2] = kn(this.h[2], p), this.h[3] = kn(this.h[3], b), this.h[4] = kn(this.h[4], m), this.h[5] = kn(this.h[5], w), this.h[6] = kn(this.h[6], S), this.h[7] = kn(this.h[7], C);
};
Qs.prototype._digest = function(t) {
  return t === "hex" ? Oh.toHex32(this.h, "big") : Oh.split32(this.h, "big");
};
var hp = Te, Db = Ib;
function Co() {
  if (!(this instanceof Co))
    return new Co();
  Db.call(this), this.h = [
    3238371032,
    914150663,
    812702999,
    4144912697,
    4290775857,
    1750603025,
    1694076839,
    3204075428
  ];
}
hp.inherits(Co, Db);
var bI = Co;
Co.blockSize = 512;
Co.outSize = 224;
Co.hmacStrength = 192;
Co.padLength = 64;
Co.prototype._digest = function(t) {
  return t === "hex" ? hp.toHex32(this.h.slice(0, 7), "big") : hp.split32(this.h.slice(0, 7), "big");
};
var zi = Te, yI = Jh, wI = Ua, Os = zi.rotr64_hi, Bs = zi.rotr64_lo, Cb = zi.shr64_hi, Nb = zi.shr64_lo, Ho = zi.sum64, Ld = zi.sum64_hi, kd = zi.sum64_lo, AI = zi.sum64_4_hi, _I = zi.sum64_4_lo, EI = zi.sum64_5_hi, MI = zi.sum64_5_lo, Pb = yI.BlockHash, SI = [
  1116352408,
  3609767458,
  1899447441,
  602891725,
  3049323471,
  3964484399,
  3921009573,
  2173295548,
  961987163,
  4081628472,
  1508970993,
  3053834265,
  2453635748,
  2937671579,
  2870763221,
  3664609560,
  3624381080,
  2734883394,
  310598401,
  1164996542,
  607225278,
  1323610764,
  1426881987,
  3590304994,
  1925078388,
  4068182383,
  2162078206,
  991336113,
  2614888103,
  633803317,
  3248222580,
  3479774868,
  3835390401,
  2666613458,
  4022224774,
  944711139,
  264347078,
  2341262773,
  604807628,
  2007800933,
  770255983,
  1495990901,
  1249150122,
  1856431235,
  1555081692,
  3175218132,
  1996064986,
  2198950837,
  2554220882,
  3999719339,
  2821834349,
  766784016,
  2952996808,
  2566594879,
  3210313671,
  3203337956,
  3336571891,
  1034457026,
  3584528711,
  2466948901,
  113926993,
  3758326383,
  338241895,
  168717936,
  666307205,
  1188179964,
  773529912,
  1546045734,
  1294757372,
  1522805485,
  1396182291,
  2643833823,
  1695183700,
  2343527390,
  1986661051,
  1014477480,
  2177026350,
  1206759142,
  2456956037,
  344077627,
  2730485921,
  1290863460,
  2820302411,
  3158454273,
  3259730800,
  3505952657,
  3345764771,
  106217008,
  3516065817,
  3606008344,
  3600352804,
  1432725776,
  4094571909,
  1467031594,
  275423344,
  851169720,
  430227734,
  3100823752,
  506948616,
  1363258195,
  659060556,
  3750685593,
  883997877,
  3785050280,
  958139571,
  3318307427,
  1322822218,
  3812723403,
  1537002063,
  2003034995,
  1747873779,
  3602036899,
  1955562222,
  1575990012,
  2024104815,
  1125592928,
  2227730452,
  2716904306,
  2361852424,
  442776044,
  2428436474,
  593698344,
  2756734187,
  3733110249,
  3204031479,
  2999351573,
  3329325298,
  3815920427,
  3391569614,
  3928383900,
  3515267271,
  566280711,
  3940187606,
  3454069534,
  4118630271,
  4000239992,
  116418474,
  1914138554,
  174292421,
  2731055270,
  289380356,
  3203993006,
  460393269,
  320620315,
  685471733,
  587496836,
  852142971,
  1086792851,
  1017036298,
  365543100,
  1126000580,
  2618297676,
  1288033470,
  3409855158,
  1501505948,
  4234509866,
  1607167915,
  987167468,
  1816402316,
  1246189591
];
function os() {
  if (!(this instanceof os))
    return new os();
  Pb.call(this), this.h = [
    1779033703,
    4089235720,
    3144134277,
    2227873595,
    1013904242,
    4271175723,
    2773480762,
    1595750129,
    1359893119,
    2917565137,
    2600822924,
    725511199,
    528734635,
    4215389547,
    1541459225,
    327033209
  ], this.k = SI, this.W = new Array(160);
}
zi.inherits(os, Pb);
var Rb = os;
os.blockSize = 1024;
os.outSize = 512;
os.hmacStrength = 192;
os.padLength = 128;
os.prototype._prepareBlock = function(t, r) {
  for (var i = this.W, n = 0; n < 32; n++)
    i[n] = t[r + n];
  for (; n < i.length; n += 2) {
    var s = FI(i[n - 4], i[n - 3]), u = UI(i[n - 4], i[n - 3]), p = i[n - 14], b = i[n - 13], m = BI(i[n - 30], i[n - 29]), w = TI(i[n - 30], i[n - 29]), S = i[n - 32], C = i[n - 31];
    i[n] = AI(
      s,
      u,
      p,
      b,
      m,
      w,
      S,
      C
    ), i[n + 1] = _I(
      s,
      u,
      p,
      b,
      m,
      w,
      S,
      C
    );
  }
};
os.prototype._update = function(t, r) {
  this._prepareBlock(t, r);
  var i = this.W, n = this.h[0], s = this.h[1], u = this.h[2], p = this.h[3], b = this.h[4], m = this.h[5], w = this.h[6], S = this.h[7], C = this.h[8], D = this.h[9], P = this.h[10], k = this.h[11], z = this.h[12], V = this.h[13], Q = this.h[14], W = this.h[15];
  wI(this.k.length === i.length);
  for (var $ = 0; $ < i.length; $ += 2) {
    var j = Q, K = W, N = RI(C, D), H = OI(C, D), st = xI(C, D, P, k, z), ct = II(C, D, P, k, z, V), L = this.k[$], I = this.k[$ + 1], o = i[$], h = i[$ + 1], c = EI(
      j,
      K,
      N,
      H,
      st,
      ct,
      L,
      I,
      o,
      h
    ), v = MI(
      j,
      K,
      N,
      H,
      st,
      ct,
      L,
      I,
      o,
      h
    );
    j = NI(n, s), K = PI(n, s), N = DI(n, s, u, p, b), H = CI(n, s, u, p, b, m);
    var y = Ld(j, K, N, H), M = kd(j, K, N, H);
    Q = z, W = V, z = P, V = k, P = C, k = D, C = Ld(w, S, c, v), D = kd(S, S, c, v), w = b, S = m, b = u, m = p, u = n, p = s, n = Ld(c, v, y, M), s = kd(c, v, y, M);
  }
  Ho(this.h, 0, n, s), Ho(this.h, 2, u, p), Ho(this.h, 4, b, m), Ho(this.h, 6, w, S), Ho(this.h, 8, C, D), Ho(this.h, 10, P, k), Ho(this.h, 12, z, V), Ho(this.h, 14, Q, W);
};
os.prototype._digest = function(t) {
  return t === "hex" ? zi.toHex32(this.h, "big") : zi.split32(this.h, "big");
};
function xI(e, t, r, i, n) {
  var s = e & r ^ ~e & n;
  return s < 0 && (s += 4294967296), s;
}
function II(e, t, r, i, n, s) {
  var u = t & i ^ ~t & s;
  return u < 0 && (u += 4294967296), u;
}
function DI(e, t, r, i, n) {
  var s = e & r ^ e & n ^ r & n;
  return s < 0 && (s += 4294967296), s;
}
function CI(e, t, r, i, n, s) {
  var u = t & i ^ t & s ^ i & s;
  return u < 0 && (u += 4294967296), u;
}
function NI(e, t) {
  var r = Os(e, t, 28), i = Os(t, e, 2), n = Os(t, e, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function PI(e, t) {
  var r = Bs(e, t, 28), i = Bs(t, e, 2), n = Bs(t, e, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function RI(e, t) {
  var r = Os(e, t, 14), i = Os(e, t, 18), n = Os(t, e, 9), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function OI(e, t) {
  var r = Bs(e, t, 14), i = Bs(e, t, 18), n = Bs(t, e, 9), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function BI(e, t) {
  var r = Os(e, t, 1), i = Os(e, t, 8), n = Cb(e, t, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function TI(e, t) {
  var r = Bs(e, t, 1), i = Bs(e, t, 8), n = Nb(e, t, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function FI(e, t) {
  var r = Os(e, t, 19), i = Os(t, e, 29), n = Cb(e, t, 6), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function UI(e, t) {
  var r = Bs(e, t, 19), i = Bs(t, e, 29), n = Nb(e, t, 6), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
var fp = Te, Ob = Rb;
function No() {
  if (!(this instanceof No))
    return new No();
  Ob.call(this), this.h = [
    3418070365,
    3238371032,
    1654270250,
    914150663,
    2438529370,
    812702999,
    355462360,
    4144912697,
    1731405415,
    4290775857,
    2394180231,
    1750603025,
    3675008525,
    1694076839,
    1203062813,
    3204075428
  ];
}
fp.inherits(No, Ob);
var qI = No;
No.blockSize = 1024;
No.outSize = 384;
No.hmacStrength = 192;
No.padLength = 128;
No.prototype._digest = function(t) {
  return t === "hex" ? fp.toHex32(this.h.slice(0, 12), "big") : fp.split32(this.h.slice(0, 12), "big");
};
Yh.sha1 = oI;
Yh.sha224 = bI;
Yh.sha256 = Ib;
Yh.sha384 = qI;
Yh.sha512 = Rb;
var Bb = {}, Oa = Te, LI = Jh, qc = Oa.rotl32, X3 = Oa.sum32, Ff = Oa.sum32_3, Z3 = Oa.sum32_4, Tb = LI.BlockHash;
function Js() {
  if (!(this instanceof Js))
    return new Js();
  Tb.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.endian = "little";
}
Oa.inherits(Js, Tb);
Bb.ripemd160 = Js;
Js.blockSize = 512;
Js.outSize = 160;
Js.hmacStrength = 192;
Js.padLength = 64;
Js.prototype._update = function(t, r) {
  for (var i = this.h[0], n = this.h[1], s = this.h[2], u = this.h[3], p = this.h[4], b = i, m = n, w = s, S = u, C = p, D = 0; D < 80; D++) {
    var P = X3(
      qc(
        Z3(i, tm(D, n, s, u), t[$I[D] + r], kI(D)),
        jI[D]
      ),
      p
    );
    i = p, p = u, u = qc(s, 10), s = n, n = P, P = X3(
      qc(
        Z3(b, tm(79 - D, m, w, S), t[HI[D] + r], zI(D)),
        KI[D]
      ),
      C
    ), b = C, C = S, S = qc(w, 10), w = m, m = P;
  }
  P = Ff(this.h[1], s, S), this.h[1] = Ff(this.h[2], u, C), this.h[2] = Ff(this.h[3], p, b), this.h[3] = Ff(this.h[4], i, m), this.h[4] = Ff(this.h[0], n, w), this.h[0] = P;
};
Js.prototype._digest = function(t) {
  return t === "hex" ? Oa.toHex32(this.h, "little") : Oa.split32(this.h, "little");
};
function tm(e, t, r, i) {
  return e <= 15 ? t ^ r ^ i : e <= 31 ? t & r | ~t & i : e <= 47 ? (t | ~r) ^ i : e <= 63 ? t & i | r & ~i : t ^ (r | ~i);
}
function kI(e) {
  return e <= 15 ? 0 : e <= 31 ? 1518500249 : e <= 47 ? 1859775393 : e <= 63 ? 2400959708 : 2840853838;
}
function zI(e) {
  return e <= 15 ? 1352829926 : e <= 31 ? 1548603684 : e <= 47 ? 1836072691 : e <= 63 ? 2053994217 : 0;
}
var $I = [
  0,
  1,
  2,
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13,
  14,
  15,
  7,
  4,
  13,
  1,
  10,
  6,
  15,
  3,
  12,
  0,
  9,
  5,
  2,
  14,
  11,
  8,
  3,
  10,
  14,
  4,
  9,
  15,
  8,
  1,
  2,
  7,
  0,
  6,
  13,
  11,
  5,
  12,
  1,
  9,
  11,
  10,
  0,
  8,
  12,
  4,
  13,
  3,
  7,
  15,
  14,
  5,
  6,
  2,
  4,
  0,
  5,
  9,
  7,
  12,
  2,
  10,
  14,
  1,
  3,
  8,
  11,
  6,
  15,
  13
], HI = [
  5,
  14,
  7,
  0,
  9,
  2,
  11,
  4,
  13,
  6,
  15,
  8,
  1,
  10,
  3,
  12,
  6,
  11,
  3,
  7,
  0,
  13,
  5,
  10,
  14,
  15,
  8,
  12,
  4,
  9,
  1,
  2,
  15,
  5,
  1,
  3,
  7,
  14,
  6,
  9,
  11,
  8,
  12,
  2,
  10,
  0,
  4,
  13,
  8,
  6,
  4,
  1,
  3,
  11,
  15,
  0,
  5,
  12,
  2,
  13,
  9,
  7,
  10,
  14,
  12,
  15,
  10,
  4,
  1,
  5,
  8,
  7,
  6,
  2,
  13,
  14,
  0,
  3,
  9,
  11
], jI = [
  11,
  14,
  15,
  12,
  5,
  8,
  7,
  9,
  11,
  13,
  14,
  15,
  6,
  7,
  9,
  8,
  7,
  6,
  8,
  13,
  11,
  9,
  7,
  15,
  7,
  12,
  15,
  9,
  11,
  7,
  13,
  12,
  11,
  13,
  6,
  7,
  14,
  9,
  13,
  15,
  14,
  8,
  13,
  6,
  5,
  12,
  7,
  5,
  11,
  12,
  14,
  15,
  14,
  15,
  9,
  8,
  9,
  14,
  5,
  6,
  8,
  6,
  5,
  12,
  9,
  15,
  5,
  11,
  6,
  8,
  13,
  12,
  5,
  12,
  13,
  14,
  11,
  8,
  5,
  6
], KI = [
  8,
  9,
  9,
  11,
  13,
  15,
  15,
  5,
  7,
  7,
  8,
  11,
  14,
  14,
  12,
  6,
  9,
  13,
  15,
  7,
  12,
  8,
  9,
  11,
  7,
  7,
  12,
  7,
  6,
  15,
  13,
  11,
  9,
  7,
  15,
  11,
  8,
  6,
  6,
  14,
  12,
  13,
  5,
  14,
  13,
  13,
  7,
  5,
  15,
  5,
  8,
  11,
  14,
  14,
  6,
  14,
  6,
  9,
  12,
  9,
  12,
  5,
  15,
  8,
  8,
  5,
  12,
  9,
  12,
  5,
  14,
  6,
  8,
  13,
  6,
  5,
  15,
  13,
  11,
  11
], GI = Te, QI = Ua;
function Bh(e, t, r) {
  if (!(this instanceof Bh))
    return new Bh(e, t, r);
  this.Hash = e, this.blockSize = e.blockSize / 8, this.outSize = e.outSize / 8, this.inner = null, this.outer = null, this._init(GI.toArray(t, r));
}
var JI = Bh;
Bh.prototype._init = function(t) {
  t.length > this.blockSize && (t = new this.Hash().update(t).digest()), QI(t.length <= this.blockSize);
  for (var r = t.length; r < this.blockSize; r++)
    t.push(0);
  for (r = 0; r < t.length; r++)
    t[r] ^= 54;
  for (this.inner = new this.Hash().update(t), r = 0; r < t.length; r++)
    t[r] ^= 106;
  this.outer = new this.Hash().update(t);
};
Bh.prototype.update = function(t, r) {
  return this.inner.update(t, r), this;
};
Bh.prototype.digest = function(t) {
  return this.outer.update(this.inner.digest()), this.outer.digest(t);
};
(function(e) {
  var t = e;
  t.utils = Te, t.common = Jh, t.sha = Yh, t.ripemd = Bb, t.hmac = JI, t.sha1 = t.sha.sha1, t.sha256 = t.sha.sha256, t.sha224 = t.sha.sha224, t.sha384 = t.sha.sha384, t.sha512 = t.sha.sha512, t.ripemd160 = t.ripemd.ripemd160;
})(il);
var zd, em;
function YI() {
  return em || (em = 1, zd = {
    doubles: {
      step: 4,
      points: [
        [
          "e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a",
          "f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"
        ],
        [
          "8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508",
          "11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"
        ],
        [
          "175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739",
          "d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"
        ],
        [
          "363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640",
          "4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"
        ],
        [
          "8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c",
          "4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"
        ],
        [
          "723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda",
          "96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"
        ],
        [
          "eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa",
          "5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"
        ],
        [
          "100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0",
          "cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"
        ],
        [
          "e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d",
          "9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"
        ],
        [
          "feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d",
          "e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"
        ],
        [
          "da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1",
          "9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"
        ],
        [
          "53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0",
          "5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"
        ],
        [
          "8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047",
          "10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"
        ],
        [
          "385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862",
          "283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"
        ],
        [
          "6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7",
          "7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"
        ],
        [
          "3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd",
          "56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"
        ],
        [
          "85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83",
          "7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"
        ],
        [
          "948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a",
          "53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"
        ],
        [
          "6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8",
          "bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"
        ],
        [
          "e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d",
          "4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"
        ],
        [
          "e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725",
          "7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"
        ],
        [
          "213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754",
          "4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"
        ],
        [
          "4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c",
          "17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"
        ],
        [
          "fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6",
          "6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"
        ],
        [
          "76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39",
          "c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"
        ],
        [
          "c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891",
          "893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"
        ],
        [
          "d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b",
          "febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"
        ],
        [
          "b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03",
          "2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"
        ],
        [
          "e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d",
          "eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"
        ],
        [
          "a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070",
          "7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"
        ],
        [
          "90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4",
          "e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"
        ],
        [
          "8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da",
          "662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"
        ],
        [
          "e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11",
          "1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"
        ],
        [
          "8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e",
          "efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"
        ],
        [
          "e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41",
          "2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"
        ],
        [
          "b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef",
          "67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"
        ],
        [
          "d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8",
          "db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"
        ],
        [
          "324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d",
          "648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"
        ],
        [
          "4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96",
          "35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"
        ],
        [
          "9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd",
          "ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"
        ],
        [
          "6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5",
          "9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"
        ],
        [
          "a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266",
          "40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"
        ],
        [
          "7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71",
          "34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"
        ],
        [
          "928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac",
          "c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"
        ],
        [
          "85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751",
          "1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"
        ],
        [
          "ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e",
          "493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"
        ],
        [
          "827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241",
          "c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"
        ],
        [
          "eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3",
          "be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"
        ],
        [
          "e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f",
          "4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"
        ],
        [
          "1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19",
          "aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"
        ],
        [
          "146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be",
          "b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"
        ],
        [
          "fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9",
          "6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"
        ],
        [
          "da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2",
          "8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"
        ],
        [
          "a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13",
          "7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"
        ],
        [
          "174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c",
          "ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"
        ],
        [
          "959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba",
          "2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"
        ],
        [
          "d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151",
          "e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"
        ],
        [
          "64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073",
          "d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"
        ],
        [
          "8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458",
          "38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"
        ],
        [
          "13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b",
          "69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"
        ],
        [
          "bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366",
          "d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"
        ],
        [
          "8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa",
          "40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"
        ],
        [
          "8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0",
          "620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"
        ],
        [
          "dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787",
          "7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"
        ],
        [
          "f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e",
          "ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"
        ]
      ]
    },
    naf: {
      wnd: 7,
      points: [
        [
          "f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9",
          "388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"
        ],
        [
          "2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4",
          "d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"
        ],
        [
          "5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc",
          "6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"
        ],
        [
          "acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe",
          "cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"
        ],
        [
          "774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb",
          "d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"
        ],
        [
          "f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8",
          "ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"
        ],
        [
          "d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e",
          "581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"
        ],
        [
          "defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34",
          "4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"
        ],
        [
          "2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c",
          "85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"
        ],
        [
          "352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5",
          "321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"
        ],
        [
          "2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f",
          "2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"
        ],
        [
          "9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714",
          "73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"
        ],
        [
          "daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729",
          "a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"
        ],
        [
          "c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db",
          "2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"
        ],
        [
          "6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4",
          "e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"
        ],
        [
          "1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5",
          "b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"
        ],
        [
          "605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479",
          "2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"
        ],
        [
          "62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d",
          "80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"
        ],
        [
          "80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f",
          "1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"
        ],
        [
          "7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb",
          "d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"
        ],
        [
          "d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9",
          "eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"
        ],
        [
          "49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963",
          "758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"
        ],
        [
          "77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74",
          "958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"
        ],
        [
          "f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530",
          "e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"
        ],
        [
          "463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b",
          "5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"
        ],
        [
          "f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247",
          "cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"
        ],
        [
          "caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1",
          "cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"
        ],
        [
          "2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120",
          "4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"
        ],
        [
          "7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435",
          "91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"
        ],
        [
          "754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18",
          "673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"
        ],
        [
          "e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8",
          "59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"
        ],
        [
          "186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb",
          "3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"
        ],
        [
          "df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f",
          "55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"
        ],
        [
          "5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143",
          "efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"
        ],
        [
          "290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba",
          "e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"
        ],
        [
          "af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45",
          "f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"
        ],
        [
          "766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a",
          "744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"
        ],
        [
          "59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e",
          "c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"
        ],
        [
          "f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8",
          "e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"
        ],
        [
          "7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c",
          "30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"
        ],
        [
          "948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519",
          "e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"
        ],
        [
          "7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab",
          "100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"
        ],
        [
          "3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca",
          "ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"
        ],
        [
          "d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf",
          "8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"
        ],
        [
          "1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610",
          "68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"
        ],
        [
          "733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4",
          "f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"
        ],
        [
          "15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c",
          "d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"
        ],
        [
          "a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940",
          "edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"
        ],
        [
          "e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980",
          "a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"
        ],
        [
          "311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3",
          "66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"
        ],
        [
          "34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf",
          "9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"
        ],
        [
          "f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63",
          "4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"
        ],
        [
          "d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448",
          "fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"
        ],
        [
          "32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf",
          "5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"
        ],
        [
          "7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5",
          "8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"
        ],
        [
          "ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6",
          "8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"
        ],
        [
          "16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5",
          "5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"
        ],
        [
          "eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99",
          "f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"
        ],
        [
          "78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51",
          "f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"
        ],
        [
          "494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5",
          "42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"
        ],
        [
          "a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5",
          "204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"
        ],
        [
          "c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997",
          "4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"
        ],
        [
          "841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881",
          "73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"
        ],
        [
          "5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5",
          "39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"
        ],
        [
          "36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66",
          "d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"
        ],
        [
          "336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726",
          "ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"
        ],
        [
          "8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede",
          "6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"
        ],
        [
          "1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94",
          "60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"
        ],
        [
          "85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31",
          "3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"
        ],
        [
          "29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51",
          "b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"
        ],
        [
          "a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252",
          "ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"
        ],
        [
          "4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5",
          "cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"
        ],
        [
          "d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b",
          "6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"
        ],
        [
          "ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4",
          "322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"
        ],
        [
          "af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f",
          "6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"
        ],
        [
          "e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889",
          "2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"
        ],
        [
          "591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246",
          "b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"
        ],
        [
          "11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984",
          "998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"
        ],
        [
          "3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a",
          "b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"
        ],
        [
          "cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030",
          "bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"
        ],
        [
          "c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197",
          "6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"
        ],
        [
          "c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593",
          "c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"
        ],
        [
          "a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef",
          "21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"
        ],
        [
          "347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38",
          "60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"
        ],
        [
          "da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a",
          "49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"
        ],
        [
          "c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111",
          "5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"
        ],
        [
          "4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502",
          "7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"
        ],
        [
          "3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea",
          "be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"
        ],
        [
          "cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26",
          "8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"
        ],
        [
          "b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986",
          "39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"
        ],
        [
          "d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e",
          "62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"
        ],
        [
          "48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4",
          "25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"
        ],
        [
          "dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda",
          "ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"
        ],
        [
          "6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859",
          "cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"
        ],
        [
          "e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f",
          "f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"
        ],
        [
          "eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c",
          "6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"
        ],
        [
          "13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942",
          "fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"
        ],
        [
          "ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a",
          "1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"
        ],
        [
          "b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80",
          "5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"
        ],
        [
          "ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d",
          "438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"
        ],
        [
          "8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1",
          "cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"
        ],
        [
          "52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63",
          "c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"
        ],
        [
          "e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352",
          "6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"
        ],
        [
          "7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193",
          "ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"
        ],
        [
          "5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00",
          "9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"
        ],
        [
          "32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58",
          "ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"
        ],
        [
          "e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7",
          "d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"
        ],
        [
          "8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8",
          "c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"
        ],
        [
          "4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e",
          "67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"
        ],
        [
          "3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d",
          "cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"
        ],
        [
          "674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b",
          "299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"
        ],
        [
          "d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f",
          "f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"
        ],
        [
          "30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6",
          "462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"
        ],
        [
          "be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297",
          "62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"
        ],
        [
          "93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a",
          "7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"
        ],
        [
          "b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c",
          "ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"
        ],
        [
          "d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52",
          "4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"
        ],
        [
          "d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb",
          "bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"
        ],
        [
          "463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065",
          "bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"
        ],
        [
          "7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917",
          "603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"
        ],
        [
          "74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9",
          "cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"
        ],
        [
          "30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3",
          "553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"
        ],
        [
          "9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57",
          "712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"
        ],
        [
          "176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66",
          "ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"
        ],
        [
          "75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8",
          "9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"
        ],
        [
          "809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721",
          "9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"
        ],
        [
          "1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180",
          "4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"
        ]
      ]
    }
  }), zd;
}
(function(e) {
  var t = e, r = il, i = r2, n = on, s = n.assert;
  function u(m) {
    m.type === "short" ? this.curve = new i.short(m) : m.type === "edwards" ? this.curve = new i.edwards(m) : this.curve = new i.mont(m), this.g = this.curve.g, this.n = this.curve.n, this.hash = m.hash, s(this.g.validate(), "Invalid curve"), s(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
  }
  t.PresetCurve = u;
  function p(m, w) {
    Object.defineProperty(t, m, {
      configurable: !0,
      enumerable: !0,
      get: function() {
        var S = new u(w);
        return Object.defineProperty(t, m, {
          configurable: !0,
          enumerable: !0,
          value: S
        }), S;
      }
    });
  }
  p("p192", {
    type: "short",
    prime: "p192",
    p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
    a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
    b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
    n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
    hash: r.sha256,
    gRed: !1,
    g: [
      "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012",
      "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"
    ]
  }), p("p224", {
    type: "short",
    prime: "p224",
    p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
    a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
    b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
    n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
    hash: r.sha256,
    gRed: !1,
    g: [
      "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21",
      "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"
    ]
  }), p("p256", {
    type: "short",
    prime: null,
    p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
    a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
    b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
    n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
    hash: r.sha256,
    gRed: !1,
    g: [
      "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296",
      "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"
    ]
  }), p("p384", {
    type: "short",
    prime: null,
    p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
    a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
    b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
    n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
    hash: r.sha384,
    gRed: !1,
    g: [
      "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7",
      "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"
    ]
  }), p("p521", {
    type: "short",
    prime: null,
    p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
    a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
    b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
    n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
    hash: r.sha512,
    gRed: !1,
    g: [
      "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66",
      "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"
    ]
  }), p("curve25519", {
    type: "mont",
    prime: "p25519",
    p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
    a: "76d06",
    b: "1",
    n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
    hash: r.sha256,
    gRed: !1,
    g: [
      "9"
    ]
  }), p("ed25519", {
    type: "edwards",
    prime: "p25519",
    p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
    a: "-1",
    c: "1",
    // -121665 * (121666^(-1)) (mod P)
    d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
    n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
    hash: r.sha256,
    gRed: !1,
    g: [
      "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a",
      // 4/5
      "6666666666666666666666666666666666666666666666666666666666666658"
    ]
  });
  var b;
  try {
    b = YI();
  } catch {
    b = void 0;
  }
  p("secp256k1", {
    type: "short",
    prime: "k256",
    p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
    a: "0",
    b: "7",
    n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
    h: "1",
    hash: r.sha256,
    // Precomputed endomorphism
    beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
    lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
    basis: [
      {
        a: "3086d221a7d46bcde86c90e49284eb15",
        b: "-e4437ed6010e88286f547fa90abfe4c3"
      },
      {
        a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
        b: "3086d221a7d46bcde86c90e49284eb15"
      }
    ],
    gRed: !1,
    g: [
      "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
      "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",
      b
    ]
  });
})(rl);
var VI = il, Da = t2, Fb = Ua;
function na(e) {
  if (!(this instanceof na))
    return new na(e);
  this.hash = e.hash, this.predResist = !!e.predResist, this.outLen = this.hash.outSize, this.minEntropy = e.minEntropy || this.hash.hmacStrength, this._reseed = null, this.reseedInterval = null, this.K = null, this.V = null;
  var t = Da.toArray(e.entropy, e.entropyEnc || "hex"), r = Da.toArray(e.nonce, e.nonceEnc || "hex"), i = Da.toArray(e.pers, e.persEnc || "hex");
  Fb(
    t.length >= this.minEntropy / 8,
    "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
  ), this._init(t, r, i);
}
var WI = na;
na.prototype._init = function(t, r, i) {
  var n = t.concat(r).concat(i);
  this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8);
  for (var s = 0; s < this.V.length; s++)
    this.K[s] = 0, this.V[s] = 1;
  this._update(n), this._reseed = 1, this.reseedInterval = 281474976710656;
};
na.prototype._hmac = function() {
  return new VI.hmac(this.hash, this.K);
};
na.prototype._update = function(t) {
  var r = this._hmac().update(this.V).update([0]);
  t && (r = r.update(t)), this.K = r.digest(), this.V = this._hmac().update(this.V).digest(), t && (this.K = this._hmac().update(this.V).update([1]).update(t).digest(), this.V = this._hmac().update(this.V).digest());
};
na.prototype.reseed = function(t, r, i, n) {
  typeof r != "string" && (n = i, i = r, r = null), t = Da.toArray(t, r), i = Da.toArray(i, n), Fb(
    t.length >= this.minEntropy / 8,
    "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
  ), this._update(t.concat(i || [])), this._reseed = 1;
};
na.prototype.generate = function(t, r, i, n) {
  if (this._reseed > this.reseedInterval)
    throw new Error("Reseed is required");
  typeof r != "string" && (n = i, i = r, r = null), i && (i = Da.toArray(i, n || "hex"), this._update(i));
  for (var s = []; s.length < t; )
    this.V = this._hmac().update(this.V).digest(), s = s.concat(this.V);
  var u = s.slice(0, t);
  return this._update(i), this._reseed++, Da.encode(u, r);
};
var XI = Ro, ZI = on, up = ZI.assert;
function di(e, t) {
  this.ec = e, this.priv = null, this.pub = null, t.priv && this._importPrivate(t.priv, t.privEnc), t.pub && this._importPublic(t.pub, t.pubEnc);
}
var tD = di;
di.fromPublic = function(t, r, i) {
  return r instanceof di ? r : new di(t, {
    pub: r,
    pubEnc: i
  });
};
di.fromPrivate = function(t, r, i) {
  return r instanceof di ? r : new di(t, {
    priv: r,
    privEnc: i
  });
};
di.prototype.validate = function() {
  var t = this.getPublic();
  return t.isInfinity() ? { result: !1, reason: "Invalid public key" } : t.validate() ? t.mul(this.ec.curve.n).isInfinity() ? { result: !0, reason: null } : { result: !1, reason: "Public key * N != O" } : { result: !1, reason: "Public key is not a point" };
};
di.prototype.getPublic = function(t, r) {
  return typeof t == "string" && (r = t, t = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), r ? this.pub.encode(r, t) : this.pub;
};
di.prototype.getPrivate = function(t) {
  return t === "hex" ? this.priv.toString(16, 2) : this.priv;
};
di.prototype._importPrivate = function(t, r) {
  this.priv = new XI(t, r || 16), this.priv = this.priv.umod(this.ec.curve.n);
};
di.prototype._importPublic = function(t, r) {
  if (t.x || t.y) {
    this.ec.curve.type === "mont" ? up(t.x, "Need x coordinate") : (this.ec.curve.type === "short" || this.ec.curve.type === "edwards") && up(t.x && t.y, "Need both x and y coordinate"), this.pub = this.ec.curve.point(t.x, t.y);
    return;
  }
  this.pub = this.ec.curve.decodePoint(t, r);
};
di.prototype.derive = function(t) {
  return t.validate() || up(t.validate(), "public point not validated"), t.mul(this.priv).getX();
};
di.prototype.sign = function(t, r, i) {
  return this.ec.sign(t, this, r, i);
};
di.prototype.verify = function(t, r) {
  return this.ec.verify(t, r, this);
};
di.prototype.inspect = function() {
  return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >";
};
var x0 = Ro, n2 = on, eD = n2.assert;
function sl(e, t) {
  if (e instanceof sl)
    return e;
  this._importDER(e, t) || (eD(e.r && e.s, "Signature without r or s"), this.r = new x0(e.r, 16), this.s = new x0(e.s, 16), e.recoveryParam === void 0 ? this.recoveryParam = null : this.recoveryParam = e.recoveryParam);
}
var rD = sl;
function iD() {
  this.place = 0;
}
function $d(e, t) {
  var r = e[t.place++];
  if (!(r & 128))
    return r;
  var i = r & 15;
  if (i === 0 || i > 4 || e[t.place] === 0)
    return !1;
  for (var n = 0, s = 0, u = t.place; s < i; s++, u++)
    n <<= 8, n |= e[u], n >>>= 0;
  return n <= 127 ? !1 : (t.place = u, n);
}
function rm(e) {
  for (var t = 0, r = e.length - 1; !e[t] && !(e[t + 1] & 128) && t < r; )
    t++;
  return t === 0 ? e : e.slice(t);
}
sl.prototype._importDER = function(t, r) {
  t = n2.toArray(t, r);
  var i = new iD();
  if (t[i.place++] !== 48)
    return !1;
  var n = $d(t, i);
  if (n === !1 || n + i.place !== t.length || t[i.place++] !== 2)
    return !1;
  var s = $d(t, i);
  if (s === !1 || t[i.place] & 128)
    return !1;
  var u = t.slice(i.place, s + i.place);
  if (i.place += s, t[i.place++] !== 2)
    return !1;
  var p = $d(t, i);
  if (p === !1 || t.length !== p + i.place || t[i.place] & 128)
    return !1;
  var b = t.slice(i.place, p + i.place);
  if (u[0] === 0)
    if (u[1] & 128)
      u = u.slice(1);
    else
      return !1;
  if (b[0] === 0)
    if (b[1] & 128)
      b = b.slice(1);
    else
      return !1;
  return this.r = new x0(u), this.s = new x0(b), this.recoveryParam = null, !0;
};
function Hd(e, t) {
  if (t < 128) {
    e.push(t);
    return;
  }
  var r = 1 + (Math.log(t) / Math.LN2 >>> 3);
  for (e.push(r | 128); --r; )
    e.push(t >>> (r << 3) & 255);
  e.push(t);
}
sl.prototype.toDER = function(t) {
  var r = this.r.toArray(), i = this.s.toArray();
  for (r[0] & 128 && (r = [0].concat(r)), i[0] & 128 && (i = [0].concat(i)), r = rm(r), i = rm(i); !i[0] && !(i[1] & 128); )
    i = i.slice(1);
  var n = [2];
  Hd(n, r.length), n = n.concat(r), n.push(2), Hd(n, i.length);
  var s = n.concat(i), u = [48];
  return Hd(u, s.length), u = u.concat(s), n2.encode(u, t);
};
var Ca = Ro, Ub = WI, nD = on, jd = rl, sD = mb, qb = nD.assert, s2 = tD, ol = rD;
function Pn(e) {
  if (!(this instanceof Pn))
    return new Pn(e);
  typeof e == "string" && (qb(
    Object.prototype.hasOwnProperty.call(jd, e),
    "Unknown curve " + e
  ), e = jd[e]), e instanceof jd.PresetCurve && (e = { curve: e }), this.curve = e.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = e.curve.g, this.g.precompute(e.curve.n.bitLength() + 1), this.hash = e.hash || e.curve.hash;
}
var oD = Pn;
Pn.prototype.keyPair = function(t) {
  return new s2(this, t);
};
Pn.prototype.keyFromPrivate = function(t, r) {
  return s2.fromPrivate(this, t, r);
};
Pn.prototype.keyFromPublic = function(t, r) {
  return s2.fromPublic(this, t, r);
};
Pn.prototype.genKeyPair = function(t) {
  t || (t = {});
  for (var r = new Ub({
    hash: this.hash,
    pers: t.pers,
    persEnc: t.persEnc || "utf8",
    entropy: t.entropy || sD(this.hash.hmacStrength),
    entropyEnc: t.entropy && t.entropyEnc || "utf8",
    nonce: this.n.toArray()
  }), i = this.n.byteLength(), n = this.n.sub(new Ca(2)); ; ) {
    var s = new Ca(r.generate(i));
    if (!(s.cmp(n) > 0))
      return s.iaddn(1), this.keyFromPrivate(s);
  }
};
Pn.prototype._truncateToN = function(t, r) {
  var i = t.byteLength() * 8 - this.n.bitLength();
  return i > 0 && (t = t.ushrn(i)), !r && t.cmp(this.n) >= 0 ? t.sub(this.n) : t;
};
Pn.prototype.sign = function(t, r, i, n) {
  typeof i == "object" && (n = i, i = null), n || (n = {}), r = this.keyFromPrivate(r, i), t = this._truncateToN(new Ca(t, 16));
  for (var s = this.n.byteLength(), u = r.getPrivate().toArray("be", s), p = t.toArray("be", s), b = new Ub({
    hash: this.hash,
    entropy: u,
    nonce: p,
    pers: n.pers,
    persEnc: n.persEnc || "utf8"
  }), m = this.n.sub(new Ca(1)), w = 0; ; w++) {
    var S = n.k ? n.k(w) : new Ca(b.generate(this.n.byteLength()));
    if (S = this._truncateToN(S, !0), !(S.cmpn(1) <= 0 || S.cmp(m) >= 0)) {
      var C = this.g.mul(S);
      if (!C.isInfinity()) {
        var D = C.getX(), P = D.umod(this.n);
        if (P.cmpn(0) !== 0) {
          var k = S.invm(this.n).mul(P.mul(r.getPrivate()).iadd(t));
          if (k = k.umod(this.n), k.cmpn(0) !== 0) {
            var z = (C.getY().isOdd() ? 1 : 0) | (D.cmp(P) !== 0 ? 2 : 0);
            return n.canonical && k.cmp(this.nh) > 0 && (k = this.n.sub(k), z ^= 1), new ol({ r: P, s: k, recoveryParam: z });
          }
        }
      }
    }
  }
};
Pn.prototype.verify = function(t, r, i, n) {
  t = this._truncateToN(new Ca(t, 16)), i = this.keyFromPublic(i, n), r = new ol(r, "hex");
  var s = r.r, u = r.s;
  if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0 || u.cmpn(1) < 0 || u.cmp(this.n) >= 0)
    return !1;
  var p = u.invm(this.n), b = p.mul(t).umod(this.n), m = p.mul(s).umod(this.n), w;
  return this.curve._maxwellTrick ? (w = this.g.jmulAdd(b, i.getPublic(), m), w.isInfinity() ? !1 : w.eqXToP(s)) : (w = this.g.mulAdd(b, i.getPublic(), m), w.isInfinity() ? !1 : w.getX().umod(this.n).cmp(s) === 0);
};
Pn.prototype.recoverPubKey = function(e, t, r, i) {
  qb((3 & r) === r, "The recovery param is more than two bits"), t = new ol(t, i);
  var n = this.n, s = new Ca(e), u = t.r, p = t.s, b = r & 1, m = r >> 1;
  if (u.cmp(this.curve.p.umod(this.curve.n)) >= 0 && m)
    throw new Error("Unable to find sencond key candinate");
  m ? u = this.curve.pointFromX(u.add(this.curve.n), b) : u = this.curve.pointFromX(u, b);
  var w = t.r.invm(n), S = n.sub(s).mul(w).umod(n), C = p.mul(w).umod(n);
  return this.g.mulAdd(S, u, C);
};
Pn.prototype.getKeyRecoveryParam = function(e, t, r, i) {
  if (t = new ol(t, i), t.recoveryParam !== null)
    return t.recoveryParam;
  for (var n = 0; n < 4; n++) {
    var s;
    try {
      s = this.recoverPubKey(e, t, n);
    } catch {
      continue;
    }
    if (s.eq(r))
      return n;
  }
  throw new Error("Unable to find valid recovery factor");
};
var Mu = on, Lb = Mu.assert, im = Mu.parseBytes, Wh = Mu.cachedProperty;
function Qr(e, t) {
  this.eddsa = e, this._secret = im(t.secret), e.isPoint(t.pub) ? this._pub = t.pub : this._pubBytes = im(t.pub);
}
Qr.fromPublic = function(t, r) {
  return r instanceof Qr ? r : new Qr(t, { pub: r });
};
Qr.fromSecret = function(t, r) {
  return r instanceof Qr ? r : new Qr(t, { secret: r });
};
Qr.prototype.secret = function() {
  return this._secret;
};
Wh(Qr, "pubBytes", function() {
  return this.eddsa.encodePoint(this.pub());
});
Wh(Qr, "pub", function() {
  return this._pubBytes ? this.eddsa.decodePoint(this._pubBytes) : this.eddsa.g.mul(this.priv());
});
Wh(Qr, "privBytes", function() {
  var t = this.eddsa, r = this.hash(), i = t.encodingLength - 1, n = r.slice(0, t.encodingLength);
  return n[0] &= 248, n[i] &= 127, n[i] |= 64, n;
});
Wh(Qr, "priv", function() {
  return this.eddsa.decodeInt(this.privBytes());
});
Wh(Qr, "hash", function() {
  return this.eddsa.hash().update(this.secret()).digest();
});
Wh(Qr, "messagePrefix", function() {
  return this.hash().slice(this.eddsa.encodingLength);
});
Qr.prototype.sign = function(t) {
  return Lb(this._secret, "KeyPair can only verify"), this.eddsa.sign(t, this);
};
Qr.prototype.verify = function(t, r) {
  return this.eddsa.verify(t, r, this);
};
Qr.prototype.getSecret = function(t) {
  return Lb(this._secret, "KeyPair is public only"), Mu.encode(this.secret(), t);
};
Qr.prototype.getPublic = function(t) {
  return Mu.encode(this.pubBytes(), t);
};
var aD = Qr, hD = Ro, al = on, nm = al.assert, hl = al.cachedProperty, fD = al.parseBytes;
function qa(e, t) {
  this.eddsa = e, typeof t != "object" && (t = fD(t)), Array.isArray(t) && (nm(t.length === e.encodingLength * 2, "Signature has invalid size"), t = {
    R: t.slice(0, e.encodingLength),
    S: t.slice(e.encodingLength)
  }), nm(t.R && t.S, "Signature without R or S"), e.isPoint(t.R) && (this._R = t.R), t.S instanceof hD && (this._S = t.S), this._Rencoded = Array.isArray(t.R) ? t.R : t.Rencoded, this._Sencoded = Array.isArray(t.S) ? t.S : t.Sencoded;
}
hl(qa, "S", function() {
  return this.eddsa.decodeInt(this.Sencoded());
});
hl(qa, "R", function() {
  return this.eddsa.decodePoint(this.Rencoded());
});
hl(qa, "Rencoded", function() {
  return this.eddsa.encodePoint(this.R());
});
hl(qa, "Sencoded", function() {
  return this.eddsa.encodeInt(this.S());
});
qa.prototype.toBytes = function() {
  return this.Rencoded().concat(this.Sencoded());
};
qa.prototype.toHex = function() {
  return al.encode(this.toBytes(), "hex").toUpperCase();
};
var uD = qa, cD = il, lD = rl, Th = on, dD = Th.assert, kb = Th.parseBytes, zb = aD, sm = uD;
function $i(e) {
  if (dD(e === "ed25519", "only tested with ed25519 so far"), !(this instanceof $i))
    return new $i(e);
  e = lD[e].curve, this.curve = e, this.g = e.g, this.g.precompute(e.n.bitLength() + 1), this.pointClass = e.point().constructor, this.encodingLength = Math.ceil(e.n.bitLength() / 8), this.hash = cD.sha512;
}
var pD = $i;
$i.prototype.sign = function(t, r) {
  t = kb(t);
  var i = this.keyFromSecret(r), n = this.hashInt(i.messagePrefix(), t), s = this.g.mul(n), u = this.encodePoint(s), p = this.hashInt(u, i.pubBytes(), t).mul(i.priv()), b = n.add(p).umod(this.curve.n);
  return this.makeSignature({ R: s, S: b, Rencoded: u });
};
$i.prototype.verify = function(t, r, i) {
  if (t = kb(t), r = this.makeSignature(r), r.S().gte(r.eddsa.curve.n) || r.S().isNeg())
    return !1;
  var n = this.keyFromPublic(i), s = this.hashInt(r.Rencoded(), n.pubBytes(), t), u = this.g.mul(r.S()), p = r.R().add(n.pub().mul(s));
  return p.eq(u);
};
$i.prototype.hashInt = function() {
  for (var t = this.hash(), r = 0; r < arguments.length; r++)
    t.update(arguments[r]);
  return Th.intFromLE(t.digest()).umod(this.curve.n);
};
$i.prototype.keyFromPublic = function(t) {
  return zb.fromPublic(this, t);
};
$i.prototype.keyFromSecret = function(t) {
  return zb.fromSecret(this, t);
};
$i.prototype.makeSignature = function(t) {
  return t instanceof sm ? t : new sm(this, t);
};
$i.prototype.encodePoint = function(t) {
  var r = t.getY().toArray("le", this.encodingLength);
  return r[this.encodingLength - 1] |= t.getX().isOdd() ? 128 : 0, r;
};
$i.prototype.decodePoint = function(t) {
  t = Th.parseBytes(t);
  var r = t.length - 1, i = t.slice(0, r).concat(t[r] & -129), n = (t[r] & 128) !== 0, s = Th.intFromLE(i);
  return this.curve.pointFromY(s, n);
};
$i.prototype.encodeInt = function(t) {
  return t.toArray("le", this.encodingLength);
};
$i.prototype.decodeInt = function(t) {
  return Th.intFromLE(t);
};
$i.prototype.isPoint = function(t) {
  return t instanceof this.pointClass;
};
(function(e) {
  var t = e;
  t.version = dx.version, t.utils = on, t.rand = mb, t.curve = r2, t.curves = rl, t.ec = oD, t.eddsa = pD;
})(pb);
var o2 = {}, $b = {};
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 });
  var t = Se, r = sn;
  e.DIGEST_LENGTH = 64, e.BLOCK_SIZE = 128;
  var i = (
    /** @class */
    function() {
      function p() {
        this.digestLength = e.DIGEST_LENGTH, this.blockSize = e.BLOCK_SIZE, this._stateHi = new Int32Array(8), this._stateLo = new Int32Array(8), this._tempHi = new Int32Array(16), this._tempLo = new Int32Array(16), this._buffer = new Uint8Array(256), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this.reset();
      }
      return p.prototype._initState = function() {
        this._stateHi[0] = 1779033703, this._stateHi[1] = 3144134277, this._stateHi[2] = 1013904242, this._stateHi[3] = 2773480762, this._stateHi[4] = 1359893119, this._stateHi[5] = 2600822924, this._stateHi[6] = 528734635, this._stateHi[7] = 1541459225, this._stateLo[0] = 4089235720, this._stateLo[1] = 2227873595, this._stateLo[2] = 4271175723, this._stateLo[3] = 1595750129, this._stateLo[4] = 2917565137, this._stateLo[5] = 725511199, this._stateLo[6] = 4215389547, this._stateLo[7] = 327033209;
      }, p.prototype.reset = function() {
        return this._initState(), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this;
      }, p.prototype.clean = function() {
        r.wipe(this._buffer), r.wipe(this._tempHi), r.wipe(this._tempLo), this.reset();
      }, p.prototype.update = function(b, m) {
        if (m === void 0 && (m = b.length), this._finished)
          throw new Error("SHA512: can't update because hash was finished.");
        var w = 0;
        if (this._bytesHashed += m, this._bufferLength > 0) {
          for (; this._bufferLength < e.BLOCK_SIZE && m > 0; )
            this._buffer[this._bufferLength++] = b[w++], m--;
          this._bufferLength === this.blockSize && (s(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, this.blockSize), this._bufferLength = 0);
        }
        for (m >= this.blockSize && (w = s(this._tempHi, this._tempLo, this._stateHi, this._stateLo, b, w, m), m %= this.blockSize); m > 0; )
          this._buffer[this._bufferLength++] = b[w++], m--;
        return this;
      }, p.prototype.finish = function(b) {
        if (!this._finished) {
          var m = this._bytesHashed, w = this._bufferLength, S = m / 536870912 | 0, C = m << 3, D = m % 128 < 112 ? 128 : 256;
          this._buffer[w] = 128;
          for (var P = w + 1; P < D - 8; P++)
            this._buffer[P] = 0;
          t.writeUint32BE(S, this._buffer, D - 8), t.writeUint32BE(C, this._buffer, D - 4), s(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, D), this._finished = !0;
        }
        for (var P = 0; P < this.digestLength / 8; P++)
          t.writeUint32BE(this._stateHi[P], b, P * 8), t.writeUint32BE(this._stateLo[P], b, P * 8 + 4);
        return this;
      }, p.prototype.digest = function() {
        var b = new Uint8Array(this.digestLength);
        return this.finish(b), b;
      }, p.prototype.saveState = function() {
        if (this._finished)
          throw new Error("SHA256: cannot save finished state");
        return {
          stateHi: new Int32Array(this._stateHi),
          stateLo: new Int32Array(this._stateLo),
          buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0,
          bufferLength: this._bufferLength,
          bytesHashed: this._bytesHashed
        };
      }, p.prototype.restoreState = function(b) {
        return this._stateHi.set(b.stateHi), this._stateLo.set(b.stateLo), this._bufferLength = b.bufferLength, b.buffer && this._buffer.set(b.buffer), this._bytesHashed = b.bytesHashed, this._finished = !1, this;
      }, p.prototype.cleanSavedState = function(b) {
        r.wipe(b.stateHi), r.wipe(b.stateLo), b.buffer && r.wipe(b.buffer), b.bufferLength = 0, b.bytesHashed = 0;
      }, p;
    }()
  );
  e.SHA512 = i;
  var n = new Int32Array([
    1116352408,
    3609767458,
    1899447441,
    602891725,
    3049323471,
    3964484399,
    3921009573,
    2173295548,
    961987163,
    4081628472,
    1508970993,
    3053834265,
    2453635748,
    2937671579,
    2870763221,
    3664609560,
    3624381080,
    2734883394,
    310598401,
    1164996542,
    607225278,
    1323610764,
    1426881987,
    3590304994,
    1925078388,
    4068182383,
    2162078206,
    991336113,
    2614888103,
    633803317,
    3248222580,
    3479774868,
    3835390401,
    2666613458,
    4022224774,
    944711139,
    264347078,
    2341262773,
    604807628,
    2007800933,
    770255983,
    1495990901,
    1249150122,
    1856431235,
    1555081692,
    3175218132,
    1996064986,
    2198950837,
    2554220882,
    3999719339,
    2821834349,
    766784016,
    2952996808,
    2566594879,
    3210313671,
    3203337956,
    3336571891,
    1034457026,
    3584528711,
    2466948901,
    113926993,
    3758326383,
    338241895,
    168717936,
    666307205,
    1188179964,
    773529912,
    1546045734,
    1294757372,
    1522805485,
    1396182291,
    2643833823,
    1695183700,
    2343527390,
    1986661051,
    1014477480,
    2177026350,
    1206759142,
    2456956037,
    344077627,
    2730485921,
    1290863460,
    2820302411,
    3158454273,
    3259730800,
    3505952657,
    3345764771,
    106217008,
    3516065817,
    3606008344,
    3600352804,
    1432725776,
    4094571909,
    1467031594,
    275423344,
    851169720,
    430227734,
    3100823752,
    506948616,
    1363258195,
    659060556,
    3750685593,
    883997877,
    3785050280,
    958139571,
    3318307427,
    1322822218,
    3812723403,
    1537002063,
    2003034995,
    1747873779,
    3602036899,
    1955562222,
    1575990012,
    2024104815,
    1125592928,
    2227730452,
    2716904306,
    2361852424,
    442776044,
    2428436474,
    593698344,
    2756734187,
    3733110249,
    3204031479,
    2999351573,
    3329325298,
    3815920427,
    3391569614,
    3928383900,
    3515267271,
    566280711,
    3940187606,
    3454069534,
    4118630271,
    4000239992,
    116418474,
    1914138554,
    174292421,
    2731055270,
    289380356,
    3203993006,
    460393269,
    320620315,
    685471733,
    587496836,
    852142971,
    1086792851,
    1017036298,
    365543100,
    1126000580,
    2618297676,
    1288033470,
    3409855158,
    1501505948,
    4234509866,
    1607167915,
    987167468,
    1816402316,
    1246189591
  ]);
  function s(p, b, m, w, S, C, D) {
    for (var P = m[0], k = m[1], z = m[2], V = m[3], Q = m[4], W = m[5], $ = m[6], j = m[7], K = w[0], N = w[1], H = w[2], st = w[3], ct = w[4], L = w[5], I = w[6], o = w[7], h, c, v, y, M, E, d, f; D >= 128; ) {
      for (var _ = 0; _ < 16; _++) {
        var Y = 8 * _ + C;
        p[_] = t.readUint32BE(S, Y), b[_] = t.readUint32BE(S, Y + 4);
      }
      for (var _ = 0; _ < 80; _++) {
        var X = P, g = k, F = z, O = V, B = Q, q = W, x = $, T = j, Z = K, it = N, et = H, pt = st, gt = ct, _t = L, re = I, bt = o;
        if (h = j, c = o, M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = (Q >>> 14 | ct << 18) ^ (Q >>> 18 | ct << 14) ^ (ct >>> 9 | Q << 23), c = (ct >>> 14 | Q << 18) ^ (ct >>> 18 | Q << 14) ^ (Q >>> 9 | ct << 23), M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, h = Q & W ^ ~Q & $, c = ct & L ^ ~ct & I, M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, h = n[_ * 2], c = n[_ * 2 + 1], M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, h = p[_ % 16], c = b[_ % 16], M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, v = d & 65535 | f << 16, y = M & 65535 | E << 16, h = v, c = y, M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = (P >>> 28 | K << 4) ^ (K >>> 2 | P << 30) ^ (K >>> 7 | P << 25), c = (K >>> 28 | P << 4) ^ (P >>> 2 | K << 30) ^ (P >>> 7 | K << 25), M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, h = P & k ^ P & z ^ k & z, c = K & N ^ K & H ^ N & H, M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, T = d & 65535 | f << 16, bt = M & 65535 | E << 16, h = O, c = pt, M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = v, c = y, M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, O = d & 65535 | f << 16, pt = M & 65535 | E << 16, k = X, z = g, V = F, Q = O, W = B, $ = q, j = x, P = T, N = Z, H = it, st = et, ct = pt, L = gt, I = _t, o = re, K = bt, _ % 16 === 15)
          for (var Y = 0; Y < 16; Y++)
            h = p[Y], c = b[Y], M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = p[(Y + 9) % 16], c = b[(Y + 9) % 16], M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, v = p[(Y + 1) % 16], y = b[(Y + 1) % 16], h = (v >>> 1 | y << 31) ^ (v >>> 8 | y << 24) ^ v >>> 7, c = (y >>> 1 | v << 31) ^ (y >>> 8 | v << 24) ^ (y >>> 7 | v << 25), M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, v = p[(Y + 14) % 16], y = b[(Y + 14) % 16], h = (v >>> 19 | y << 13) ^ (y >>> 29 | v << 3) ^ v >>> 6, c = (y >>> 19 | v << 13) ^ (v >>> 29 | y << 3) ^ (y >>> 6 | v << 26), M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, p[Y] = d & 65535 | f << 16, b[Y] = M & 65535 | E << 16;
      }
      h = P, c = K, M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = m[0], c = w[0], M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, m[0] = P = d & 65535 | f << 16, w[0] = K = M & 65535 | E << 16, h = k, c = N, M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = m[1], c = w[1], M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, m[1] = k = d & 65535 | f << 16, w[1] = N = M & 65535 | E << 16, h = z, c = H, M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = m[2], c = w[2], M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, m[2] = z = d & 65535 | f << 16, w[2] = H = M & 65535 | E << 16, h = V, c = st, M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = m[3], c = w[3], M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, m[3] = V = d & 65535 | f << 16, w[3] = st = M & 65535 | E << 16, h = Q, c = ct, M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = m[4], c = w[4], M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, m[4] = Q = d & 65535 | f << 16, w[4] = ct = M & 65535 | E << 16, h = W, c = L, M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = m[5], c = w[5], M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, m[5] = W = d & 65535 | f << 16, w[5] = L = M & 65535 | E << 16, h = $, c = I, M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = m[6], c = w[6], M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, m[6] = $ = d & 65535 | f << 16, w[6] = I = M & 65535 | E << 16, h = j, c = o, M = c & 65535, E = c >>> 16, d = h & 65535, f = h >>> 16, h = m[7], c = w[7], M += c & 65535, E += c >>> 16, d += h & 65535, f += h >>> 16, E += M >>> 16, d += E >>> 16, f += d >>> 16, m[7] = j = d & 65535 | f << 16, w[7] = o = M & 65535 | E << 16, C += 128, D -= 128;
    }
    return C;
  }
  function u(p) {
    var b = new i();
    b.update(p);
    var m = b.digest();
    return b.clean(), m;
  }
  e.hash = u;
})($b);
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.convertSecretKeyToX25519 = e.convertPublicKeyToX25519 = e.verify = e.sign = e.extractPublicKeyFromSecretKey = e.generateKeyPair = e.generateKeyPairFromSeed = e.SEED_LENGTH = e.SECRET_KEY_LENGTH = e.PUBLIC_KEY_LENGTH = e.SIGNATURE_LENGTH = void 0;
  const t = Kh, r = $b, i = sn;
  e.SIGNATURE_LENGTH = 64, e.PUBLIC_KEY_LENGTH = 32, e.SECRET_KEY_LENGTH = 64, e.SEED_LENGTH = 32;
  function n(O) {
    const B = new Float64Array(16);
    if (O)
      for (let q = 0; q < O.length; q++)
        B[q] = O[q];
    return B;
  }
  const s = new Uint8Array(32);
  s[0] = 9;
  const u = n(), p = n([1]), b = n([
    30883,
    4953,
    19914,
    30187,
    55467,
    16705,
    2637,
    112,
    59544,
    30585,
    16505,
    36039,
    65139,
    11119,
    27886,
    20995
  ]), m = n([
    61785,
    9906,
    39828,
    60374,
    45398,
    33411,
    5274,
    224,
    53552,
    61171,
    33010,
    6542,
    64743,
    22239,
    55772,
    9222
  ]), w = n([
    54554,
    36645,
    11616,
    51542,
    42930,
    38181,
    51040,
    26924,
    56412,
    64982,
    57905,
    49316,
    21502,
    52590,
    14035,
    8553
  ]), S = n([
    26200,
    26214,
    26214,
    26214,
    26214,
    26214,
    26214,
    26214,
    26214,
    26214,
    26214,
    26214,
    26214,
    26214,
    26214,
    26214
  ]), C = n([
    41136,
    18958,
    6951,
    50414,
    58488,
    44335,
    6150,
    12099,
    55207,
    15867,
    153,
    11085,
    57099,
    20417,
    9344,
    11139
  ]);
  function D(O, B) {
    for (let q = 0; q < 16; q++)
      O[q] = B[q] | 0;
  }
  function P(O) {
    let B = 1;
    for (let q = 0; q < 16; q++) {
      let x = O[q] + B + 65535;
      B = Math.floor(x / 65536), O[q] = x - B * 65536;
    }
    O[0] += B - 1 + 37 * (B - 1);
  }
  function k(O, B, q) {
    const x = ~(q - 1);
    for (let T = 0; T < 16; T++) {
      const Z = x & (O[T] ^ B[T]);
      O[T] ^= Z, B[T] ^= Z;
    }
  }
  function z(O, B) {
    const q = n(), x = n();
    for (let T = 0; T < 16; T++)
      x[T] = B[T];
    P(x), P(x), P(x);
    for (let T = 0; T < 2; T++) {
      q[0] = x[0] - 65517;
      for (let it = 1; it < 15; it++)
        q[it] = x[it] - 65535 - (q[it - 1] >> 16 & 1), q[it - 1] &= 65535;
      q[15] = x[15] - 32767 - (q[14] >> 16 & 1);
      const Z = q[15] >> 16 & 1;
      q[14] &= 65535, k(x, q, 1 - Z);
    }
    for (let T = 0; T < 16; T++)
      O[2 * T] = x[T] & 255, O[2 * T + 1] = x[T] >> 8;
  }
  function V(O, B) {
    let q = 0;
    for (let x = 0; x < 32; x++)
      q |= O[x] ^ B[x];
    return (1 & q - 1 >>> 8) - 1;
  }
  function Q(O, B) {
    const q = new Uint8Array(32), x = new Uint8Array(32);
    return z(q, O), z(x, B), V(q, x);
  }
  function W(O) {
    const B = new Uint8Array(32);
    return z(B, O), B[0] & 1;
  }
  function $(O, B) {
    for (let q = 0; q < 16; q++)
      O[q] = B[2 * q] + (B[2 * q + 1] << 8);
    O[15] &= 32767;
  }
  function j(O, B, q) {
    for (let x = 0; x < 16; x++)
      O[x] = B[x] + q[x];
  }
  function K(O, B, q) {
    for (let x = 0; x < 16; x++)
      O[x] = B[x] - q[x];
  }
  function N(O, B, q) {
    let x, T, Z = 0, it = 0, et = 0, pt = 0, gt = 0, _t = 0, re = 0, bt = 0, Et = 0, Qt = 0, lt = 0, yt = 0, Wt = 0, ft = 0, wt = 0, Kt = 0, ut = 0, It = 0, Jt = 0, mt = 0, Pt = 0, te = 0, vt = 0, Rt = 0, ue = 0, Tt = 0, Yt = 0, ce = 0, Ft = 0, Vt = 0, de = 0, Mt = q[0], Lt = q[1], se = q[2], St = q[3], kt = q[4], ie = q[5], Dt = q[6], jt = q[7], oe = q[8], Ct = q[9], zt = q[10], he = q[11], xt = q[12], qt = q[13], fe = q[14], Nt = q[15];
    x = B[0], Z += x * Mt, it += x * Lt, et += x * se, pt += x * St, gt += x * kt, _t += x * ie, re += x * Dt, bt += x * jt, Et += x * oe, Qt += x * Ct, lt += x * zt, yt += x * he, Wt += x * xt, ft += x * qt, wt += x * fe, Kt += x * Nt, x = B[1], it += x * Mt, et += x * Lt, pt += x * se, gt += x * St, _t += x * kt, re += x * ie, bt += x * Dt, Et += x * jt, Qt += x * oe, lt += x * Ct, yt += x * zt, Wt += x * he, ft += x * xt, wt += x * qt, Kt += x * fe, ut += x * Nt, x = B[2], et += x * Mt, pt += x * Lt, gt += x * se, _t += x * St, re += x * kt, bt += x * ie, Et += x * Dt, Qt += x * jt, lt += x * oe, yt += x * Ct, Wt += x * zt, ft += x * he, wt += x * xt, Kt += x * qt, ut += x * fe, It += x * Nt, x = B[3], pt += x * Mt, gt += x * Lt, _t += x * se, re += x * St, bt += x * kt, Et += x * ie, Qt += x * Dt, lt += x * jt, yt += x * oe, Wt += x * Ct, ft += x * zt, wt += x * he, Kt += x * xt, ut += x * qt, It += x * fe, Jt += x * Nt, x = B[4], gt += x * Mt, _t += x * Lt, re += x * se, bt += x * St, Et += x * kt, Qt += x * ie, lt += x * Dt, yt += x * jt, Wt += x * oe, ft += x * Ct, wt += x * zt, Kt += x * he, ut += x * xt, It += x * qt, Jt += x * fe, mt += x * Nt, x = B[5], _t += x * Mt, re += x * Lt, bt += x * se, Et += x * St, Qt += x * kt, lt += x * ie, yt += x * Dt, Wt += x * jt, ft += x * oe, wt += x * Ct, Kt += x * zt, ut += x * he, It += x * xt, Jt += x * qt, mt += x * fe, Pt += x * Nt, x = B[6], re += x * Mt, bt += x * Lt, Et += x * se, Qt += x * St, lt += x * kt, yt += x * ie, Wt += x * Dt, ft += x * jt, wt += x * oe, Kt += x * Ct, ut += x * zt, It += x * he, Jt += x * xt, mt += x * qt, Pt += x * fe, te += x * Nt, x = B[7], bt += x * Mt, Et += x * Lt, Qt += x * se, lt += x * St, yt += x * kt, Wt += x * ie, ft += x * Dt, wt += x * jt, Kt += x * oe, ut += x * Ct, It += x * zt, Jt += x * he, mt += x * xt, Pt += x * qt, te += x * fe, vt += x * Nt, x = B[8], Et += x * Mt, Qt += x * Lt, lt += x * se, yt += x * St, Wt += x * kt, ft += x * ie, wt += x * Dt, Kt += x * jt, ut += x * oe, It += x * Ct, Jt += x * zt, mt += x * he, Pt += x * xt, te += x * qt, vt += x * fe, Rt += x * Nt, x = B[9], Qt += x * Mt, lt += x * Lt, yt += x * se, Wt += x * St, ft += x * kt, wt += x * ie, Kt += x * Dt, ut += x * jt, It += x * oe, Jt += x * Ct, mt += x * zt, Pt += x * he, te += x * xt, vt += x * qt, Rt += x * fe, ue += x * Nt, x = B[10], lt += x * Mt, yt += x * Lt, Wt += x * se, ft += x * St, wt += x * kt, Kt += x * ie, ut += x * Dt, It += x * jt, Jt += x * oe, mt += x * Ct, Pt += x * zt, te += x * he, vt += x * xt, Rt += x * qt, ue += x * fe, Tt += x * Nt, x = B[11], yt += x * Mt, Wt += x * Lt, ft += x * se, wt += x * St, Kt += x * kt, ut += x * ie, It += x * Dt, Jt += x * jt, mt += x * oe, Pt += x * Ct, te += x * zt, vt += x * he, Rt += x * xt, ue += x * qt, Tt += x * fe, Yt += x * Nt, x = B[12], Wt += x * Mt, ft += x * Lt, wt += x * se, Kt += x * St, ut += x * kt, It += x * ie, Jt += x * Dt, mt += x * jt, Pt += x * oe, te += x * Ct, vt += x * zt, Rt += x * he, ue += x * xt, Tt += x * qt, Yt += x * fe, ce += x * Nt, x = B[13], ft += x * Mt, wt += x * Lt, Kt += x * se, ut += x * St, It += x * kt, Jt += x * ie, mt += x * Dt, Pt += x * jt, te += x * oe, vt += x * Ct, Rt += x * zt, ue += x * he, Tt += x * xt, Yt += x * qt, ce += x * fe, Ft += x * Nt, x = B[14], wt += x * Mt, Kt += x * Lt, ut += x * se, It += x * St, Jt += x * kt, mt += x * ie, Pt += x * Dt, te += x * jt, vt += x * oe, Rt += x * Ct, ue += x * zt, Tt += x * he, Yt += x * xt, ce += x * qt, Ft += x * fe, Vt += x * Nt, x = B[15], Kt += x * Mt, ut += x * Lt, It += x * se, Jt += x * St, mt += x * kt, Pt += x * ie, te += x * Dt, vt += x * jt, Rt += x * oe, ue += x * Ct, Tt += x * zt, Yt += x * he, ce += x * xt, Ft += x * qt, Vt += x * fe, de += x * Nt, Z += 38 * ut, it += 38 * It, et += 38 * Jt, pt += 38 * mt, gt += 38 * Pt, _t += 38 * te, re += 38 * vt, bt += 38 * Rt, Et += 38 * ue, Qt += 38 * Tt, lt += 38 * Yt, yt += 38 * ce, Wt += 38 * Ft, ft += 38 * Vt, wt += 38 * de, T = 1, x = Z + T + 65535, T = Math.floor(x / 65536), Z = x - T * 65536, x = it + T + 65535, T = Math.floor(x / 65536), it = x - T * 65536, x = et + T + 65535, T = Math.floor(x / 65536), et = x - T * 65536, x = pt + T + 65535, T = Math.floor(x / 65536), pt = x - T * 65536, x = gt + T + 65535, T = Math.floor(x / 65536), gt = x - T * 65536, x = _t + T + 65535, T = Math.floor(x / 65536), _t = x - T * 65536, x = re + T + 65535, T = Math.floor(x / 65536), re = x - T * 65536, x = bt + T + 65535, T = Math.floor(x / 65536), bt = x - T * 65536, x = Et + T + 65535, T = Math.floor(x / 65536), Et = x - T * 65536, x = Qt + T + 65535, T = Math.floor(x / 65536), Qt = x - T * 65536, x = lt + T + 65535, T = Math.floor(x / 65536), lt = x - T * 65536, x = yt + T + 65535, T = Math.floor(x / 65536), yt = x - T * 65536, x = Wt + T + 65535, T = Math.floor(x / 65536), Wt = x - T * 65536, x = ft + T + 65535, T = Math.floor(x / 65536), ft = x - T * 65536, x = wt + T + 65535, T = Math.floor(x / 65536), wt = x - T * 65536, x = Kt + T + 65535, T = Math.floor(x / 65536), Kt = x - T * 65536, Z += T - 1 + 37 * (T - 1), T = 1, x = Z + T + 65535, T = Math.floor(x / 65536), Z = x - T * 65536, x = it + T + 65535, T = Math.floor(x / 65536), it = x - T * 65536, x = et + T + 65535, T = Math.floor(x / 65536), et = x - T * 65536, x = pt + T + 65535, T = Math.floor(x / 65536), pt = x - T * 65536, x = gt + T + 65535, T = Math.floor(x / 65536), gt = x - T * 65536, x = _t + T + 65535, T = Math.floor(x / 65536), _t = x - T * 65536, x = re + T + 65535, T = Math.floor(x / 65536), re = x - T * 65536, x = bt + T + 65535, T = Math.floor(x / 65536), bt = x - T * 65536, x = Et + T + 65535, T = Math.floor(x / 65536), Et = x - T * 65536, x = Qt + T + 65535, T = Math.floor(x / 65536), Qt = x - T * 65536, x = lt + T + 65535, T = Math.floor(x / 65536), lt = x - T * 65536, x = yt + T + 65535, T = Math.floor(x / 65536), yt = x - T * 65536, x = Wt + T + 65535, T = Math.floor(x / 65536), Wt = x - T * 65536, x = ft + T + 65535, T = Math.floor(x / 65536), ft = x - T * 65536, x = wt + T + 65535, T = Math.floor(x / 65536), wt = x - T * 65536, x = Kt + T + 65535, T = Math.floor(x / 65536), Kt = x - T * 65536, Z += T - 1 + 37 * (T - 1), O[0] = Z, O[1] = it, O[2] = et, O[3] = pt, O[4] = gt, O[5] = _t, O[6] = re, O[7] = bt, O[8] = Et, O[9] = Qt, O[10] = lt, O[11] = yt, O[12] = Wt, O[13] = ft, O[14] = wt, O[15] = Kt;
  }
  function H(O, B) {
    N(O, B, B);
  }
  function st(O, B) {
    const q = n();
    let x;
    for (x = 0; x < 16; x++)
      q[x] = B[x];
    for (x = 253; x >= 0; x--)
      H(q, q), x !== 2 && x !== 4 && N(q, q, B);
    for (x = 0; x < 16; x++)
      O[x] = q[x];
  }
  function ct(O, B) {
    const q = n();
    let x;
    for (x = 0; x < 16; x++)
      q[x] = B[x];
    for (x = 250; x >= 0; x--)
      H(q, q), x !== 1 && N(q, q, B);
    for (x = 0; x < 16; x++)
      O[x] = q[x];
  }
  function L(O, B) {
    const q = n(), x = n(), T = n(), Z = n(), it = n(), et = n(), pt = n(), gt = n(), _t = n();
    K(q, O[1], O[0]), K(_t, B[1], B[0]), N(q, q, _t), j(x, O[0], O[1]), j(_t, B[0], B[1]), N(x, x, _t), N(T, O[3], B[3]), N(T, T, m), N(Z, O[2], B[2]), j(Z, Z, Z), K(it, x, q), K(et, Z, T), j(pt, Z, T), j(gt, x, q), N(O[0], it, et), N(O[1], gt, pt), N(O[2], pt, et), N(O[3], it, gt);
  }
  function I(O, B, q) {
    for (let x = 0; x < 4; x++)
      k(O[x], B[x], q);
  }
  function o(O, B) {
    const q = n(), x = n(), T = n();
    st(T, B[2]), N(q, B[0], T), N(x, B[1], T), z(O, x), O[31] ^= W(q) << 7;
  }
  function h(O, B, q) {
    D(O[0], u), D(O[1], p), D(O[2], p), D(O[3], u);
    for (let x = 255; x >= 0; --x) {
      const T = q[x / 8 | 0] >> (x & 7) & 1;
      I(O, B, T), L(B, O), L(O, O), I(O, B, T);
    }
  }
  function c(O, B) {
    const q = [n(), n(), n(), n()];
    D(q[0], w), D(q[1], S), D(q[2], p), N(q[3], w, S), h(O, q, B);
  }
  function v(O) {
    if (O.length !== e.SEED_LENGTH)
      throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);
    const B = (0, r.hash)(O);
    B[0] &= 248, B[31] &= 127, B[31] |= 64;
    const q = new Uint8Array(32), x = [n(), n(), n(), n()];
    c(x, B), o(q, x);
    const T = new Uint8Array(64);
    return T.set(O), T.set(q, 32), {
      publicKey: q,
      secretKey: T
    };
  }
  e.generateKeyPairFromSeed = v;
  function y(O) {
    const B = (0, t.randomBytes)(32, O), q = v(B);
    return (0, i.wipe)(B), q;
  }
  e.generateKeyPair = y;
  function M(O) {
    if (O.length !== e.SECRET_KEY_LENGTH)
      throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);
    return new Uint8Array(O.subarray(32));
  }
  e.extractPublicKeyFromSecretKey = M;
  const E = new Float64Array([
    237,
    211,
    245,
    92,
    26,
    99,
    18,
    88,
    214,
    156,
    247,
    162,
    222,
    249,
    222,
    20,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    16
  ]);
  function d(O, B) {
    let q, x, T, Z;
    for (x = 63; x >= 32; --x) {
      for (q = 0, T = x - 32, Z = x - 12; T < Z; ++T)
        B[T] += q - 16 * B[x] * E[T - (x - 32)], q = Math.floor((B[T] + 128) / 256), B[T] -= q * 256;
      B[T] += q, B[x] = 0;
    }
    for (q = 0, T = 0; T < 32; T++)
      B[T] += q - (B[31] >> 4) * E[T], q = B[T] >> 8, B[T] &= 255;
    for (T = 0; T < 32; T++)
      B[T] -= q * E[T];
    for (x = 0; x < 32; x++)
      B[x + 1] += B[x] >> 8, O[x] = B[x] & 255;
  }
  function f(O) {
    const B = new Float64Array(64);
    for (let q = 0; q < 64; q++)
      B[q] = O[q];
    for (let q = 0; q < 64; q++)
      O[q] = 0;
    d(O, B);
  }
  function _(O, B) {
    const q = new Float64Array(64), x = [n(), n(), n(), n()], T = (0, r.hash)(O.subarray(0, 32));
    T[0] &= 248, T[31] &= 127, T[31] |= 64;
    const Z = new Uint8Array(64);
    Z.set(T.subarray(32), 32);
    const it = new r.SHA512();
    it.update(Z.subarray(32)), it.update(B);
    const et = it.digest();
    it.clean(), f(et), c(x, et), o(Z, x), it.reset(), it.update(Z.subarray(0, 32)), it.update(O.subarray(32)), it.update(B);
    const pt = it.digest();
    f(pt);
    for (let gt = 0; gt < 32; gt++)
      q[gt] = et[gt];
    for (let gt = 0; gt < 32; gt++)
      for (let _t = 0; _t < 32; _t++)
        q[gt + _t] += pt[gt] * T[_t];
    return d(Z.subarray(32), q), Z;
  }
  e.sign = _;
  function Y(O, B) {
    const q = n(), x = n(), T = n(), Z = n(), it = n(), et = n(), pt = n();
    return D(O[2], p), $(O[1], B), H(T, O[1]), N(Z, T, b), K(T, T, O[2]), j(Z, O[2], Z), H(it, Z), H(et, it), N(pt, et, it), N(q, pt, T), N(q, q, Z), ct(q, q), N(q, q, T), N(q, q, Z), N(q, q, Z), N(O[0], q, Z), H(x, O[0]), N(x, x, Z), Q(x, T) && N(O[0], O[0], C), H(x, O[0]), N(x, x, Z), Q(x, T) ? -1 : (W(O[0]) === B[31] >> 7 && K(O[0], u, O[0]), N(O[3], O[0], O[1]), 0);
  }
  function X(O, B, q) {
    const x = new Uint8Array(32), T = [n(), n(), n(), n()], Z = [n(), n(), n(), n()];
    if (q.length !== e.SIGNATURE_LENGTH)
      throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);
    if (Y(Z, O))
      return !1;
    const it = new r.SHA512();
    it.update(q.subarray(0, 32)), it.update(O), it.update(B);
    const et = it.digest();
    return f(et), h(T, Z, et), c(Z, q.subarray(32)), L(T, Z), o(x, T), !V(q, x);
  }
  e.verify = X;
  function g(O) {
    let B = [n(), n(), n(), n()];
    if (Y(B, O))
      throw new Error("Ed25519: invalid public key");
    let q = n(), x = n(), T = B[1];
    j(q, p, T), K(x, p, T), st(x, x), N(q, q, x);
    let Z = new Uint8Array(32);
    return z(Z, q), Z;
  }
  e.convertPublicKeyToX25519 = g;
  function F(O) {
    const B = (0, r.hash)(O.subarray(0, 32));
    B[0] &= 248, B[31] &= 127, B[31] |= 64;
    const q = new Uint8Array(B.subarray(0, 32));
    return (0, i.wipe)(B), q;
  }
  e.convertSecretKeyToX25519 = F;
})(o2);
const gD = "EdDSA", mD = "JWT", I0 = ".", fl = "base64url", Hb = "utf8", jb = "utf8", vD = ":", bD = "did", yD = "key", om = "base58btc", wD = "z", AD = "K36", _D = 32, ED = (e) => JSON.stringify(e, (t, r) => typeof r == "bigint" ? r.toString() + "n" : r), MD = (e) => {
  const t = /([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g, r = e.replace(t, '$1"$2n"$3');
  return JSON.parse(r, (i, n) => typeof n == "string" && n.match(/^\d+n$/) ? BigInt(n.substring(0, n.length - 1)) : n);
};
function Xh(e) {
  if (typeof e != "string")
    throw new Error(`Cannot safe json parse value of type ${typeof e}`);
  try {
    return MD(e);
  } catch {
    return e;
  }
}
function Po(e) {
  return typeof e == "string" ? e : ED(e) || "";
}
function am(e) {
  return Xh(Jr(kr(e, fl), Hb));
}
function D0(e) {
  return Jr(kr(Po(e), Hb), fl);
}
function Kb(e) {
  const t = kr(AD, om), r = wD + Jr(ap([t, e]), om);
  return [bD, yD, r].join(vD);
}
function SD(e) {
  return Jr(e, fl);
}
function xD(e) {
  return kr(e, fl);
}
function ID(e) {
  return kr([D0(e.header), D0(e.payload)].join(I0), jb);
}
function DD(e) {
  return [
    D0(e.header),
    D0(e.payload),
    SD(e.signature)
  ].join(I0);
}
function cp(e) {
  const t = e.split(I0), r = am(t[0]), i = am(t[1]), n = xD(t[2]), s = kr(t.slice(0, 2).join(I0), jb);
  return { header: r, payload: i, signature: n, data: s };
}
function hm(e = Kh.randomBytes(_D)) {
  return o2.generateKeyPairFromSeed(e);
}
async function CD(e, t, r, i, n = Zt.fromMiliseconds(Date.now())) {
  const s = { alg: gD, typ: mD }, u = Kb(i.publicKey), p = n + r, b = { iss: u, sub: e, aud: t, iat: n, exp: p }, m = ID({ header: s, payload: b }), w = o2.sign(i.secretKey, m);
  return DD({ header: s, payload: b, signature: w });
}
const ND = { waku: { publish: "waku_publish", batchPublish: "waku_batchPublish", subscribe: "waku_subscribe", batchSubscribe: "waku_batchSubscribe", subscription: "waku_subscription", unsubscribe: "waku_unsubscribe", batchUnsubscribe: "waku_batchUnsubscribe", batchFetchMessages: "waku_batchFetchMessages" }, irn: { publish: "irn_publish", batchPublish: "irn_batchPublish", subscribe: "irn_subscribe", batchSubscribe: "irn_batchSubscribe", subscription: "irn_subscription", unsubscribe: "irn_unsubscribe", batchUnsubscribe: "irn_batchUnsubscribe", batchFetchMessages: "irn_batchFetchMessages" }, iridium: { publish: "iridium_publish", batchPublish: "iridium_batchPublish", subscribe: "iridium_subscribe", batchSubscribe: "iridium_batchSubscribe", subscription: "iridium_subscription", unsubscribe: "iridium_unsubscribe", batchUnsubscribe: "iridium_batchUnsubscribe", batchFetchMessages: "iridium_batchFetchMessages" } }, PD = ":";
function Gb(e) {
  const [t, r] = e.split(PD);
  return { namespace: t, reference: r };
}
function fm(e, t = []) {
  const r = [];
  return Object.keys(e).forEach((i) => {
    if (t.length && !t.includes(i))
      return;
    const n = e[i];
    r.push(...n.accounts);
  }), r;
}
function Kd(e = [], t = []) {
  return [.../* @__PURE__ */ new Set([...e, ...t])];
}
var Qb = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function RD(e) {
  var t = e.default;
  if (typeof t == "function") {
    var r = function() {
      return t.apply(this, arguments);
    };
    r.prototype = t.prototype;
  } else
    r = {};
  return Object.defineProperty(r, "__esModule", { value: !0 }), Object.keys(e).forEach(function(i) {
    var n = Object.getOwnPropertyDescriptor(e, i);
    Object.defineProperty(r, i, n.get ? n : { enumerable: !0, get: function() {
      return e[i];
    } });
  }), r;
}
var OD = { exports: {} };
/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/
(function(e) {
  (function() {
    var t = "input is invalid type", r = "finalize already called", i = typeof window == "object", n = i ? window : {};
    n.JS_SHA3_NO_WINDOW && (i = !1);
    var s = !i && typeof self == "object", u = !n.JS_SHA3_NO_NODE_JS && typeof process == "object" && process.versions && process.versions.node;
    u ? n = Qb : s && (n = self);
    var p = !n.JS_SHA3_NO_COMMON_JS && !0 && e.exports, b = !n.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer < "u", m = "0123456789abcdef".split(""), w = [31, 7936, 2031616, 520093696], S = [4, 1024, 262144, 67108864], C = [1, 256, 65536, 16777216], D = [6, 1536, 393216, 100663296], P = [0, 8, 16, 24], k = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648], z = [224, 256, 384, 512], V = [128, 256], Q = ["hex", "buffer", "arrayBuffer", "array", "digest"], W = { 128: 168, 256: 136 };
    (n.JS_SHA3_NO_NODE_JS || !Array.isArray) && (Array.isArray = function(g) {
      return Object.prototype.toString.call(g) === "[object Array]";
    }), b && (n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView) && (ArrayBuffer.isView = function(g) {
      return typeof g == "object" && g.buffer && g.buffer.constructor === ArrayBuffer;
    });
    for (var $ = function(g, F, O) {
      return function(B) {
        return new _(g, F, g).update(B)[O]();
      };
    }, j = function(g, F, O) {
      return function(B, q) {
        return new _(g, F, q).update(B)[O]();
      };
    }, K = function(g, F, O) {
      return function(B, q, x, T) {
        return h["cshake" + g].update(B, q, x, T)[O]();
      };
    }, N = function(g, F, O) {
      return function(B, q, x, T) {
        return h["kmac" + g].update(B, q, x, T)[O]();
      };
    }, H = function(g, F, O, B) {
      for (var q = 0; q < Q.length; ++q) {
        var x = Q[q];
        g[x] = F(O, B, x);
      }
      return g;
    }, st = function(g, F) {
      var O = $(g, F, "hex");
      return O.create = function() {
        return new _(g, F, g);
      }, O.update = function(B) {
        return O.create().update(B);
      }, H(O, $, g, F);
    }, ct = function(g, F) {
      var O = j(g, F, "hex");
      return O.create = function(B) {
        return new _(g, F, B);
      }, O.update = function(B, q) {
        return O.create(q).update(B);
      }, H(O, j, g, F);
    }, L = function(g, F) {
      var O = W[g], B = K(g, F, "hex");
      return B.create = function(q, x, T) {
        return !x && !T ? h["shake" + g].create(q) : new _(g, F, q).bytepad([x, T], O);
      }, B.update = function(q, x, T, Z) {
        return B.create(x, T, Z).update(q);
      }, H(B, K, g, F);
    }, I = function(g, F) {
      var O = W[g], B = N(g, F, "hex");
      return B.create = function(q, x, T) {
        return new Y(g, F, x).bytepad(["KMAC", T], O).bytepad([q], O);
      }, B.update = function(q, x, T, Z) {
        return B.create(q, T, Z).update(x);
      }, H(B, N, g, F);
    }, o = [{ name: "keccak", padding: C, bits: z, createMethod: st }, { name: "sha3", padding: D, bits: z, createMethod: st }, { name: "shake", padding: w, bits: V, createMethod: ct }, { name: "cshake", padding: S, bits: V, createMethod: L }, { name: "kmac", padding: S, bits: V, createMethod: I }], h = {}, c = [], v = 0; v < o.length; ++v)
      for (var y = o[v], M = y.bits, E = 0; E < M.length; ++E) {
        var d = y.name + "_" + M[E];
        if (c.push(d), h[d] = y.createMethod(M[E], y.padding), y.name !== "sha3") {
          var f = y.name + M[E];
          c.push(f), h[f] = h[d];
        }
      }
    function _(g, F, O) {
      this.blocks = [], this.s = [], this.padding = F, this.outputBits = O, this.reset = !0, this.finalized = !1, this.block = 0, this.start = 0, this.blockCount = 1600 - (g << 1) >> 5, this.byteCount = this.blockCount << 2, this.outputBlocks = O >> 5, this.extraBytes = (O & 31) >> 3;
      for (var B = 0; B < 50; ++B)
        this.s[B] = 0;
    }
    _.prototype.update = function(g) {
      if (this.finalized)
        throw new Error(r);
      var F, O = typeof g;
      if (O !== "string") {
        if (O === "object") {
          if (g === null)
            throw new Error(t);
          if (b && g.constructor === ArrayBuffer)
            g = new Uint8Array(g);
          else if (!Array.isArray(g) && (!b || !ArrayBuffer.isView(g)))
            throw new Error(t);
        } else
          throw new Error(t);
        F = !0;
      }
      for (var B = this.blocks, q = this.byteCount, x = g.length, T = this.blockCount, Z = 0, it = this.s, et, pt; Z < x; ) {
        if (this.reset)
          for (this.reset = !1, B[0] = this.block, et = 1; et < T + 1; ++et)
            B[et] = 0;
        if (F)
          for (et = this.start; Z < x && et < q; ++Z)
            B[et >> 2] |= g[Z] << P[et++ & 3];
        else
          for (et = this.start; Z < x && et < q; ++Z)
            pt = g.charCodeAt(Z), pt < 128 ? B[et >> 2] |= pt << P[et++ & 3] : pt < 2048 ? (B[et >> 2] |= (192 | pt >> 6) << P[et++ & 3], B[et >> 2] |= (128 | pt & 63) << P[et++ & 3]) : pt < 55296 || pt >= 57344 ? (B[et >> 2] |= (224 | pt >> 12) << P[et++ & 3], B[et >> 2] |= (128 | pt >> 6 & 63) << P[et++ & 3], B[et >> 2] |= (128 | pt & 63) << P[et++ & 3]) : (pt = 65536 + ((pt & 1023) << 10 | g.charCodeAt(++Z) & 1023), B[et >> 2] |= (240 | pt >> 18) << P[et++ & 3], B[et >> 2] |= (128 | pt >> 12 & 63) << P[et++ & 3], B[et >> 2] |= (128 | pt >> 6 & 63) << P[et++ & 3], B[et >> 2] |= (128 | pt & 63) << P[et++ & 3]);
        if (this.lastByteIndex = et, et >= q) {
          for (this.start = et - q, this.block = B[T], et = 0; et < T; ++et)
            it[et] ^= B[et];
          X(it), this.reset = !0;
        } else
          this.start = et;
      }
      return this;
    }, _.prototype.encode = function(g, F) {
      var O = g & 255, B = 1, q = [O];
      for (g = g >> 8, O = g & 255; O > 0; )
        q.unshift(O), g = g >> 8, O = g & 255, ++B;
      return F ? q.push(B) : q.unshift(B), this.update(q), q.length;
    }, _.prototype.encodeString = function(g) {
      var F, O = typeof g;
      if (O !== "string") {
        if (O === "object") {
          if (g === null)
            throw new Error(t);
          if (b && g.constructor === ArrayBuffer)
            g = new Uint8Array(g);
          else if (!Array.isArray(g) && (!b || !ArrayBuffer.isView(g)))
            throw new Error(t);
        } else
          throw new Error(t);
        F = !0;
      }
      var B = 0, q = g.length;
      if (F)
        B = q;
      else
        for (var x = 0; x < g.length; ++x) {
          var T = g.charCodeAt(x);
          T < 128 ? B += 1 : T < 2048 ? B += 2 : T < 55296 || T >= 57344 ? B += 3 : (T = 65536 + ((T & 1023) << 10 | g.charCodeAt(++x) & 1023), B += 4);
        }
      return B += this.encode(B * 8), this.update(g), B;
    }, _.prototype.bytepad = function(g, F) {
      for (var O = this.encode(F), B = 0; B < g.length; ++B)
        O += this.encodeString(g[B]);
      var q = F - O % F, x = [];
      return x.length = q, this.update(x), this;
    }, _.prototype.finalize = function() {
      if (!this.finalized) {
        this.finalized = !0;
        var g = this.blocks, F = this.lastByteIndex, O = this.blockCount, B = this.s;
        if (g[F >> 2] |= this.padding[F & 3], this.lastByteIndex === this.byteCount)
          for (g[0] = g[O], F = 1; F < O + 1; ++F)
            g[F] = 0;
        for (g[O - 1] |= 2147483648, F = 0; F < O; ++F)
          B[F] ^= g[F];
        X(B);
      }
    }, _.prototype.toString = _.prototype.hex = function() {
      this.finalize();
      for (var g = this.blockCount, F = this.s, O = this.outputBlocks, B = this.extraBytes, q = 0, x = 0, T = "", Z; x < O; ) {
        for (q = 0; q < g && x < O; ++q, ++x)
          Z = F[q], T += m[Z >> 4 & 15] + m[Z & 15] + m[Z >> 12 & 15] + m[Z >> 8 & 15] + m[Z >> 20 & 15] + m[Z >> 16 & 15] + m[Z >> 28 & 15] + m[Z >> 24 & 15];
        x % g === 0 && (X(F), q = 0);
      }
      return B && (Z = F[q], T += m[Z >> 4 & 15] + m[Z & 15], B > 1 && (T += m[Z >> 12 & 15] + m[Z >> 8 & 15]), B > 2 && (T += m[Z >> 20 & 15] + m[Z >> 16 & 15])), T;
    }, _.prototype.arrayBuffer = function() {
      this.finalize();
      var g = this.blockCount, F = this.s, O = this.outputBlocks, B = this.extraBytes, q = 0, x = 0, T = this.outputBits >> 3, Z;
      B ? Z = new ArrayBuffer(O + 1 << 2) : Z = new ArrayBuffer(T);
      for (var it = new Uint32Array(Z); x < O; ) {
        for (q = 0; q < g && x < O; ++q, ++x)
          it[x] = F[q];
        x % g === 0 && X(F);
      }
      return B && (it[q] = F[q], Z = Z.slice(0, T)), Z;
    }, _.prototype.buffer = _.prototype.arrayBuffer, _.prototype.digest = _.prototype.array = function() {
      this.finalize();
      for (var g = this.blockCount, F = this.s, O = this.outputBlocks, B = this.extraBytes, q = 0, x = 0, T = [], Z, it; x < O; ) {
        for (q = 0; q < g && x < O; ++q, ++x)
          Z = x << 2, it = F[q], T[Z] = it & 255, T[Z + 1] = it >> 8 & 255, T[Z + 2] = it >> 16 & 255, T[Z + 3] = it >> 24 & 255;
        x % g === 0 && X(F);
      }
      return B && (Z = x << 2, it = F[q], T[Z] = it & 255, B > 1 && (T[Z + 1] = it >> 8 & 255), B > 2 && (T[Z + 2] = it >> 16 & 255)), T;
    };
    function Y(g, F, O) {
      _.call(this, g, F, O);
    }
    Y.prototype = new _(), Y.prototype.finalize = function() {
      return this.encode(this.outputBits, !0), _.prototype.finalize.call(this);
    };
    var X = function(g) {
      var F, O, B, q, x, T, Z, it, et, pt, gt, _t, re, bt, Et, Qt, lt, yt, Wt, ft, wt, Kt, ut, It, Jt, mt, Pt, te, vt, Rt, ue, Tt, Yt, ce, Ft, Vt, de, Mt, Lt, se, St, kt, ie, Dt, jt, oe, Ct, zt, he, xt, qt, fe, Nt, Xt, be, Ht, Gt, ze, $e, He, je, Ke, Ie;
      for (B = 0; B < 48; B += 2)
        q = g[0] ^ g[10] ^ g[20] ^ g[30] ^ g[40], x = g[1] ^ g[11] ^ g[21] ^ g[31] ^ g[41], T = g[2] ^ g[12] ^ g[22] ^ g[32] ^ g[42], Z = g[3] ^ g[13] ^ g[23] ^ g[33] ^ g[43], it = g[4] ^ g[14] ^ g[24] ^ g[34] ^ g[44], et = g[5] ^ g[15] ^ g[25] ^ g[35] ^ g[45], pt = g[6] ^ g[16] ^ g[26] ^ g[36] ^ g[46], gt = g[7] ^ g[17] ^ g[27] ^ g[37] ^ g[47], _t = g[8] ^ g[18] ^ g[28] ^ g[38] ^ g[48], re = g[9] ^ g[19] ^ g[29] ^ g[39] ^ g[49], F = _t ^ (T << 1 | Z >>> 31), O = re ^ (Z << 1 | T >>> 31), g[0] ^= F, g[1] ^= O, g[10] ^= F, g[11] ^= O, g[20] ^= F, g[21] ^= O, g[30] ^= F, g[31] ^= O, g[40] ^= F, g[41] ^= O, F = q ^ (it << 1 | et >>> 31), O = x ^ (et << 1 | it >>> 31), g[2] ^= F, g[3] ^= O, g[12] ^= F, g[13] ^= O, g[22] ^= F, g[23] ^= O, g[32] ^= F, g[33] ^= O, g[42] ^= F, g[43] ^= O, F = T ^ (pt << 1 | gt >>> 31), O = Z ^ (gt << 1 | pt >>> 31), g[4] ^= F, g[5] ^= O, g[14] ^= F, g[15] ^= O, g[24] ^= F, g[25] ^= O, g[34] ^= F, g[35] ^= O, g[44] ^= F, g[45] ^= O, F = it ^ (_t << 1 | re >>> 31), O = et ^ (re << 1 | _t >>> 31), g[6] ^= F, g[7] ^= O, g[16] ^= F, g[17] ^= O, g[26] ^= F, g[27] ^= O, g[36] ^= F, g[37] ^= O, g[46] ^= F, g[47] ^= O, F = pt ^ (q << 1 | x >>> 31), O = gt ^ (x << 1 | q >>> 31), g[8] ^= F, g[9] ^= O, g[18] ^= F, g[19] ^= O, g[28] ^= F, g[29] ^= O, g[38] ^= F, g[39] ^= O, g[48] ^= F, g[49] ^= O, bt = g[0], Et = g[1], oe = g[11] << 4 | g[10] >>> 28, Ct = g[10] << 4 | g[11] >>> 28, te = g[20] << 3 | g[21] >>> 29, vt = g[21] << 3 | g[20] >>> 29, He = g[31] << 9 | g[30] >>> 23, je = g[30] << 9 | g[31] >>> 23, kt = g[40] << 18 | g[41] >>> 14, ie = g[41] << 18 | g[40] >>> 14, ce = g[2] << 1 | g[3] >>> 31, Ft = g[3] << 1 | g[2] >>> 31, Qt = g[13] << 12 | g[12] >>> 20, lt = g[12] << 12 | g[13] >>> 20, zt = g[22] << 10 | g[23] >>> 22, he = g[23] << 10 | g[22] >>> 22, Rt = g[33] << 13 | g[32] >>> 19, ue = g[32] << 13 | g[33] >>> 19, Ke = g[42] << 2 | g[43] >>> 30, Ie = g[43] << 2 | g[42] >>> 30, Xt = g[5] << 30 | g[4] >>> 2, be = g[4] << 30 | g[5] >>> 2, Vt = g[14] << 6 | g[15] >>> 26, de = g[15] << 6 | g[14] >>> 26, yt = g[25] << 11 | g[24] >>> 21, Wt = g[24] << 11 | g[25] >>> 21, xt = g[34] << 15 | g[35] >>> 17, qt = g[35] << 15 | g[34] >>> 17, Tt = g[45] << 29 | g[44] >>> 3, Yt = g[44] << 29 | g[45] >>> 3, It = g[6] << 28 | g[7] >>> 4, Jt = g[7] << 28 | g[6] >>> 4, Ht = g[17] << 23 | g[16] >>> 9, Gt = g[16] << 23 | g[17] >>> 9, Mt = g[26] << 25 | g[27] >>> 7, Lt = g[27] << 25 | g[26] >>> 7, ft = g[36] << 21 | g[37] >>> 11, wt = g[37] << 21 | g[36] >>> 11, fe = g[47] << 24 | g[46] >>> 8, Nt = g[46] << 24 | g[47] >>> 8, Dt = g[8] << 27 | g[9] >>> 5, jt = g[9] << 27 | g[8] >>> 5, mt = g[18] << 20 | g[19] >>> 12, Pt = g[19] << 20 | g[18] >>> 12, ze = g[29] << 7 | g[28] >>> 25, $e = g[28] << 7 | g[29] >>> 25, se = g[38] << 8 | g[39] >>> 24, St = g[39] << 8 | g[38] >>> 24, Kt = g[48] << 14 | g[49] >>> 18, ut = g[49] << 14 | g[48] >>> 18, g[0] = bt ^ ~Qt & yt, g[1] = Et ^ ~lt & Wt, g[10] = It ^ ~mt & te, g[11] = Jt ^ ~Pt & vt, g[20] = ce ^ ~Vt & Mt, g[21] = Ft ^ ~de & Lt, g[30] = Dt ^ ~oe & zt, g[31] = jt ^ ~Ct & he, g[40] = Xt ^ ~Ht & ze, g[41] = be ^ ~Gt & $e, g[2] = Qt ^ ~yt & ft, g[3] = lt ^ ~Wt & wt, g[12] = mt ^ ~te & Rt, g[13] = Pt ^ ~vt & ue, g[22] = Vt ^ ~Mt & se, g[23] = de ^ ~Lt & St, g[32] = oe ^ ~zt & xt, g[33] = Ct ^ ~he & qt, g[42] = Ht ^ ~ze & He, g[43] = Gt ^ ~$e & je, g[4] = yt ^ ~ft & Kt, g[5] = Wt ^ ~wt & ut, g[14] = te ^ ~Rt & Tt, g[15] = vt ^ ~ue & Yt, g[24] = Mt ^ ~se & kt, g[25] = Lt ^ ~St & ie, g[34] = zt ^ ~xt & fe, g[35] = he ^ ~qt & Nt, g[44] = ze ^ ~He & Ke, g[45] = $e ^ ~je & Ie, g[6] = ft ^ ~Kt & bt, g[7] = wt ^ ~ut & Et, g[16] = Rt ^ ~Tt & It, g[17] = ue ^ ~Yt & Jt, g[26] = se ^ ~kt & ce, g[27] = St ^ ~ie & Ft, g[36] = xt ^ ~fe & Dt, g[37] = qt ^ ~Nt & jt, g[46] = He ^ ~Ke & Xt, g[47] = je ^ ~Ie & be, g[8] = Kt ^ ~bt & Qt, g[9] = ut ^ ~Et & lt, g[18] = Tt ^ ~It & mt, g[19] = Yt ^ ~Jt & Pt, g[28] = kt ^ ~ce & Vt, g[29] = ie ^ ~Ft & de, g[38] = fe ^ ~Dt & oe, g[39] = Nt ^ ~jt & Ct, g[48] = Ke ^ ~Xt & Ht, g[49] = Ie ^ ~be & Gt, g[0] ^= k[B], g[1] ^= k[B + 1];
    };
    if (p)
      e.exports = h;
    else
      for (v = 0; v < c.length; ++v)
        n[c[v]] = h[c[v]];
  })();
})(OD);
const BD = "logger/5.7.0";
let um = !1, cm = !1;
const o0 = { debug: 1, default: 2, info: 2, warning: 3, error: 4, off: 5 };
let lm = o0.default, Gd = null;
function TD() {
  try {
    const e = [];
    if (["NFD", "NFC", "NFKD", "NFKC"].forEach((t) => {
      try {
        if ("test".normalize(t) !== "test")
          throw new Error("bad normalize");
      } catch {
        e.push(t);
      }
    }), e.length)
      throw new Error("missing " + e.join(", "));
    if ("é".normalize("NFD") !== "é")
      throw new Error("broken implementation");
  } catch (e) {
    return e.message;
  }
  return null;
}
const dm = TD();
var lp;
(function(e) {
  e.DEBUG = "DEBUG", e.INFO = "INFO", e.WARNING = "WARNING", e.ERROR = "ERROR", e.OFF = "OFF";
})(lp || (lp = {}));
var Yn;
(function(e) {
  e.UNKNOWN_ERROR = "UNKNOWN_ERROR", e.NOT_IMPLEMENTED = "NOT_IMPLEMENTED", e.UNSUPPORTED_OPERATION = "UNSUPPORTED_OPERATION", e.NETWORK_ERROR = "NETWORK_ERROR", e.SERVER_ERROR = "SERVER_ERROR", e.TIMEOUT = "TIMEOUT", e.BUFFER_OVERRUN = "BUFFER_OVERRUN", e.NUMERIC_FAULT = "NUMERIC_FAULT", e.MISSING_NEW = "MISSING_NEW", e.INVALID_ARGUMENT = "INVALID_ARGUMENT", e.MISSING_ARGUMENT = "MISSING_ARGUMENT", e.UNEXPECTED_ARGUMENT = "UNEXPECTED_ARGUMENT", e.CALL_EXCEPTION = "CALL_EXCEPTION", e.INSUFFICIENT_FUNDS = "INSUFFICIENT_FUNDS", e.NONCE_EXPIRED = "NONCE_EXPIRED", e.REPLACEMENT_UNDERPRICED = "REPLACEMENT_UNDERPRICED", e.UNPREDICTABLE_GAS_LIMIT = "UNPREDICTABLE_GAS_LIMIT", e.TRANSACTION_REPLACED = "TRANSACTION_REPLACED", e.ACTION_REJECTED = "ACTION_REJECTED";
})(Yn || (Yn = {}));
const pm = "0123456789abcdef";
let Li = class Fr {
  constructor(t) {
    Object.defineProperty(this, "version", { enumerable: !0, value: t, writable: !1 });
  }
  _log(t, r) {
    const i = t.toLowerCase();
    o0[i] == null && this.throwArgumentError("invalid log level name", "logLevel", t), !(lm > o0[i]) && console.log.apply(console, r);
  }
  debug(...t) {
    this._log(Fr.levels.DEBUG, t);
  }
  info(...t) {
    this._log(Fr.levels.INFO, t);
  }
  warn(...t) {
    this._log(Fr.levels.WARNING, t);
  }
  makeError(t, r, i) {
    if (cm)
      return this.makeError("censored error", r, {});
    r || (r = Fr.errors.UNKNOWN_ERROR), i || (i = {});
    const n = [];
    Object.keys(i).forEach((b) => {
      const m = i[b];
      try {
        if (m instanceof Uint8Array) {
          let w = "";
          for (let S = 0; S < m.length; S++)
            w += pm[m[S] >> 4], w += pm[m[S] & 15];
          n.push(b + "=Uint8Array(0x" + w + ")");
        } else
          n.push(b + "=" + JSON.stringify(m));
      } catch {
        n.push(b + "=" + JSON.stringify(i[b].toString()));
      }
    }), n.push(`code=${r}`), n.push(`version=${this.version}`);
    const s = t;
    let u = "";
    switch (r) {
      case Yn.NUMERIC_FAULT: {
        u = "NUMERIC_FAULT";
        const b = t;
        switch (b) {
          case "overflow":
          case "underflow":
          case "division-by-zero":
            u += "-" + b;
            break;
          case "negative-power":
          case "negative-width":
            u += "-unsupported";
            break;
          case "unbound-bitwise-result":
            u += "-unbound-result";
            break;
        }
        break;
      }
      case Yn.CALL_EXCEPTION:
      case Yn.INSUFFICIENT_FUNDS:
      case Yn.MISSING_NEW:
      case Yn.NONCE_EXPIRED:
      case Yn.REPLACEMENT_UNDERPRICED:
      case Yn.TRANSACTION_REPLACED:
      case Yn.UNPREDICTABLE_GAS_LIMIT:
        u = r;
        break;
    }
    u && (t += " [ See: https://links.ethers.org/v5-errors-" + u + " ]"), n.length && (t += " (" + n.join(", ") + ")");
    const p = new Error(t);
    return p.reason = s, p.code = r, Object.keys(i).forEach(function(b) {
      p[b] = i[b];
    }), p;
  }
  throwError(t, r, i) {
    throw this.makeError(t, r, i);
  }
  throwArgumentError(t, r, i) {
    return this.throwError(t, Fr.errors.INVALID_ARGUMENT, { argument: r, value: i });
  }
  assert(t, r, i, n) {
    t || this.throwError(r, i, n);
  }
  assertArgument(t, r, i, n) {
    t || this.throwArgumentError(r, i, n);
  }
  checkNormalize(t) {
    dm && this.throwError("platform missing String.prototype.normalize", Fr.errors.UNSUPPORTED_OPERATION, { operation: "String.prototype.normalize", form: dm });
  }
  checkSafeUint53(t, r) {
    typeof t == "number" && (r == null && (r = "value not safe"), (t < 0 || t >= 9007199254740991) && this.throwError(r, Fr.errors.NUMERIC_FAULT, { operation: "checkSafeInteger", fault: "out-of-safe-range", value: t }), t % 1 && this.throwError(r, Fr.errors.NUMERIC_FAULT, { operation: "checkSafeInteger", fault: "non-integer", value: t }));
  }
  checkArgumentCount(t, r, i) {
    i ? i = ": " + i : i = "", t < r && this.throwError("missing argument" + i, Fr.errors.MISSING_ARGUMENT, { count: t, expectedCount: r }), t > r && this.throwError("too many arguments" + i, Fr.errors.UNEXPECTED_ARGUMENT, { count: t, expectedCount: r });
  }
  checkNew(t, r) {
    (t === Object || t == null) && this.throwError("missing new", Fr.errors.MISSING_NEW, { name: r.name });
  }
  checkAbstract(t, r) {
    t === r ? this.throwError("cannot instantiate abstract class " + JSON.stringify(r.name) + " directly; use a sub-class", Fr.errors.UNSUPPORTED_OPERATION, { name: t.name, operation: "new" }) : (t === Object || t == null) && this.throwError("missing new", Fr.errors.MISSING_NEW, { name: r.name });
  }
  static globalLogger() {
    return Gd || (Gd = new Fr(BD)), Gd;
  }
  static setCensorship(t, r) {
    if (!t && r && this.globalLogger().throwError("cannot permanently disable censorship", Fr.errors.UNSUPPORTED_OPERATION, { operation: "setCensorship" }), um) {
      if (!t)
        return;
      this.globalLogger().throwError("error censorship permanent", Fr.errors.UNSUPPORTED_OPERATION, { operation: "setCensorship" });
    }
    cm = !!t, um = !!r;
  }
  static setLogLevel(t) {
    const r = o0[t.toLowerCase()];
    if (r == null) {
      Fr.globalLogger().warn("invalid log level - " + t);
      return;
    }
    lm = r;
  }
  static from(t) {
    return new Fr(t);
  }
};
Li.errors = Yn, Li.levels = lp;
const FD = "bytes/5.7.0", ra = new Li(FD);
function Jb(e) {
  return !!e.toHexString;
}
function a0(e) {
  return e.slice || (e.slice = function() {
    const t = Array.prototype.slice.call(arguments);
    return a0(new Uint8Array(Array.prototype.slice.apply(e, t)));
  }), e;
}
function gm(e) {
  return typeof e == "number" && e == e && e % 1 === 0;
}
function Su(e) {
  if (e == null)
    return !1;
  if (e.constructor === Uint8Array)
    return !0;
  if (typeof e == "string" || !gm(e.length) || e.length < 0)
    return !1;
  for (let t = 0; t < e.length; t++) {
    const r = e[t];
    if (!gm(r) || r < 0 || r >= 256)
      return !1;
  }
  return !0;
}
function Yb(e, t) {
  if (t || (t = {}), typeof e == "number") {
    ra.checkSafeUint53(e, "invalid arrayify value");
    const r = [];
    for (; e; )
      r.unshift(e & 255), e = parseInt(String(e / 256));
    return r.length === 0 && r.push(0), a0(new Uint8Array(r));
  }
  if (t.allowMissingPrefix && typeof e == "string" && e.substring(0, 2) !== "0x" && (e = "0x" + e), Jb(e) && (e = e.toHexString()), Fh(e)) {
    let r = e.substring(2);
    r.length % 2 && (t.hexPad === "left" ? r = "0" + r : t.hexPad === "right" ? r += "0" : ra.throwArgumentError("hex data is odd-length", "value", e));
    const i = [];
    for (let n = 0; n < r.length; n += 2)
      i.push(parseInt(r.substring(n, n + 2), 16));
    return a0(new Uint8Array(i));
  }
  return Su(e) ? a0(new Uint8Array(e)) : ra.throwArgumentError("invalid arrayify value", "value", e);
}
function Fh(e, t) {
  return !(typeof e != "string" || !e.match(/^0x[0-9A-Fa-f]*$/) || t);
}
const Qd = "0123456789abcdef";
function Vb(e, t) {
  if (t || (t = {}), typeof e == "number") {
    ra.checkSafeUint53(e, "invalid hexlify value");
    let r = "";
    for (; e; )
      r = Qd[e & 15] + r, e = Math.floor(e / 16);
    return r.length ? (r.length % 2 && (r = "0" + r), "0x" + r) : "0x00";
  }
  if (typeof e == "bigint")
    return e = e.toString(16), e.length % 2 ? "0x0" + e : "0x" + e;
  if (t.allowMissingPrefix && typeof e == "string" && e.substring(0, 2) !== "0x" && (e = "0x" + e), Jb(e))
    return e.toHexString();
  if (Fh(e))
    return e.length % 2 && (t.hexPad === "left" ? e = "0x0" + e.substring(2) : t.hexPad === "right" ? e += "0" : ra.throwArgumentError("hex data is odd-length", "value", e)), e.toLowerCase();
  if (Su(e)) {
    let r = "0x";
    for (let i = 0; i < e.length; i++) {
      let n = e[i];
      r += Qd[(n & 240) >> 4] + Qd[n & 15];
    }
    return r;
  }
  return ra.throwArgumentError("invalid hexlify value", "value", e);
}
function C0(e, t) {
  for (typeof e != "string" ? e = Vb(e) : Fh(e) || ra.throwArgumentError("invalid hex string", "value", e), e.length > 2 * t + 2 && ra.throwArgumentError("value out of range", "value", arguments[1]); e.length < 2 * t + 2; )
    e = "0x0" + e.substring(2);
  return e;
}
var Wb = { exports: {} }, UD = {}, qD = Object.freeze({ __proto__: null, default: UD }), LD = RD(qD);
(function(e) {
  (function(t, r) {
    function i(o, h) {
      if (!o)
        throw new Error(h || "Assertion failed");
    }
    function n(o, h) {
      o.super_ = h;
      var c = function() {
      };
      c.prototype = h.prototype, o.prototype = new c(), o.prototype.constructor = o;
    }
    function s(o, h, c) {
      if (s.isBN(o))
        return o;
      this.negative = 0, this.words = null, this.length = 0, this.red = null, o !== null && ((h === "le" || h === "be") && (c = h, h = 10), this._init(o || 0, h || 10, c || "be"));
    }
    typeof t == "object" ? t.exports = s : r.BN = s, s.BN = s, s.wordSize = 26;
    var u;
    try {
      typeof window < "u" && typeof window.Buffer < "u" ? u = window.Buffer : u = LD.Buffer;
    } catch {
    }
    s.isBN = function(o) {
      return o instanceof s ? !0 : o !== null && typeof o == "object" && o.constructor.wordSize === s.wordSize && Array.isArray(o.words);
    }, s.max = function(o, h) {
      return o.cmp(h) > 0 ? o : h;
    }, s.min = function(o, h) {
      return o.cmp(h) < 0 ? o : h;
    }, s.prototype._init = function(o, h, c) {
      if (typeof o == "number")
        return this._initNumber(o, h, c);
      if (typeof o == "object")
        return this._initArray(o, h, c);
      h === "hex" && (h = 16), i(h === (h | 0) && h >= 2 && h <= 36), o = o.toString().replace(/\s+/g, "");
      var v = 0;
      o[0] === "-" && (v++, this.negative = 1), v < o.length && (h === 16 ? this._parseHex(o, v, c) : (this._parseBase(o, h, v), c === "le" && this._initArray(this.toArray(), h, c)));
    }, s.prototype._initNumber = function(o, h, c) {
      o < 0 && (this.negative = 1, o = -o), o < 67108864 ? (this.words = [o & 67108863], this.length = 1) : o < 4503599627370496 ? (this.words = [o & 67108863, o / 67108864 & 67108863], this.length = 2) : (i(o < 9007199254740992), this.words = [o & 67108863, o / 67108864 & 67108863, 1], this.length = 3), c === "le" && this._initArray(this.toArray(), h, c);
    }, s.prototype._initArray = function(o, h, c) {
      if (i(typeof o.length == "number"), o.length <= 0)
        return this.words = [0], this.length = 1, this;
      this.length = Math.ceil(o.length / 3), this.words = new Array(this.length);
      for (var v = 0; v < this.length; v++)
        this.words[v] = 0;
      var y, M, E = 0;
      if (c === "be")
        for (v = o.length - 1, y = 0; v >= 0; v -= 3)
          M = o[v] | o[v - 1] << 8 | o[v - 2] << 16, this.words[y] |= M << E & 67108863, this.words[y + 1] = M >>> 26 - E & 67108863, E += 24, E >= 26 && (E -= 26, y++);
      else if (c === "le")
        for (v = 0, y = 0; v < o.length; v += 3)
          M = o[v] | o[v + 1] << 8 | o[v + 2] << 16, this.words[y] |= M << E & 67108863, this.words[y + 1] = M >>> 26 - E & 67108863, E += 24, E >= 26 && (E -= 26, y++);
      return this._strip();
    };
    function p(o, h) {
      var c = o.charCodeAt(h);
      if (c >= 48 && c <= 57)
        return c - 48;
      if (c >= 65 && c <= 70)
        return c - 55;
      if (c >= 97 && c <= 102)
        return c - 87;
      i(!1, "Invalid character in " + o);
    }
    function b(o, h, c) {
      var v = p(o, c);
      return c - 1 >= h && (v |= p(o, c - 1) << 4), v;
    }
    s.prototype._parseHex = function(o, h, c) {
      this.length = Math.ceil((o.length - h) / 6), this.words = new Array(this.length);
      for (var v = 0; v < this.length; v++)
        this.words[v] = 0;
      var y = 0, M = 0, E;
      if (c === "be")
        for (v = o.length - 1; v >= h; v -= 2)
          E = b(o, h, v) << y, this.words[M] |= E & 67108863, y >= 18 ? (y -= 18, M += 1, this.words[M] |= E >>> 26) : y += 8;
      else {
        var d = o.length - h;
        for (v = d % 2 === 0 ? h + 1 : h; v < o.length; v += 2)
          E = b(o, h, v) << y, this.words[M] |= E & 67108863, y >= 18 ? (y -= 18, M += 1, this.words[M] |= E >>> 26) : y += 8;
      }
      this._strip();
    };
    function m(o, h, c, v) {
      for (var y = 0, M = 0, E = Math.min(o.length, c), d = h; d < E; d++) {
        var f = o.charCodeAt(d) - 48;
        y *= v, f >= 49 ? M = f - 49 + 10 : f >= 17 ? M = f - 17 + 10 : M = f, i(f >= 0 && M < v, "Invalid character"), y += M;
      }
      return y;
    }
    s.prototype._parseBase = function(o, h, c) {
      this.words = [0], this.length = 1;
      for (var v = 0, y = 1; y <= 67108863; y *= h)
        v++;
      v--, y = y / h | 0;
      for (var M = o.length - c, E = M % v, d = Math.min(M, M - E) + c, f = 0, _ = c; _ < d; _ += v)
        f = m(o, _, _ + v, h), this.imuln(y), this.words[0] + f < 67108864 ? this.words[0] += f : this._iaddn(f);
      if (E !== 0) {
        var Y = 1;
        for (f = m(o, _, o.length, h), _ = 0; _ < E; _++)
          Y *= h;
        this.imuln(Y), this.words[0] + f < 67108864 ? this.words[0] += f : this._iaddn(f);
      }
      this._strip();
    }, s.prototype.copy = function(o) {
      o.words = new Array(this.length);
      for (var h = 0; h < this.length; h++)
        o.words[h] = this.words[h];
      o.length = this.length, o.negative = this.negative, o.red = this.red;
    };
    function w(o, h) {
      o.words = h.words, o.length = h.length, o.negative = h.negative, o.red = h.red;
    }
    if (s.prototype._move = function(o) {
      w(o, this);
    }, s.prototype.clone = function() {
      var o = new s(null);
      return this.copy(o), o;
    }, s.prototype._expand = function(o) {
      for (; this.length < o; )
        this.words[this.length++] = 0;
      return this;
    }, s.prototype._strip = function() {
      for (; this.length > 1 && this.words[this.length - 1] === 0; )
        this.length--;
      return this._normSign();
    }, s.prototype._normSign = function() {
      return this.length === 1 && this.words[0] === 0 && (this.negative = 0), this;
    }, typeof Symbol < "u" && typeof Symbol.for == "function")
      try {
        s.prototype[Symbol.for("nodejs.util.inspect.custom")] = S;
      } catch {
        s.prototype.inspect = S;
      }
    else
      s.prototype.inspect = S;
    function S() {
      return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
    }
    var C = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"], D = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5], P = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176];
    s.prototype.toString = function(o, h) {
      o = o || 10, h = h | 0 || 1;
      var c;
      if (o === 16 || o === "hex") {
        c = "";
        for (var v = 0, y = 0, M = 0; M < this.length; M++) {
          var E = this.words[M], d = ((E << v | y) & 16777215).toString(16);
          y = E >>> 24 - v & 16777215, v += 2, v >= 26 && (v -= 26, M--), y !== 0 || M !== this.length - 1 ? c = C[6 - d.length] + d + c : c = d + c;
        }
        for (y !== 0 && (c = y.toString(16) + c); c.length % h !== 0; )
          c = "0" + c;
        return this.negative !== 0 && (c = "-" + c), c;
      }
      if (o === (o | 0) && o >= 2 && o <= 36) {
        var f = D[o], _ = P[o];
        c = "";
        var Y = this.clone();
        for (Y.negative = 0; !Y.isZero(); ) {
          var X = Y.modrn(_).toString(o);
          Y = Y.idivn(_), Y.isZero() ? c = X + c : c = C[f - X.length] + X + c;
        }
        for (this.isZero() && (c = "0" + c); c.length % h !== 0; )
          c = "0" + c;
        return this.negative !== 0 && (c = "-" + c), c;
      }
      i(!1, "Base should be between 2 and 36");
    }, s.prototype.toNumber = function() {
      var o = this.words[0];
      return this.length === 2 ? o += this.words[1] * 67108864 : this.length === 3 && this.words[2] === 1 ? o += 4503599627370496 + this.words[1] * 67108864 : this.length > 2 && i(!1, "Number can only safely store up to 53 bits"), this.negative !== 0 ? -o : o;
    }, s.prototype.toJSON = function() {
      return this.toString(16, 2);
    }, u && (s.prototype.toBuffer = function(o, h) {
      return this.toArrayLike(u, o, h);
    }), s.prototype.toArray = function(o, h) {
      return this.toArrayLike(Array, o, h);
    };
    var k = function(o, h) {
      return o.allocUnsafe ? o.allocUnsafe(h) : new o(h);
    };
    s.prototype.toArrayLike = function(o, h, c) {
      this._strip();
      var v = this.byteLength(), y = c || Math.max(1, v);
      i(v <= y, "byte array longer than desired length"), i(y > 0, "Requested array length <= 0");
      var M = k(o, y), E = h === "le" ? "LE" : "BE";
      return this["_toArrayLike" + E](M, v), M;
    }, s.prototype._toArrayLikeLE = function(o, h) {
      for (var c = 0, v = 0, y = 0, M = 0; y < this.length; y++) {
        var E = this.words[y] << M | v;
        o[c++] = E & 255, c < o.length && (o[c++] = E >> 8 & 255), c < o.length && (o[c++] = E >> 16 & 255), M === 6 ? (c < o.length && (o[c++] = E >> 24 & 255), v = 0, M = 0) : (v = E >>> 24, M += 2);
      }
      if (c < o.length)
        for (o[c++] = v; c < o.length; )
          o[c++] = 0;
    }, s.prototype._toArrayLikeBE = function(o, h) {
      for (var c = o.length - 1, v = 0, y = 0, M = 0; y < this.length; y++) {
        var E = this.words[y] << M | v;
        o[c--] = E & 255, c >= 0 && (o[c--] = E >> 8 & 255), c >= 0 && (o[c--] = E >> 16 & 255), M === 6 ? (c >= 0 && (o[c--] = E >> 24 & 255), v = 0, M = 0) : (v = E >>> 24, M += 2);
      }
      if (c >= 0)
        for (o[c--] = v; c >= 0; )
          o[c--] = 0;
    }, Math.clz32 ? s.prototype._countBits = function(o) {
      return 32 - Math.clz32(o);
    } : s.prototype._countBits = function(o) {
      var h = o, c = 0;
      return h >= 4096 && (c += 13, h >>>= 13), h >= 64 && (c += 7, h >>>= 7), h >= 8 && (c += 4, h >>>= 4), h >= 2 && (c += 2, h >>>= 2), c + h;
    }, s.prototype._zeroBits = function(o) {
      if (o === 0)
        return 26;
      var h = o, c = 0;
      return h & 8191 || (c += 13, h >>>= 13), h & 127 || (c += 7, h >>>= 7), h & 15 || (c += 4, h >>>= 4), h & 3 || (c += 2, h >>>= 2), h & 1 || c++, c;
    }, s.prototype.bitLength = function() {
      var o = this.words[this.length - 1], h = this._countBits(o);
      return (this.length - 1) * 26 + h;
    };
    function z(o) {
      for (var h = new Array(o.bitLength()), c = 0; c < h.length; c++) {
        var v = c / 26 | 0, y = c % 26;
        h[c] = o.words[v] >>> y & 1;
      }
      return h;
    }
    s.prototype.zeroBits = function() {
      if (this.isZero())
        return 0;
      for (var o = 0, h = 0; h < this.length; h++) {
        var c = this._zeroBits(this.words[h]);
        if (o += c, c !== 26)
          break;
      }
      return o;
    }, s.prototype.byteLength = function() {
      return Math.ceil(this.bitLength() / 8);
    }, s.prototype.toTwos = function(o) {
      return this.negative !== 0 ? this.abs().inotn(o).iaddn(1) : this.clone();
    }, s.prototype.fromTwos = function(o) {
      return this.testn(o - 1) ? this.notn(o).iaddn(1).ineg() : this.clone();
    }, s.prototype.isNeg = function() {
      return this.negative !== 0;
    }, s.prototype.neg = function() {
      return this.clone().ineg();
    }, s.prototype.ineg = function() {
      return this.isZero() || (this.negative ^= 1), this;
    }, s.prototype.iuor = function(o) {
      for (; this.length < o.length; )
        this.words[this.length++] = 0;
      for (var h = 0; h < o.length; h++)
        this.words[h] = this.words[h] | o.words[h];
      return this._strip();
    }, s.prototype.ior = function(o) {
      return i((this.negative | o.negative) === 0), this.iuor(o);
    }, s.prototype.or = function(o) {
      return this.length > o.length ? this.clone().ior(o) : o.clone().ior(this);
    }, s.prototype.uor = function(o) {
      return this.length > o.length ? this.clone().iuor(o) : o.clone().iuor(this);
    }, s.prototype.iuand = function(o) {
      var h;
      this.length > o.length ? h = o : h = this;
      for (var c = 0; c < h.length; c++)
        this.words[c] = this.words[c] & o.words[c];
      return this.length = h.length, this._strip();
    }, s.prototype.iand = function(o) {
      return i((this.negative | o.negative) === 0), this.iuand(o);
    }, s.prototype.and = function(o) {
      return this.length > o.length ? this.clone().iand(o) : o.clone().iand(this);
    }, s.prototype.uand = function(o) {
      return this.length > o.length ? this.clone().iuand(o) : o.clone().iuand(this);
    }, s.prototype.iuxor = function(o) {
      var h, c;
      this.length > o.length ? (h = this, c = o) : (h = o, c = this);
      for (var v = 0; v < c.length; v++)
        this.words[v] = h.words[v] ^ c.words[v];
      if (this !== h)
        for (; v < h.length; v++)
          this.words[v] = h.words[v];
      return this.length = h.length, this._strip();
    }, s.prototype.ixor = function(o) {
      return i((this.negative | o.negative) === 0), this.iuxor(o);
    }, s.prototype.xor = function(o) {
      return this.length > o.length ? this.clone().ixor(o) : o.clone().ixor(this);
    }, s.prototype.uxor = function(o) {
      return this.length > o.length ? this.clone().iuxor(o) : o.clone().iuxor(this);
    }, s.prototype.inotn = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = Math.ceil(o / 26) | 0, c = o % 26;
      this._expand(h), c > 0 && h--;
      for (var v = 0; v < h; v++)
        this.words[v] = ~this.words[v] & 67108863;
      return c > 0 && (this.words[v] = ~this.words[v] & 67108863 >> 26 - c), this._strip();
    }, s.prototype.notn = function(o) {
      return this.clone().inotn(o);
    }, s.prototype.setn = function(o, h) {
      i(typeof o == "number" && o >= 0);
      var c = o / 26 | 0, v = o % 26;
      return this._expand(c + 1), h ? this.words[c] = this.words[c] | 1 << v : this.words[c] = this.words[c] & ~(1 << v), this._strip();
    }, s.prototype.iadd = function(o) {
      var h;
      if (this.negative !== 0 && o.negative === 0)
        return this.negative = 0, h = this.isub(o), this.negative ^= 1, this._normSign();
      if (this.negative === 0 && o.negative !== 0)
        return o.negative = 0, h = this.isub(o), o.negative = 1, h._normSign();
      var c, v;
      this.length > o.length ? (c = this, v = o) : (c = o, v = this);
      for (var y = 0, M = 0; M < v.length; M++)
        h = (c.words[M] | 0) + (v.words[M] | 0) + y, this.words[M] = h & 67108863, y = h >>> 26;
      for (; y !== 0 && M < c.length; M++)
        h = (c.words[M] | 0) + y, this.words[M] = h & 67108863, y = h >>> 26;
      if (this.length = c.length, y !== 0)
        this.words[this.length] = y, this.length++;
      else if (c !== this)
        for (; M < c.length; M++)
          this.words[M] = c.words[M];
      return this;
    }, s.prototype.add = function(o) {
      var h;
      return o.negative !== 0 && this.negative === 0 ? (o.negative = 0, h = this.sub(o), o.negative ^= 1, h) : o.negative === 0 && this.negative !== 0 ? (this.negative = 0, h = o.sub(this), this.negative = 1, h) : this.length > o.length ? this.clone().iadd(o) : o.clone().iadd(this);
    }, s.prototype.isub = function(o) {
      if (o.negative !== 0) {
        o.negative = 0;
        var h = this.iadd(o);
        return o.negative = 1, h._normSign();
      } else if (this.negative !== 0)
        return this.negative = 0, this.iadd(o), this.negative = 1, this._normSign();
      var c = this.cmp(o);
      if (c === 0)
        return this.negative = 0, this.length = 1, this.words[0] = 0, this;
      var v, y;
      c > 0 ? (v = this, y = o) : (v = o, y = this);
      for (var M = 0, E = 0; E < y.length; E++)
        h = (v.words[E] | 0) - (y.words[E] | 0) + M, M = h >> 26, this.words[E] = h & 67108863;
      for (; M !== 0 && E < v.length; E++)
        h = (v.words[E] | 0) + M, M = h >> 26, this.words[E] = h & 67108863;
      if (M === 0 && E < v.length && v !== this)
        for (; E < v.length; E++)
          this.words[E] = v.words[E];
      return this.length = Math.max(this.length, E), v !== this && (this.negative = 1), this._strip();
    }, s.prototype.sub = function(o) {
      return this.clone().isub(o);
    };
    function V(o, h, c) {
      c.negative = h.negative ^ o.negative;
      var v = o.length + h.length | 0;
      c.length = v, v = v - 1 | 0;
      var y = o.words[0] | 0, M = h.words[0] | 0, E = y * M, d = E & 67108863, f = E / 67108864 | 0;
      c.words[0] = d;
      for (var _ = 1; _ < v; _++) {
        for (var Y = f >>> 26, X = f & 67108863, g = Math.min(_, h.length - 1), F = Math.max(0, _ - o.length + 1); F <= g; F++) {
          var O = _ - F | 0;
          y = o.words[O] | 0, M = h.words[F] | 0, E = y * M + X, Y += E / 67108864 | 0, X = E & 67108863;
        }
        c.words[_] = X | 0, f = Y | 0;
      }
      return f !== 0 ? c.words[_] = f | 0 : c.length--, c._strip();
    }
    var Q = function(o, h, c) {
      var v = o.words, y = h.words, M = c.words, E = 0, d, f, _, Y = v[0] | 0, X = Y & 8191, g = Y >>> 13, F = v[1] | 0, O = F & 8191, B = F >>> 13, q = v[2] | 0, x = q & 8191, T = q >>> 13, Z = v[3] | 0, it = Z & 8191, et = Z >>> 13, pt = v[4] | 0, gt = pt & 8191, _t = pt >>> 13, re = v[5] | 0, bt = re & 8191, Et = re >>> 13, Qt = v[6] | 0, lt = Qt & 8191, yt = Qt >>> 13, Wt = v[7] | 0, ft = Wt & 8191, wt = Wt >>> 13, Kt = v[8] | 0, ut = Kt & 8191, It = Kt >>> 13, Jt = v[9] | 0, mt = Jt & 8191, Pt = Jt >>> 13, te = y[0] | 0, vt = te & 8191, Rt = te >>> 13, ue = y[1] | 0, Tt = ue & 8191, Yt = ue >>> 13, ce = y[2] | 0, Ft = ce & 8191, Vt = ce >>> 13, de = y[3] | 0, Mt = de & 8191, Lt = de >>> 13, se = y[4] | 0, St = se & 8191, kt = se >>> 13, ie = y[5] | 0, Dt = ie & 8191, jt = ie >>> 13, oe = y[6] | 0, Ct = oe & 8191, zt = oe >>> 13, he = y[7] | 0, xt = he & 8191, qt = he >>> 13, fe = y[8] | 0, Nt = fe & 8191, Xt = fe >>> 13, be = y[9] | 0, Ht = be & 8191, Gt = be >>> 13;
      c.negative = o.negative ^ h.negative, c.length = 19, d = Math.imul(X, vt), f = Math.imul(X, Rt), f = f + Math.imul(g, vt) | 0, _ = Math.imul(g, Rt);
      var ze = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (ze >>> 26) | 0, ze &= 67108863, d = Math.imul(O, vt), f = Math.imul(O, Rt), f = f + Math.imul(B, vt) | 0, _ = Math.imul(B, Rt), d = d + Math.imul(X, Tt) | 0, f = f + Math.imul(X, Yt) | 0, f = f + Math.imul(g, Tt) | 0, _ = _ + Math.imul(g, Yt) | 0;
      var $e = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + ($e >>> 26) | 0, $e &= 67108863, d = Math.imul(x, vt), f = Math.imul(x, Rt), f = f + Math.imul(T, vt) | 0, _ = Math.imul(T, Rt), d = d + Math.imul(O, Tt) | 0, f = f + Math.imul(O, Yt) | 0, f = f + Math.imul(B, Tt) | 0, _ = _ + Math.imul(B, Yt) | 0, d = d + Math.imul(X, Ft) | 0, f = f + Math.imul(X, Vt) | 0, f = f + Math.imul(g, Ft) | 0, _ = _ + Math.imul(g, Vt) | 0;
      var He = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (He >>> 26) | 0, He &= 67108863, d = Math.imul(it, vt), f = Math.imul(it, Rt), f = f + Math.imul(et, vt) | 0, _ = Math.imul(et, Rt), d = d + Math.imul(x, Tt) | 0, f = f + Math.imul(x, Yt) | 0, f = f + Math.imul(T, Tt) | 0, _ = _ + Math.imul(T, Yt) | 0, d = d + Math.imul(O, Ft) | 0, f = f + Math.imul(O, Vt) | 0, f = f + Math.imul(B, Ft) | 0, _ = _ + Math.imul(B, Vt) | 0, d = d + Math.imul(X, Mt) | 0, f = f + Math.imul(X, Lt) | 0, f = f + Math.imul(g, Mt) | 0, _ = _ + Math.imul(g, Lt) | 0;
      var je = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (je >>> 26) | 0, je &= 67108863, d = Math.imul(gt, vt), f = Math.imul(gt, Rt), f = f + Math.imul(_t, vt) | 0, _ = Math.imul(_t, Rt), d = d + Math.imul(it, Tt) | 0, f = f + Math.imul(it, Yt) | 0, f = f + Math.imul(et, Tt) | 0, _ = _ + Math.imul(et, Yt) | 0, d = d + Math.imul(x, Ft) | 0, f = f + Math.imul(x, Vt) | 0, f = f + Math.imul(T, Ft) | 0, _ = _ + Math.imul(T, Vt) | 0, d = d + Math.imul(O, Mt) | 0, f = f + Math.imul(O, Lt) | 0, f = f + Math.imul(B, Mt) | 0, _ = _ + Math.imul(B, Lt) | 0, d = d + Math.imul(X, St) | 0, f = f + Math.imul(X, kt) | 0, f = f + Math.imul(g, St) | 0, _ = _ + Math.imul(g, kt) | 0;
      var Ke = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ke >>> 26) | 0, Ke &= 67108863, d = Math.imul(bt, vt), f = Math.imul(bt, Rt), f = f + Math.imul(Et, vt) | 0, _ = Math.imul(Et, Rt), d = d + Math.imul(gt, Tt) | 0, f = f + Math.imul(gt, Yt) | 0, f = f + Math.imul(_t, Tt) | 0, _ = _ + Math.imul(_t, Yt) | 0, d = d + Math.imul(it, Ft) | 0, f = f + Math.imul(it, Vt) | 0, f = f + Math.imul(et, Ft) | 0, _ = _ + Math.imul(et, Vt) | 0, d = d + Math.imul(x, Mt) | 0, f = f + Math.imul(x, Lt) | 0, f = f + Math.imul(T, Mt) | 0, _ = _ + Math.imul(T, Lt) | 0, d = d + Math.imul(O, St) | 0, f = f + Math.imul(O, kt) | 0, f = f + Math.imul(B, St) | 0, _ = _ + Math.imul(B, kt) | 0, d = d + Math.imul(X, Dt) | 0, f = f + Math.imul(X, jt) | 0, f = f + Math.imul(g, Dt) | 0, _ = _ + Math.imul(g, jt) | 0;
      var Ie = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ie >>> 26) | 0, Ie &= 67108863, d = Math.imul(lt, vt), f = Math.imul(lt, Rt), f = f + Math.imul(yt, vt) | 0, _ = Math.imul(yt, Rt), d = d + Math.imul(bt, Tt) | 0, f = f + Math.imul(bt, Yt) | 0, f = f + Math.imul(Et, Tt) | 0, _ = _ + Math.imul(Et, Yt) | 0, d = d + Math.imul(gt, Ft) | 0, f = f + Math.imul(gt, Vt) | 0, f = f + Math.imul(_t, Ft) | 0, _ = _ + Math.imul(_t, Vt) | 0, d = d + Math.imul(it, Mt) | 0, f = f + Math.imul(it, Lt) | 0, f = f + Math.imul(et, Mt) | 0, _ = _ + Math.imul(et, Lt) | 0, d = d + Math.imul(x, St) | 0, f = f + Math.imul(x, kt) | 0, f = f + Math.imul(T, St) | 0, _ = _ + Math.imul(T, kt) | 0, d = d + Math.imul(O, Dt) | 0, f = f + Math.imul(O, jt) | 0, f = f + Math.imul(B, Dt) | 0, _ = _ + Math.imul(B, jt) | 0, d = d + Math.imul(X, Ct) | 0, f = f + Math.imul(X, zt) | 0, f = f + Math.imul(g, Ct) | 0, _ = _ + Math.imul(g, zt) | 0;
      var lr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (lr >>> 26) | 0, lr &= 67108863, d = Math.imul(ft, vt), f = Math.imul(ft, Rt), f = f + Math.imul(wt, vt) | 0, _ = Math.imul(wt, Rt), d = d + Math.imul(lt, Tt) | 0, f = f + Math.imul(lt, Yt) | 0, f = f + Math.imul(yt, Tt) | 0, _ = _ + Math.imul(yt, Yt) | 0, d = d + Math.imul(bt, Ft) | 0, f = f + Math.imul(bt, Vt) | 0, f = f + Math.imul(Et, Ft) | 0, _ = _ + Math.imul(Et, Vt) | 0, d = d + Math.imul(gt, Mt) | 0, f = f + Math.imul(gt, Lt) | 0, f = f + Math.imul(_t, Mt) | 0, _ = _ + Math.imul(_t, Lt) | 0, d = d + Math.imul(it, St) | 0, f = f + Math.imul(it, kt) | 0, f = f + Math.imul(et, St) | 0, _ = _ + Math.imul(et, kt) | 0, d = d + Math.imul(x, Dt) | 0, f = f + Math.imul(x, jt) | 0, f = f + Math.imul(T, Dt) | 0, _ = _ + Math.imul(T, jt) | 0, d = d + Math.imul(O, Ct) | 0, f = f + Math.imul(O, zt) | 0, f = f + Math.imul(B, Ct) | 0, _ = _ + Math.imul(B, zt) | 0, d = d + Math.imul(X, xt) | 0, f = f + Math.imul(X, qt) | 0, f = f + Math.imul(g, xt) | 0, _ = _ + Math.imul(g, qt) | 0;
      var Ir = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ir >>> 26) | 0, Ir &= 67108863, d = Math.imul(ut, vt), f = Math.imul(ut, Rt), f = f + Math.imul(It, vt) | 0, _ = Math.imul(It, Rt), d = d + Math.imul(ft, Tt) | 0, f = f + Math.imul(ft, Yt) | 0, f = f + Math.imul(wt, Tt) | 0, _ = _ + Math.imul(wt, Yt) | 0, d = d + Math.imul(lt, Ft) | 0, f = f + Math.imul(lt, Vt) | 0, f = f + Math.imul(yt, Ft) | 0, _ = _ + Math.imul(yt, Vt) | 0, d = d + Math.imul(bt, Mt) | 0, f = f + Math.imul(bt, Lt) | 0, f = f + Math.imul(Et, Mt) | 0, _ = _ + Math.imul(Et, Lt) | 0, d = d + Math.imul(gt, St) | 0, f = f + Math.imul(gt, kt) | 0, f = f + Math.imul(_t, St) | 0, _ = _ + Math.imul(_t, kt) | 0, d = d + Math.imul(it, Dt) | 0, f = f + Math.imul(it, jt) | 0, f = f + Math.imul(et, Dt) | 0, _ = _ + Math.imul(et, jt) | 0, d = d + Math.imul(x, Ct) | 0, f = f + Math.imul(x, zt) | 0, f = f + Math.imul(T, Ct) | 0, _ = _ + Math.imul(T, zt) | 0, d = d + Math.imul(O, xt) | 0, f = f + Math.imul(O, qt) | 0, f = f + Math.imul(B, xt) | 0, _ = _ + Math.imul(B, qt) | 0, d = d + Math.imul(X, Nt) | 0, f = f + Math.imul(X, Xt) | 0, f = f + Math.imul(g, Nt) | 0, _ = _ + Math.imul(g, Xt) | 0;
      var dr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (dr >>> 26) | 0, dr &= 67108863, d = Math.imul(mt, vt), f = Math.imul(mt, Rt), f = f + Math.imul(Pt, vt) | 0, _ = Math.imul(Pt, Rt), d = d + Math.imul(ut, Tt) | 0, f = f + Math.imul(ut, Yt) | 0, f = f + Math.imul(It, Tt) | 0, _ = _ + Math.imul(It, Yt) | 0, d = d + Math.imul(ft, Ft) | 0, f = f + Math.imul(ft, Vt) | 0, f = f + Math.imul(wt, Ft) | 0, _ = _ + Math.imul(wt, Vt) | 0, d = d + Math.imul(lt, Mt) | 0, f = f + Math.imul(lt, Lt) | 0, f = f + Math.imul(yt, Mt) | 0, _ = _ + Math.imul(yt, Lt) | 0, d = d + Math.imul(bt, St) | 0, f = f + Math.imul(bt, kt) | 0, f = f + Math.imul(Et, St) | 0, _ = _ + Math.imul(Et, kt) | 0, d = d + Math.imul(gt, Dt) | 0, f = f + Math.imul(gt, jt) | 0, f = f + Math.imul(_t, Dt) | 0, _ = _ + Math.imul(_t, jt) | 0, d = d + Math.imul(it, Ct) | 0, f = f + Math.imul(it, zt) | 0, f = f + Math.imul(et, Ct) | 0, _ = _ + Math.imul(et, zt) | 0, d = d + Math.imul(x, xt) | 0, f = f + Math.imul(x, qt) | 0, f = f + Math.imul(T, xt) | 0, _ = _ + Math.imul(T, qt) | 0, d = d + Math.imul(O, Nt) | 0, f = f + Math.imul(O, Xt) | 0, f = f + Math.imul(B, Nt) | 0, _ = _ + Math.imul(B, Xt) | 0, d = d + Math.imul(X, Ht) | 0, f = f + Math.imul(X, Gt) | 0, f = f + Math.imul(g, Ht) | 0, _ = _ + Math.imul(g, Gt) | 0;
      var Dr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Dr >>> 26) | 0, Dr &= 67108863, d = Math.imul(mt, Tt), f = Math.imul(mt, Yt), f = f + Math.imul(Pt, Tt) | 0, _ = Math.imul(Pt, Yt), d = d + Math.imul(ut, Ft) | 0, f = f + Math.imul(ut, Vt) | 0, f = f + Math.imul(It, Ft) | 0, _ = _ + Math.imul(It, Vt) | 0, d = d + Math.imul(ft, Mt) | 0, f = f + Math.imul(ft, Lt) | 0, f = f + Math.imul(wt, Mt) | 0, _ = _ + Math.imul(wt, Lt) | 0, d = d + Math.imul(lt, St) | 0, f = f + Math.imul(lt, kt) | 0, f = f + Math.imul(yt, St) | 0, _ = _ + Math.imul(yt, kt) | 0, d = d + Math.imul(bt, Dt) | 0, f = f + Math.imul(bt, jt) | 0, f = f + Math.imul(Et, Dt) | 0, _ = _ + Math.imul(Et, jt) | 0, d = d + Math.imul(gt, Ct) | 0, f = f + Math.imul(gt, zt) | 0, f = f + Math.imul(_t, Ct) | 0, _ = _ + Math.imul(_t, zt) | 0, d = d + Math.imul(it, xt) | 0, f = f + Math.imul(it, qt) | 0, f = f + Math.imul(et, xt) | 0, _ = _ + Math.imul(et, qt) | 0, d = d + Math.imul(x, Nt) | 0, f = f + Math.imul(x, Xt) | 0, f = f + Math.imul(T, Nt) | 0, _ = _ + Math.imul(T, Xt) | 0, d = d + Math.imul(O, Ht) | 0, f = f + Math.imul(O, Gt) | 0, f = f + Math.imul(B, Ht) | 0, _ = _ + Math.imul(B, Gt) | 0;
      var Cr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Cr >>> 26) | 0, Cr &= 67108863, d = Math.imul(mt, Ft), f = Math.imul(mt, Vt), f = f + Math.imul(Pt, Ft) | 0, _ = Math.imul(Pt, Vt), d = d + Math.imul(ut, Mt) | 0, f = f + Math.imul(ut, Lt) | 0, f = f + Math.imul(It, Mt) | 0, _ = _ + Math.imul(It, Lt) | 0, d = d + Math.imul(ft, St) | 0, f = f + Math.imul(ft, kt) | 0, f = f + Math.imul(wt, St) | 0, _ = _ + Math.imul(wt, kt) | 0, d = d + Math.imul(lt, Dt) | 0, f = f + Math.imul(lt, jt) | 0, f = f + Math.imul(yt, Dt) | 0, _ = _ + Math.imul(yt, jt) | 0, d = d + Math.imul(bt, Ct) | 0, f = f + Math.imul(bt, zt) | 0, f = f + Math.imul(Et, Ct) | 0, _ = _ + Math.imul(Et, zt) | 0, d = d + Math.imul(gt, xt) | 0, f = f + Math.imul(gt, qt) | 0, f = f + Math.imul(_t, xt) | 0, _ = _ + Math.imul(_t, qt) | 0, d = d + Math.imul(it, Nt) | 0, f = f + Math.imul(it, Xt) | 0, f = f + Math.imul(et, Nt) | 0, _ = _ + Math.imul(et, Xt) | 0, d = d + Math.imul(x, Ht) | 0, f = f + Math.imul(x, Gt) | 0, f = f + Math.imul(T, Ht) | 0, _ = _ + Math.imul(T, Gt) | 0;
      var pr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (pr >>> 26) | 0, pr &= 67108863, d = Math.imul(mt, Mt), f = Math.imul(mt, Lt), f = f + Math.imul(Pt, Mt) | 0, _ = Math.imul(Pt, Lt), d = d + Math.imul(ut, St) | 0, f = f + Math.imul(ut, kt) | 0, f = f + Math.imul(It, St) | 0, _ = _ + Math.imul(It, kt) | 0, d = d + Math.imul(ft, Dt) | 0, f = f + Math.imul(ft, jt) | 0, f = f + Math.imul(wt, Dt) | 0, _ = _ + Math.imul(wt, jt) | 0, d = d + Math.imul(lt, Ct) | 0, f = f + Math.imul(lt, zt) | 0, f = f + Math.imul(yt, Ct) | 0, _ = _ + Math.imul(yt, zt) | 0, d = d + Math.imul(bt, xt) | 0, f = f + Math.imul(bt, qt) | 0, f = f + Math.imul(Et, xt) | 0, _ = _ + Math.imul(Et, qt) | 0, d = d + Math.imul(gt, Nt) | 0, f = f + Math.imul(gt, Xt) | 0, f = f + Math.imul(_t, Nt) | 0, _ = _ + Math.imul(_t, Xt) | 0, d = d + Math.imul(it, Ht) | 0, f = f + Math.imul(it, Gt) | 0, f = f + Math.imul(et, Ht) | 0, _ = _ + Math.imul(et, Gt) | 0;
      var Er = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Er >>> 26) | 0, Er &= 67108863, d = Math.imul(mt, St), f = Math.imul(mt, kt), f = f + Math.imul(Pt, St) | 0, _ = Math.imul(Pt, kt), d = d + Math.imul(ut, Dt) | 0, f = f + Math.imul(ut, jt) | 0, f = f + Math.imul(It, Dt) | 0, _ = _ + Math.imul(It, jt) | 0, d = d + Math.imul(ft, Ct) | 0, f = f + Math.imul(ft, zt) | 0, f = f + Math.imul(wt, Ct) | 0, _ = _ + Math.imul(wt, zt) | 0, d = d + Math.imul(lt, xt) | 0, f = f + Math.imul(lt, qt) | 0, f = f + Math.imul(yt, xt) | 0, _ = _ + Math.imul(yt, qt) | 0, d = d + Math.imul(bt, Nt) | 0, f = f + Math.imul(bt, Xt) | 0, f = f + Math.imul(Et, Nt) | 0, _ = _ + Math.imul(Et, Xt) | 0, d = d + Math.imul(gt, Ht) | 0, f = f + Math.imul(gt, Gt) | 0, f = f + Math.imul(_t, Ht) | 0, _ = _ + Math.imul(_t, Gt) | 0;
      var Mr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Mr >>> 26) | 0, Mr &= 67108863, d = Math.imul(mt, Dt), f = Math.imul(mt, jt), f = f + Math.imul(Pt, Dt) | 0, _ = Math.imul(Pt, jt), d = d + Math.imul(ut, Ct) | 0, f = f + Math.imul(ut, zt) | 0, f = f + Math.imul(It, Ct) | 0, _ = _ + Math.imul(It, zt) | 0, d = d + Math.imul(ft, xt) | 0, f = f + Math.imul(ft, qt) | 0, f = f + Math.imul(wt, xt) | 0, _ = _ + Math.imul(wt, qt) | 0, d = d + Math.imul(lt, Nt) | 0, f = f + Math.imul(lt, Xt) | 0, f = f + Math.imul(yt, Nt) | 0, _ = _ + Math.imul(yt, Xt) | 0, d = d + Math.imul(bt, Ht) | 0, f = f + Math.imul(bt, Gt) | 0, f = f + Math.imul(Et, Ht) | 0, _ = _ + Math.imul(Et, Gt) | 0;
      var Ze = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ze >>> 26) | 0, Ze &= 67108863, d = Math.imul(mt, Ct), f = Math.imul(mt, zt), f = f + Math.imul(Pt, Ct) | 0, _ = Math.imul(Pt, zt), d = d + Math.imul(ut, xt) | 0, f = f + Math.imul(ut, qt) | 0, f = f + Math.imul(It, xt) | 0, _ = _ + Math.imul(It, qt) | 0, d = d + Math.imul(ft, Nt) | 0, f = f + Math.imul(ft, Xt) | 0, f = f + Math.imul(wt, Nt) | 0, _ = _ + Math.imul(wt, Xt) | 0, d = d + Math.imul(lt, Ht) | 0, f = f + Math.imul(lt, Gt) | 0, f = f + Math.imul(yt, Ht) | 0, _ = _ + Math.imul(yt, Gt) | 0;
      var Nr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Nr >>> 26) | 0, Nr &= 67108863, d = Math.imul(mt, xt), f = Math.imul(mt, qt), f = f + Math.imul(Pt, xt) | 0, _ = Math.imul(Pt, qt), d = d + Math.imul(ut, Nt) | 0, f = f + Math.imul(ut, Xt) | 0, f = f + Math.imul(It, Nt) | 0, _ = _ + Math.imul(It, Xt) | 0, d = d + Math.imul(ft, Ht) | 0, f = f + Math.imul(ft, Gt) | 0, f = f + Math.imul(wt, Ht) | 0, _ = _ + Math.imul(wt, Gt) | 0;
      var Pr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Pr >>> 26) | 0, Pr &= 67108863, d = Math.imul(mt, Nt), f = Math.imul(mt, Xt), f = f + Math.imul(Pt, Nt) | 0, _ = Math.imul(Pt, Xt), d = d + Math.imul(ut, Ht) | 0, f = f + Math.imul(ut, Gt) | 0, f = f + Math.imul(It, Ht) | 0, _ = _ + Math.imul(It, Gt) | 0;
      var Rr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Rr >>> 26) | 0, Rr &= 67108863, d = Math.imul(mt, Ht), f = Math.imul(mt, Gt), f = f + Math.imul(Pt, Ht) | 0, _ = Math.imul(Pt, Gt);
      var pi = (E + d | 0) + ((f & 8191) << 13) | 0;
      return E = (_ + (f >>> 13) | 0) + (pi >>> 26) | 0, pi &= 67108863, M[0] = ze, M[1] = $e, M[2] = He, M[3] = je, M[4] = Ke, M[5] = Ie, M[6] = lr, M[7] = Ir, M[8] = dr, M[9] = Dr, M[10] = Cr, M[11] = pr, M[12] = Er, M[13] = Mr, M[14] = Ze, M[15] = Nr, M[16] = Pr, M[17] = Rr, M[18] = pi, E !== 0 && (M[19] = E, c.length++), c;
    };
    Math.imul || (Q = V);
    function W(o, h, c) {
      c.negative = h.negative ^ o.negative, c.length = o.length + h.length;
      for (var v = 0, y = 0, M = 0; M < c.length - 1; M++) {
        var E = y;
        y = 0;
        for (var d = v & 67108863, f = Math.min(M, h.length - 1), _ = Math.max(0, M - o.length + 1); _ <= f; _++) {
          var Y = M - _, X = o.words[Y] | 0, g = h.words[_] | 0, F = X * g, O = F & 67108863;
          E = E + (F / 67108864 | 0) | 0, O = O + d | 0, d = O & 67108863, E = E + (O >>> 26) | 0, y += E >>> 26, E &= 67108863;
        }
        c.words[M] = d, v = E, E = y;
      }
      return v !== 0 ? c.words[M] = v : c.length--, c._strip();
    }
    function $(o, h, c) {
      return W(o, h, c);
    }
    s.prototype.mulTo = function(o, h) {
      var c, v = this.length + o.length;
      return this.length === 10 && o.length === 10 ? c = Q(this, o, h) : v < 63 ? c = V(this, o, h) : v < 1024 ? c = W(this, o, h) : c = $(this, o, h), c;
    }, s.prototype.mul = function(o) {
      var h = new s(null);
      return h.words = new Array(this.length + o.length), this.mulTo(o, h);
    }, s.prototype.mulf = function(o) {
      var h = new s(null);
      return h.words = new Array(this.length + o.length), $(this, o, h);
    }, s.prototype.imul = function(o) {
      return this.clone().mulTo(o, this);
    }, s.prototype.imuln = function(o) {
      var h = o < 0;
      h && (o = -o), i(typeof o == "number"), i(o < 67108864);
      for (var c = 0, v = 0; v < this.length; v++) {
        var y = (this.words[v] | 0) * o, M = (y & 67108863) + (c & 67108863);
        c >>= 26, c += y / 67108864 | 0, c += M >>> 26, this.words[v] = M & 67108863;
      }
      return c !== 0 && (this.words[v] = c, this.length++), h ? this.ineg() : this;
    }, s.prototype.muln = function(o) {
      return this.clone().imuln(o);
    }, s.prototype.sqr = function() {
      return this.mul(this);
    }, s.prototype.isqr = function() {
      return this.imul(this.clone());
    }, s.prototype.pow = function(o) {
      var h = z(o);
      if (h.length === 0)
        return new s(1);
      for (var c = this, v = 0; v < h.length && h[v] === 0; v++, c = c.sqr())
        ;
      if (++v < h.length)
        for (var y = c.sqr(); v < h.length; v++, y = y.sqr())
          h[v] !== 0 && (c = c.mul(y));
      return c;
    }, s.prototype.iushln = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = o % 26, c = (o - h) / 26, v = 67108863 >>> 26 - h << 26 - h, y;
      if (h !== 0) {
        var M = 0;
        for (y = 0; y < this.length; y++) {
          var E = this.words[y] & v, d = (this.words[y] | 0) - E << h;
          this.words[y] = d | M, M = E >>> 26 - h;
        }
        M && (this.words[y] = M, this.length++);
      }
      if (c !== 0) {
        for (y = this.length - 1; y >= 0; y--)
          this.words[y + c] = this.words[y];
        for (y = 0; y < c; y++)
          this.words[y] = 0;
        this.length += c;
      }
      return this._strip();
    }, s.prototype.ishln = function(o) {
      return i(this.negative === 0), this.iushln(o);
    }, s.prototype.iushrn = function(o, h, c) {
      i(typeof o == "number" && o >= 0);
      var v;
      h ? v = (h - h % 26) / 26 : v = 0;
      var y = o % 26, M = Math.min((o - y) / 26, this.length), E = 67108863 ^ 67108863 >>> y << y, d = c;
      if (v -= M, v = Math.max(0, v), d) {
        for (var f = 0; f < M; f++)
          d.words[f] = this.words[f];
        d.length = M;
      }
      if (M !== 0)
        if (this.length > M)
          for (this.length -= M, f = 0; f < this.length; f++)
            this.words[f] = this.words[f + M];
        else
          this.words[0] = 0, this.length = 1;
      var _ = 0;
      for (f = this.length - 1; f >= 0 && (_ !== 0 || f >= v); f--) {
        var Y = this.words[f] | 0;
        this.words[f] = _ << 26 - y | Y >>> y, _ = Y & E;
      }
      return d && _ !== 0 && (d.words[d.length++] = _), this.length === 0 && (this.words[0] = 0, this.length = 1), this._strip();
    }, s.prototype.ishrn = function(o, h, c) {
      return i(this.negative === 0), this.iushrn(o, h, c);
    }, s.prototype.shln = function(o) {
      return this.clone().ishln(o);
    }, s.prototype.ushln = function(o) {
      return this.clone().iushln(o);
    }, s.prototype.shrn = function(o) {
      return this.clone().ishrn(o);
    }, s.prototype.ushrn = function(o) {
      return this.clone().iushrn(o);
    }, s.prototype.testn = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = o % 26, c = (o - h) / 26, v = 1 << h;
      if (this.length <= c)
        return !1;
      var y = this.words[c];
      return !!(y & v);
    }, s.prototype.imaskn = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = o % 26, c = (o - h) / 26;
      if (i(this.negative === 0, "imaskn works only with positive numbers"), this.length <= c)
        return this;
      if (h !== 0 && c++, this.length = Math.min(c, this.length), h !== 0) {
        var v = 67108863 ^ 67108863 >>> h << h;
        this.words[this.length - 1] &= v;
      }
      return this._strip();
    }, s.prototype.maskn = function(o) {
      return this.clone().imaskn(o);
    }, s.prototype.iaddn = function(o) {
      return i(typeof o == "number"), i(o < 67108864), o < 0 ? this.isubn(-o) : this.negative !== 0 ? this.length === 1 && (this.words[0] | 0) <= o ? (this.words[0] = o - (this.words[0] | 0), this.negative = 0, this) : (this.negative = 0, this.isubn(o), this.negative = 1, this) : this._iaddn(o);
    }, s.prototype._iaddn = function(o) {
      this.words[0] += o;
      for (var h = 0; h < this.length && this.words[h] >= 67108864; h++)
        this.words[h] -= 67108864, h === this.length - 1 ? this.words[h + 1] = 1 : this.words[h + 1]++;
      return this.length = Math.max(this.length, h + 1), this;
    }, s.prototype.isubn = function(o) {
      if (i(typeof o == "number"), i(o < 67108864), o < 0)
        return this.iaddn(-o);
      if (this.negative !== 0)
        return this.negative = 0, this.iaddn(o), this.negative = 1, this;
      if (this.words[0] -= o, this.length === 1 && this.words[0] < 0)
        this.words[0] = -this.words[0], this.negative = 1;
      else
        for (var h = 0; h < this.length && this.words[h] < 0; h++)
          this.words[h] += 67108864, this.words[h + 1] -= 1;
      return this._strip();
    }, s.prototype.addn = function(o) {
      return this.clone().iaddn(o);
    }, s.prototype.subn = function(o) {
      return this.clone().isubn(o);
    }, s.prototype.iabs = function() {
      return this.negative = 0, this;
    }, s.prototype.abs = function() {
      return this.clone().iabs();
    }, s.prototype._ishlnsubmul = function(o, h, c) {
      var v = o.length + c, y;
      this._expand(v);
      var M, E = 0;
      for (y = 0; y < o.length; y++) {
        M = (this.words[y + c] | 0) + E;
        var d = (o.words[y] | 0) * h;
        M -= d & 67108863, E = (M >> 26) - (d / 67108864 | 0), this.words[y + c] = M & 67108863;
      }
      for (; y < this.length - c; y++)
        M = (this.words[y + c] | 0) + E, E = M >> 26, this.words[y + c] = M & 67108863;
      if (E === 0)
        return this._strip();
      for (i(E === -1), E = 0, y = 0; y < this.length; y++)
        M = -(this.words[y] | 0) + E, E = M >> 26, this.words[y] = M & 67108863;
      return this.negative = 1, this._strip();
    }, s.prototype._wordDiv = function(o, h) {
      var c = this.length - o.length, v = this.clone(), y = o, M = y.words[y.length - 1] | 0, E = this._countBits(M);
      c = 26 - E, c !== 0 && (y = y.ushln(c), v.iushln(c), M = y.words[y.length - 1] | 0);
      var d = v.length - y.length, f;
      if (h !== "mod") {
        f = new s(null), f.length = d + 1, f.words = new Array(f.length);
        for (var _ = 0; _ < f.length; _++)
          f.words[_] = 0;
      }
      var Y = v.clone()._ishlnsubmul(y, 1, d);
      Y.negative === 0 && (v = Y, f && (f.words[d] = 1));
      for (var X = d - 1; X >= 0; X--) {
        var g = (v.words[y.length + X] | 0) * 67108864 + (v.words[y.length + X - 1] | 0);
        for (g = Math.min(g / M | 0, 67108863), v._ishlnsubmul(y, g, X); v.negative !== 0; )
          g--, v.negative = 0, v._ishlnsubmul(y, 1, X), v.isZero() || (v.negative ^= 1);
        f && (f.words[X] = g);
      }
      return f && f._strip(), v._strip(), h !== "div" && c !== 0 && v.iushrn(c), { div: f || null, mod: v };
    }, s.prototype.divmod = function(o, h, c) {
      if (i(!o.isZero()), this.isZero())
        return { div: new s(0), mod: new s(0) };
      var v, y, M;
      return this.negative !== 0 && o.negative === 0 ? (M = this.neg().divmod(o, h), h !== "mod" && (v = M.div.neg()), h !== "div" && (y = M.mod.neg(), c && y.negative !== 0 && y.iadd(o)), { div: v, mod: y }) : this.negative === 0 && o.negative !== 0 ? (M = this.divmod(o.neg(), h), h !== "mod" && (v = M.div.neg()), { div: v, mod: M.mod }) : this.negative & o.negative ? (M = this.neg().divmod(o.neg(), h), h !== "div" && (y = M.mod.neg(), c && y.negative !== 0 && y.isub(o)), { div: M.div, mod: y }) : o.length > this.length || this.cmp(o) < 0 ? { div: new s(0), mod: this } : o.length === 1 ? h === "div" ? { div: this.divn(o.words[0]), mod: null } : h === "mod" ? { div: null, mod: new s(this.modrn(o.words[0])) } : { div: this.divn(o.words[0]), mod: new s(this.modrn(o.words[0])) } : this._wordDiv(o, h);
    }, s.prototype.div = function(o) {
      return this.divmod(o, "div", !1).div;
    }, s.prototype.mod = function(o) {
      return this.divmod(o, "mod", !1).mod;
    }, s.prototype.umod = function(o) {
      return this.divmod(o, "mod", !0).mod;
    }, s.prototype.divRound = function(o) {
      var h = this.divmod(o);
      if (h.mod.isZero())
        return h.div;
      var c = h.div.negative !== 0 ? h.mod.isub(o) : h.mod, v = o.ushrn(1), y = o.andln(1), M = c.cmp(v);
      return M < 0 || y === 1 && M === 0 ? h.div : h.div.negative !== 0 ? h.div.isubn(1) : h.div.iaddn(1);
    }, s.prototype.modrn = function(o) {
      var h = o < 0;
      h && (o = -o), i(o <= 67108863);
      for (var c = (1 << 26) % o, v = 0, y = this.length - 1; y >= 0; y--)
        v = (c * v + (this.words[y] | 0)) % o;
      return h ? -v : v;
    }, s.prototype.modn = function(o) {
      return this.modrn(o);
    }, s.prototype.idivn = function(o) {
      var h = o < 0;
      h && (o = -o), i(o <= 67108863);
      for (var c = 0, v = this.length - 1; v >= 0; v--) {
        var y = (this.words[v] | 0) + c * 67108864;
        this.words[v] = y / o | 0, c = y % o;
      }
      return this._strip(), h ? this.ineg() : this;
    }, s.prototype.divn = function(o) {
      return this.clone().idivn(o);
    }, s.prototype.egcd = function(o) {
      i(o.negative === 0), i(!o.isZero());
      var h = this, c = o.clone();
      h.negative !== 0 ? h = h.umod(o) : h = h.clone();
      for (var v = new s(1), y = new s(0), M = new s(0), E = new s(1), d = 0; h.isEven() && c.isEven(); )
        h.iushrn(1), c.iushrn(1), ++d;
      for (var f = c.clone(), _ = h.clone(); !h.isZero(); ) {
        for (var Y = 0, X = 1; !(h.words[0] & X) && Y < 26; ++Y, X <<= 1)
          ;
        if (Y > 0)
          for (h.iushrn(Y); Y-- > 0; )
            (v.isOdd() || y.isOdd()) && (v.iadd(f), y.isub(_)), v.iushrn(1), y.iushrn(1);
        for (var g = 0, F = 1; !(c.words[0] & F) && g < 26; ++g, F <<= 1)
          ;
        if (g > 0)
          for (c.iushrn(g); g-- > 0; )
            (M.isOdd() || E.isOdd()) && (M.iadd(f), E.isub(_)), M.iushrn(1), E.iushrn(1);
        h.cmp(c) >= 0 ? (h.isub(c), v.isub(M), y.isub(E)) : (c.isub(h), M.isub(v), E.isub(y));
      }
      return { a: M, b: E, gcd: c.iushln(d) };
    }, s.prototype._invmp = function(o) {
      i(o.negative === 0), i(!o.isZero());
      var h = this, c = o.clone();
      h.negative !== 0 ? h = h.umod(o) : h = h.clone();
      for (var v = new s(1), y = new s(0), M = c.clone(); h.cmpn(1) > 0 && c.cmpn(1) > 0; ) {
        for (var E = 0, d = 1; !(h.words[0] & d) && E < 26; ++E, d <<= 1)
          ;
        if (E > 0)
          for (h.iushrn(E); E-- > 0; )
            v.isOdd() && v.iadd(M), v.iushrn(1);
        for (var f = 0, _ = 1; !(c.words[0] & _) && f < 26; ++f, _ <<= 1)
          ;
        if (f > 0)
          for (c.iushrn(f); f-- > 0; )
            y.isOdd() && y.iadd(M), y.iushrn(1);
        h.cmp(c) >= 0 ? (h.isub(c), v.isub(y)) : (c.isub(h), y.isub(v));
      }
      var Y;
      return h.cmpn(1) === 0 ? Y = v : Y = y, Y.cmpn(0) < 0 && Y.iadd(o), Y;
    }, s.prototype.gcd = function(o) {
      if (this.isZero())
        return o.abs();
      if (o.isZero())
        return this.abs();
      var h = this.clone(), c = o.clone();
      h.negative = 0, c.negative = 0;
      for (var v = 0; h.isEven() && c.isEven(); v++)
        h.iushrn(1), c.iushrn(1);
      do {
        for (; h.isEven(); )
          h.iushrn(1);
        for (; c.isEven(); )
          c.iushrn(1);
        var y = h.cmp(c);
        if (y < 0) {
          var M = h;
          h = c, c = M;
        } else if (y === 0 || c.cmpn(1) === 0)
          break;
        h.isub(c);
      } while (!0);
      return c.iushln(v);
    }, s.prototype.invm = function(o) {
      return this.egcd(o).a.umod(o);
    }, s.prototype.isEven = function() {
      return (this.words[0] & 1) === 0;
    }, s.prototype.isOdd = function() {
      return (this.words[0] & 1) === 1;
    }, s.prototype.andln = function(o) {
      return this.words[0] & o;
    }, s.prototype.bincn = function(o) {
      i(typeof o == "number");
      var h = o % 26, c = (o - h) / 26, v = 1 << h;
      if (this.length <= c)
        return this._expand(c + 1), this.words[c] |= v, this;
      for (var y = v, M = c; y !== 0 && M < this.length; M++) {
        var E = this.words[M] | 0;
        E += y, y = E >>> 26, E &= 67108863, this.words[M] = E;
      }
      return y !== 0 && (this.words[M] = y, this.length++), this;
    }, s.prototype.isZero = function() {
      return this.length === 1 && this.words[0] === 0;
    }, s.prototype.cmpn = function(o) {
      var h = o < 0;
      if (this.negative !== 0 && !h)
        return -1;
      if (this.negative === 0 && h)
        return 1;
      this._strip();
      var c;
      if (this.length > 1)
        c = 1;
      else {
        h && (o = -o), i(o <= 67108863, "Number is too big");
        var v = this.words[0] | 0;
        c = v === o ? 0 : v < o ? -1 : 1;
      }
      return this.negative !== 0 ? -c | 0 : c;
    }, s.prototype.cmp = function(o) {
      if (this.negative !== 0 && o.negative === 0)
        return -1;
      if (this.negative === 0 && o.negative !== 0)
        return 1;
      var h = this.ucmp(o);
      return this.negative !== 0 ? -h | 0 : h;
    }, s.prototype.ucmp = function(o) {
      if (this.length > o.length)
        return 1;
      if (this.length < o.length)
        return -1;
      for (var h = 0, c = this.length - 1; c >= 0; c--) {
        var v = this.words[c] | 0, y = o.words[c] | 0;
        if (v !== y) {
          v < y ? h = -1 : v > y && (h = 1);
          break;
        }
      }
      return h;
    }, s.prototype.gtn = function(o) {
      return this.cmpn(o) === 1;
    }, s.prototype.gt = function(o) {
      return this.cmp(o) === 1;
    }, s.prototype.gten = function(o) {
      return this.cmpn(o) >= 0;
    }, s.prototype.gte = function(o) {
      return this.cmp(o) >= 0;
    }, s.prototype.ltn = function(o) {
      return this.cmpn(o) === -1;
    }, s.prototype.lt = function(o) {
      return this.cmp(o) === -1;
    }, s.prototype.lten = function(o) {
      return this.cmpn(o) <= 0;
    }, s.prototype.lte = function(o) {
      return this.cmp(o) <= 0;
    }, s.prototype.eqn = function(o) {
      return this.cmpn(o) === 0;
    }, s.prototype.eq = function(o) {
      return this.cmp(o) === 0;
    }, s.red = function(o) {
      return new L(o);
    }, s.prototype.toRed = function(o) {
      return i(!this.red, "Already a number in reduction context"), i(this.negative === 0, "red works only with positives"), o.convertTo(this)._forceRed(o);
    }, s.prototype.fromRed = function() {
      return i(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this);
    }, s.prototype._forceRed = function(o) {
      return this.red = o, this;
    }, s.prototype.forceRed = function(o) {
      return i(!this.red, "Already a number in reduction context"), this._forceRed(o);
    }, s.prototype.redAdd = function(o) {
      return i(this.red, "redAdd works only with red numbers"), this.red.add(this, o);
    }, s.prototype.redIAdd = function(o) {
      return i(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, o);
    }, s.prototype.redSub = function(o) {
      return i(this.red, "redSub works only with red numbers"), this.red.sub(this, o);
    }, s.prototype.redISub = function(o) {
      return i(this.red, "redISub works only with red numbers"), this.red.isub(this, o);
    }, s.prototype.redShl = function(o) {
      return i(this.red, "redShl works only with red numbers"), this.red.shl(this, o);
    }, s.prototype.redMul = function(o) {
      return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, o), this.red.mul(this, o);
    }, s.prototype.redIMul = function(o) {
      return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, o), this.red.imul(this, o);
    }, s.prototype.redSqr = function() {
      return i(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this);
    }, s.prototype.redISqr = function() {
      return i(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this);
    }, s.prototype.redSqrt = function() {
      return i(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this);
    }, s.prototype.redInvm = function() {
      return i(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this);
    }, s.prototype.redNeg = function() {
      return i(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this);
    }, s.prototype.redPow = function(o) {
      return i(this.red && !o.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, o);
    };
    var j = { k256: null, p224: null, p192: null, p25519: null };
    function K(o, h) {
      this.name = o, this.p = new s(h, 16), this.n = this.p.bitLength(), this.k = new s(1).iushln(this.n).isub(this.p), this.tmp = this._tmp();
    }
    K.prototype._tmp = function() {
      var o = new s(null);
      return o.words = new Array(Math.ceil(this.n / 13)), o;
    }, K.prototype.ireduce = function(o) {
      var h = o, c;
      do
        this.split(h, this.tmp), h = this.imulK(h), h = h.iadd(this.tmp), c = h.bitLength();
      while (c > this.n);
      var v = c < this.n ? -1 : h.ucmp(this.p);
      return v === 0 ? (h.words[0] = 0, h.length = 1) : v > 0 ? h.isub(this.p) : h.strip !== void 0 ? h.strip() : h._strip(), h;
    }, K.prototype.split = function(o, h) {
      o.iushrn(this.n, 0, h);
    }, K.prototype.imulK = function(o) {
      return o.imul(this.k);
    };
    function N() {
      K.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f");
    }
    n(N, K), N.prototype.split = function(o, h) {
      for (var c = 4194303, v = Math.min(o.length, 9), y = 0; y < v; y++)
        h.words[y] = o.words[y];
      if (h.length = v, o.length <= 9) {
        o.words[0] = 0, o.length = 1;
        return;
      }
      var M = o.words[9];
      for (h.words[h.length++] = M & c, y = 10; y < o.length; y++) {
        var E = o.words[y] | 0;
        o.words[y - 10] = (E & c) << 4 | M >>> 22, M = E;
      }
      M >>>= 22, o.words[y - 10] = M, M === 0 && o.length > 10 ? o.length -= 10 : o.length -= 9;
    }, N.prototype.imulK = function(o) {
      o.words[o.length] = 0, o.words[o.length + 1] = 0, o.length += 2;
      for (var h = 0, c = 0; c < o.length; c++) {
        var v = o.words[c] | 0;
        h += v * 977, o.words[c] = h & 67108863, h = v * 64 + (h / 67108864 | 0);
      }
      return o.words[o.length - 1] === 0 && (o.length--, o.words[o.length - 1] === 0 && o.length--), o;
    };
    function H() {
      K.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001");
    }
    n(H, K);
    function st() {
      K.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff");
    }
    n(st, K);
    function ct() {
      K.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed");
    }
    n(ct, K), ct.prototype.imulK = function(o) {
      for (var h = 0, c = 0; c < o.length; c++) {
        var v = (o.words[c] | 0) * 19 + h, y = v & 67108863;
        v >>>= 26, o.words[c] = y, h = v;
      }
      return h !== 0 && (o.words[o.length++] = h), o;
    }, s._prime = function(o) {
      if (j[o])
        return j[o];
      var h;
      if (o === "k256")
        h = new N();
      else if (o === "p224")
        h = new H();
      else if (o === "p192")
        h = new st();
      else if (o === "p25519")
        h = new ct();
      else
        throw new Error("Unknown prime " + o);
      return j[o] = h, h;
    };
    function L(o) {
      if (typeof o == "string") {
        var h = s._prime(o);
        this.m = h.p, this.prime = h;
      } else
        i(o.gtn(1), "modulus must be greater than 1"), this.m = o, this.prime = null;
    }
    L.prototype._verify1 = function(o) {
      i(o.negative === 0, "red works only with positives"), i(o.red, "red works only with red numbers");
    }, L.prototype._verify2 = function(o, h) {
      i((o.negative | h.negative) === 0, "red works only with positives"), i(o.red && o.red === h.red, "red works only with red numbers");
    }, L.prototype.imod = function(o) {
      return this.prime ? this.prime.ireduce(o)._forceRed(this) : (w(o, o.umod(this.m)._forceRed(this)), o);
    }, L.prototype.neg = function(o) {
      return o.isZero() ? o.clone() : this.m.sub(o)._forceRed(this);
    }, L.prototype.add = function(o, h) {
      this._verify2(o, h);
      var c = o.add(h);
      return c.cmp(this.m) >= 0 && c.isub(this.m), c._forceRed(this);
    }, L.prototype.iadd = function(o, h) {
      this._verify2(o, h);
      var c = o.iadd(h);
      return c.cmp(this.m) >= 0 && c.isub(this.m), c;
    }, L.prototype.sub = function(o, h) {
      this._verify2(o, h);
      var c = o.sub(h);
      return c.cmpn(0) < 0 && c.iadd(this.m), c._forceRed(this);
    }, L.prototype.isub = function(o, h) {
      this._verify2(o, h);
      var c = o.isub(h);
      return c.cmpn(0) < 0 && c.iadd(this.m), c;
    }, L.prototype.shl = function(o, h) {
      return this._verify1(o), this.imod(o.ushln(h));
    }, L.prototype.imul = function(o, h) {
      return this._verify2(o, h), this.imod(o.imul(h));
    }, L.prototype.mul = function(o, h) {
      return this._verify2(o, h), this.imod(o.mul(h));
    }, L.prototype.isqr = function(o) {
      return this.imul(o, o.clone());
    }, L.prototype.sqr = function(o) {
      return this.mul(o, o);
    }, L.prototype.sqrt = function(o) {
      if (o.isZero())
        return o.clone();
      var h = this.m.andln(3);
      if (i(h % 2 === 1), h === 3) {
        var c = this.m.add(new s(1)).iushrn(2);
        return this.pow(o, c);
      }
      for (var v = this.m.subn(1), y = 0; !v.isZero() && v.andln(1) === 0; )
        y++, v.iushrn(1);
      i(!v.isZero());
      var M = new s(1).toRed(this), E = M.redNeg(), d = this.m.subn(1).iushrn(1), f = this.m.bitLength();
      for (f = new s(2 * f * f).toRed(this); this.pow(f, d).cmp(E) !== 0; )
        f.redIAdd(E);
      for (var _ = this.pow(f, v), Y = this.pow(o, v.addn(1).iushrn(1)), X = this.pow(o, v), g = y; X.cmp(M) !== 0; ) {
        for (var F = X, O = 0; F.cmp(M) !== 0; O++)
          F = F.redSqr();
        i(O < g);
        var B = this.pow(_, new s(1).iushln(g - O - 1));
        Y = Y.redMul(B), _ = B.redSqr(), X = X.redMul(_), g = O;
      }
      return Y;
    }, L.prototype.invm = function(o) {
      var h = o._invmp(this.m);
      return h.negative !== 0 ? (h.negative = 0, this.imod(h).redNeg()) : this.imod(h);
    }, L.prototype.pow = function(o, h) {
      if (h.isZero())
        return new s(1).toRed(this);
      if (h.cmpn(1) === 0)
        return o.clone();
      var c = 4, v = new Array(1 << c);
      v[0] = new s(1).toRed(this), v[1] = o;
      for (var y = 2; y < v.length; y++)
        v[y] = this.mul(v[y - 1], o);
      var M = v[0], E = 0, d = 0, f = h.bitLength() % 26;
      for (f === 0 && (f = 26), y = h.length - 1; y >= 0; y--) {
        for (var _ = h.words[y], Y = f - 1; Y >= 0; Y--) {
          var X = _ >> Y & 1;
          if (M !== v[0] && (M = this.sqr(M)), X === 0 && E === 0) {
            d = 0;
            continue;
          }
          E <<= 1, E |= X, d++, !(d !== c && (y !== 0 || Y !== 0)) && (M = this.mul(M, v[E]), d = 0, E = 0);
        }
        f = 26;
      }
      return M;
    }, L.prototype.convertTo = function(o) {
      var h = o.umod(this.m);
      return h === o ? h.clone() : h;
    }, L.prototype.convertFrom = function(o) {
      var h = o.clone();
      return h.red = null, h;
    }, s.mont = function(o) {
      return new I(o);
    };
    function I(o) {
      L.call(this, o), this.shift = this.m.bitLength(), this.shift % 26 !== 0 && (this.shift += 26 - this.shift % 26), this.r = new s(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv);
    }
    n(I, L), I.prototype.convertTo = function(o) {
      return this.imod(o.ushln(this.shift));
    }, I.prototype.convertFrom = function(o) {
      var h = this.imod(o.mul(this.rinv));
      return h.red = null, h;
    }, I.prototype.imul = function(o, h) {
      if (o.isZero() || h.isZero())
        return o.words[0] = 0, o.length = 1, o;
      var c = o.imul(h), v = c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), y = c.isub(v).iushrn(this.shift), M = y;
      return y.cmp(this.m) >= 0 ? M = y.isub(this.m) : y.cmpn(0) < 0 && (M = y.iadd(this.m)), M._forceRed(this);
    }, I.prototype.mul = function(o, h) {
      if (o.isZero() || h.isZero())
        return new s(0)._forceRed(this);
      var c = o.mul(h), v = c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), y = c.isub(v).iushrn(this.shift), M = y;
      return y.cmp(this.m) >= 0 ? M = y.isub(this.m) : y.cmpn(0) < 0 && (M = y.iadd(this.m)), M._forceRed(this);
    }, I.prototype.invm = function(o) {
      var h = this.imod(o._invmp(this.m).mul(this.r2));
      return h._forceRed(this);
    };
  })(e, Qb);
})(Wb);
var _e = Wb.exports;
const Xb = "bignumber/5.7.0";
var dp = _e.BN;
const yo = new Li(Xb), Jd = {}, mm = 9007199254740991;
function kD(e) {
  return e != null && (Si.isBigNumber(e) || typeof e == "number" && e % 1 === 0 || typeof e == "string" && !!e.match(/^-?[0-9]+$/) || Fh(e) || typeof e == "bigint" || Su(e));
}
let vm = !1, Si = class Qn {
  constructor(t, r) {
    t !== Jd && yo.throwError("cannot call constructor directly; use BigNumber.from", Li.errors.UNSUPPORTED_OPERATION, { operation: "new (BigNumber)" }), this._hex = r, this._isBigNumber = !0, Object.freeze(this);
  }
  fromTwos(t) {
    return Oi(Re(this).fromTwos(t));
  }
  toTwos(t) {
    return Oi(Re(this).toTwos(t));
  }
  abs() {
    return this._hex[0] === "-" ? Qn.from(this._hex.substring(1)) : this;
  }
  add(t) {
    return Oi(Re(this).add(Re(t)));
  }
  sub(t) {
    return Oi(Re(this).sub(Re(t)));
  }
  div(t) {
    return Qn.from(t).isZero() && gn("division-by-zero", "div"), Oi(Re(this).div(Re(t)));
  }
  mul(t) {
    return Oi(Re(this).mul(Re(t)));
  }
  mod(t) {
    const r = Re(t);
    return r.isNeg() && gn("division-by-zero", "mod"), Oi(Re(this).umod(r));
  }
  pow(t) {
    const r = Re(t);
    return r.isNeg() && gn("negative-power", "pow"), Oi(Re(this).pow(r));
  }
  and(t) {
    const r = Re(t);
    return (this.isNegative() || r.isNeg()) && gn("unbound-bitwise-result", "and"), Oi(Re(this).and(r));
  }
  or(t) {
    const r = Re(t);
    return (this.isNegative() || r.isNeg()) && gn("unbound-bitwise-result", "or"), Oi(Re(this).or(r));
  }
  xor(t) {
    const r = Re(t);
    return (this.isNegative() || r.isNeg()) && gn("unbound-bitwise-result", "xor"), Oi(Re(this).xor(r));
  }
  mask(t) {
    return (this.isNegative() || t < 0) && gn("negative-width", "mask"), Oi(Re(this).maskn(t));
  }
  shl(t) {
    return (this.isNegative() || t < 0) && gn("negative-width", "shl"), Oi(Re(this).shln(t));
  }
  shr(t) {
    return (this.isNegative() || t < 0) && gn("negative-width", "shr"), Oi(Re(this).shrn(t));
  }
  eq(t) {
    return Re(this).eq(Re(t));
  }
  lt(t) {
    return Re(this).lt(Re(t));
  }
  lte(t) {
    return Re(this).lte(Re(t));
  }
  gt(t) {
    return Re(this).gt(Re(t));
  }
  gte(t) {
    return Re(this).gte(Re(t));
  }
  isNegative() {
    return this._hex[0] === "-";
  }
  isZero() {
    return Re(this).isZero();
  }
  toNumber() {
    try {
      return Re(this).toNumber();
    } catch {
      gn("overflow", "toNumber", this.toString());
    }
    return null;
  }
  toBigInt() {
    try {
      return BigInt(this.toString());
    } catch {
    }
    return yo.throwError("this platform does not support BigInt", Li.errors.UNSUPPORTED_OPERATION, { value: this.toString() });
  }
  toString() {
    return arguments.length > 0 && (arguments[0] === 10 ? vm || (vm = !0, yo.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")) : arguments[0] === 16 ? yo.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()", Li.errors.UNEXPECTED_ARGUMENT, {}) : yo.throwError("BigNumber.toString does not accept parameters", Li.errors.UNEXPECTED_ARGUMENT, {})), Re(this).toString(10);
  }
  toHexString() {
    return this._hex;
  }
  toJSON(t) {
    return { type: "BigNumber", hex: this.toHexString() };
  }
  static from(t) {
    if (t instanceof Qn)
      return t;
    if (typeof t == "string")
      return t.match(/^-?0x[0-9a-f]+$/i) ? new Qn(Jd, uu(t)) : t.match(/^-?[0-9]+$/) ? new Qn(Jd, uu(new dp(t))) : yo.throwArgumentError("invalid BigNumber string", "value", t);
    if (typeof t == "number")
      return t % 1 && gn("underflow", "BigNumber.from", t), (t >= mm || t <= -mm) && gn("overflow", "BigNumber.from", t), Qn.from(String(t));
    const r = t;
    if (typeof r == "bigint")
      return Qn.from(r.toString());
    if (Su(r))
      return Qn.from(Vb(r));
    if (r)
      if (r.toHexString) {
        const i = r.toHexString();
        if (typeof i == "string")
          return Qn.from(i);
      } else {
        let i = r._hex;
        if (i == null && r.type === "BigNumber" && (i = r.hex), typeof i == "string" && (Fh(i) || i[0] === "-" && Fh(i.substring(1))))
          return Qn.from(i);
      }
    return yo.throwArgumentError("invalid BigNumber value", "value", t);
  }
  static isBigNumber(t) {
    return !!(t && t._isBigNumber);
  }
};
function uu(e) {
  if (typeof e != "string")
    return uu(e.toString(16));
  if (e[0] === "-")
    return e = e.substring(1), e[0] === "-" && yo.throwArgumentError("invalid hex", "value", e), e = uu(e), e === "0x00" ? e : "-" + e;
  if (e.substring(0, 2) !== "0x" && (e = "0x" + e), e === "0x")
    return "0x00";
  for (e.length % 2 && (e = "0x0" + e.substring(2)); e.length > 4 && e.substring(0, 4) === "0x00"; )
    e = "0x" + e.substring(4);
  return e;
}
function Oi(e) {
  return Si.from(uu(e));
}
function Re(e) {
  const t = Si.from(e).toHexString();
  return t[0] === "-" ? new dp("-" + t.substring(3), 16) : new dp(t.substring(2), 16);
}
function gn(e, t, r) {
  const i = { fault: e, operation: t };
  return r != null && (i.value = r), yo.throwError(e, Li.errors.NUMERIC_FAULT, i);
}
const Ai = new Li(Xb), tu = {}, Zb = Si.from(0), t8 = Si.from(-1);
function e8(e, t, r, i) {
  const n = { fault: t, operation: r };
  return i !== void 0 && (n.value = i), Ai.throwError(e, Li.errors.NUMERIC_FAULT, n);
}
let eu = "0";
for (; eu.length < 256; )
  eu += eu;
function a2(e) {
  if (typeof e != "number")
    try {
      e = Si.from(e).toNumber();
    } catch {
    }
  return typeof e == "number" && e >= 0 && e <= 256 && !(e % 1) ? "1" + eu.substring(0, e) : Ai.throwArgumentError("invalid decimal size", "decimals", e);
}
function Yd(e, t) {
  t == null && (t = 0);
  const r = a2(t);
  e = Si.from(e);
  const i = e.lt(Zb);
  i && (e = e.mul(t8));
  let n = e.mod(r).toString();
  for (; n.length < r.length - 1; )
    n = "0" + n;
  n = n.match(/^([0-9]*[1-9]|0)(0*)/)[1];
  const s = e.div(r).toString();
  return r.length === 1 ? e = s : e = s + "." + n, i && (e = "-" + e), e;
}
function lo(e, t) {
  t == null && (t = 0);
  const r = a2(t);
  (typeof e != "string" || !e.match(/^-?[0-9.]+$/)) && Ai.throwArgumentError("invalid decimal value", "value", e);
  const i = e.substring(0, 1) === "-";
  i && (e = e.substring(1)), e === "." && Ai.throwArgumentError("missing value", "value", e);
  const n = e.split(".");
  n.length > 2 && Ai.throwArgumentError("too many decimal points", "value", e);
  let s = n[0], u = n[1];
  for (s || (s = "0"), u || (u = "0"); u[u.length - 1] === "0"; )
    u = u.substring(0, u.length - 1);
  for (u.length > r.length - 1 && e8("fractional component exceeds decimals", "underflow", "parseFixed"), u === "" && (u = "0"); u.length < r.length - 1; )
    u += "0";
  const p = Si.from(s), b = Si.from(u);
  let m = p.mul(r).add(b);
  return i && (m = m.mul(t8)), m;
}
let Vd = class pp {
  constructor(t, r, i, n) {
    t !== tu && Ai.throwError("cannot use FixedFormat constructor; use FixedFormat.from", Li.errors.UNSUPPORTED_OPERATION, { operation: "new FixedFormat" }), this.signed = r, this.width = i, this.decimals = n, this.name = (r ? "" : "u") + "fixed" + String(i) + "x" + String(n), this._multiplier = a2(n), Object.freeze(this);
  }
  static from(t) {
    if (t instanceof pp)
      return t;
    typeof t == "number" && (t = `fixed128x${t}`);
    let r = !0, i = 128, n = 18;
    if (typeof t == "string") {
      if (t !== "fixed")
        if (t === "ufixed")
          r = !1;
        else {
          const s = t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);
          s || Ai.throwArgumentError("invalid fixed format", "format", t), r = s[1] !== "u", i = parseInt(s[2]), n = parseInt(s[3]);
        }
    } else if (t) {
      const s = (u, p, b) => t[u] == null ? b : (typeof t[u] !== p && Ai.throwArgumentError("invalid fixed format (" + u + " not " + p + ")", "format." + u, t[u]), t[u]);
      r = s("signed", "boolean", r), i = s("width", "number", i), n = s("decimals", "number", n);
    }
    return i % 8 && Ai.throwArgumentError("invalid fixed format width (not byte aligned)", "format.width", i), n > 80 && Ai.throwArgumentError("invalid fixed format (decimals too large)", "format.decimals", n), new pp(tu, r, i, n);
  }
}, r8 = class yi {
  constructor(t, r, i, n) {
    t !== tu && Ai.throwError("cannot use FixedNumber constructor; use FixedNumber.from", Li.errors.UNSUPPORTED_OPERATION, { operation: "new FixedFormat" }), this.format = n, this._hex = r, this._value = i, this._isFixedNumber = !0, Object.freeze(this);
  }
  _checkFormat(t) {
    this.format.name !== t.format.name && Ai.throwArgumentError("incompatible format; use fixedNumber.toFormat", "other", t);
  }
  addUnsafe(t) {
    this._checkFormat(t);
    const r = lo(this._value, this.format.decimals), i = lo(t._value, t.format.decimals);
    return yi.fromValue(r.add(i), this.format.decimals, this.format);
  }
  subUnsafe(t) {
    this._checkFormat(t);
    const r = lo(this._value, this.format.decimals), i = lo(t._value, t.format.decimals);
    return yi.fromValue(r.sub(i), this.format.decimals, this.format);
  }
  mulUnsafe(t) {
    this._checkFormat(t);
    const r = lo(this._value, this.format.decimals), i = lo(t._value, t.format.decimals);
    return yi.fromValue(r.mul(i).div(this.format._multiplier), this.format.decimals, this.format);
  }
  divUnsafe(t) {
    this._checkFormat(t);
    const r = lo(this._value, this.format.decimals), i = lo(t._value, t.format.decimals);
    return yi.fromValue(r.mul(this.format._multiplier).div(i), this.format.decimals, this.format);
  }
  floor() {
    const t = this.toString().split(".");
    t.length === 1 && t.push("0");
    let r = yi.from(t[0], this.format);
    const i = !t[1].match(/^(0*)$/);
    return this.isNegative() && i && (r = r.subUnsafe(bm.toFormat(r.format))), r;
  }
  ceiling() {
    const t = this.toString().split(".");
    t.length === 1 && t.push("0");
    let r = yi.from(t[0], this.format);
    const i = !t[1].match(/^(0*)$/);
    return !this.isNegative() && i && (r = r.addUnsafe(bm.toFormat(r.format))), r;
  }
  round(t) {
    t == null && (t = 0);
    const r = this.toString().split(".");
    if (r.length === 1 && r.push("0"), (t < 0 || t > 80 || t % 1) && Ai.throwArgumentError("invalid decimal count", "decimals", t), r[1].length <= t)
      return this;
    const i = yi.from("1" + eu.substring(0, t), this.format), n = zD.toFormat(this.format);
    return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i);
  }
  isZero() {
    return this._value === "0.0" || this._value === "0";
  }
  isNegative() {
    return this._value[0] === "-";
  }
  toString() {
    return this._value;
  }
  toHexString(t) {
    if (t == null)
      return this._hex;
    t % 8 && Ai.throwArgumentError("invalid byte width", "width", t);
    const r = Si.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();
    return C0(r, t / 8);
  }
  toUnsafeFloat() {
    return parseFloat(this.toString());
  }
  toFormat(t) {
    return yi.fromString(this._value, t);
  }
  static fromValue(t, r, i) {
    return i == null && r != null && !kD(r) && (i = r, r = null), r == null && (r = 0), i == null && (i = "fixed"), yi.fromString(Yd(t, r), Vd.from(i));
  }
  static fromString(t, r) {
    r == null && (r = "fixed");
    const i = Vd.from(r), n = lo(t, i.decimals);
    !i.signed && n.lt(Zb) && e8("unsigned value cannot be negative", "overflow", "value", t);
    let s = null;
    i.signed ? s = n.toTwos(i.width).toHexString() : (s = n.toHexString(), s = C0(s, i.width / 8));
    const u = Yd(n, i.decimals);
    return new yi(tu, s, u, i);
  }
  static fromBytes(t, r) {
    r == null && (r = "fixed");
    const i = Vd.from(r);
    if (Yb(t).length > i.width / 8)
      throw new Error("overflow");
    let n = Si.from(t);
    i.signed && (n = n.fromTwos(i.width));
    const s = n.toTwos((i.signed ? 0 : 1) + i.width).toHexString(), u = Yd(n, i.decimals);
    return new yi(tu, s, u, i);
  }
  static from(t, r) {
    if (typeof t == "string")
      return yi.fromString(t, r);
    if (Su(t))
      return yi.fromBytes(t, r);
    try {
      return yi.fromValue(t, 0, r);
    } catch (i) {
      if (i.code !== Li.errors.INVALID_ARGUMENT)
        throw i;
    }
    return Ai.throwArgumentError("invalid FixedNumber value", "value", t);
  }
  static isFixedNumber(t) {
    return !!(t && t._isFixedNumber);
  }
};
const bm = r8.from(1), zD = r8.from("0.5");
var ym;
(function(e) {
  e.current = "", e.NFC = "NFC", e.NFD = "NFD", e.NFKC = "NFKC", e.NFKD = "NFKD";
})(ym || (ym = {}));
var wm;
(function(e) {
  e.UNEXPECTED_CONTINUE = "unexpected continuation byte", e.BAD_PREFIX = "bad codepoint prefix", e.OVERRUN = "string overrun", e.MISSING_CONTINUE = "missing continuation byte", e.OUT_OF_RANGE = "out of UTF-8 range", e.UTF16_SURROGATE = "UTF-16 surrogate", e.OVERLONG = "overlong representation";
})(wm || (wm = {}));
function $D(e) {
  if (e.length % 4 !== 0)
    throw new Error("bad data");
  let t = [];
  for (let r = 0; r < e.length; r += 4)
    t.push(parseInt(e.substring(r, r + 4), 16));
  return t;
}
function Wd(e, t) {
  t || (t = function(n) {
    return [parseInt(n, 16)];
  });
  let r = 0, i = {};
  return e.split(",").forEach((n) => {
    let s = n.split(":");
    r += parseInt(s[0], 16), i[r] = t(s[1]);
  }), i;
}
function Am(e) {
  let t = 0;
  return e.split(",").map((r) => {
    let i = r.split("-");
    i.length === 1 ? i[1] = "0" : i[1] === "" && (i[1] = "1");
    let n = t + parseInt(i[0], 16);
    return t = parseInt(i[1], 16), { l: n, h: t };
  });
}
Am("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"), "ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e) => parseInt(e, 16)), Wd("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"), Wd("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"), Wd("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D", $D), Am("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");
function HD(e) {
  e = atob(e);
  const t = [];
  for (let r = 0; r < e.length; r++)
    t.push(e.charCodeAt(r));
  return Yb(t);
}
function i8(e, t) {
  t == null && (t = 1);
  const r = [], i = r.forEach, n = function(s, u) {
    i.call(s, function(p) {
      u > 0 && Array.isArray(p) ? n(p, u - 1) : r.push(p);
    });
  };
  return n(e, t), r;
}
function jD(e) {
  const t = {};
  for (let r = 0; r < e.length; r++) {
    const i = e[r];
    t[i[0]] = i[1];
  }
  return t;
}
function KD(e) {
  let t = 0;
  function r() {
    return e[t++] << 8 | e[t++];
  }
  let i = r(), n = 1, s = [0, 1];
  for (let j = 1; j < i; j++)
    s.push(n += r());
  let u = r(), p = t;
  t += u;
  let b = 0, m = 0;
  function w() {
    return b == 0 && (m = m << 8 | e[t++], b = 8), m >> --b & 1;
  }
  const S = 31, C = Math.pow(2, S), D = C >>> 1, P = D >> 1, k = C - 1;
  let z = 0;
  for (let j = 0; j < S; j++)
    z = z << 1 | w();
  let V = [], Q = 0, W = C;
  for (; ; ) {
    let j = Math.floor(((z - Q + 1) * n - 1) / W), K = 0, N = i;
    for (; N - K > 1; ) {
      let ct = K + N >>> 1;
      j < s[ct] ? N = ct : K = ct;
    }
    if (K == 0)
      break;
    V.push(K);
    let H = Q + Math.floor(W * s[K] / n), st = Q + Math.floor(W * s[K + 1] / n) - 1;
    for (; !((H ^ st) & D); )
      z = z << 1 & k | w(), H = H << 1 & k, st = st << 1 & k | 1;
    for (; H & ~st & P; )
      z = z & D | z << 1 & k >>> 1 | w(), H = H << 1 ^ D, st = (st ^ D) << 1 | D | 1;
    Q = H, W = 1 + st - H;
  }
  let $ = i - 4;
  return V.map((j) => {
    switch (j - $) {
      case 3:
        return $ + 65792 + (e[p++] << 16 | e[p++] << 8 | e[p++]);
      case 2:
        return $ + 256 + (e[p++] << 8 | e[p++]);
      case 1:
        return $ + e[p++];
      default:
        return j - 1;
    }
  });
}
function GD(e) {
  let t = 0;
  return () => e[t++];
}
function QD(e) {
  return GD(KD(e));
}
function JD(e) {
  return e & 1 ? ~e >> 1 : e >> 1;
}
function YD(e, t) {
  let r = Array(e);
  for (let i = 0; i < e; i++)
    r[i] = 1 + t();
  return r;
}
function _m(e, t) {
  let r = Array(e);
  for (let i = 0, n = -1; i < e; i++)
    r[i] = n += 1 + t();
  return r;
}
function VD(e, t) {
  let r = Array(e);
  for (let i = 0, n = 0; i < e; i++)
    r[i] = n += JD(t());
  return r;
}
function N0(e, t) {
  let r = _m(e(), e), i = e(), n = _m(i, e), s = YD(i, e);
  for (let u = 0; u < i; u++)
    for (let p = 0; p < s[u]; p++)
      r.push(n[u] + p);
  return t ? r.map((u) => t[u]) : r;
}
function WD(e) {
  let t = [];
  for (; ; ) {
    let r = e();
    if (r == 0)
      break;
    t.push(ZD(r, e));
  }
  for (; ; ) {
    let r = e() - 1;
    if (r < 0)
      break;
    t.push(tC(r, e));
  }
  return jD(i8(t));
}
function XD(e) {
  let t = [];
  for (; ; ) {
    let r = e();
    if (r == 0)
      break;
    t.push(r);
  }
  return t;
}
function n8(e, t, r) {
  let i = Array(e).fill(void 0).map(() => []);
  for (let n = 0; n < t; n++)
    VD(e, r).forEach((s, u) => i[u].push(s));
  return i;
}
function ZD(e, t) {
  let r = 1 + t(), i = t(), n = XD(t), s = n8(n.length, 1 + e, t);
  return i8(s.map((u, p) => {
    const b = u[0], m = u.slice(1);
    return Array(n[p]).fill(void 0).map((w, S) => {
      let C = S * i;
      return [b + S * r, m.map((D) => D + C)];
    });
  }));
}
function tC(e, t) {
  let r = 1 + t();
  return n8(r, 1 + e, t).map((i) => [i[0], i.slice(1)]);
}
function eC(e) {
  let t = N0(e).sort((i, n) => i - n);
  return r();
  function r() {
    let i = [];
    for (; ; ) {
      let m = N0(e, t);
      if (m.length == 0)
        break;
      i.push({ set: new Set(m), node: r() });
    }
    i.sort((m, w) => w.set.size - m.set.size);
    let n = e(), s = n % 3;
    n = n / 3 | 0;
    let u = !!(n & 1);
    n >>= 1;
    let p = n == 1, b = n == 2;
    return { branches: i, valid: s, fe0f: u, save: p, check: b };
  }
}
function rC() {
  return QD(HD("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="));
}
const Lc = rC();
new Set(N0(Lc)), new Set(N0(Lc)), WD(Lc), eC(Lc);
const iC = new Uint8Array(32);
iC.fill(0);
const nC = new Uint8Array(32);
nC.fill(0), Si.from(-1);
const sC = Si.from(0), oC = Si.from(1);
Si.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"), C0(oC.toHexString(), 32), C0(sC.toHexString(), 32);
var bs = {}, Fe = {}, xu = s8;
function s8(e, t) {
  if (!e)
    throw new Error(t || "Assertion failed");
}
s8.equal = function(e, t, r) {
  if (e != t)
    throw new Error(r || "Assertion failed: " + e + " != " + t);
};
var gp = { exports: {} };
typeof Object.create == "function" ? gp.exports = function(e, t) {
  t && (e.super_ = t, e.prototype = Object.create(t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }));
} : gp.exports = function(e, t) {
  if (t) {
    e.super_ = t;
    var r = function() {
    };
    r.prototype = t.prototype, e.prototype = new r(), e.prototype.constructor = e;
  }
};
var aC = xu, hC = gp.exports;
Fe.inherits = hC;
function fC(e, t) {
  return (e.charCodeAt(t) & 64512) !== 55296 || t < 0 || t + 1 >= e.length ? !1 : (e.charCodeAt(t + 1) & 64512) === 56320;
}
function uC(e, t) {
  if (Array.isArray(e))
    return e.slice();
  if (!e)
    return [];
  var r = [];
  if (typeof e == "string")
    if (t) {
      if (t === "hex")
        for (e = e.replace(/[^a-z0-9]+/ig, ""), e.length % 2 !== 0 && (e = "0" + e), n = 0; n < e.length; n += 2)
          r.push(parseInt(e[n] + e[n + 1], 16));
    } else
      for (var i = 0, n = 0; n < e.length; n++) {
        var s = e.charCodeAt(n);
        s < 128 ? r[i++] = s : s < 2048 ? (r[i++] = s >> 6 | 192, r[i++] = s & 63 | 128) : fC(e, n) ? (s = 65536 + ((s & 1023) << 10) + (e.charCodeAt(++n) & 1023), r[i++] = s >> 18 | 240, r[i++] = s >> 12 & 63 | 128, r[i++] = s >> 6 & 63 | 128, r[i++] = s & 63 | 128) : (r[i++] = s >> 12 | 224, r[i++] = s >> 6 & 63 | 128, r[i++] = s & 63 | 128);
      }
  else
    for (n = 0; n < e.length; n++)
      r[n] = e[n] | 0;
  return r;
}
Fe.toArray = uC;
function cC(e) {
  for (var t = "", r = 0; r < e.length; r++)
    t += a8(e[r].toString(16));
  return t;
}
Fe.toHex = cC;
function o8(e) {
  var t = e >>> 24 | e >>> 8 & 65280 | e << 8 & 16711680 | (e & 255) << 24;
  return t >>> 0;
}
Fe.htonl = o8;
function lC(e, t) {
  for (var r = "", i = 0; i < e.length; i++) {
    var n = e[i];
    t === "little" && (n = o8(n)), r += h8(n.toString(16));
  }
  return r;
}
Fe.toHex32 = lC;
function a8(e) {
  return e.length === 1 ? "0" + e : e;
}
Fe.zero2 = a8;
function h8(e) {
  return e.length === 7 ? "0" + e : e.length === 6 ? "00" + e : e.length === 5 ? "000" + e : e.length === 4 ? "0000" + e : e.length === 3 ? "00000" + e : e.length === 2 ? "000000" + e : e.length === 1 ? "0000000" + e : e;
}
Fe.zero8 = h8;
function dC(e, t, r, i) {
  var n = r - t;
  aC(n % 4 === 0);
  for (var s = new Array(n / 4), u = 0, p = t; u < s.length; u++, p += 4) {
    var b;
    i === "big" ? b = e[p] << 24 | e[p + 1] << 16 | e[p + 2] << 8 | e[p + 3] : b = e[p + 3] << 24 | e[p + 2] << 16 | e[p + 1] << 8 | e[p], s[u] = b >>> 0;
  }
  return s;
}
Fe.join32 = dC;
function pC(e, t) {
  for (var r = new Array(e.length * 4), i = 0, n = 0; i < e.length; i++, n += 4) {
    var s = e[i];
    t === "big" ? (r[n] = s >>> 24, r[n + 1] = s >>> 16 & 255, r[n + 2] = s >>> 8 & 255, r[n + 3] = s & 255) : (r[n + 3] = s >>> 24, r[n + 2] = s >>> 16 & 255, r[n + 1] = s >>> 8 & 255, r[n] = s & 255);
  }
  return r;
}
Fe.split32 = pC;
function gC(e, t) {
  return e >>> t | e << 32 - t;
}
Fe.rotr32 = gC;
function mC(e, t) {
  return e << t | e >>> 32 - t;
}
Fe.rotl32 = mC;
function vC(e, t) {
  return e + t >>> 0;
}
Fe.sum32 = vC;
function bC(e, t, r) {
  return e + t + r >>> 0;
}
Fe.sum32_3 = bC;
function yC(e, t, r, i) {
  return e + t + r + i >>> 0;
}
Fe.sum32_4 = yC;
function wC(e, t, r, i, n) {
  return e + t + r + i + n >>> 0;
}
Fe.sum32_5 = wC;
function AC(e, t, r, i) {
  var n = e[t], s = e[t + 1], u = i + s >>> 0, p = (u < i ? 1 : 0) + r + n;
  e[t] = p >>> 0, e[t + 1] = u;
}
Fe.sum64 = AC;
function _C(e, t, r, i) {
  var n = t + i >>> 0, s = (n < t ? 1 : 0) + e + r;
  return s >>> 0;
}
Fe.sum64_hi = _C;
function EC(e, t, r, i) {
  var n = t + i;
  return n >>> 0;
}
Fe.sum64_lo = EC;
function MC(e, t, r, i, n, s, u, p) {
  var b = 0, m = t;
  m = m + i >>> 0, b += m < t ? 1 : 0, m = m + s >>> 0, b += m < s ? 1 : 0, m = m + p >>> 0, b += m < p ? 1 : 0;
  var w = e + r + n + u + b;
  return w >>> 0;
}
Fe.sum64_4_hi = MC;
function SC(e, t, r, i, n, s, u, p) {
  var b = t + i + s + p;
  return b >>> 0;
}
Fe.sum64_4_lo = SC;
function xC(e, t, r, i, n, s, u, p, b, m) {
  var w = 0, S = t;
  S = S + i >>> 0, w += S < t ? 1 : 0, S = S + s >>> 0, w += S < s ? 1 : 0, S = S + p >>> 0, w += S < p ? 1 : 0, S = S + m >>> 0, w += S < m ? 1 : 0;
  var C = e + r + n + u + b + w;
  return C >>> 0;
}
Fe.sum64_5_hi = xC;
function IC(e, t, r, i, n, s, u, p, b, m) {
  var w = t + i + s + p + m;
  return w >>> 0;
}
Fe.sum64_5_lo = IC;
function DC(e, t, r) {
  var i = t << 32 - r | e >>> r;
  return i >>> 0;
}
Fe.rotr64_hi = DC;
function CC(e, t, r) {
  var i = e << 32 - r | t >>> r;
  return i >>> 0;
}
Fe.rotr64_lo = CC;
function NC(e, t, r) {
  return e >>> r;
}
Fe.shr64_hi = NC;
function PC(e, t, r) {
  var i = e << 32 - r | t >>> r;
  return i >>> 0;
}
Fe.shr64_lo = PC;
var Zh = {}, Em = Fe, RC = xu;
function kc() {
  this.pending = null, this.pendingTotal = 0, this.blockSize = this.constructor.blockSize, this.outSize = this.constructor.outSize, this.hmacStrength = this.constructor.hmacStrength, this.padLength = this.constructor.padLength / 8, this.endian = "big", this._delta8 = this.blockSize / 8, this._delta32 = this.blockSize / 32;
}
Zh.BlockHash = kc, kc.prototype.update = function(e, t) {
  if (e = Em.toArray(e, t), this.pending ? this.pending = this.pending.concat(e) : this.pending = e, this.pendingTotal += e.length, this.pending.length >= this._delta8) {
    e = this.pending;
    var r = e.length % this._delta8;
    this.pending = e.slice(e.length - r, e.length), this.pending.length === 0 && (this.pending = null), e = Em.join32(e, 0, e.length - r, this.endian);
    for (var i = 0; i < e.length; i += this._delta32)
      this._update(e, i, i + this._delta32);
  }
  return this;
}, kc.prototype.digest = function(e) {
  return this.update(this._pad()), RC(this.pending === null), this._digest(e);
}, kc.prototype._pad = function() {
  var e = this.pendingTotal, t = this._delta8, r = t - (e + this.padLength) % t, i = new Array(r + this.padLength);
  i[0] = 128;
  for (var n = 1; n < r; n++)
    i[n] = 0;
  if (e <<= 3, this.endian === "big") {
    for (var s = 8; s < this.padLength; s++)
      i[n++] = 0;
    i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = e >>> 24 & 255, i[n++] = e >>> 16 & 255, i[n++] = e >>> 8 & 255, i[n++] = e & 255;
  } else
    for (i[n++] = e & 255, i[n++] = e >>> 8 & 255, i[n++] = e >>> 16 & 255, i[n++] = e >>> 24 & 255, i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = 0, s = 8; s < this.padLength; s++)
      i[n++] = 0;
  return i;
};
var vh = {}, Xs = {}, OC = Fe, Ts = OC.rotr32;
function BC(e, t, r, i) {
  if (e === 0)
    return f8(t, r, i);
  if (e === 1 || e === 3)
    return c8(t, r, i);
  if (e === 2)
    return u8(t, r, i);
}
Xs.ft_1 = BC;
function f8(e, t, r) {
  return e & t ^ ~e & r;
}
Xs.ch32 = f8;
function u8(e, t, r) {
  return e & t ^ e & r ^ t & r;
}
Xs.maj32 = u8;
function c8(e, t, r) {
  return e ^ t ^ r;
}
Xs.p32 = c8;
function TC(e) {
  return Ts(e, 2) ^ Ts(e, 13) ^ Ts(e, 22);
}
Xs.s0_256 = TC;
function FC(e) {
  return Ts(e, 6) ^ Ts(e, 11) ^ Ts(e, 25);
}
Xs.s1_256 = FC;
function UC(e) {
  return Ts(e, 7) ^ Ts(e, 18) ^ e >>> 3;
}
Xs.g0_256 = UC;
function qC(e) {
  return Ts(e, 17) ^ Ts(e, 19) ^ e >>> 10;
}
Xs.g1_256 = qC;
var Uh = Fe, LC = Zh, kC = Xs, Xd = Uh.rotl32, Uf = Uh.sum32, zC = Uh.sum32_5, $C = kC.ft_1, l8 = LC.BlockHash, HC = [1518500249, 1859775393, 2400959708, 3395469782];
function xs() {
  if (!(this instanceof xs))
    return new xs();
  l8.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.W = new Array(80);
}
Uh.inherits(xs, l8);
var jC = xs;
xs.blockSize = 512, xs.outSize = 160, xs.hmacStrength = 80, xs.padLength = 64, xs.prototype._update = function(e, t) {
  for (var r = this.W, i = 0; i < 16; i++)
    r[i] = e[t + i];
  for (; i < r.length; i++)
    r[i] = Xd(r[i - 3] ^ r[i - 8] ^ r[i - 14] ^ r[i - 16], 1);
  var n = this.h[0], s = this.h[1], u = this.h[2], p = this.h[3], b = this.h[4];
  for (i = 0; i < r.length; i++) {
    var m = ~~(i / 20), w = zC(Xd(n, 5), $C(m, s, u, p), b, r[i], HC[m]);
    b = p, p = u, u = Xd(s, 30), s = n, n = w;
  }
  this.h[0] = Uf(this.h[0], n), this.h[1] = Uf(this.h[1], s), this.h[2] = Uf(this.h[2], u), this.h[3] = Uf(this.h[3], p), this.h[4] = Uf(this.h[4], b);
}, xs.prototype._digest = function(e) {
  return e === "hex" ? Uh.toHex32(this.h, "big") : Uh.split32(this.h, "big");
};
var qh = Fe, KC = Zh, tf = Xs, GC = xu, zn = qh.sum32, QC = qh.sum32_4, JC = qh.sum32_5, YC = tf.ch32, VC = tf.maj32, WC = tf.s0_256, XC = tf.s1_256, ZC = tf.g0_256, tN = tf.g1_256, d8 = KC.BlockHash, eN = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];
function Is() {
  if (!(this instanceof Is))
    return new Is();
  d8.call(this), this.h = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225], this.k = eN, this.W = new Array(64);
}
qh.inherits(Is, d8);
var p8 = Is;
Is.blockSize = 512, Is.outSize = 256, Is.hmacStrength = 192, Is.padLength = 64, Is.prototype._update = function(e, t) {
  for (var r = this.W, i = 0; i < 16; i++)
    r[i] = e[t + i];
  for (; i < r.length; i++)
    r[i] = QC(tN(r[i - 2]), r[i - 7], ZC(r[i - 15]), r[i - 16]);
  var n = this.h[0], s = this.h[1], u = this.h[2], p = this.h[3], b = this.h[4], m = this.h[5], w = this.h[6], S = this.h[7];
  for (GC(this.k.length === r.length), i = 0; i < r.length; i++) {
    var C = JC(S, XC(b), YC(b, m, w), this.k[i], r[i]), D = zn(WC(n), VC(n, s, u));
    S = w, w = m, m = b, b = zn(p, C), p = u, u = s, s = n, n = zn(C, D);
  }
  this.h[0] = zn(this.h[0], n), this.h[1] = zn(this.h[1], s), this.h[2] = zn(this.h[2], u), this.h[3] = zn(this.h[3], p), this.h[4] = zn(this.h[4], b), this.h[5] = zn(this.h[5], m), this.h[6] = zn(this.h[6], w), this.h[7] = zn(this.h[7], S);
}, Is.prototype._digest = function(e) {
  return e === "hex" ? qh.toHex32(this.h, "big") : qh.split32(this.h, "big");
};
var mp = Fe, g8 = p8;
function _o() {
  if (!(this instanceof _o))
    return new _o();
  g8.call(this), this.h = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428];
}
mp.inherits(_o, g8);
var rN = _o;
_o.blockSize = 512, _o.outSize = 224, _o.hmacStrength = 192, _o.padLength = 64, _o.prototype._digest = function(e) {
  return e === "hex" ? mp.toHex32(this.h.slice(0, 7), "big") : mp.split32(this.h.slice(0, 7), "big");
};
var Hi = Fe, iN = Zh, nN = xu, Fs = Hi.rotr64_hi, Us = Hi.rotr64_lo, m8 = Hi.shr64_hi, v8 = Hi.shr64_lo, jo = Hi.sum64, Zd = Hi.sum64_hi, t1 = Hi.sum64_lo, sN = Hi.sum64_4_hi, oN = Hi.sum64_4_lo, aN = Hi.sum64_5_hi, hN = Hi.sum64_5_lo, b8 = iN.BlockHash, fN = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591];
function Xn() {
  if (!(this instanceof Xn))
    return new Xn();
  b8.call(this), this.h = [1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723, 2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199, 528734635, 4215389547, 1541459225, 327033209], this.k = fN, this.W = new Array(160);
}
Hi.inherits(Xn, b8);
var y8 = Xn;
Xn.blockSize = 1024, Xn.outSize = 512, Xn.hmacStrength = 192, Xn.padLength = 128, Xn.prototype._prepareBlock = function(e, t) {
  for (var r = this.W, i = 0; i < 32; i++)
    r[i] = e[t + i];
  for (; i < r.length; i += 2) {
    var n = wN(r[i - 4], r[i - 3]), s = AN(r[i - 4], r[i - 3]), u = r[i - 14], p = r[i - 13], b = bN(r[i - 30], r[i - 29]), m = yN(r[i - 30], r[i - 29]), w = r[i - 32], S = r[i - 31];
    r[i] = sN(n, s, u, p, b, m, w, S), r[i + 1] = oN(n, s, u, p, b, m, w, S);
  }
}, Xn.prototype._update = function(e, t) {
  this._prepareBlock(e, t);
  var r = this.W, i = this.h[0], n = this.h[1], s = this.h[2], u = this.h[3], p = this.h[4], b = this.h[5], m = this.h[6], w = this.h[7], S = this.h[8], C = this.h[9], D = this.h[10], P = this.h[11], k = this.h[12], z = this.h[13], V = this.h[14], Q = this.h[15];
  nN(this.k.length === r.length);
  for (var W = 0; W < r.length; W += 2) {
    var $ = V, j = Q, K = mN(S, C), N = vN(S, C), H = uN(S, C, D, P, k), st = cN(S, C, D, P, k, z), ct = this.k[W], L = this.k[W + 1], I = r[W], o = r[W + 1], h = aN($, j, K, N, H, st, ct, L, I, o), c = hN($, j, K, N, H, st, ct, L, I, o);
    $ = pN(i, n), j = gN(i, n), K = lN(i, n, s, u, p), N = dN(i, n, s, u, p, b);
    var v = Zd($, j, K, N), y = t1($, j, K, N);
    V = k, Q = z, k = D, z = P, D = S, P = C, S = Zd(m, w, h, c), C = t1(w, w, h, c), m = p, w = b, p = s, b = u, s = i, u = n, i = Zd(h, c, v, y), n = t1(h, c, v, y);
  }
  jo(this.h, 0, i, n), jo(this.h, 2, s, u), jo(this.h, 4, p, b), jo(this.h, 6, m, w), jo(this.h, 8, S, C), jo(this.h, 10, D, P), jo(this.h, 12, k, z), jo(this.h, 14, V, Q);
}, Xn.prototype._digest = function(e) {
  return e === "hex" ? Hi.toHex32(this.h, "big") : Hi.split32(this.h, "big");
};
function uN(e, t, r, i, n) {
  var s = e & r ^ ~e & n;
  return s < 0 && (s += 4294967296), s;
}
function cN(e, t, r, i, n, s) {
  var u = t & i ^ ~t & s;
  return u < 0 && (u += 4294967296), u;
}
function lN(e, t, r, i, n) {
  var s = e & r ^ e & n ^ r & n;
  return s < 0 && (s += 4294967296), s;
}
function dN(e, t, r, i, n, s) {
  var u = t & i ^ t & s ^ i & s;
  return u < 0 && (u += 4294967296), u;
}
function pN(e, t) {
  var r = Fs(e, t, 28), i = Fs(t, e, 2), n = Fs(t, e, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function gN(e, t) {
  var r = Us(e, t, 28), i = Us(t, e, 2), n = Us(t, e, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function mN(e, t) {
  var r = Fs(e, t, 14), i = Fs(e, t, 18), n = Fs(t, e, 9), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function vN(e, t) {
  var r = Us(e, t, 14), i = Us(e, t, 18), n = Us(t, e, 9), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function bN(e, t) {
  var r = Fs(e, t, 1), i = Fs(e, t, 8), n = m8(e, t, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function yN(e, t) {
  var r = Us(e, t, 1), i = Us(e, t, 8), n = v8(e, t, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function wN(e, t) {
  var r = Fs(e, t, 19), i = Fs(t, e, 29), n = m8(e, t, 6), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function AN(e, t) {
  var r = Us(e, t, 19), i = Us(t, e, 29), n = v8(e, t, 6), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
var vp = Fe, w8 = y8;
function Eo() {
  if (!(this instanceof Eo))
    return new Eo();
  w8.call(this), this.h = [3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999, 355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025, 3675008525, 1694076839, 1203062813, 3204075428];
}
vp.inherits(Eo, w8);
var _N = Eo;
Eo.blockSize = 1024, Eo.outSize = 384, Eo.hmacStrength = 192, Eo.padLength = 128, Eo.prototype._digest = function(e) {
  return e === "hex" ? vp.toHex32(this.h.slice(0, 12), "big") : vp.split32(this.h.slice(0, 12), "big");
}, vh.sha1 = jC, vh.sha224 = rN, vh.sha256 = p8, vh.sha384 = _N, vh.sha512 = y8;
var A8 = {}, Na = Fe, EN = Zh, zc = Na.rotl32, Mm = Na.sum32, qf = Na.sum32_3, Sm = Na.sum32_4, _8 = EN.BlockHash;
function ys() {
  if (!(this instanceof ys))
    return new ys();
  _8.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.endian = "little";
}
Na.inherits(ys, _8), A8.ripemd160 = ys, ys.blockSize = 512, ys.outSize = 160, ys.hmacStrength = 192, ys.padLength = 64, ys.prototype._update = function(e, t) {
  for (var r = this.h[0], i = this.h[1], n = this.h[2], s = this.h[3], u = this.h[4], p = r, b = i, m = n, w = s, S = u, C = 0; C < 80; C++) {
    var D = Mm(zc(Sm(r, xm(C, i, n, s), e[xN[C] + t], MN(C)), DN[C]), u);
    r = u, u = s, s = zc(n, 10), n = i, i = D, D = Mm(zc(Sm(p, xm(79 - C, b, m, w), e[IN[C] + t], SN(C)), CN[C]), S), p = S, S = w, w = zc(m, 10), m = b, b = D;
  }
  D = qf(this.h[1], n, w), this.h[1] = qf(this.h[2], s, S), this.h[2] = qf(this.h[3], u, p), this.h[3] = qf(this.h[4], r, b), this.h[4] = qf(this.h[0], i, m), this.h[0] = D;
}, ys.prototype._digest = function(e) {
  return e === "hex" ? Na.toHex32(this.h, "little") : Na.split32(this.h, "little");
};
function xm(e, t, r, i) {
  return e <= 15 ? t ^ r ^ i : e <= 31 ? t & r | ~t & i : e <= 47 ? (t | ~r) ^ i : e <= 63 ? t & i | r & ~i : t ^ (r | ~i);
}
function MN(e) {
  return e <= 15 ? 0 : e <= 31 ? 1518500249 : e <= 47 ? 1859775393 : e <= 63 ? 2400959708 : 2840853838;
}
function SN(e) {
  return e <= 15 ? 1352829926 : e <= 31 ? 1548603684 : e <= 47 ? 1836072691 : e <= 63 ? 2053994217 : 0;
}
var xN = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13], IN = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11], DN = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6], CN = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11], NN = Fe, PN = xu;
function xh(e, t, r) {
  if (!(this instanceof xh))
    return new xh(e, t, r);
  this.Hash = e, this.blockSize = e.blockSize / 8, this.outSize = e.outSize / 8, this.inner = null, this.outer = null, this._init(NN.toArray(t, r));
}
var RN = xh;
xh.prototype._init = function(e) {
  e.length > this.blockSize && (e = new this.Hash().update(e).digest()), PN(e.length <= this.blockSize);
  for (var t = e.length; t < this.blockSize; t++)
    e.push(0);
  for (t = 0; t < e.length; t++)
    e[t] ^= 54;
  for (this.inner = new this.Hash().update(e), t = 0; t < e.length; t++)
    e[t] ^= 106;
  this.outer = new this.Hash().update(e);
}, xh.prototype.update = function(e, t) {
  return this.inner.update(e, t), this;
}, xh.prototype.digest = function(e) {
  return this.outer.update(this.inner.digest()), this.outer.digest(e);
}, function(e) {
  var t = e;
  t.utils = Fe, t.common = Zh, t.sha = vh, t.ripemd = A8, t.hmac = RN, t.sha1 = t.sha.sha1, t.sha256 = t.sha.sha256, t.sha224 = t.sha.sha224, t.sha384 = t.sha.sha384, t.sha512 = t.sha.sha512, t.ripemd160 = t.ripemd.ripemd160;
}(bs);
function ef(e, t, r) {
  return r = { path: t, exports: {}, require: function(i, n) {
    return ON(i, n ?? r.path);
  } }, e(r, r.exports), r.exports;
}
function ON() {
  throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");
}
var h2 = E8;
function E8(e, t) {
  if (!e)
    throw new Error(t || "Assertion failed");
}
E8.equal = function(e, t, r) {
  if (e != t)
    throw new Error(r || "Assertion failed: " + e + " != " + t);
};
var rs = ef(function(e, t) {
  var r = t;
  function i(u, p) {
    if (Array.isArray(u))
      return u.slice();
    if (!u)
      return [];
    var b = [];
    if (typeof u != "string") {
      for (var m = 0; m < u.length; m++)
        b[m] = u[m] | 0;
      return b;
    }
    if (p === "hex") {
      u = u.replace(/[^a-z0-9]+/ig, ""), u.length % 2 !== 0 && (u = "0" + u);
      for (var m = 0; m < u.length; m += 2)
        b.push(parseInt(u[m] + u[m + 1], 16));
    } else
      for (var m = 0; m < u.length; m++) {
        var w = u.charCodeAt(m), S = w >> 8, C = w & 255;
        S ? b.push(S, C) : b.push(C);
      }
    return b;
  }
  r.toArray = i;
  function n(u) {
    return u.length === 1 ? "0" + u : u;
  }
  r.zero2 = n;
  function s(u) {
    for (var p = "", b = 0; b < u.length; b++)
      p += n(u[b].toString(16));
    return p;
  }
  r.toHex = s, r.encode = function(u, p) {
    return p === "hex" ? s(u) : u;
  };
}), en = ef(function(e, t) {
  var r = t;
  r.assert = h2, r.toArray = rs.toArray, r.zero2 = rs.zero2, r.toHex = rs.toHex, r.encode = rs.encode;
  function i(b, m, w) {
    var S = new Array(Math.max(b.bitLength(), w) + 1);
    S.fill(0);
    for (var C = 1 << m + 1, D = b.clone(), P = 0; P < S.length; P++) {
      var k, z = D.andln(C - 1);
      D.isOdd() ? (z > (C >> 1) - 1 ? k = (C >> 1) - z : k = z, D.isubn(k)) : k = 0, S[P] = k, D.iushrn(1);
    }
    return S;
  }
  r.getNAF = i;
  function n(b, m) {
    var w = [[], []];
    b = b.clone(), m = m.clone();
    for (var S = 0, C = 0, D; b.cmpn(-S) > 0 || m.cmpn(-C) > 0; ) {
      var P = b.andln(3) + S & 3, k = m.andln(3) + C & 3;
      P === 3 && (P = -1), k === 3 && (k = -1);
      var z;
      P & 1 ? (D = b.andln(7) + S & 7, (D === 3 || D === 5) && k === 2 ? z = -P : z = P) : z = 0, w[0].push(z);
      var V;
      k & 1 ? (D = m.andln(7) + C & 7, (D === 3 || D === 5) && P === 2 ? V = -k : V = k) : V = 0, w[1].push(V), 2 * S === z + 1 && (S = 1 - S), 2 * C === V + 1 && (C = 1 - C), b.iushrn(1), m.iushrn(1);
    }
    return w;
  }
  r.getJSF = n;
  function s(b, m, w) {
    var S = "_" + m;
    b.prototype[m] = function() {
      return this[S] !== void 0 ? this[S] : this[S] = w.call(this);
    };
  }
  r.cachedProperty = s;
  function u(b) {
    return typeof b == "string" ? r.toArray(b, "hex") : b;
  }
  r.parseBytes = u;
  function p(b) {
    return new _e(b, "hex", "le");
  }
  r.intFromLE = p;
}), $c = en.getNAF, BN = en.getJSF, P0 = en.assert;
function Yo(e, t) {
  this.type = e, this.p = new _e(t.p, 16), this.red = t.prime ? _e.red(t.prime) : _e.mont(this.p), this.zero = new _e(0).toRed(this.red), this.one = new _e(1).toRed(this.red), this.two = new _e(2).toRed(this.red), this.n = t.n && new _e(t.n, 16), this.g = t.g && this.pointFromJSON(t.g, t.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4), this._bitLength = this.n ? this.n.bitLength() : 0;
  var r = this.n && this.p.div(this.n);
  !r || r.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red));
}
var La = Yo;
Yo.prototype.point = function() {
  throw new Error("Not implemented");
}, Yo.prototype.validate = function() {
  throw new Error("Not implemented");
}, Yo.prototype._fixedNafMul = function(e, t) {
  P0(e.precomputed);
  var r = e._getDoubles(), i = $c(t, 1, this._bitLength), n = (1 << r.step + 1) - (r.step % 2 === 0 ? 2 : 1);
  n /= 3;
  var s = [], u, p;
  for (u = 0; u < i.length; u += r.step) {
    p = 0;
    for (var b = u + r.step - 1; b >= u; b--)
      p = (p << 1) + i[b];
    s.push(p);
  }
  for (var m = this.jpoint(null, null, null), w = this.jpoint(null, null, null), S = n; S > 0; S--) {
    for (u = 0; u < s.length; u++)
      p = s[u], p === S ? w = w.mixedAdd(r.points[u]) : p === -S && (w = w.mixedAdd(r.points[u].neg()));
    m = m.add(w);
  }
  return m.toP();
}, Yo.prototype._wnafMul = function(e, t) {
  var r = 4, i = e._getNAFPoints(r);
  r = i.wnd;
  for (var n = i.points, s = $c(t, r, this._bitLength), u = this.jpoint(null, null, null), p = s.length - 1; p >= 0; p--) {
    for (var b = 0; p >= 0 && s[p] === 0; p--)
      b++;
    if (p >= 0 && b++, u = u.dblp(b), p < 0)
      break;
    var m = s[p];
    P0(m !== 0), e.type === "affine" ? m > 0 ? u = u.mixedAdd(n[m - 1 >> 1]) : u = u.mixedAdd(n[-m - 1 >> 1].neg()) : m > 0 ? u = u.add(n[m - 1 >> 1]) : u = u.add(n[-m - 1 >> 1].neg());
  }
  return e.type === "affine" ? u.toP() : u;
}, Yo.prototype._wnafMulAdd = function(e, t, r, i, n) {
  var s = this._wnafT1, u = this._wnafT2, p = this._wnafT3, b = 0, m, w, S;
  for (m = 0; m < i; m++) {
    S = t[m];
    var C = S._getNAFPoints(e);
    s[m] = C.wnd, u[m] = C.points;
  }
  for (m = i - 1; m >= 1; m -= 2) {
    var D = m - 1, P = m;
    if (s[D] !== 1 || s[P] !== 1) {
      p[D] = $c(r[D], s[D], this._bitLength), p[P] = $c(r[P], s[P], this._bitLength), b = Math.max(p[D].length, b), b = Math.max(p[P].length, b);
      continue;
    }
    var k = [t[D], null, null, t[P]];
    t[D].y.cmp(t[P].y) === 0 ? (k[1] = t[D].add(t[P]), k[2] = t[D].toJ().mixedAdd(t[P].neg())) : t[D].y.cmp(t[P].y.redNeg()) === 0 ? (k[1] = t[D].toJ().mixedAdd(t[P]), k[2] = t[D].add(t[P].neg())) : (k[1] = t[D].toJ().mixedAdd(t[P]), k[2] = t[D].toJ().mixedAdd(t[P].neg()));
    var z = [-3, -1, -5, -7, 0, 7, 5, 1, 3], V = BN(r[D], r[P]);
    for (b = Math.max(V[0].length, b), p[D] = new Array(b), p[P] = new Array(b), w = 0; w < b; w++) {
      var Q = V[0][w] | 0, W = V[1][w] | 0;
      p[D][w] = z[(Q + 1) * 3 + (W + 1)], p[P][w] = 0, u[D] = k;
    }
  }
  var $ = this.jpoint(null, null, null), j = this._wnafT4;
  for (m = b; m >= 0; m--) {
    for (var K = 0; m >= 0; ) {
      var N = !0;
      for (w = 0; w < i; w++)
        j[w] = p[w][m] | 0, j[w] !== 0 && (N = !1);
      if (!N)
        break;
      K++, m--;
    }
    if (m >= 0 && K++, $ = $.dblp(K), m < 0)
      break;
    for (w = 0; w < i; w++) {
      var H = j[w];
      H !== 0 && (H > 0 ? S = u[w][H - 1 >> 1] : H < 0 && (S = u[w][-H - 1 >> 1].neg()), S.type === "affine" ? $ = $.mixedAdd(S) : $ = $.add(S));
    }
  }
  for (m = 0; m < i; m++)
    u[m] = null;
  return n ? $ : $.toP();
};
function mn(e, t) {
  this.curve = e, this.type = t, this.precomputed = null;
}
Yo.BasePoint = mn, mn.prototype.eq = function() {
  throw new Error("Not implemented");
}, mn.prototype.validate = function() {
  return this.curve.validate(this);
}, Yo.prototype.decodePoint = function(e, t) {
  e = en.toArray(e, t);
  var r = this.p.byteLength();
  if ((e[0] === 4 || e[0] === 6 || e[0] === 7) && e.length - 1 === 2 * r) {
    e[0] === 6 ? P0(e[e.length - 1] % 2 === 0) : e[0] === 7 && P0(e[e.length - 1] % 2 === 1);
    var i = this.point(e.slice(1, 1 + r), e.slice(1 + r, 1 + 2 * r));
    return i;
  } else if ((e[0] === 2 || e[0] === 3) && e.length - 1 === r)
    return this.pointFromX(e.slice(1, 1 + r), e[0] === 3);
  throw new Error("Unknown point format");
}, mn.prototype.encodeCompressed = function(e) {
  return this.encode(e, !0);
}, mn.prototype._encode = function(e) {
  var t = this.curve.p.byteLength(), r = this.getX().toArray("be", t);
  return e ? [this.getY().isEven() ? 2 : 3].concat(r) : [4].concat(r, this.getY().toArray("be", t));
}, mn.prototype.encode = function(e, t) {
  return en.encode(this._encode(t), e);
}, mn.prototype.precompute = function(e) {
  if (this.precomputed)
    return this;
  var t = { doubles: null, naf: null, beta: null };
  return t.naf = this._getNAFPoints(8), t.doubles = this._getDoubles(4, e), t.beta = this._getBeta(), this.precomputed = t, this;
}, mn.prototype._hasDoubles = function(e) {
  if (!this.precomputed)
    return !1;
  var t = this.precomputed.doubles;
  return t ? t.points.length >= Math.ceil((e.bitLength() + 1) / t.step) : !1;
}, mn.prototype._getDoubles = function(e, t) {
  if (this.precomputed && this.precomputed.doubles)
    return this.precomputed.doubles;
  for (var r = [this], i = this, n = 0; n < t; n += e) {
    for (var s = 0; s < e; s++)
      i = i.dbl();
    r.push(i);
  }
  return { step: e, points: r };
}, mn.prototype._getNAFPoints = function(e) {
  if (this.precomputed && this.precomputed.naf)
    return this.precomputed.naf;
  for (var t = [this], r = (1 << e) - 1, i = r === 1 ? null : this.dbl(), n = 1; n < r; n++)
    t[n] = t[n - 1].add(i);
  return { wnd: e, points: t };
}, mn.prototype._getBeta = function() {
  return null;
}, mn.prototype.dblp = function(e) {
  for (var t = this, r = 0; r < e; r++)
    t = t.dbl();
  return t;
};
var f2 = ef(function(e) {
  typeof Object.create == "function" ? e.exports = function(t, r) {
    r && (t.super_ = r, t.prototype = Object.create(r.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }));
  } : e.exports = function(t, r) {
    if (r) {
      t.super_ = r;
      var i = function() {
      };
      i.prototype = r.prototype, t.prototype = new i(), t.prototype.constructor = t;
    }
  };
}), TN = en.assert;
function In(e) {
  La.call(this, "short", e), this.a = new _e(e.a, 16).toRed(this.red), this.b = new _e(e.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = this.a.fromRed().cmpn(0) === 0, this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0, this.endo = this._getEndomorphism(e), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4);
}
f2(In, La);
var FN = In;
In.prototype._getEndomorphism = function(e) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var t, r;
    if (e.beta)
      t = new _e(e.beta, 16).toRed(this.red);
    else {
      var i = this._getEndoRoots(this.p);
      t = i[0].cmp(i[1]) < 0 ? i[0] : i[1], t = t.toRed(this.red);
    }
    if (e.lambda)
      r = new _e(e.lambda, 16);
    else {
      var n = this._getEndoRoots(this.n);
      this.g.mul(n[0]).x.cmp(this.g.x.redMul(t)) === 0 ? r = n[0] : (r = n[1], TN(this.g.mul(r).x.cmp(this.g.x.redMul(t)) === 0));
    }
    var s;
    return e.basis ? s = e.basis.map(function(u) {
      return { a: new _e(u.a, 16), b: new _e(u.b, 16) };
    }) : s = this._getEndoBasis(r), { beta: t, lambda: r, basis: s };
  }
}, In.prototype._getEndoRoots = function(e) {
  var t = e === this.p ? this.red : _e.mont(e), r = new _e(2).toRed(t).redInvm(), i = r.redNeg(), n = new _e(3).toRed(t).redNeg().redSqrt().redMul(r), s = i.redAdd(n).fromRed(), u = i.redSub(n).fromRed();
  return [s, u];
}, In.prototype._getEndoBasis = function(e) {
  for (var t = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), r = e, i = this.n.clone(), n = new _e(1), s = new _e(0), u = new _e(0), p = new _e(1), b, m, w, S, C, D, P, k = 0, z, V; r.cmpn(0) !== 0; ) {
    var Q = i.div(r);
    z = i.sub(Q.mul(r)), V = u.sub(Q.mul(n));
    var W = p.sub(Q.mul(s));
    if (!w && z.cmp(t) < 0)
      b = P.neg(), m = n, w = z.neg(), S = V;
    else if (w && ++k === 2)
      break;
    P = z, i = r, r = z, u = n, n = V, p = s, s = W;
  }
  C = z.neg(), D = V;
  var $ = w.sqr().add(S.sqr()), j = C.sqr().add(D.sqr());
  return j.cmp($) >= 0 && (C = b, D = m), w.negative && (w = w.neg(), S = S.neg()), C.negative && (C = C.neg(), D = D.neg()), [{ a: w, b: S }, { a: C, b: D }];
}, In.prototype._endoSplit = function(e) {
  var t = this.endo.basis, r = t[0], i = t[1], n = i.b.mul(e).divRound(this.n), s = r.b.neg().mul(e).divRound(this.n), u = n.mul(r.a), p = s.mul(i.a), b = n.mul(r.b), m = s.mul(i.b), w = e.sub(u).sub(p), S = b.add(m).neg();
  return { k1: w, k2: S };
}, In.prototype.pointFromX = function(e, t) {
  e = new _e(e, 16), e.red || (e = e.toRed(this.red));
  var r = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b), i = r.redSqrt();
  if (i.redSqr().redSub(r).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var n = i.fromRed().isOdd();
  return (t && !n || !t && n) && (i = i.redNeg()), this.point(e, i);
}, In.prototype.validate = function(e) {
  if (e.inf)
    return !0;
  var t = e.x, r = e.y, i = this.a.redMul(t), n = t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);
  return r.redSqr().redISub(n).cmpn(0) === 0;
}, In.prototype._endoWnafMulAdd = function(e, t, r) {
  for (var i = this._endoWnafT1, n = this._endoWnafT2, s = 0; s < e.length; s++) {
    var u = this._endoSplit(t[s]), p = e[s], b = p._getBeta();
    u.k1.negative && (u.k1.ineg(), p = p.neg(!0)), u.k2.negative && (u.k2.ineg(), b = b.neg(!0)), i[s * 2] = p, i[s * 2 + 1] = b, n[s * 2] = u.k1, n[s * 2 + 1] = u.k2;
  }
  for (var m = this._wnafMulAdd(1, i, n, s * 2, r), w = 0; w < s * 2; w++)
    i[w] = null, n[w] = null;
  return m;
};
function Hr(e, t, r, i) {
  La.BasePoint.call(this, e, "affine"), t === null && r === null ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new _e(t, 16), this.y = new _e(r, 16), i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1);
}
f2(Hr, La.BasePoint), In.prototype.point = function(e, t, r) {
  return new Hr(this, e, t, r);
}, In.prototype.pointFromJSON = function(e, t) {
  return Hr.fromJSON(this, e, t);
}, Hr.prototype._getBeta = function() {
  if (this.curve.endo) {
    var e = this.precomputed;
    if (e && e.beta)
      return e.beta;
    var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
    if (e) {
      var r = this.curve, i = function(n) {
        return r.point(n.x.redMul(r.endo.beta), n.y);
      };
      e.beta = t, t.precomputed = { beta: null, naf: e.naf && { wnd: e.naf.wnd, points: e.naf.points.map(i) }, doubles: e.doubles && { step: e.doubles.step, points: e.doubles.points.map(i) } };
    }
    return t;
  }
}, Hr.prototype.toJSON = function() {
  return this.precomputed ? [this.x, this.y, this.precomputed && { doubles: this.precomputed.doubles && { step: this.precomputed.doubles.step, points: this.precomputed.doubles.points.slice(1) }, naf: this.precomputed.naf && { wnd: this.precomputed.naf.wnd, points: this.precomputed.naf.points.slice(1) } }] : [this.x, this.y];
}, Hr.fromJSON = function(e, t, r) {
  typeof t == "string" && (t = JSON.parse(t));
  var i = e.point(t[0], t[1], r);
  if (!t[2])
    return i;
  function n(u) {
    return e.point(u[0], u[1], r);
  }
  var s = t[2];
  return i.precomputed = { beta: null, doubles: s.doubles && { step: s.doubles.step, points: [i].concat(s.doubles.points.map(n)) }, naf: s.naf && { wnd: s.naf.wnd, points: [i].concat(s.naf.points.map(n)) } }, i;
}, Hr.prototype.inspect = function() {
  return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">";
}, Hr.prototype.isInfinity = function() {
  return this.inf;
}, Hr.prototype.add = function(e) {
  if (this.inf)
    return e;
  if (e.inf)
    return this;
  if (this.eq(e))
    return this.dbl();
  if (this.neg().eq(e))
    return this.curve.point(null, null);
  if (this.x.cmp(e.x) === 0)
    return this.curve.point(null, null);
  var t = this.y.redSub(e.y);
  t.cmpn(0) !== 0 && (t = t.redMul(this.x.redSub(e.x).redInvm()));
  var r = t.redSqr().redISub(this.x).redISub(e.x), i = t.redMul(this.x.redSub(r)).redISub(this.y);
  return this.curve.point(r, i);
}, Hr.prototype.dbl = function() {
  if (this.inf)
    return this;
  var e = this.y.redAdd(this.y);
  if (e.cmpn(0) === 0)
    return this.curve.point(null, null);
  var t = this.curve.a, r = this.x.redSqr(), i = e.redInvm(), n = r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i), s = n.redSqr().redISub(this.x.redAdd(this.x)), u = n.redMul(this.x.redSub(s)).redISub(this.y);
  return this.curve.point(s, u);
}, Hr.prototype.getX = function() {
  return this.x.fromRed();
}, Hr.prototype.getY = function() {
  return this.y.fromRed();
}, Hr.prototype.mul = function(e) {
  return e = new _e(e, 16), this.isInfinity() ? this : this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [e]) : this.curve._wnafMul(this, e);
}, Hr.prototype.mulAdd = function(e, t, r) {
  var i = [this, t], n = [e, r];
  return this.curve.endo ? this.curve._endoWnafMulAdd(i, n) : this.curve._wnafMulAdd(1, i, n, 2);
}, Hr.prototype.jmulAdd = function(e, t, r) {
  var i = [this, t], n = [e, r];
  return this.curve.endo ? this.curve._endoWnafMulAdd(i, n, !0) : this.curve._wnafMulAdd(1, i, n, 2, !0);
}, Hr.prototype.eq = function(e) {
  return this === e || this.inf === e.inf && (this.inf || this.x.cmp(e.x) === 0 && this.y.cmp(e.y) === 0);
}, Hr.prototype.neg = function(e) {
  if (this.inf)
    return this;
  var t = this.curve.point(this.x, this.y.redNeg());
  if (e && this.precomputed) {
    var r = this.precomputed, i = function(n) {
      return n.neg();
    };
    t.precomputed = { naf: r.naf && { wnd: r.naf.wnd, points: r.naf.points.map(i) }, doubles: r.doubles && { step: r.doubles.step, points: r.doubles.points.map(i) } };
  }
  return t;
}, Hr.prototype.toJ = function() {
  if (this.inf)
    return this.curve.jpoint(null, null, null);
  var e = this.curve.jpoint(this.x, this.y, this.curve.one);
  return e;
};
function Xr(e, t, r, i) {
  La.BasePoint.call(this, e, "jacobian"), t === null && r === null && i === null ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new _e(0)) : (this.x = new _e(t, 16), this.y = new _e(r, 16), this.z = new _e(i, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one;
}
f2(Xr, La.BasePoint), In.prototype.jpoint = function(e, t, r) {
  return new Xr(this, e, t, r);
}, Xr.prototype.toP = function() {
  if (this.isInfinity())
    return this.curve.point(null, null);
  var e = this.z.redInvm(), t = e.redSqr(), r = this.x.redMul(t), i = this.y.redMul(t).redMul(e);
  return this.curve.point(r, i);
}, Xr.prototype.neg = function() {
  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
}, Xr.prototype.add = function(e) {
  if (this.isInfinity())
    return e;
  if (e.isInfinity())
    return this;
  var t = e.z.redSqr(), r = this.z.redSqr(), i = this.x.redMul(t), n = e.x.redMul(r), s = this.y.redMul(t.redMul(e.z)), u = e.y.redMul(r.redMul(this.z)), p = i.redSub(n), b = s.redSub(u);
  if (p.cmpn(0) === 0)
    return b.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var m = p.redSqr(), w = m.redMul(p), S = i.redMul(m), C = b.redSqr().redIAdd(w).redISub(S).redISub(S), D = b.redMul(S.redISub(C)).redISub(s.redMul(w)), P = this.z.redMul(e.z).redMul(p);
  return this.curve.jpoint(C, D, P);
}, Xr.prototype.mixedAdd = function(e) {
  if (this.isInfinity())
    return e.toJ();
  if (e.isInfinity())
    return this;
  var t = this.z.redSqr(), r = this.x, i = e.x.redMul(t), n = this.y, s = e.y.redMul(t).redMul(this.z), u = r.redSub(i), p = n.redSub(s);
  if (u.cmpn(0) === 0)
    return p.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var b = u.redSqr(), m = b.redMul(u), w = r.redMul(b), S = p.redSqr().redIAdd(m).redISub(w).redISub(w), C = p.redMul(w.redISub(S)).redISub(n.redMul(m)), D = this.z.redMul(u);
  return this.curve.jpoint(S, C, D);
}, Xr.prototype.dblp = function(e) {
  if (e === 0)
    return this;
  if (this.isInfinity())
    return this;
  if (!e)
    return this.dbl();
  var t;
  if (this.curve.zeroA || this.curve.threeA) {
    var r = this;
    for (t = 0; t < e; t++)
      r = r.dbl();
    return r;
  }
  var i = this.curve.a, n = this.curve.tinv, s = this.x, u = this.y, p = this.z, b = p.redSqr().redSqr(), m = u.redAdd(u);
  for (t = 0; t < e; t++) {
    var w = s.redSqr(), S = m.redSqr(), C = S.redSqr(), D = w.redAdd(w).redIAdd(w).redIAdd(i.redMul(b)), P = s.redMul(S), k = D.redSqr().redISub(P.redAdd(P)), z = P.redISub(k), V = D.redMul(z);
    V = V.redIAdd(V).redISub(C);
    var Q = m.redMul(p);
    t + 1 < e && (b = b.redMul(C)), s = k, p = Q, m = V;
  }
  return this.curve.jpoint(s, m.redMul(n), p);
}, Xr.prototype.dbl = function() {
  return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl();
}, Xr.prototype._zeroDbl = function() {
  var e, t, r;
  if (this.zOne) {
    var i = this.x.redSqr(), n = this.y.redSqr(), s = n.redSqr(), u = this.x.redAdd(n).redSqr().redISub(i).redISub(s);
    u = u.redIAdd(u);
    var p = i.redAdd(i).redIAdd(i), b = p.redSqr().redISub(u).redISub(u), m = s.redIAdd(s);
    m = m.redIAdd(m), m = m.redIAdd(m), e = b, t = p.redMul(u.redISub(b)).redISub(m), r = this.y.redAdd(this.y);
  } else {
    var w = this.x.redSqr(), S = this.y.redSqr(), C = S.redSqr(), D = this.x.redAdd(S).redSqr().redISub(w).redISub(C);
    D = D.redIAdd(D);
    var P = w.redAdd(w).redIAdd(w), k = P.redSqr(), z = C.redIAdd(C);
    z = z.redIAdd(z), z = z.redIAdd(z), e = k.redISub(D).redISub(D), t = P.redMul(D.redISub(e)).redISub(z), r = this.y.redMul(this.z), r = r.redIAdd(r);
  }
  return this.curve.jpoint(e, t, r);
}, Xr.prototype._threeDbl = function() {
  var e, t, r;
  if (this.zOne) {
    var i = this.x.redSqr(), n = this.y.redSqr(), s = n.redSqr(), u = this.x.redAdd(n).redSqr().redISub(i).redISub(s);
    u = u.redIAdd(u);
    var p = i.redAdd(i).redIAdd(i).redIAdd(this.curve.a), b = p.redSqr().redISub(u).redISub(u);
    e = b;
    var m = s.redIAdd(s);
    m = m.redIAdd(m), m = m.redIAdd(m), t = p.redMul(u.redISub(b)).redISub(m), r = this.y.redAdd(this.y);
  } else {
    var w = this.z.redSqr(), S = this.y.redSqr(), C = this.x.redMul(S), D = this.x.redSub(w).redMul(this.x.redAdd(w));
    D = D.redAdd(D).redIAdd(D);
    var P = C.redIAdd(C);
    P = P.redIAdd(P);
    var k = P.redAdd(P);
    e = D.redSqr().redISub(k), r = this.y.redAdd(this.z).redSqr().redISub(S).redISub(w);
    var z = S.redSqr();
    z = z.redIAdd(z), z = z.redIAdd(z), z = z.redIAdd(z), t = D.redMul(P.redISub(e)).redISub(z);
  }
  return this.curve.jpoint(e, t, r);
}, Xr.prototype._dbl = function() {
  var e = this.curve.a, t = this.x, r = this.y, i = this.z, n = i.redSqr().redSqr(), s = t.redSqr(), u = r.redSqr(), p = s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)), b = t.redAdd(t);
  b = b.redIAdd(b);
  var m = b.redMul(u), w = p.redSqr().redISub(m.redAdd(m)), S = m.redISub(w), C = u.redSqr();
  C = C.redIAdd(C), C = C.redIAdd(C), C = C.redIAdd(C);
  var D = p.redMul(S).redISub(C), P = r.redAdd(r).redMul(i);
  return this.curve.jpoint(w, D, P);
}, Xr.prototype.trpl = function() {
  if (!this.curve.zeroA)
    return this.dbl().add(this);
  var e = this.x.redSqr(), t = this.y.redSqr(), r = this.z.redSqr(), i = t.redSqr(), n = e.redAdd(e).redIAdd(e), s = n.redSqr(), u = this.x.redAdd(t).redSqr().redISub(e).redISub(i);
  u = u.redIAdd(u), u = u.redAdd(u).redIAdd(u), u = u.redISub(s);
  var p = u.redSqr(), b = i.redIAdd(i);
  b = b.redIAdd(b), b = b.redIAdd(b), b = b.redIAdd(b);
  var m = n.redIAdd(u).redSqr().redISub(s).redISub(p).redISub(b), w = t.redMul(m);
  w = w.redIAdd(w), w = w.redIAdd(w);
  var S = this.x.redMul(p).redISub(w);
  S = S.redIAdd(S), S = S.redIAdd(S);
  var C = this.y.redMul(m.redMul(b.redISub(m)).redISub(u.redMul(p)));
  C = C.redIAdd(C), C = C.redIAdd(C), C = C.redIAdd(C);
  var D = this.z.redAdd(u).redSqr().redISub(r).redISub(p);
  return this.curve.jpoint(S, C, D);
}, Xr.prototype.mul = function(e, t) {
  return e = new _e(e, t), this.curve._wnafMul(this, e);
}, Xr.prototype.eq = function(e) {
  if (e.type === "affine")
    return this.eq(e.toJ());
  if (this === e)
    return !0;
  var t = this.z.redSqr(), r = e.z.redSqr();
  if (this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0) !== 0)
    return !1;
  var i = t.redMul(this.z), n = r.redMul(e.z);
  return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0) === 0;
}, Xr.prototype.eqXToP = function(e) {
  var t = this.z.redSqr(), r = e.toRed(this.curve.red).redMul(t);
  if (this.x.cmp(r) === 0)
    return !0;
  for (var i = e.clone(), n = this.curve.redN.redMul(t); ; ) {
    if (i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)
      return !1;
    if (r.redIAdd(n), this.x.cmp(r) === 0)
      return !0;
  }
}, Xr.prototype.inspect = function() {
  return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">";
}, Xr.prototype.isInfinity = function() {
  return this.z.cmpn(0) === 0;
};
var h0 = ef(function(e, t) {
  var r = t;
  r.base = La, r.short = FN, r.mont = null, r.edwards = null;
}), f0 = ef(function(e, t) {
  var r = t, i = en.assert;
  function n(p) {
    p.type === "short" ? this.curve = new h0.short(p) : p.type === "edwards" ? this.curve = new h0.edwards(p) : this.curve = new h0.mont(p), this.g = this.curve.g, this.n = this.curve.n, this.hash = p.hash, i(this.g.validate(), "Invalid curve"), i(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
  }
  r.PresetCurve = n;
  function s(p, b) {
    Object.defineProperty(r, p, { configurable: !0, enumerable: !0, get: function() {
      var m = new n(b);
      return Object.defineProperty(r, p, { configurable: !0, enumerable: !0, value: m }), m;
    } });
  }
  s("p192", { type: "short", prime: "p192", p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff", a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc", b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1", n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831", hash: bs.sha256, gRed: !1, g: ["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012", "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"] }), s("p224", { type: "short", prime: "p224", p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001", a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe", b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4", n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d", hash: bs.sha256, gRed: !1, g: ["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21", "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"] }), s("p256", { type: "short", prime: null, p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff", a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc", b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b", n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551", hash: bs.sha256, gRed: !1, g: ["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296", "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"] }), s("p384", { type: "short", prime: null, p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff", a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc", b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef", n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973", hash: bs.sha384, gRed: !1, g: ["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7", "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"] }), s("p521", { type: "short", prime: null, p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff", a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc", b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00", n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409", hash: bs.sha512, gRed: !1, g: ["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66", "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"] }), s("curve25519", { type: "mont", prime: "p25519", p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed", a: "76d06", b: "1", n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed", hash: bs.sha256, gRed: !1, g: ["9"] }), s("ed25519", { type: "edwards", prime: "p25519", p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed", a: "-1", c: "1", d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3", n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed", hash: bs.sha256, gRed: !1, g: ["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a", "6666666666666666666666666666666666666666666666666666666666666658"] });
  var u;
  try {
    u = null.crash();
  } catch {
    u = void 0;
  }
  s("secp256k1", { type: "short", prime: "k256", p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f", a: "0", b: "7", n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141", h: "1", hash: bs.sha256, beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee", lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72", basis: [{ a: "3086d221a7d46bcde86c90e49284eb15", b: "-e4437ed6010e88286f547fa90abfe4c3" }, { a: "114ca50f7a8e2f3f657c1108d9d44cfd8", b: "3086d221a7d46bcde86c90e49284eb15" }], gRed: !1, g: ["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798", "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8", u] });
});
function Vo(e) {
  if (!(this instanceof Vo))
    return new Vo(e);
  this.hash = e.hash, this.predResist = !!e.predResist, this.outLen = this.hash.outSize, this.minEntropy = e.minEntropy || this.hash.hmacStrength, this._reseed = null, this.reseedInterval = null, this.K = null, this.V = null;
  var t = rs.toArray(e.entropy, e.entropyEnc || "hex"), r = rs.toArray(e.nonce, e.nonceEnc || "hex"), i = rs.toArray(e.pers, e.persEnc || "hex");
  h2(t.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._init(t, r, i);
}
var Im = Vo;
Vo.prototype._init = function(e, t, r) {
  var i = e.concat(t).concat(r);
  this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8);
  for (var n = 0; n < this.V.length; n++)
    this.K[n] = 0, this.V[n] = 1;
  this._update(i), this._reseed = 1, this.reseedInterval = 281474976710656;
}, Vo.prototype._hmac = function() {
  return new bs.hmac(this.hash, this.K);
}, Vo.prototype._update = function(e) {
  var t = this._hmac().update(this.V).update([0]);
  e && (t = t.update(e)), this.K = t.digest(), this.V = this._hmac().update(this.V).digest(), e && (this.K = this._hmac().update(this.V).update([1]).update(e).digest(), this.V = this._hmac().update(this.V).digest());
}, Vo.prototype.reseed = function(e, t, r, i) {
  typeof t != "string" && (i = r, r = t, t = null), e = rs.toArray(e, t), r = rs.toArray(r, i), h2(e.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._update(e.concat(r || [])), this._reseed = 1;
}, Vo.prototype.generate = function(e, t, r, i) {
  if (this._reseed > this.reseedInterval)
    throw new Error("Reseed is required");
  typeof t != "string" && (i = r, r = t, t = null), r && (r = rs.toArray(r, i || "hex"), this._update(r));
  for (var n = []; n.length < e; )
    this.V = this._hmac().update(this.V).digest(), n = n.concat(this.V);
  var s = n.slice(0, e);
  return this._update(r), this._reseed++, rs.encode(s, t);
};
var e1 = en.assert;
function ui(e, t) {
  this.ec = e, this.priv = null, this.pub = null, t.priv && this._importPrivate(t.priv, t.privEnc), t.pub && this._importPublic(t.pub, t.pubEnc);
}
var r1 = ui;
ui.fromPublic = function(e, t, r) {
  return t instanceof ui ? t : new ui(e, { pub: t, pubEnc: r });
}, ui.fromPrivate = function(e, t, r) {
  return t instanceof ui ? t : new ui(e, { priv: t, privEnc: r });
}, ui.prototype.validate = function() {
  var e = this.getPublic();
  return e.isInfinity() ? { result: !1, reason: "Invalid public key" } : e.validate() ? e.mul(this.ec.curve.n).isInfinity() ? { result: !0, reason: null } : { result: !1, reason: "Public key * N != O" } : { result: !1, reason: "Public key is not a point" };
}, ui.prototype.getPublic = function(e, t) {
  return typeof e == "string" && (t = e, e = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), t ? this.pub.encode(t, e) : this.pub;
}, ui.prototype.getPrivate = function(e) {
  return e === "hex" ? this.priv.toString(16, 2) : this.priv;
}, ui.prototype._importPrivate = function(e, t) {
  this.priv = new _e(e, t || 16), this.priv = this.priv.umod(this.ec.curve.n);
}, ui.prototype._importPublic = function(e, t) {
  if (e.x || e.y) {
    this.ec.curve.type === "mont" ? e1(e.x, "Need x coordinate") : (this.ec.curve.type === "short" || this.ec.curve.type === "edwards") && e1(e.x && e.y, "Need both x and y coordinate"), this.pub = this.ec.curve.point(e.x, e.y);
    return;
  }
  this.pub = this.ec.curve.decodePoint(e, t);
}, ui.prototype.derive = function(e) {
  return e.validate() || e1(e.validate(), "public point not validated"), e.mul(this.priv).getX();
}, ui.prototype.sign = function(e, t, r) {
  return this.ec.sign(e, this, t, r);
}, ui.prototype.verify = function(e, t) {
  return this.ec.verify(e, t, this);
}, ui.prototype.inspect = function() {
  return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >";
};
var UN = en.assert;
function ul(e, t) {
  if (e instanceof ul)
    return e;
  this._importDER(e, t) || (UN(e.r && e.s, "Signature without r or s"), this.r = new _e(e.r, 16), this.s = new _e(e.s, 16), e.recoveryParam === void 0 ? this.recoveryParam = null : this.recoveryParam = e.recoveryParam);
}
var Hc = ul;
function qN() {
  this.place = 0;
}
function i1(e, t) {
  var r = e[t.place++];
  if (!(r & 128))
    return r;
  var i = r & 15;
  if (i === 0 || i > 4)
    return !1;
  for (var n = 0, s = 0, u = t.place; s < i; s++, u++)
    n <<= 8, n |= e[u], n >>>= 0;
  return n <= 127 ? !1 : (t.place = u, n);
}
function Dm(e) {
  for (var t = 0, r = e.length - 1; !e[t] && !(e[t + 1] & 128) && t < r; )
    t++;
  return t === 0 ? e : e.slice(t);
}
ul.prototype._importDER = function(e, t) {
  e = en.toArray(e, t);
  var r = new qN();
  if (e[r.place++] !== 48)
    return !1;
  var i = i1(e, r);
  if (i === !1 || i + r.place !== e.length || e[r.place++] !== 2)
    return !1;
  var n = i1(e, r);
  if (n === !1)
    return !1;
  var s = e.slice(r.place, n + r.place);
  if (r.place += n, e[r.place++] !== 2)
    return !1;
  var u = i1(e, r);
  if (u === !1 || e.length !== u + r.place)
    return !1;
  var p = e.slice(r.place, u + r.place);
  if (s[0] === 0)
    if (s[1] & 128)
      s = s.slice(1);
    else
      return !1;
  if (p[0] === 0)
    if (p[1] & 128)
      p = p.slice(1);
    else
      return !1;
  return this.r = new _e(s), this.s = new _e(p), this.recoveryParam = null, !0;
};
function n1(e, t) {
  if (t < 128) {
    e.push(t);
    return;
  }
  var r = 1 + (Math.log(t) / Math.LN2 >>> 3);
  for (e.push(r | 128); --r; )
    e.push(t >>> (r << 3) & 255);
  e.push(t);
}
ul.prototype.toDER = function(e) {
  var t = this.r.toArray(), r = this.s.toArray();
  for (t[0] & 128 && (t = [0].concat(t)), r[0] & 128 && (r = [0].concat(r)), t = Dm(t), r = Dm(r); !r[0] && !(r[1] & 128); )
    r = r.slice(1);
  var i = [2];
  n1(i, t.length), i = i.concat(t), i.push(2), n1(i, r.length);
  var n = i.concat(r), s = [48];
  return n1(s, n.length), s = s.concat(n), en.encode(s, e);
};
var LN = function() {
  throw new Error("unsupported");
}, M8 = en.assert;
function En(e) {
  if (!(this instanceof En))
    return new En(e);
  typeof e == "string" && (M8(Object.prototype.hasOwnProperty.call(f0, e), "Unknown curve " + e), e = f0[e]), e instanceof f0.PresetCurve && (e = { curve: e }), this.curve = e.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = e.curve.g, this.g.precompute(e.curve.n.bitLength() + 1), this.hash = e.hash || e.curve.hash;
}
var kN = En;
En.prototype.keyPair = function(e) {
  return new r1(this, e);
}, En.prototype.keyFromPrivate = function(e, t) {
  return r1.fromPrivate(this, e, t);
}, En.prototype.keyFromPublic = function(e, t) {
  return r1.fromPublic(this, e, t);
}, En.prototype.genKeyPair = function(e) {
  e || (e = {});
  for (var t = new Im({ hash: this.hash, pers: e.pers, persEnc: e.persEnc || "utf8", entropy: e.entropy || LN(this.hash.hmacStrength), entropyEnc: e.entropy && e.entropyEnc || "utf8", nonce: this.n.toArray() }), r = this.n.byteLength(), i = this.n.sub(new _e(2)); ; ) {
    var n = new _e(t.generate(r));
    if (!(n.cmp(i) > 0))
      return n.iaddn(1), this.keyFromPrivate(n);
  }
}, En.prototype._truncateToN = function(e, t) {
  var r = e.byteLength() * 8 - this.n.bitLength();
  return r > 0 && (e = e.ushrn(r)), !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e;
}, En.prototype.sign = function(e, t, r, i) {
  typeof r == "object" && (i = r, r = null), i || (i = {}), t = this.keyFromPrivate(t, r), e = this._truncateToN(new _e(e, 16));
  for (var n = this.n.byteLength(), s = t.getPrivate().toArray("be", n), u = e.toArray("be", n), p = new Im({ hash: this.hash, entropy: s, nonce: u, pers: i.pers, persEnc: i.persEnc || "utf8" }), b = this.n.sub(new _e(1)), m = 0; ; m++) {
    var w = i.k ? i.k(m) : new _e(p.generate(this.n.byteLength()));
    if (w = this._truncateToN(w, !0), !(w.cmpn(1) <= 0 || w.cmp(b) >= 0)) {
      var S = this.g.mul(w);
      if (!S.isInfinity()) {
        var C = S.getX(), D = C.umod(this.n);
        if (D.cmpn(0) !== 0) {
          var P = w.invm(this.n).mul(D.mul(t.getPrivate()).iadd(e));
          if (P = P.umod(this.n), P.cmpn(0) !== 0) {
            var k = (S.getY().isOdd() ? 1 : 0) | (C.cmp(D) !== 0 ? 2 : 0);
            return i.canonical && P.cmp(this.nh) > 0 && (P = this.n.sub(P), k ^= 1), new Hc({ r: D, s: P, recoveryParam: k });
          }
        }
      }
    }
  }
}, En.prototype.verify = function(e, t, r, i) {
  e = this._truncateToN(new _e(e, 16)), r = this.keyFromPublic(r, i), t = new Hc(t, "hex");
  var n = t.r, s = t.s;
  if (n.cmpn(1) < 0 || n.cmp(this.n) >= 0 || s.cmpn(1) < 0 || s.cmp(this.n) >= 0)
    return !1;
  var u = s.invm(this.n), p = u.mul(e).umod(this.n), b = u.mul(n).umod(this.n), m;
  return this.curve._maxwellTrick ? (m = this.g.jmulAdd(p, r.getPublic(), b), m.isInfinity() ? !1 : m.eqXToP(n)) : (m = this.g.mulAdd(p, r.getPublic(), b), m.isInfinity() ? !1 : m.getX().umod(this.n).cmp(n) === 0);
}, En.prototype.recoverPubKey = function(e, t, r, i) {
  M8((3 & r) === r, "The recovery param is more than two bits"), t = new Hc(t, i);
  var n = this.n, s = new _e(e), u = t.r, p = t.s, b = r & 1, m = r >> 1;
  if (u.cmp(this.curve.p.umod(this.curve.n)) >= 0 && m)
    throw new Error("Unable to find sencond key candinate");
  m ? u = this.curve.pointFromX(u.add(this.curve.n), b) : u = this.curve.pointFromX(u, b);
  var w = t.r.invm(n), S = n.sub(s).mul(w).umod(n), C = p.mul(w).umod(n);
  return this.g.mulAdd(S, u, C);
}, En.prototype.getKeyRecoveryParam = function(e, t, r, i) {
  if (t = new Hc(t, i), t.recoveryParam !== null)
    return t.recoveryParam;
  for (var n = 0; n < 4; n++) {
    var s;
    try {
      s = this.recoverPubKey(e, t, n);
    } catch {
      continue;
    }
    if (s.eq(r))
      return n;
  }
  throw new Error("Unable to find valid recovery factor");
};
var zN = ef(function(e, t) {
  var r = t;
  r.version = "6.5.4", r.utils = en, r.rand = function() {
    throw new Error("unsupported");
  }, r.curve = h0, r.curves = f0, r.ec = kN, r.eddsa = null;
});
zN.ec;
var Cm;
(function(e) {
  e[e.legacy = 0] = "legacy", e[e.eip2930 = 1] = "eip2930", e[e.eip1559 = 2] = "eip1559";
})(Cm || (Cm = {}));
function u2(e) {
  return e.includes(":");
}
function Vf(e) {
  return u2(e) ? e.split(":")[0] : e;
}
const $N = { INVALID_METHOD: { message: "Invalid method.", code: 1001 }, INVALID_EVENT: { message: "Invalid event.", code: 1002 }, INVALID_UPDATE_REQUEST: { message: "Invalid update request.", code: 1003 }, INVALID_EXTEND_REQUEST: { message: "Invalid extend request.", code: 1004 }, INVALID_SESSION_SETTLE_REQUEST: { message: "Invalid session settle request.", code: 1005 }, UNAUTHORIZED_METHOD: { message: "Unauthorized method.", code: 3001 }, UNAUTHORIZED_EVENT: { message: "Unauthorized event.", code: 3002 }, UNAUTHORIZED_UPDATE_REQUEST: { message: "Unauthorized update request.", code: 3003 }, UNAUTHORIZED_EXTEND_REQUEST: { message: "Unauthorized extend request.", code: 3004 }, USER_REJECTED: { message: "User rejected.", code: 5e3 }, USER_REJECTED_CHAINS: { message: "User rejected chains.", code: 5001 }, USER_REJECTED_METHODS: { message: "User rejected methods.", code: 5002 }, USER_REJECTED_EVENTS: { message: "User rejected events.", code: 5003 }, UNSUPPORTED_CHAINS: { message: "Unsupported chains.", code: 5100 }, UNSUPPORTED_METHODS: { message: "Unsupported methods.", code: 5101 }, UNSUPPORTED_EVENTS: { message: "Unsupported events.", code: 5102 }, UNSUPPORTED_ACCOUNTS: { message: "Unsupported accounts.", code: 5103 }, UNSUPPORTED_NAMESPACE_KEY: { message: "Unsupported namespace key.", code: 5104 }, USER_DISCONNECTED: { message: "User disconnected.", code: 6e3 }, SESSION_SETTLEMENT_FAILED: { message: "Session settlement failed.", code: 7e3 }, WC_METHOD_UNSUPPORTED: { message: "Unsupported wc_ method.", code: 10001 } };
function bp(e, t) {
  const { message: r, code: i } = $N[e];
  return { message: r, code: i };
}
function cu(e, t) {
  return !!Array.isArray(e);
}
function HN(e) {
  return Object.getPrototypeOf(e) === Object.prototype && Object.keys(e).length;
}
const jN = /"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/, KN = /"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/, GN = /^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;
function QN(e, t) {
  if (e === "__proto__" || e === "constructor" && t && typeof t == "object" && "prototype" in t) {
    JN(e);
    return;
  }
  return t;
}
function JN(e) {
  console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`);
}
function jc(e, t = {}) {
  if (typeof e != "string")
    return e;
  const r = e.trim();
  if (
    // eslint-disable-next-line unicorn/prefer-at
    e[0] === '"' && e.endsWith('"') && !e.includes("\\")
  )
    return r.slice(1, -1);
  if (r.length <= 9) {
    const i = r.toLowerCase();
    if (i === "true")
      return !0;
    if (i === "false")
      return !1;
    if (i === "undefined")
      return;
    if (i === "null")
      return null;
    if (i === "nan")
      return Number.NaN;
    if (i === "infinity")
      return Number.POSITIVE_INFINITY;
    if (i === "-infinity")
      return Number.NEGATIVE_INFINITY;
  }
  if (!GN.test(e)) {
    if (t.strict)
      throw new SyntaxError("[destr] Invalid JSON");
    return e;
  }
  try {
    if (jN.test(e) || KN.test(e)) {
      if (t.strict)
        throw new Error("[destr] Possible prototype pollution");
      return JSON.parse(e, QN);
    }
    return JSON.parse(e);
  } catch (i) {
    if (t.strict)
      throw i;
    return e;
  }
}
function YN(e) {
  return !e || typeof e.then != "function" ? Promise.resolve(e) : e;
}
function Gr(e, ...t) {
  try {
    return YN(e(...t));
  } catch (r) {
    return Promise.reject(r);
  }
}
function VN(e) {
  const t = typeof e;
  return e === null || t !== "object" && t !== "function";
}
function WN(e) {
  const t = Object.getPrototypeOf(e);
  return !t || t.isPrototypeOf(Object);
}
function u0(e) {
  if (VN(e))
    return String(e);
  if (WN(e) || Array.isArray(e))
    return JSON.stringify(e);
  if (typeof e.toJSON == "function")
    return u0(e.toJSON());
  throw new Error("[unstorage] Cannot stringify value!");
}
function S8() {
  if (typeof Buffer === void 0)
    throw new TypeError("[unstorage] Buffer is not supported!");
}
const yp = "base64:";
function XN(e) {
  if (typeof e == "string")
    return e;
  S8();
  const t = Buffer.from(e).toString("base64");
  return yp + t;
}
function ZN(e) {
  return typeof e != "string" || !e.startsWith(yp) ? e : (S8(), Buffer.from(e.slice(yp.length), "base64"));
}
function Fi(e) {
  return e ? e.split("?")[0].replace(/[/\\]/g, ":").replace(/:+/g, ":").replace(/^:|:$/g, "") : "";
}
function tP(...e) {
  return Fi(e.join(":"));
}
function Kc(e) {
  return e = Fi(e), e ? e + ":" : "";
}
const eP = "memory", rP = () => {
  const e = /* @__PURE__ */ new Map();
  return {
    name: eP,
    options: {},
    hasItem(t) {
      return e.has(t);
    },
    getItem(t) {
      return e.get(t) ?? null;
    },
    getItemRaw(t) {
      return e.get(t) ?? null;
    },
    setItem(t, r) {
      e.set(t, r);
    },
    setItemRaw(t, r) {
      e.set(t, r);
    },
    removeItem(t) {
      e.delete(t);
    },
    getKeys() {
      return Array.from(e.keys());
    },
    clear() {
      e.clear();
    },
    dispose() {
      e.clear();
    }
  };
};
function iP(e = {}) {
  const t = {
    mounts: { "": e.driver || rP() },
    mountpoints: [""],
    watching: !1,
    watchListeners: [],
    unwatch: {}
  }, r = (m) => {
    for (const w of t.mountpoints)
      if (m.startsWith(w))
        return {
          base: w,
          relativeKey: m.slice(w.length),
          driver: t.mounts[w]
        };
    return {
      base: "",
      relativeKey: m,
      driver: t.mounts[""]
    };
  }, i = (m, w) => t.mountpoints.filter(
    (S) => S.startsWith(m) || w && m.startsWith(S)
  ).map((S) => ({
    relativeBase: m.length > S.length ? m.slice(S.length) : void 0,
    mountpoint: S,
    driver: t.mounts[S]
  })), n = (m, w) => {
    if (t.watching) {
      w = Fi(w);
      for (const S of t.watchListeners)
        S(m, w);
    }
  }, s = async () => {
    if (!t.watching) {
      t.watching = !0;
      for (const m in t.mounts)
        t.unwatch[m] = await Nm(
          t.mounts[m],
          n,
          m
        );
    }
  }, u = async () => {
    if (t.watching) {
      for (const m in t.unwatch)
        await t.unwatch[m]();
      t.unwatch = {}, t.watching = !1;
    }
  }, p = (m, w, S) => {
    const C = /* @__PURE__ */ new Map(), D = (P) => {
      let k = C.get(P.base);
      return k || (k = {
        driver: P.driver,
        base: P.base,
        items: []
      }, C.set(P.base, k)), k;
    };
    for (const P of m) {
      const k = typeof P == "string", z = Fi(k ? P : P.key), V = k ? void 0 : P.value, Q = k || !P.options ? w : { ...w, ...P.options }, W = r(z);
      D(W).items.push({
        key: z,
        value: V,
        relativeKey: W.relativeKey,
        options: Q
      });
    }
    return Promise.all([...C.values()].map((P) => S(P))).then(
      (P) => P.flat()
    );
  }, b = {
    // Item
    hasItem(m, w = {}) {
      m = Fi(m);
      const { relativeKey: S, driver: C } = r(m);
      return Gr(C.hasItem, S, w);
    },
    getItem(m, w = {}) {
      m = Fi(m);
      const { relativeKey: S, driver: C } = r(m);
      return Gr(C.getItem, S, w).then(
        (D) => jc(D)
      );
    },
    getItems(m, w) {
      return p(m, w, (S) => S.driver.getItems ? Gr(
        S.driver.getItems,
        S.items.map((C) => ({
          key: C.relativeKey,
          options: C.options
        })),
        w
      ).then(
        (C) => C.map((D) => ({
          key: tP(S.base, D.key),
          value: jc(D.value)
        }))
      ) : Promise.all(
        S.items.map((C) => Gr(
          S.driver.getItem,
          C.relativeKey,
          C.options
        ).then((D) => ({
          key: C.key,
          value: jc(D)
        })))
      ));
    },
    getItemRaw(m, w = {}) {
      m = Fi(m);
      const { relativeKey: S, driver: C } = r(m);
      return C.getItemRaw ? Gr(C.getItemRaw, S, w) : Gr(C.getItem, S, w).then(
        (D) => ZN(D)
      );
    },
    async setItem(m, w, S = {}) {
      if (w === void 0)
        return b.removeItem(m);
      m = Fi(m);
      const { relativeKey: C, driver: D } = r(m);
      D.setItem && (await Gr(D.setItem, C, u0(w), S), D.watch || n("update", m));
    },
    async setItems(m, w) {
      await p(m, w, async (S) => {
        if (S.driver.setItems)
          return Gr(
            S.driver.setItems,
            S.items.map((C) => ({
              key: C.relativeKey,
              value: u0(C.value),
              options: C.options
            })),
            w
          );
        S.driver.setItem && await Promise.all(
          S.items.map((C) => Gr(
            S.driver.setItem,
            C.relativeKey,
            u0(C.value),
            C.options
          ))
        );
      });
    },
    async setItemRaw(m, w, S = {}) {
      if (w === void 0)
        return b.removeItem(m, S);
      m = Fi(m);
      const { relativeKey: C, driver: D } = r(m);
      if (D.setItemRaw)
        await Gr(D.setItemRaw, C, w, S);
      else if (D.setItem)
        await Gr(D.setItem, C, XN(w), S);
      else
        return;
      D.watch || n("update", m);
    },
    async removeItem(m, w = {}) {
      typeof w == "boolean" && (w = { removeMeta: w }), m = Fi(m);
      const { relativeKey: S, driver: C } = r(m);
      C.removeItem && (await Gr(C.removeItem, S, w), (w.removeMeta || w.removeMata) && await Gr(C.removeItem, S + "$", w), C.watch || n("remove", m));
    },
    // Meta
    async getMeta(m, w = {}) {
      typeof w == "boolean" && (w = { nativeOnly: w }), m = Fi(m);
      const { relativeKey: S, driver: C } = r(m), D = /* @__PURE__ */ Object.create(null);
      if (C.getMeta && Object.assign(D, await Gr(C.getMeta, S, w)), !w.nativeOnly) {
        const P = await Gr(
          C.getItem,
          S + "$",
          w
        ).then((k) => jc(k));
        P && typeof P == "object" && (typeof P.atime == "string" && (P.atime = new Date(P.atime)), typeof P.mtime == "string" && (P.mtime = new Date(P.mtime)), Object.assign(D, P));
      }
      return D;
    },
    setMeta(m, w, S = {}) {
      return this.setItem(m + "$", w, S);
    },
    removeMeta(m, w = {}) {
      return this.removeItem(m + "$", w);
    },
    // Keys
    async getKeys(m, w = {}) {
      m = Kc(m);
      const S = i(m, !0);
      let C = [];
      const D = [];
      for (const P of S) {
        const z = (await Gr(
          P.driver.getKeys,
          P.relativeBase,
          w
        )).map((V) => P.mountpoint + Fi(V)).filter((V) => !C.some((Q) => V.startsWith(Q)));
        D.push(...z), C = [
          P.mountpoint,
          ...C.filter((V) => !V.startsWith(P.mountpoint))
        ];
      }
      return m ? D.filter((P) => P.startsWith(m) && !P.endsWith("$")) : D.filter((P) => !P.endsWith("$"));
    },
    // Utils
    async clear(m, w = {}) {
      m = Kc(m), await Promise.all(
        i(m, !1).map(async (S) => {
          if (S.driver.clear)
            return Gr(S.driver.clear, S.relativeBase, w);
          if (S.driver.removeItem) {
            const C = await S.driver.getKeys(S.relativeBase || "", w);
            return Promise.all(
              C.map((D) => S.driver.removeItem(D, w))
            );
          }
        })
      );
    },
    async dispose() {
      await Promise.all(
        Object.values(t.mounts).map((m) => Pm(m))
      );
    },
    async watch(m) {
      return await s(), t.watchListeners.push(m), async () => {
        t.watchListeners = t.watchListeners.filter(
          (w) => w !== m
        ), t.watchListeners.length === 0 && await u();
      };
    },
    async unwatch() {
      t.watchListeners = [], await u();
    },
    // Mount
    mount(m, w) {
      if (m = Kc(m), m && t.mounts[m])
        throw new Error(`already mounted at ${m}`);
      return m && (t.mountpoints.push(m), t.mountpoints.sort((S, C) => C.length - S.length)), t.mounts[m] = w, t.watching && Promise.resolve(Nm(w, n, m)).then((S) => {
        t.unwatch[m] = S;
      }).catch(console.error), b;
    },
    async unmount(m, w = !0) {
      m = Kc(m), !(!m || !t.mounts[m]) && (t.watching && m in t.unwatch && (t.unwatch[m](), delete t.unwatch[m]), w && await Pm(t.mounts[m]), t.mountpoints = t.mountpoints.filter((S) => S !== m), delete t.mounts[m]);
    },
    getMount(m = "") {
      m = Fi(m) + ":";
      const w = r(m);
      return {
        driver: w.driver,
        base: w.base
      };
    },
    getMounts(m = "", w = {}) {
      return m = Fi(m), i(m, w.parents).map((C) => ({
        driver: C.driver,
        base: C.mountpoint
      }));
    }
  };
  return b;
}
function Nm(e, t, r) {
  return e.watch ? e.watch((i, n) => t(i, r + n)) : () => {
  };
}
async function Pm(e) {
  typeof e.dispose == "function" && await Gr(e.dispose);
}
function ka(e) {
  return new Promise((t, r) => {
    e.oncomplete = e.onsuccess = () => t(e.result), e.onabort = e.onerror = () => r(e.error);
  });
}
function x8(e, t) {
  const r = indexedDB.open(e);
  r.onupgradeneeded = () => r.result.createObjectStore(t);
  const i = ka(r);
  return (n, s) => i.then((u) => s(u.transaction(t, n).objectStore(t)));
}
let s1;
function Iu() {
  return s1 || (s1 = x8("keyval-store", "keyval")), s1;
}
function Rm(e, t = Iu()) {
  return t("readonly", (r) => ka(r.get(e)));
}
function nP(e, t, r = Iu()) {
  return r("readwrite", (i) => (i.put(t, e), ka(i.transaction)));
}
function sP(e, t = Iu()) {
  return t("readwrite", (r) => (r.delete(e), ka(r.transaction)));
}
function oP(e = Iu()) {
  return e("readwrite", (t) => (t.clear(), ka(t.transaction)));
}
function aP(e, t) {
  return e.openCursor().onsuccess = function() {
    this.result && (t(this.result), this.result.continue());
  }, ka(e.transaction);
}
function hP(e = Iu()) {
  return e("readonly", (t) => {
    if (t.getAllKeys)
      return ka(t.getAllKeys());
    const r = [];
    return aP(t, (i) => r.push(i.key)).then(() => r);
  });
}
const fP = "idb-keyval";
var uP = (e = {}) => {
  const t = e.base && e.base.length > 0 ? `${e.base}:` : "", r = (n) => t + n;
  let i;
  return e.dbName && e.storeName && (i = x8(e.dbName, e.storeName)), { name: fP, options: e, async hasItem(n) {
    return !(typeof await Rm(r(n), i) > "u");
  }, async getItem(n) {
    return await Rm(r(n), i) ?? null;
  }, setItem(n, s) {
    return nP(r(n), s, i);
  }, removeItem(n) {
    return sP(r(n), i);
  }, getKeys() {
    return hP(i);
  }, clear() {
    return oP(i);
  } };
};
const cP = "WALLET_CONNECT_V2_INDEXED_DB", lP = "keyvaluestorage";
let dP = class {
  constructor() {
    this.indexedDb = iP({ driver: uP({ dbName: cP, storeName: lP }) });
  }
  async getKeys() {
    return this.indexedDb.getKeys();
  }
  async getEntries() {
    return (await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((t) => [t.key, t.value]);
  }
  async getItem(t) {
    const r = await this.indexedDb.getItem(t);
    if (r !== null)
      return r;
  }
  async setItem(t, r) {
    await this.indexedDb.setItem(t, Po(r));
  }
  async removeItem(t) {
    await this.indexedDb.removeItem(t);
  }
};
var o1 = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}, c0 = { exports: {} };
(function() {
  let e;
  function t() {
  }
  e = t, e.prototype.getItem = function(r) {
    return this.hasOwnProperty(r) ? String(this[r]) : null;
  }, e.prototype.setItem = function(r, i) {
    this[r] = String(i);
  }, e.prototype.removeItem = function(r) {
    delete this[r];
  }, e.prototype.clear = function() {
    const r = this;
    Object.keys(r).forEach(function(i) {
      r[i] = void 0, delete r[i];
    });
  }, e.prototype.key = function(r) {
    return r = r || 0, Object.keys(this)[r];
  }, e.prototype.__defineGetter__("length", function() {
    return Object.keys(this).length;
  }), typeof o1 < "u" && o1.localStorage ? c0.exports = o1.localStorage : typeof window < "u" && window.localStorage ? c0.exports = window.localStorage : c0.exports = new t();
})();
function pP(e) {
  var t;
  return [e[0], Xh((t = e[1]) != null ? t : "")];
}
let gP = class {
  constructor() {
    this.localStorage = c0.exports;
  }
  async getKeys() {
    return Object.keys(this.localStorage);
  }
  async getEntries() {
    return Object.entries(this.localStorage).map(pP);
  }
  async getItem(t) {
    const r = this.localStorage.getItem(t);
    if (r !== null)
      return Xh(r);
  }
  async setItem(t, r) {
    this.localStorage.setItem(t, Po(r));
  }
  async removeItem(t) {
    this.localStorage.removeItem(t);
  }
};
const mP = "wc_storage_version", Om = 1, vP = async (e, t, r) => {
  const i = mP, n = await t.getItem(i);
  if (n && n >= Om) {
    r(t);
    return;
  }
  const s = await e.getKeys();
  if (!s.length) {
    r(t);
    return;
  }
  const u = [];
  for (; s.length; ) {
    const p = s.shift();
    if (!p)
      continue;
    const b = p.toLowerCase();
    if (b.includes("wc@") || b.includes("walletconnect") || b.includes("wc_") || b.includes("wallet_connect")) {
      const m = await e.getItem(p);
      await t.setItem(p, m), u.push(p);
    }
  }
  await t.setItem(i, Om), r(t), bP(e, u);
}, bP = async (e, t) => {
  t.length && t.forEach(async (r) => {
    await e.removeItem(r);
  });
};
let yP = class {
  constructor() {
    this.initialized = !1, this.setInitialized = (r) => {
      this.storage = r, this.initialized = !0;
    };
    const t = new gP();
    this.storage = t;
    try {
      const r = new dP();
      vP(t, r, this.setInitialized);
    } catch {
      this.initialized = !0;
    }
  }
  async getKeys() {
    return await this.initialize(), this.storage.getKeys();
  }
  async getEntries() {
    return await this.initialize(), this.storage.getEntries();
  }
  async getItem(t) {
    return await this.initialize(), this.storage.getItem(t);
  }
  async setItem(t, r) {
    return await this.initialize(), this.storage.setItem(t, r);
  }
  async removeItem(t) {
    return await this.initialize(), this.storage.removeItem(t);
  }
  async initialize() {
    this.initialized || await new Promise((t) => {
      const r = setInterval(() => {
        this.initialized && (clearInterval(r), t());
      }, 20);
    });
  }
};
class za {
}
let wP = class extends za {
  constructor(t) {
    super();
  }
};
const Bm = Zt.FIVE_SECONDS, rf = { pulse: "heartbeat_pulse" };
let AP = class I8 extends wP {
  constructor(t) {
    super(t), this.events = new Rn.EventEmitter(), this.interval = Bm, this.interval = (t == null ? void 0 : t.interval) || Bm;
  }
  static async init(t) {
    const r = new I8(t);
    return await r.init(), r;
  }
  async init() {
    await this.initialize();
  }
  stop() {
    clearInterval(this.intervalRef);
  }
  on(t, r) {
    this.events.on(t, r);
  }
  once(t, r) {
    this.events.once(t, r);
  }
  off(t, r) {
    this.events.off(t, r);
  }
  removeListener(t, r) {
    this.events.removeListener(t, r);
  }
  async initialize() {
    this.intervalRef = setInterval(() => this.pulse(), Zt.toMiliseconds(this.interval));
  }
  pulse() {
    this.events.emit(rf.pulse);
  }
};
function _P(e) {
  try {
    return JSON.stringify(e);
  } catch {
    return '"[Circular]"';
  }
}
var EP = MP;
function MP(e, t, r) {
  var i = r && r.stringify || _P, n = 1;
  if (typeof e == "object" && e !== null) {
    var s = t.length + n;
    if (s === 1)
      return e;
    var u = new Array(s);
    u[0] = i(e);
    for (var p = 1; p < s; p++)
      u[p] = i(t[p]);
    return u.join(" ");
  }
  if (typeof e != "string")
    return e;
  var b = t.length;
  if (b === 0)
    return e;
  for (var m = "", w = 1 - n, S = -1, C = e && e.length || 0, D = 0; D < C; ) {
    if (e.charCodeAt(D) === 37 && D + 1 < C) {
      switch (S = S > -1 ? S : 0, e.charCodeAt(D + 1)) {
        case 100:
        case 102:
          if (w >= b || t[w] == null)
            break;
          S < D && (m += e.slice(S, D)), m += Number(t[w]), S = D + 2, D++;
          break;
        case 105:
          if (w >= b || t[w] == null)
            break;
          S < D && (m += e.slice(S, D)), m += Math.floor(Number(t[w])), S = D + 2, D++;
          break;
        case 79:
        case 111:
        case 106:
          if (w >= b || t[w] === void 0)
            break;
          S < D && (m += e.slice(S, D));
          var P = typeof t[w];
          if (P === "string") {
            m += "'" + t[w] + "'", S = D + 2, D++;
            break;
          }
          if (P === "function") {
            m += t[w].name || "<anonymous>", S = D + 2, D++;
            break;
          }
          m += i(t[w]), S = D + 2, D++;
          break;
        case 115:
          if (w >= b)
            break;
          S < D && (m += e.slice(S, D)), m += String(t[w]), S = D + 2, D++;
          break;
        case 37:
          S < D && (m += e.slice(S, D)), m += "%", S = D + 2, D++, w--;
          break;
      }
      ++w;
    }
    ++D;
  }
  return S === -1 ? e : (S < C && (m += e.slice(S)), m);
}
const Tm = EP;
var bh = qs;
const lu = BP().console || {}, SP = {
  mapHttpRequest: Gc,
  mapHttpResponse: Gc,
  wrapRequestSerializer: a1,
  wrapResponseSerializer: a1,
  wrapErrorSerializer: a1,
  req: Gc,
  res: Gc,
  err: NP
};
function xP(e, t) {
  return Array.isArray(e) ? e.filter(function(i) {
    return i !== "!stdSerializers.err";
  }) : e === !0 ? Object.keys(t) : !1;
}
function qs(e) {
  e = e || {}, e.browser = e.browser || {};
  const t = e.browser.transmit;
  if (t && typeof t.send != "function")
    throw Error("pino: transmit option must have a send function");
  const r = e.browser.write || lu;
  e.browser.write && (e.browser.asObject = !0);
  const i = e.serializers || {}, n = xP(e.browser.serialize, i);
  let s = e.browser.serialize;
  Array.isArray(e.browser.serialize) && e.browser.serialize.indexOf("!stdSerializers.err") > -1 && (s = !1);
  const u = ["error", "fatal", "warn", "info", "debug", "trace"];
  typeof r == "function" && (r.error = r.fatal = r.warn = r.info = r.debug = r.trace = r), e.enabled === !1 && (e.level = "silent");
  const p = e.level || "info", b = Object.create(r);
  b.log || (b.log = du), Object.defineProperty(b, "levelVal", {
    get: w
  }), Object.defineProperty(b, "level", {
    get: S,
    set: C
  });
  const m = {
    transmit: t,
    serialize: n,
    asObject: e.browser.asObject,
    levels: u,
    timestamp: PP(e)
  };
  b.levels = qs.levels, b.level = p, b.setMaxListeners = b.getMaxListeners = b.emit = b.addListener = b.on = b.prependListener = b.once = b.prependOnceListener = b.removeListener = b.removeAllListeners = b.listeners = b.listenerCount = b.eventNames = b.write = b.flush = du, b.serializers = i, b._serialize = n, b._stdErrSerialize = s, b.child = D, t && (b._logEvent = wp());
  function w() {
    return this.level === "silent" ? 1 / 0 : this.levels.values[this.level];
  }
  function S() {
    return this._level;
  }
  function C(P) {
    if (P !== "silent" && !this.levels.values[P])
      throw Error("unknown level " + P);
    this._level = P, ch(m, b, "error", "log"), ch(m, b, "fatal", "error"), ch(m, b, "warn", "error"), ch(m, b, "info", "log"), ch(m, b, "debug", "log"), ch(m, b, "trace", "log");
  }
  function D(P, k) {
    if (!P)
      throw new Error("missing bindings for child Pino");
    k = k || {}, n && P.serializers && (k.serializers = P.serializers);
    const z = k.serializers;
    if (n && z) {
      var V = Object.assign({}, i, z), Q = e.browser.serialize === !0 ? Object.keys(V) : n;
      delete P.serializers, cl([P], Q, V, this._stdErrSerialize);
    }
    function W($) {
      this._childLevel = ($._childLevel | 0) + 1, this.error = lh($, P, "error"), this.fatal = lh($, P, "fatal"), this.warn = lh($, P, "warn"), this.info = lh($, P, "info"), this.debug = lh($, P, "debug"), this.trace = lh($, P, "trace"), V && (this.serializers = V, this._serialize = Q), t && (this._logEvent = wp(
        [].concat($._logEvent.bindings, P)
      ));
    }
    return W.prototype = this, new W(this);
  }
  return b;
}
qs.levels = {
  values: {
    fatal: 60,
    error: 50,
    warn: 40,
    info: 30,
    debug: 20,
    trace: 10
  },
  labels: {
    10: "trace",
    20: "debug",
    30: "info",
    40: "warn",
    50: "error",
    60: "fatal"
  }
};
qs.stdSerializers = SP;
qs.stdTimeFunctions = Object.assign({}, { nullTime: D8, epochTime: C8, unixTime: RP, isoTime: OP });
function ch(e, t, r, i) {
  const n = Object.getPrototypeOf(t);
  t[r] = t.levelVal > t.levels.values[r] ? du : n[r] ? n[r] : lu[r] || lu[i] || du, IP(e, t, r);
}
function IP(e, t, r) {
  !e.transmit && t[r] === du || (t[r] = /* @__PURE__ */ function(i) {
    return function() {
      const s = e.timestamp(), u = new Array(arguments.length), p = Object.getPrototypeOf && Object.getPrototypeOf(this) === lu ? lu : this;
      for (var b = 0; b < u.length; b++)
        u[b] = arguments[b];
      if (e.serialize && !e.asObject && cl(u, this._serialize, this.serializers, this._stdErrSerialize), e.asObject ? i.call(p, DP(this, r, u, s)) : i.apply(p, u), e.transmit) {
        const m = e.transmit.level || t.level, w = qs.levels.values[m], S = qs.levels.values[r];
        if (S < w)
          return;
        CP(this, {
          ts: s,
          methodLevel: r,
          methodValue: S,
          transmitLevel: m,
          transmitValue: qs.levels.values[e.transmit.level || t.level],
          send: e.transmit.send,
          val: t.levelVal
        }, u);
      }
    };
  }(t[r]));
}
function DP(e, t, r, i) {
  e._serialize && cl(r, e._serialize, e.serializers, e._stdErrSerialize);
  const n = r.slice();
  let s = n[0];
  const u = {};
  i && (u.time = i), u.level = qs.levels.values[t];
  let p = (e._childLevel | 0) + 1;
  if (p < 1 && (p = 1), s !== null && typeof s == "object") {
    for (; p-- && typeof n[0] == "object"; )
      Object.assign(u, n.shift());
    s = n.length ? Tm(n.shift(), n) : void 0;
  } else
    typeof s == "string" && (s = Tm(n.shift(), n));
  return s !== void 0 && (u.msg = s), u;
}
function cl(e, t, r, i) {
  for (const n in e)
    if (i && e[n] instanceof Error)
      e[n] = qs.stdSerializers.err(e[n]);
    else if (typeof e[n] == "object" && !Array.isArray(e[n]))
      for (const s in e[n])
        t && t.indexOf(s) > -1 && s in r && (e[n][s] = r[s](e[n][s]));
}
function lh(e, t, r) {
  return function() {
    const i = new Array(1 + arguments.length);
    i[0] = t;
    for (var n = 1; n < i.length; n++)
      i[n] = arguments[n - 1];
    return e[r].apply(this, i);
  };
}
function CP(e, t, r) {
  const i = t.send, n = t.ts, s = t.methodLevel, u = t.methodValue, p = t.val, b = e._logEvent.bindings;
  cl(
    r,
    e._serialize || Object.keys(e.serializers),
    e.serializers,
    e._stdErrSerialize === void 0 ? !0 : e._stdErrSerialize
  ), e._logEvent.ts = n, e._logEvent.messages = r.filter(function(m) {
    return b.indexOf(m) === -1;
  }), e._logEvent.level.label = s, e._logEvent.level.value = u, i(s, e._logEvent, p), e._logEvent = wp(b);
}
function wp(e) {
  return {
    ts: 0,
    messages: [],
    bindings: e || [],
    level: { label: "", value: 0 }
  };
}
function NP(e) {
  const t = {
    type: e.constructor.name,
    msg: e.message,
    stack: e.stack
  };
  for (const r in e)
    t[r] === void 0 && (t[r] = e[r]);
  return t;
}
function PP(e) {
  return typeof e.timestamp == "function" ? e.timestamp : e.timestamp === !1 ? D8 : C8;
}
function Gc() {
  return {};
}
function a1(e) {
  return e;
}
function du() {
}
function D8() {
  return !1;
}
function C8() {
  return Date.now();
}
function RP() {
  return Math.round(Date.now() / 1e3);
}
function OP() {
  return new Date(Date.now()).toISOString();
}
function BP() {
  function e(t) {
    return typeof t < "u" && t;
  }
  try {
    return typeof globalThis < "u" || Object.defineProperty(Object.prototype, "globalThis", {
      get: function() {
        return delete Object.prototype.globalThis, this.globalThis = this;
      },
      configurable: !0
    }), globalThis;
  } catch {
    return e(self) || e(window) || e(this) || {};
  }
}
const Du = /* @__PURE__ */ Jp(bh), TP = { level: "info" }, Cu = "custom_context", c2 = 1e3 * 1024;
let FP = class {
  constructor(t) {
    this.nodeValue = t, this.sizeInBytes = new TextEncoder().encode(this.nodeValue).length, this.next = null;
  }
  get value() {
    return this.nodeValue;
  }
  get size() {
    return this.sizeInBytes;
  }
}, Fm = class {
  constructor(t) {
    this.head = null, this.tail = null, this.lengthInNodes = 0, this.maxSizeInBytes = t, this.sizeInBytes = 0;
  }
  append(t) {
    const r = new FP(t);
    if (r.size > this.maxSizeInBytes)
      throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);
    for (; this.size + r.size > this.maxSizeInBytes; )
      this.shift();
    this.head ? (this.tail && (this.tail.next = r), this.tail = r) : (this.head = r, this.tail = r), this.lengthInNodes++, this.sizeInBytes += r.size;
  }
  shift() {
    if (!this.head)
      return;
    const t = this.head;
    this.head = this.head.next, this.head || (this.tail = null), this.lengthInNodes--, this.sizeInBytes -= t.size;
  }
  toArray() {
    const t = [];
    let r = this.head;
    for (; r !== null; )
      t.push(r.value), r = r.next;
    return t;
  }
  get length() {
    return this.lengthInNodes;
  }
  get size() {
    return this.sizeInBytes;
  }
  toOrderedArray() {
    return Array.from(this);
  }
  [Symbol.iterator]() {
    let t = this.head;
    return { next: () => {
      if (!t)
        return { done: !0, value: null };
      const r = t.value;
      return t = t.next, { done: !1, value: r };
    } };
  }
}, N8 = class {
  constructor(t, r = c2) {
    this.level = t ?? "error", this.levelValue = bh.levels.values[this.level], this.MAX_LOG_SIZE_IN_BYTES = r, this.logs = new Fm(this.MAX_LOG_SIZE_IN_BYTES);
  }
  forwardToConsole(t, r) {
    r === bh.levels.values.error ? console.error(t) : r === bh.levels.values.warn ? console.warn(t) : r === bh.levels.values.debug ? console.debug(t) : r === bh.levels.values.trace ? console.trace(t) : console.log(t);
  }
  appendToLogs(t) {
    this.logs.append(Po({ timestamp: (/* @__PURE__ */ new Date()).toISOString(), log: t }));
    const r = typeof t == "string" ? JSON.parse(t).level : t.level;
    r >= this.levelValue && this.forwardToConsole(t, r);
  }
  getLogs() {
    return this.logs;
  }
  clearLogs() {
    this.logs = new Fm(this.MAX_LOG_SIZE_IN_BYTES);
  }
  getLogArray() {
    return Array.from(this.logs);
  }
  logsToBlob(t) {
    const r = this.getLogArray();
    return r.push(Po({ extraMetadata: t })), new Blob(r, { type: "application/json" });
  }
}, UP = class {
  constructor(t, r = c2) {
    this.baseChunkLogger = new N8(t, r);
  }
  write(t) {
    this.baseChunkLogger.appendToLogs(t);
  }
  getLogs() {
    return this.baseChunkLogger.getLogs();
  }
  clearLogs() {
    this.baseChunkLogger.clearLogs();
  }
  getLogArray() {
    return this.baseChunkLogger.getLogArray();
  }
  logsToBlob(t) {
    return this.baseChunkLogger.logsToBlob(t);
  }
  downloadLogsBlobInBrowser(t) {
    const r = URL.createObjectURL(this.logsToBlob(t)), i = document.createElement("a");
    i.href = r, i.download = `walletconnect-logs-${(/* @__PURE__ */ new Date()).toISOString()}.txt`, document.body.appendChild(i), i.click(), document.body.removeChild(i), URL.revokeObjectURL(r);
  }
};
class qP {
  constructor(t, r = c2) {
    this.baseChunkLogger = new N8(t, r);
  }
  write(t) {
    this.baseChunkLogger.appendToLogs(t);
  }
  getLogs() {
    return this.baseChunkLogger.getLogs();
  }
  clearLogs() {
    this.baseChunkLogger.clearLogs();
  }
  getLogArray() {
    return this.baseChunkLogger.getLogArray();
  }
  logsToBlob(t) {
    return this.baseChunkLogger.logsToBlob(t);
  }
}
var LP = Object.defineProperty, kP = Object.defineProperties, zP = Object.getOwnPropertyDescriptors, Um = Object.getOwnPropertySymbols, $P = Object.prototype.hasOwnProperty, HP = Object.prototype.propertyIsEnumerable, qm = (e, t, r) => t in e ? LP(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, R0 = (e, t) => {
  for (var r in t || (t = {}))
    $P.call(t, r) && qm(e, r, t[r]);
  if (Um)
    for (var r of Um(t))
      HP.call(t, r) && qm(e, r, t[r]);
  return e;
}, O0 = (e, t) => kP(e, zP(t));
function ll(e) {
  return O0(R0({}, e), { level: (e == null ? void 0 : e.level) || TP.level });
}
function jP(e, t = Cu) {
  return e[t] || "";
}
function KP(e, t, r = Cu) {
  return e[r] = t, e;
}
function Gi(e, t = Cu) {
  let r = "";
  return typeof e.bindings > "u" ? r = jP(e, t) : r = e.bindings().context || "", r;
}
function GP(e, t, r = Cu) {
  const i = Gi(e, r);
  return i.trim() ? `${i}/${t}` : t;
}
function Ii(e, t, r = Cu) {
  const i = GP(e, t, r), n = e.child({ context: i });
  return KP(n, i, r);
}
function QP(e) {
  var t, r;
  const i = new UP((t = e.opts) == null ? void 0 : t.level, e.maxSizeInBytes);
  return { logger: Du(O0(R0({}, e.opts), { level: "trace", browser: O0(R0({}, (r = e.opts) == null ? void 0 : r.browser), { write: (n) => i.write(n) }) })), chunkLoggerController: i };
}
function JP(e) {
  var t;
  const r = new qP((t = e.opts) == null ? void 0 : t.level, e.maxSizeInBytes);
  return { logger: Du(O0(R0({}, e.opts), { level: "trace" }), r), chunkLoggerController: r };
}
function YP(e) {
  return typeof e.loggerOverride < "u" && typeof e.loggerOverride != "string" ? { logger: e.loggerOverride, chunkLoggerController: null } : typeof window < "u" ? QP(e) : JP(e);
}
let VP = class extends za {
  constructor(t) {
    super(), this.opts = t, this.protocol = "wc", this.version = 2;
  }
}, WP = class extends za {
  constructor(t, r) {
    super(), this.core = t, this.logger = r, this.records = /* @__PURE__ */ new Map();
  }
}, XP = class {
  constructor(t, r) {
    this.logger = t, this.core = r;
  }
}, ZP = class extends za {
  constructor(t, r) {
    super(), this.relayer = t, this.logger = r;
  }
}, tR = class extends za {
  constructor(t) {
    super();
  }
}, eR = class {
  constructor(t, r, i, n) {
    this.core = t, this.logger = r, this.name = i;
  }
}, rR = class extends za {
  constructor(t, r) {
    super(), this.relayer = t, this.logger = r;
  }
}, iR = class extends za {
  constructor(t, r) {
    super(), this.core = t, this.logger = r;
  }
}, nR = class {
  constructor(t, r, i) {
    this.core = t, this.logger = r, this.store = i;
  }
}, sR = class {
  constructor(t, r) {
    this.projectId = t, this.logger = r;
  }
}, oR = class {
  constructor(t, r, i) {
    this.core = t, this.logger = r, this.telemetryEnabled = i;
  }
};
var aR = Object.defineProperty, Lm = Object.getOwnPropertySymbols, hR = Object.prototype.hasOwnProperty, fR = Object.prototype.propertyIsEnumerable, km = (e, t, r) => t in e ? aR(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, zm = (e, t) => {
  for (var r in t || (t = {}))
    hR.call(t, r) && km(e, r, t[r]);
  if (Lm)
    for (var r of Lm(t))
      fR.call(t, r) && km(e, r, t[r]);
  return e;
};
const uR = "ReactNative", is = { reactNative: "react-native", node: "node", browser: "browser", unknown: "unknown" }, cR = "js";
function pu() {
  return typeof process < "u" && typeof process.versions < "u" && typeof process.versions.node < "u";
}
function Nu() {
  return !yu() && !!wu() && navigator.product === uR;
}
function dl() {
  return !pu() && !!wu() && !!yu();
}
function pl() {
  return Nu() ? is.reactNative : pu() ? is.node : dl() ? is.browser : is.unknown;
}
function lR() {
  var e;
  try {
    return Nu() && typeof global < "u" && typeof (global == null ? void 0 : global.Application) < "u" ? (e = global.Application) == null ? void 0 : e.applicationId : void 0;
  } catch {
    return;
  }
}
function dR(e, t) {
  let r = fu.parse(e);
  return r = zm(zm({}, r), t), e = fu.stringify(r), e;
}
function pR() {
  if (pl() === is.reactNative && typeof global < "u" && typeof (global == null ? void 0 : global.Platform) < "u") {
    const { OS: r, Version: i } = global.Platform;
    return [r, i].join("-");
  }
  const e = yE();
  if (e === null)
    return "unknown";
  const t = e.os ? e.os.replace(" ", "").toLowerCase() : "unknown";
  return e.type === "browser" ? [t, e.name, e.version].join("-") : [t, e.version].join("-");
}
function gR() {
  var e;
  const t = pl();
  return t === is.browser ? [t, ((e = Y6()) == null ? void 0 : e.host) || "unknown"].join(":") : t;
}
function mR(e, t, r) {
  const i = pR(), n = gR();
  return [[e, t].join("-"), [cR, r].join("-"), i, n].join("/");
}
function vR({ protocol: e, version: t, relayUrl: r, sdkVersion: i, auth: n, projectId: s, useOnCloseEvent: u, bundleId: p }) {
  const b = r.split("?"), m = mR(e, t, i), w = { auth: n, ua: m, projectId: s, useOnCloseEvent: u || void 0, origin: p || void 0 }, S = dR(b[1] || "", w);
  return b[0] + "?" + S;
}
function P8(e) {
  return Object.fromEntries(e.entries());
}
function R8(e) {
  return new Map(Object.entries(e));
}
function bR(e = Zt.FIVE_MINUTES, t) {
  const r = Zt.toMiliseconds(e || Zt.FIVE_MINUTES);
  let i, n, s;
  return { resolve: (u) => {
    s && i && (clearTimeout(s), i(u));
  }, reject: (u) => {
    s && n && (clearTimeout(s), n(u));
  }, done: () => new Promise((u, p) => {
    s = setTimeout(() => {
      p(new Error(t));
    }, r), i = u, n = p;
  }) };
}
function Ih(e, t, r) {
  return new Promise(async (i, n) => {
    const s = setTimeout(() => n(new Error(r)), t);
    try {
      const u = await e;
      i(u);
    } catch (u) {
      n(u);
    }
    clearTimeout(s);
  });
}
function O8(e, t) {
  if (typeof t == "string" && t.startsWith(`${e}:`))
    return t;
  if (e.toLowerCase() === "topic") {
    if (typeof t != "string")
      throw new Error('Value must be "string" for expirer target type: topic');
    return `topic:${t}`;
  } else if (e.toLowerCase() === "id") {
    if (typeof t != "number")
      throw new Error('Value must be "number" for expirer target type: id');
    return `id:${t}`;
  }
  throw new Error(`Unknown expirer target type: ${e}`);
}
function yR(e) {
  return O8("topic", e);
}
function wR(e) {
  return O8("id", e);
}
function AR(e) {
  const [t, r] = e.split(":"), i = { id: void 0, topic: void 0 };
  if (t === "topic" && typeof r == "string")
    i.topic = r;
  else if (t === "id" && Number.isInteger(Number(r)))
    i.id = Number(r);
  else
    throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);
  return i;
}
function l0(e, t) {
  return Zt.fromMiliseconds(Date.now() + Zt.toMiliseconds(e));
}
function $m(e) {
  return Date.now() >= Zt.toMiliseconds(e);
}
function h1(e, t) {
  return `${e}${t ? `:${t}` : ""}`;
}
function _R() {
  return typeof crypto < "u" && crypto != null && crypto.randomUUID ? crypto.randomUUID() : "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu, (e) => {
    const t = Math.random() * 16 | 0;
    return (e === "x" ? t : t & 3 | 8).toString(16);
  });
}
var B8 = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function ER(e) {
  var t = e.default;
  if (typeof t == "function") {
    var r = function() {
      return t.apply(this, arguments);
    };
    r.prototype = t.prototype;
  } else
    r = {};
  return Object.defineProperty(r, "__esModule", { value: !0 }), Object.keys(e).forEach(function(i) {
    var n = Object.getOwnPropertyDescriptor(e, i);
    Object.defineProperty(r, i, n.get ? n : { enumerable: !0, get: function() {
      return e[i];
    } });
  }), r;
}
var MR = { exports: {} };
/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/
(function(e) {
  (function() {
    var t = "input is invalid type", r = "finalize already called", i = typeof window == "object", n = i ? window : {};
    n.JS_SHA3_NO_WINDOW && (i = !1);
    var s = !i && typeof self == "object", u = !n.JS_SHA3_NO_NODE_JS && typeof process == "object" && process.versions && process.versions.node;
    u ? n = B8 : s && (n = self);
    var p = !n.JS_SHA3_NO_COMMON_JS && !0 && e.exports, b = !n.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer < "u", m = "0123456789abcdef".split(""), w = [31, 7936, 2031616, 520093696], S = [4, 1024, 262144, 67108864], C = [1, 256, 65536, 16777216], D = [6, 1536, 393216, 100663296], P = [0, 8, 16, 24], k = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648], z = [224, 256, 384, 512], V = [128, 256], Q = ["hex", "buffer", "arrayBuffer", "array", "digest"], W = { 128: 168, 256: 136 };
    (n.JS_SHA3_NO_NODE_JS || !Array.isArray) && (Array.isArray = function(g) {
      return Object.prototype.toString.call(g) === "[object Array]";
    }), b && (n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView) && (ArrayBuffer.isView = function(g) {
      return typeof g == "object" && g.buffer && g.buffer.constructor === ArrayBuffer;
    });
    for (var $ = function(g, F, O) {
      return function(B) {
        return new _(g, F, g).update(B)[O]();
      };
    }, j = function(g, F, O) {
      return function(B, q) {
        return new _(g, F, q).update(B)[O]();
      };
    }, K = function(g, F, O) {
      return function(B, q, x, T) {
        return h["cshake" + g].update(B, q, x, T)[O]();
      };
    }, N = function(g, F, O) {
      return function(B, q, x, T) {
        return h["kmac" + g].update(B, q, x, T)[O]();
      };
    }, H = function(g, F, O, B) {
      for (var q = 0; q < Q.length; ++q) {
        var x = Q[q];
        g[x] = F(O, B, x);
      }
      return g;
    }, st = function(g, F) {
      var O = $(g, F, "hex");
      return O.create = function() {
        return new _(g, F, g);
      }, O.update = function(B) {
        return O.create().update(B);
      }, H(O, $, g, F);
    }, ct = function(g, F) {
      var O = j(g, F, "hex");
      return O.create = function(B) {
        return new _(g, F, B);
      }, O.update = function(B, q) {
        return O.create(q).update(B);
      }, H(O, j, g, F);
    }, L = function(g, F) {
      var O = W[g], B = K(g, F, "hex");
      return B.create = function(q, x, T) {
        return !x && !T ? h["shake" + g].create(q) : new _(g, F, q).bytepad([x, T], O);
      }, B.update = function(q, x, T, Z) {
        return B.create(x, T, Z).update(q);
      }, H(B, K, g, F);
    }, I = function(g, F) {
      var O = W[g], B = N(g, F, "hex");
      return B.create = function(q, x, T) {
        return new Y(g, F, x).bytepad(["KMAC", T], O).bytepad([q], O);
      }, B.update = function(q, x, T, Z) {
        return B.create(q, T, Z).update(x);
      }, H(B, N, g, F);
    }, o = [{ name: "keccak", padding: C, bits: z, createMethod: st }, { name: "sha3", padding: D, bits: z, createMethod: st }, { name: "shake", padding: w, bits: V, createMethod: ct }, { name: "cshake", padding: S, bits: V, createMethod: L }, { name: "kmac", padding: S, bits: V, createMethod: I }], h = {}, c = [], v = 0; v < o.length; ++v)
      for (var y = o[v], M = y.bits, E = 0; E < M.length; ++E) {
        var d = y.name + "_" + M[E];
        if (c.push(d), h[d] = y.createMethod(M[E], y.padding), y.name !== "sha3") {
          var f = y.name + M[E];
          c.push(f), h[f] = h[d];
        }
      }
    function _(g, F, O) {
      this.blocks = [], this.s = [], this.padding = F, this.outputBits = O, this.reset = !0, this.finalized = !1, this.block = 0, this.start = 0, this.blockCount = 1600 - (g << 1) >> 5, this.byteCount = this.blockCount << 2, this.outputBlocks = O >> 5, this.extraBytes = (O & 31) >> 3;
      for (var B = 0; B < 50; ++B)
        this.s[B] = 0;
    }
    _.prototype.update = function(g) {
      if (this.finalized)
        throw new Error(r);
      var F, O = typeof g;
      if (O !== "string") {
        if (O === "object") {
          if (g === null)
            throw new Error(t);
          if (b && g.constructor === ArrayBuffer)
            g = new Uint8Array(g);
          else if (!Array.isArray(g) && (!b || !ArrayBuffer.isView(g)))
            throw new Error(t);
        } else
          throw new Error(t);
        F = !0;
      }
      for (var B = this.blocks, q = this.byteCount, x = g.length, T = this.blockCount, Z = 0, it = this.s, et, pt; Z < x; ) {
        if (this.reset)
          for (this.reset = !1, B[0] = this.block, et = 1; et < T + 1; ++et)
            B[et] = 0;
        if (F)
          for (et = this.start; Z < x && et < q; ++Z)
            B[et >> 2] |= g[Z] << P[et++ & 3];
        else
          for (et = this.start; Z < x && et < q; ++Z)
            pt = g.charCodeAt(Z), pt < 128 ? B[et >> 2] |= pt << P[et++ & 3] : pt < 2048 ? (B[et >> 2] |= (192 | pt >> 6) << P[et++ & 3], B[et >> 2] |= (128 | pt & 63) << P[et++ & 3]) : pt < 55296 || pt >= 57344 ? (B[et >> 2] |= (224 | pt >> 12) << P[et++ & 3], B[et >> 2] |= (128 | pt >> 6 & 63) << P[et++ & 3], B[et >> 2] |= (128 | pt & 63) << P[et++ & 3]) : (pt = 65536 + ((pt & 1023) << 10 | g.charCodeAt(++Z) & 1023), B[et >> 2] |= (240 | pt >> 18) << P[et++ & 3], B[et >> 2] |= (128 | pt >> 12 & 63) << P[et++ & 3], B[et >> 2] |= (128 | pt >> 6 & 63) << P[et++ & 3], B[et >> 2] |= (128 | pt & 63) << P[et++ & 3]);
        if (this.lastByteIndex = et, et >= q) {
          for (this.start = et - q, this.block = B[T], et = 0; et < T; ++et)
            it[et] ^= B[et];
          X(it), this.reset = !0;
        } else
          this.start = et;
      }
      return this;
    }, _.prototype.encode = function(g, F) {
      var O = g & 255, B = 1, q = [O];
      for (g = g >> 8, O = g & 255; O > 0; )
        q.unshift(O), g = g >> 8, O = g & 255, ++B;
      return F ? q.push(B) : q.unshift(B), this.update(q), q.length;
    }, _.prototype.encodeString = function(g) {
      var F, O = typeof g;
      if (O !== "string") {
        if (O === "object") {
          if (g === null)
            throw new Error(t);
          if (b && g.constructor === ArrayBuffer)
            g = new Uint8Array(g);
          else if (!Array.isArray(g) && (!b || !ArrayBuffer.isView(g)))
            throw new Error(t);
        } else
          throw new Error(t);
        F = !0;
      }
      var B = 0, q = g.length;
      if (F)
        B = q;
      else
        for (var x = 0; x < g.length; ++x) {
          var T = g.charCodeAt(x);
          T < 128 ? B += 1 : T < 2048 ? B += 2 : T < 55296 || T >= 57344 ? B += 3 : (T = 65536 + ((T & 1023) << 10 | g.charCodeAt(++x) & 1023), B += 4);
        }
      return B += this.encode(B * 8), this.update(g), B;
    }, _.prototype.bytepad = function(g, F) {
      for (var O = this.encode(F), B = 0; B < g.length; ++B)
        O += this.encodeString(g[B]);
      var q = F - O % F, x = [];
      return x.length = q, this.update(x), this;
    }, _.prototype.finalize = function() {
      if (!this.finalized) {
        this.finalized = !0;
        var g = this.blocks, F = this.lastByteIndex, O = this.blockCount, B = this.s;
        if (g[F >> 2] |= this.padding[F & 3], this.lastByteIndex === this.byteCount)
          for (g[0] = g[O], F = 1; F < O + 1; ++F)
            g[F] = 0;
        for (g[O - 1] |= 2147483648, F = 0; F < O; ++F)
          B[F] ^= g[F];
        X(B);
      }
    }, _.prototype.toString = _.prototype.hex = function() {
      this.finalize();
      for (var g = this.blockCount, F = this.s, O = this.outputBlocks, B = this.extraBytes, q = 0, x = 0, T = "", Z; x < O; ) {
        for (q = 0; q < g && x < O; ++q, ++x)
          Z = F[q], T += m[Z >> 4 & 15] + m[Z & 15] + m[Z >> 12 & 15] + m[Z >> 8 & 15] + m[Z >> 20 & 15] + m[Z >> 16 & 15] + m[Z >> 28 & 15] + m[Z >> 24 & 15];
        x % g === 0 && (X(F), q = 0);
      }
      return B && (Z = F[q], T += m[Z >> 4 & 15] + m[Z & 15], B > 1 && (T += m[Z >> 12 & 15] + m[Z >> 8 & 15]), B > 2 && (T += m[Z >> 20 & 15] + m[Z >> 16 & 15])), T;
    }, _.prototype.arrayBuffer = function() {
      this.finalize();
      var g = this.blockCount, F = this.s, O = this.outputBlocks, B = this.extraBytes, q = 0, x = 0, T = this.outputBits >> 3, Z;
      B ? Z = new ArrayBuffer(O + 1 << 2) : Z = new ArrayBuffer(T);
      for (var it = new Uint32Array(Z); x < O; ) {
        for (q = 0; q < g && x < O; ++q, ++x)
          it[x] = F[q];
        x % g === 0 && X(F);
      }
      return B && (it[q] = F[q], Z = Z.slice(0, T)), Z;
    }, _.prototype.buffer = _.prototype.arrayBuffer, _.prototype.digest = _.prototype.array = function() {
      this.finalize();
      for (var g = this.blockCount, F = this.s, O = this.outputBlocks, B = this.extraBytes, q = 0, x = 0, T = [], Z, it; x < O; ) {
        for (q = 0; q < g && x < O; ++q, ++x)
          Z = x << 2, it = F[q], T[Z] = it & 255, T[Z + 1] = it >> 8 & 255, T[Z + 2] = it >> 16 & 255, T[Z + 3] = it >> 24 & 255;
        x % g === 0 && X(F);
      }
      return B && (Z = x << 2, it = F[q], T[Z] = it & 255, B > 1 && (T[Z + 1] = it >> 8 & 255), B > 2 && (T[Z + 2] = it >> 16 & 255)), T;
    };
    function Y(g, F, O) {
      _.call(this, g, F, O);
    }
    Y.prototype = new _(), Y.prototype.finalize = function() {
      return this.encode(this.outputBits, !0), _.prototype.finalize.call(this);
    };
    var X = function(g) {
      var F, O, B, q, x, T, Z, it, et, pt, gt, _t, re, bt, Et, Qt, lt, yt, Wt, ft, wt, Kt, ut, It, Jt, mt, Pt, te, vt, Rt, ue, Tt, Yt, ce, Ft, Vt, de, Mt, Lt, se, St, kt, ie, Dt, jt, oe, Ct, zt, he, xt, qt, fe, Nt, Xt, be, Ht, Gt, ze, $e, He, je, Ke, Ie;
      for (B = 0; B < 48; B += 2)
        q = g[0] ^ g[10] ^ g[20] ^ g[30] ^ g[40], x = g[1] ^ g[11] ^ g[21] ^ g[31] ^ g[41], T = g[2] ^ g[12] ^ g[22] ^ g[32] ^ g[42], Z = g[3] ^ g[13] ^ g[23] ^ g[33] ^ g[43], it = g[4] ^ g[14] ^ g[24] ^ g[34] ^ g[44], et = g[5] ^ g[15] ^ g[25] ^ g[35] ^ g[45], pt = g[6] ^ g[16] ^ g[26] ^ g[36] ^ g[46], gt = g[7] ^ g[17] ^ g[27] ^ g[37] ^ g[47], _t = g[8] ^ g[18] ^ g[28] ^ g[38] ^ g[48], re = g[9] ^ g[19] ^ g[29] ^ g[39] ^ g[49], F = _t ^ (T << 1 | Z >>> 31), O = re ^ (Z << 1 | T >>> 31), g[0] ^= F, g[1] ^= O, g[10] ^= F, g[11] ^= O, g[20] ^= F, g[21] ^= O, g[30] ^= F, g[31] ^= O, g[40] ^= F, g[41] ^= O, F = q ^ (it << 1 | et >>> 31), O = x ^ (et << 1 | it >>> 31), g[2] ^= F, g[3] ^= O, g[12] ^= F, g[13] ^= O, g[22] ^= F, g[23] ^= O, g[32] ^= F, g[33] ^= O, g[42] ^= F, g[43] ^= O, F = T ^ (pt << 1 | gt >>> 31), O = Z ^ (gt << 1 | pt >>> 31), g[4] ^= F, g[5] ^= O, g[14] ^= F, g[15] ^= O, g[24] ^= F, g[25] ^= O, g[34] ^= F, g[35] ^= O, g[44] ^= F, g[45] ^= O, F = it ^ (_t << 1 | re >>> 31), O = et ^ (re << 1 | _t >>> 31), g[6] ^= F, g[7] ^= O, g[16] ^= F, g[17] ^= O, g[26] ^= F, g[27] ^= O, g[36] ^= F, g[37] ^= O, g[46] ^= F, g[47] ^= O, F = pt ^ (q << 1 | x >>> 31), O = gt ^ (x << 1 | q >>> 31), g[8] ^= F, g[9] ^= O, g[18] ^= F, g[19] ^= O, g[28] ^= F, g[29] ^= O, g[38] ^= F, g[39] ^= O, g[48] ^= F, g[49] ^= O, bt = g[0], Et = g[1], oe = g[11] << 4 | g[10] >>> 28, Ct = g[10] << 4 | g[11] >>> 28, te = g[20] << 3 | g[21] >>> 29, vt = g[21] << 3 | g[20] >>> 29, He = g[31] << 9 | g[30] >>> 23, je = g[30] << 9 | g[31] >>> 23, kt = g[40] << 18 | g[41] >>> 14, ie = g[41] << 18 | g[40] >>> 14, ce = g[2] << 1 | g[3] >>> 31, Ft = g[3] << 1 | g[2] >>> 31, Qt = g[13] << 12 | g[12] >>> 20, lt = g[12] << 12 | g[13] >>> 20, zt = g[22] << 10 | g[23] >>> 22, he = g[23] << 10 | g[22] >>> 22, Rt = g[33] << 13 | g[32] >>> 19, ue = g[32] << 13 | g[33] >>> 19, Ke = g[42] << 2 | g[43] >>> 30, Ie = g[43] << 2 | g[42] >>> 30, Xt = g[5] << 30 | g[4] >>> 2, be = g[4] << 30 | g[5] >>> 2, Vt = g[14] << 6 | g[15] >>> 26, de = g[15] << 6 | g[14] >>> 26, yt = g[25] << 11 | g[24] >>> 21, Wt = g[24] << 11 | g[25] >>> 21, xt = g[34] << 15 | g[35] >>> 17, qt = g[35] << 15 | g[34] >>> 17, Tt = g[45] << 29 | g[44] >>> 3, Yt = g[44] << 29 | g[45] >>> 3, It = g[6] << 28 | g[7] >>> 4, Jt = g[7] << 28 | g[6] >>> 4, Ht = g[17] << 23 | g[16] >>> 9, Gt = g[16] << 23 | g[17] >>> 9, Mt = g[26] << 25 | g[27] >>> 7, Lt = g[27] << 25 | g[26] >>> 7, ft = g[36] << 21 | g[37] >>> 11, wt = g[37] << 21 | g[36] >>> 11, fe = g[47] << 24 | g[46] >>> 8, Nt = g[46] << 24 | g[47] >>> 8, Dt = g[8] << 27 | g[9] >>> 5, jt = g[9] << 27 | g[8] >>> 5, mt = g[18] << 20 | g[19] >>> 12, Pt = g[19] << 20 | g[18] >>> 12, ze = g[29] << 7 | g[28] >>> 25, $e = g[28] << 7 | g[29] >>> 25, se = g[38] << 8 | g[39] >>> 24, St = g[39] << 8 | g[38] >>> 24, Kt = g[48] << 14 | g[49] >>> 18, ut = g[49] << 14 | g[48] >>> 18, g[0] = bt ^ ~Qt & yt, g[1] = Et ^ ~lt & Wt, g[10] = It ^ ~mt & te, g[11] = Jt ^ ~Pt & vt, g[20] = ce ^ ~Vt & Mt, g[21] = Ft ^ ~de & Lt, g[30] = Dt ^ ~oe & zt, g[31] = jt ^ ~Ct & he, g[40] = Xt ^ ~Ht & ze, g[41] = be ^ ~Gt & $e, g[2] = Qt ^ ~yt & ft, g[3] = lt ^ ~Wt & wt, g[12] = mt ^ ~te & Rt, g[13] = Pt ^ ~vt & ue, g[22] = Vt ^ ~Mt & se, g[23] = de ^ ~Lt & St, g[32] = oe ^ ~zt & xt, g[33] = Ct ^ ~he & qt, g[42] = Ht ^ ~ze & He, g[43] = Gt ^ ~$e & je, g[4] = yt ^ ~ft & Kt, g[5] = Wt ^ ~wt & ut, g[14] = te ^ ~Rt & Tt, g[15] = vt ^ ~ue & Yt, g[24] = Mt ^ ~se & kt, g[25] = Lt ^ ~St & ie, g[34] = zt ^ ~xt & fe, g[35] = he ^ ~qt & Nt, g[44] = ze ^ ~He & Ke, g[45] = $e ^ ~je & Ie, g[6] = ft ^ ~Kt & bt, g[7] = wt ^ ~ut & Et, g[16] = Rt ^ ~Tt & It, g[17] = ue ^ ~Yt & Jt, g[26] = se ^ ~kt & ce, g[27] = St ^ ~ie & Ft, g[36] = xt ^ ~fe & Dt, g[37] = qt ^ ~Nt & jt, g[46] = He ^ ~Ke & Xt, g[47] = je ^ ~Ie & be, g[8] = Kt ^ ~bt & Qt, g[9] = ut ^ ~Et & lt, g[18] = Tt ^ ~It & mt, g[19] = Yt ^ ~Jt & Pt, g[28] = kt ^ ~ce & Vt, g[29] = ie ^ ~Ft & de, g[38] = fe ^ ~Dt & oe, g[39] = Nt ^ ~jt & Ct, g[48] = Ke ^ ~Xt & Ht, g[49] = Ie ^ ~be & Gt, g[0] ^= k[B], g[1] ^= k[B + 1];
    };
    if (p)
      e.exports = h;
    else
      for (v = 0; v < c.length; ++v)
        n[c[v]] = h[c[v]];
  })();
})(MR);
const SR = "logger/5.7.0";
let Hm = !1, jm = !1;
const d0 = { debug: 1, default: 2, info: 2, warning: 3, error: 4, off: 5 };
let Km = d0.default, f1 = null;
function xR() {
  try {
    const e = [];
    if (["NFD", "NFC", "NFKD", "NFKC"].forEach((t) => {
      try {
        if ("test".normalize(t) !== "test")
          throw new Error("bad normalize");
      } catch {
        e.push(t);
      }
    }), e.length)
      throw new Error("missing " + e.join(", "));
    if ("é".normalize("NFD") !== "é")
      throw new Error("broken implementation");
  } catch (e) {
    return e.message;
  }
  return null;
}
const Gm = xR();
var Ap;
(function(e) {
  e.DEBUG = "DEBUG", e.INFO = "INFO", e.WARNING = "WARNING", e.ERROR = "ERROR", e.OFF = "OFF";
})(Ap || (Ap = {}));
var Vn;
(function(e) {
  e.UNKNOWN_ERROR = "UNKNOWN_ERROR", e.NOT_IMPLEMENTED = "NOT_IMPLEMENTED", e.UNSUPPORTED_OPERATION = "UNSUPPORTED_OPERATION", e.NETWORK_ERROR = "NETWORK_ERROR", e.SERVER_ERROR = "SERVER_ERROR", e.TIMEOUT = "TIMEOUT", e.BUFFER_OVERRUN = "BUFFER_OVERRUN", e.NUMERIC_FAULT = "NUMERIC_FAULT", e.MISSING_NEW = "MISSING_NEW", e.INVALID_ARGUMENT = "INVALID_ARGUMENT", e.MISSING_ARGUMENT = "MISSING_ARGUMENT", e.UNEXPECTED_ARGUMENT = "UNEXPECTED_ARGUMENT", e.CALL_EXCEPTION = "CALL_EXCEPTION", e.INSUFFICIENT_FUNDS = "INSUFFICIENT_FUNDS", e.NONCE_EXPIRED = "NONCE_EXPIRED", e.REPLACEMENT_UNDERPRICED = "REPLACEMENT_UNDERPRICED", e.UNPREDICTABLE_GAS_LIMIT = "UNPREDICTABLE_GAS_LIMIT", e.TRANSACTION_REPLACED = "TRANSACTION_REPLACED", e.ACTION_REJECTED = "ACTION_REJECTED";
})(Vn || (Vn = {}));
const Qm = "0123456789abcdef";
let ki = class Ur {
  constructor(t) {
    Object.defineProperty(this, "version", { enumerable: !0, value: t, writable: !1 });
  }
  _log(t, r) {
    const i = t.toLowerCase();
    d0[i] == null && this.throwArgumentError("invalid log level name", "logLevel", t), !(Km > d0[i]) && console.log.apply(console, r);
  }
  debug(...t) {
    this._log(Ur.levels.DEBUG, t);
  }
  info(...t) {
    this._log(Ur.levels.INFO, t);
  }
  warn(...t) {
    this._log(Ur.levels.WARNING, t);
  }
  makeError(t, r, i) {
    if (jm)
      return this.makeError("censored error", r, {});
    r || (r = Ur.errors.UNKNOWN_ERROR), i || (i = {});
    const n = [];
    Object.keys(i).forEach((b) => {
      const m = i[b];
      try {
        if (m instanceof Uint8Array) {
          let w = "";
          for (let S = 0; S < m.length; S++)
            w += Qm[m[S] >> 4], w += Qm[m[S] & 15];
          n.push(b + "=Uint8Array(0x" + w + ")");
        } else
          n.push(b + "=" + JSON.stringify(m));
      } catch {
        n.push(b + "=" + JSON.stringify(i[b].toString()));
      }
    }), n.push(`code=${r}`), n.push(`version=${this.version}`);
    const s = t;
    let u = "";
    switch (r) {
      case Vn.NUMERIC_FAULT: {
        u = "NUMERIC_FAULT";
        const b = t;
        switch (b) {
          case "overflow":
          case "underflow":
          case "division-by-zero":
            u += "-" + b;
            break;
          case "negative-power":
          case "negative-width":
            u += "-unsupported";
            break;
          case "unbound-bitwise-result":
            u += "-unbound-result";
            break;
        }
        break;
      }
      case Vn.CALL_EXCEPTION:
      case Vn.INSUFFICIENT_FUNDS:
      case Vn.MISSING_NEW:
      case Vn.NONCE_EXPIRED:
      case Vn.REPLACEMENT_UNDERPRICED:
      case Vn.TRANSACTION_REPLACED:
      case Vn.UNPREDICTABLE_GAS_LIMIT:
        u = r;
        break;
    }
    u && (t += " [ See: https://links.ethers.org/v5-errors-" + u + " ]"), n.length && (t += " (" + n.join(", ") + ")");
    const p = new Error(t);
    return p.reason = s, p.code = r, Object.keys(i).forEach(function(b) {
      p[b] = i[b];
    }), p;
  }
  throwError(t, r, i) {
    throw this.makeError(t, r, i);
  }
  throwArgumentError(t, r, i) {
    return this.throwError(t, Ur.errors.INVALID_ARGUMENT, { argument: r, value: i });
  }
  assert(t, r, i, n) {
    t || this.throwError(r, i, n);
  }
  assertArgument(t, r, i, n) {
    t || this.throwArgumentError(r, i, n);
  }
  checkNormalize(t) {
    Gm && this.throwError("platform missing String.prototype.normalize", Ur.errors.UNSUPPORTED_OPERATION, { operation: "String.prototype.normalize", form: Gm });
  }
  checkSafeUint53(t, r) {
    typeof t == "number" && (r == null && (r = "value not safe"), (t < 0 || t >= 9007199254740991) && this.throwError(r, Ur.errors.NUMERIC_FAULT, { operation: "checkSafeInteger", fault: "out-of-safe-range", value: t }), t % 1 && this.throwError(r, Ur.errors.NUMERIC_FAULT, { operation: "checkSafeInteger", fault: "non-integer", value: t }));
  }
  checkArgumentCount(t, r, i) {
    i ? i = ": " + i : i = "", t < r && this.throwError("missing argument" + i, Ur.errors.MISSING_ARGUMENT, { count: t, expectedCount: r }), t > r && this.throwError("too many arguments" + i, Ur.errors.UNEXPECTED_ARGUMENT, { count: t, expectedCount: r });
  }
  checkNew(t, r) {
    (t === Object || t == null) && this.throwError("missing new", Ur.errors.MISSING_NEW, { name: r.name });
  }
  checkAbstract(t, r) {
    t === r ? this.throwError("cannot instantiate abstract class " + JSON.stringify(r.name) + " directly; use a sub-class", Ur.errors.UNSUPPORTED_OPERATION, { name: t.name, operation: "new" }) : (t === Object || t == null) && this.throwError("missing new", Ur.errors.MISSING_NEW, { name: r.name });
  }
  static globalLogger() {
    return f1 || (f1 = new Ur(SR)), f1;
  }
  static setCensorship(t, r) {
    if (!t && r && this.globalLogger().throwError("cannot permanently disable censorship", Ur.errors.UNSUPPORTED_OPERATION, { operation: "setCensorship" }), Hm) {
      if (!t)
        return;
      this.globalLogger().throwError("error censorship permanent", Ur.errors.UNSUPPORTED_OPERATION, { operation: "setCensorship" });
    }
    jm = !!t, Hm = !!r;
  }
  static setLogLevel(t) {
    const r = d0[t.toLowerCase()];
    if (r == null) {
      Ur.globalLogger().warn("invalid log level - " + t);
      return;
    }
    Km = r;
  }
  static from(t) {
    return new Ur(t);
  }
};
ki.errors = Vn, ki.levels = Ap;
const IR = "bytes/5.7.0", ia = new ki(IR);
function T8(e) {
  return !!e.toHexString;
}
function p0(e) {
  return e.slice || (e.slice = function() {
    const t = Array.prototype.slice.call(arguments);
    return p0(new Uint8Array(Array.prototype.slice.apply(e, t)));
  }), e;
}
function Jm(e) {
  return typeof e == "number" && e == e && e % 1 === 0;
}
function Pu(e) {
  if (e == null)
    return !1;
  if (e.constructor === Uint8Array)
    return !0;
  if (typeof e == "string" || !Jm(e.length) || e.length < 0)
    return !1;
  for (let t = 0; t < e.length; t++) {
    const r = e[t];
    if (!Jm(r) || r < 0 || r >= 256)
      return !1;
  }
  return !0;
}
function F8(e, t) {
  if (t || (t = {}), typeof e == "number") {
    ia.checkSafeUint53(e, "invalid arrayify value");
    const r = [];
    for (; e; )
      r.unshift(e & 255), e = parseInt(String(e / 256));
    return r.length === 0 && r.push(0), p0(new Uint8Array(r));
  }
  if (t.allowMissingPrefix && typeof e == "string" && e.substring(0, 2) !== "0x" && (e = "0x" + e), T8(e) && (e = e.toHexString()), Lh(e)) {
    let r = e.substring(2);
    r.length % 2 && (t.hexPad === "left" ? r = "0" + r : t.hexPad === "right" ? r += "0" : ia.throwArgumentError("hex data is odd-length", "value", e));
    const i = [];
    for (let n = 0; n < r.length; n += 2)
      i.push(parseInt(r.substring(n, n + 2), 16));
    return p0(new Uint8Array(i));
  }
  return Pu(e) ? p0(new Uint8Array(e)) : ia.throwArgumentError("invalid arrayify value", "value", e);
}
function Lh(e, t) {
  return !(typeof e != "string" || !e.match(/^0x[0-9A-Fa-f]*$/) || t);
}
const u1 = "0123456789abcdef";
function U8(e, t) {
  if (t || (t = {}), typeof e == "number") {
    ia.checkSafeUint53(e, "invalid hexlify value");
    let r = "";
    for (; e; )
      r = u1[e & 15] + r, e = Math.floor(e / 16);
    return r.length ? (r.length % 2 && (r = "0" + r), "0x" + r) : "0x00";
  }
  if (typeof e == "bigint")
    return e = e.toString(16), e.length % 2 ? "0x0" + e : "0x" + e;
  if (t.allowMissingPrefix && typeof e == "string" && e.substring(0, 2) !== "0x" && (e = "0x" + e), T8(e))
    return e.toHexString();
  if (Lh(e))
    return e.length % 2 && (t.hexPad === "left" ? e = "0x0" + e.substring(2) : t.hexPad === "right" ? e += "0" : ia.throwArgumentError("hex data is odd-length", "value", e)), e.toLowerCase();
  if (Pu(e)) {
    let r = "0x";
    for (let i = 0; i < e.length; i++) {
      let n = e[i];
      r += u1[(n & 240) >> 4] + u1[n & 15];
    }
    return r;
  }
  return ia.throwArgumentError("invalid hexlify value", "value", e);
}
function B0(e, t) {
  for (typeof e != "string" ? e = U8(e) : Lh(e) || ia.throwArgumentError("invalid hex string", "value", e), e.length > 2 * t + 2 && ia.throwArgumentError("value out of range", "value", arguments[1]); e.length < 2 * t + 2; )
    e = "0x0" + e.substring(2);
  return e;
}
var q8 = { exports: {} }, DR = {}, CR = Object.freeze({ __proto__: null, default: DR }), NR = ER(CR);
(function(e) {
  (function(t, r) {
    function i(o, h) {
      if (!o)
        throw new Error(h || "Assertion failed");
    }
    function n(o, h) {
      o.super_ = h;
      var c = function() {
      };
      c.prototype = h.prototype, o.prototype = new c(), o.prototype.constructor = o;
    }
    function s(o, h, c) {
      if (s.isBN(o))
        return o;
      this.negative = 0, this.words = null, this.length = 0, this.red = null, o !== null && ((h === "le" || h === "be") && (c = h, h = 10), this._init(o || 0, h || 10, c || "be"));
    }
    typeof t == "object" ? t.exports = s : r.BN = s, s.BN = s, s.wordSize = 26;
    var u;
    try {
      typeof window < "u" && typeof window.Buffer < "u" ? u = window.Buffer : u = NR.Buffer;
    } catch {
    }
    s.isBN = function(o) {
      return o instanceof s ? !0 : o !== null && typeof o == "object" && o.constructor.wordSize === s.wordSize && Array.isArray(o.words);
    }, s.max = function(o, h) {
      return o.cmp(h) > 0 ? o : h;
    }, s.min = function(o, h) {
      return o.cmp(h) < 0 ? o : h;
    }, s.prototype._init = function(o, h, c) {
      if (typeof o == "number")
        return this._initNumber(o, h, c);
      if (typeof o == "object")
        return this._initArray(o, h, c);
      h === "hex" && (h = 16), i(h === (h | 0) && h >= 2 && h <= 36), o = o.toString().replace(/\s+/g, "");
      var v = 0;
      o[0] === "-" && (v++, this.negative = 1), v < o.length && (h === 16 ? this._parseHex(o, v, c) : (this._parseBase(o, h, v), c === "le" && this._initArray(this.toArray(), h, c)));
    }, s.prototype._initNumber = function(o, h, c) {
      o < 0 && (this.negative = 1, o = -o), o < 67108864 ? (this.words = [o & 67108863], this.length = 1) : o < 4503599627370496 ? (this.words = [o & 67108863, o / 67108864 & 67108863], this.length = 2) : (i(o < 9007199254740992), this.words = [o & 67108863, o / 67108864 & 67108863, 1], this.length = 3), c === "le" && this._initArray(this.toArray(), h, c);
    }, s.prototype._initArray = function(o, h, c) {
      if (i(typeof o.length == "number"), o.length <= 0)
        return this.words = [0], this.length = 1, this;
      this.length = Math.ceil(o.length / 3), this.words = new Array(this.length);
      for (var v = 0; v < this.length; v++)
        this.words[v] = 0;
      var y, M, E = 0;
      if (c === "be")
        for (v = o.length - 1, y = 0; v >= 0; v -= 3)
          M = o[v] | o[v - 1] << 8 | o[v - 2] << 16, this.words[y] |= M << E & 67108863, this.words[y + 1] = M >>> 26 - E & 67108863, E += 24, E >= 26 && (E -= 26, y++);
      else if (c === "le")
        for (v = 0, y = 0; v < o.length; v += 3)
          M = o[v] | o[v + 1] << 8 | o[v + 2] << 16, this.words[y] |= M << E & 67108863, this.words[y + 1] = M >>> 26 - E & 67108863, E += 24, E >= 26 && (E -= 26, y++);
      return this._strip();
    };
    function p(o, h) {
      var c = o.charCodeAt(h);
      if (c >= 48 && c <= 57)
        return c - 48;
      if (c >= 65 && c <= 70)
        return c - 55;
      if (c >= 97 && c <= 102)
        return c - 87;
      i(!1, "Invalid character in " + o);
    }
    function b(o, h, c) {
      var v = p(o, c);
      return c - 1 >= h && (v |= p(o, c - 1) << 4), v;
    }
    s.prototype._parseHex = function(o, h, c) {
      this.length = Math.ceil((o.length - h) / 6), this.words = new Array(this.length);
      for (var v = 0; v < this.length; v++)
        this.words[v] = 0;
      var y = 0, M = 0, E;
      if (c === "be")
        for (v = o.length - 1; v >= h; v -= 2)
          E = b(o, h, v) << y, this.words[M] |= E & 67108863, y >= 18 ? (y -= 18, M += 1, this.words[M] |= E >>> 26) : y += 8;
      else {
        var d = o.length - h;
        for (v = d % 2 === 0 ? h + 1 : h; v < o.length; v += 2)
          E = b(o, h, v) << y, this.words[M] |= E & 67108863, y >= 18 ? (y -= 18, M += 1, this.words[M] |= E >>> 26) : y += 8;
      }
      this._strip();
    };
    function m(o, h, c, v) {
      for (var y = 0, M = 0, E = Math.min(o.length, c), d = h; d < E; d++) {
        var f = o.charCodeAt(d) - 48;
        y *= v, f >= 49 ? M = f - 49 + 10 : f >= 17 ? M = f - 17 + 10 : M = f, i(f >= 0 && M < v, "Invalid character"), y += M;
      }
      return y;
    }
    s.prototype._parseBase = function(o, h, c) {
      this.words = [0], this.length = 1;
      for (var v = 0, y = 1; y <= 67108863; y *= h)
        v++;
      v--, y = y / h | 0;
      for (var M = o.length - c, E = M % v, d = Math.min(M, M - E) + c, f = 0, _ = c; _ < d; _ += v)
        f = m(o, _, _ + v, h), this.imuln(y), this.words[0] + f < 67108864 ? this.words[0] += f : this._iaddn(f);
      if (E !== 0) {
        var Y = 1;
        for (f = m(o, _, o.length, h), _ = 0; _ < E; _++)
          Y *= h;
        this.imuln(Y), this.words[0] + f < 67108864 ? this.words[0] += f : this._iaddn(f);
      }
      this._strip();
    }, s.prototype.copy = function(o) {
      o.words = new Array(this.length);
      for (var h = 0; h < this.length; h++)
        o.words[h] = this.words[h];
      o.length = this.length, o.negative = this.negative, o.red = this.red;
    };
    function w(o, h) {
      o.words = h.words, o.length = h.length, o.negative = h.negative, o.red = h.red;
    }
    if (s.prototype._move = function(o) {
      w(o, this);
    }, s.prototype.clone = function() {
      var o = new s(null);
      return this.copy(o), o;
    }, s.prototype._expand = function(o) {
      for (; this.length < o; )
        this.words[this.length++] = 0;
      return this;
    }, s.prototype._strip = function() {
      for (; this.length > 1 && this.words[this.length - 1] === 0; )
        this.length--;
      return this._normSign();
    }, s.prototype._normSign = function() {
      return this.length === 1 && this.words[0] === 0 && (this.negative = 0), this;
    }, typeof Symbol < "u" && typeof Symbol.for == "function")
      try {
        s.prototype[Symbol.for("nodejs.util.inspect.custom")] = S;
      } catch {
        s.prototype.inspect = S;
      }
    else
      s.prototype.inspect = S;
    function S() {
      return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
    }
    var C = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"], D = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5], P = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176];
    s.prototype.toString = function(o, h) {
      o = o || 10, h = h | 0 || 1;
      var c;
      if (o === 16 || o === "hex") {
        c = "";
        for (var v = 0, y = 0, M = 0; M < this.length; M++) {
          var E = this.words[M], d = ((E << v | y) & 16777215).toString(16);
          y = E >>> 24 - v & 16777215, v += 2, v >= 26 && (v -= 26, M--), y !== 0 || M !== this.length - 1 ? c = C[6 - d.length] + d + c : c = d + c;
        }
        for (y !== 0 && (c = y.toString(16) + c); c.length % h !== 0; )
          c = "0" + c;
        return this.negative !== 0 && (c = "-" + c), c;
      }
      if (o === (o | 0) && o >= 2 && o <= 36) {
        var f = D[o], _ = P[o];
        c = "";
        var Y = this.clone();
        for (Y.negative = 0; !Y.isZero(); ) {
          var X = Y.modrn(_).toString(o);
          Y = Y.idivn(_), Y.isZero() ? c = X + c : c = C[f - X.length] + X + c;
        }
        for (this.isZero() && (c = "0" + c); c.length % h !== 0; )
          c = "0" + c;
        return this.negative !== 0 && (c = "-" + c), c;
      }
      i(!1, "Base should be between 2 and 36");
    }, s.prototype.toNumber = function() {
      var o = this.words[0];
      return this.length === 2 ? o += this.words[1] * 67108864 : this.length === 3 && this.words[2] === 1 ? o += 4503599627370496 + this.words[1] * 67108864 : this.length > 2 && i(!1, "Number can only safely store up to 53 bits"), this.negative !== 0 ? -o : o;
    }, s.prototype.toJSON = function() {
      return this.toString(16, 2);
    }, u && (s.prototype.toBuffer = function(o, h) {
      return this.toArrayLike(u, o, h);
    }), s.prototype.toArray = function(o, h) {
      return this.toArrayLike(Array, o, h);
    };
    var k = function(o, h) {
      return o.allocUnsafe ? o.allocUnsafe(h) : new o(h);
    };
    s.prototype.toArrayLike = function(o, h, c) {
      this._strip();
      var v = this.byteLength(), y = c || Math.max(1, v);
      i(v <= y, "byte array longer than desired length"), i(y > 0, "Requested array length <= 0");
      var M = k(o, y), E = h === "le" ? "LE" : "BE";
      return this["_toArrayLike" + E](M, v), M;
    }, s.prototype._toArrayLikeLE = function(o, h) {
      for (var c = 0, v = 0, y = 0, M = 0; y < this.length; y++) {
        var E = this.words[y] << M | v;
        o[c++] = E & 255, c < o.length && (o[c++] = E >> 8 & 255), c < o.length && (o[c++] = E >> 16 & 255), M === 6 ? (c < o.length && (o[c++] = E >> 24 & 255), v = 0, M = 0) : (v = E >>> 24, M += 2);
      }
      if (c < o.length)
        for (o[c++] = v; c < o.length; )
          o[c++] = 0;
    }, s.prototype._toArrayLikeBE = function(o, h) {
      for (var c = o.length - 1, v = 0, y = 0, M = 0; y < this.length; y++) {
        var E = this.words[y] << M | v;
        o[c--] = E & 255, c >= 0 && (o[c--] = E >> 8 & 255), c >= 0 && (o[c--] = E >> 16 & 255), M === 6 ? (c >= 0 && (o[c--] = E >> 24 & 255), v = 0, M = 0) : (v = E >>> 24, M += 2);
      }
      if (c >= 0)
        for (o[c--] = v; c >= 0; )
          o[c--] = 0;
    }, Math.clz32 ? s.prototype._countBits = function(o) {
      return 32 - Math.clz32(o);
    } : s.prototype._countBits = function(o) {
      var h = o, c = 0;
      return h >= 4096 && (c += 13, h >>>= 13), h >= 64 && (c += 7, h >>>= 7), h >= 8 && (c += 4, h >>>= 4), h >= 2 && (c += 2, h >>>= 2), c + h;
    }, s.prototype._zeroBits = function(o) {
      if (o === 0)
        return 26;
      var h = o, c = 0;
      return h & 8191 || (c += 13, h >>>= 13), h & 127 || (c += 7, h >>>= 7), h & 15 || (c += 4, h >>>= 4), h & 3 || (c += 2, h >>>= 2), h & 1 || c++, c;
    }, s.prototype.bitLength = function() {
      var o = this.words[this.length - 1], h = this._countBits(o);
      return (this.length - 1) * 26 + h;
    };
    function z(o) {
      for (var h = new Array(o.bitLength()), c = 0; c < h.length; c++) {
        var v = c / 26 | 0, y = c % 26;
        h[c] = o.words[v] >>> y & 1;
      }
      return h;
    }
    s.prototype.zeroBits = function() {
      if (this.isZero())
        return 0;
      for (var o = 0, h = 0; h < this.length; h++) {
        var c = this._zeroBits(this.words[h]);
        if (o += c, c !== 26)
          break;
      }
      return o;
    }, s.prototype.byteLength = function() {
      return Math.ceil(this.bitLength() / 8);
    }, s.prototype.toTwos = function(o) {
      return this.negative !== 0 ? this.abs().inotn(o).iaddn(1) : this.clone();
    }, s.prototype.fromTwos = function(o) {
      return this.testn(o - 1) ? this.notn(o).iaddn(1).ineg() : this.clone();
    }, s.prototype.isNeg = function() {
      return this.negative !== 0;
    }, s.prototype.neg = function() {
      return this.clone().ineg();
    }, s.prototype.ineg = function() {
      return this.isZero() || (this.negative ^= 1), this;
    }, s.prototype.iuor = function(o) {
      for (; this.length < o.length; )
        this.words[this.length++] = 0;
      for (var h = 0; h < o.length; h++)
        this.words[h] = this.words[h] | o.words[h];
      return this._strip();
    }, s.prototype.ior = function(o) {
      return i((this.negative | o.negative) === 0), this.iuor(o);
    }, s.prototype.or = function(o) {
      return this.length > o.length ? this.clone().ior(o) : o.clone().ior(this);
    }, s.prototype.uor = function(o) {
      return this.length > o.length ? this.clone().iuor(o) : o.clone().iuor(this);
    }, s.prototype.iuand = function(o) {
      var h;
      this.length > o.length ? h = o : h = this;
      for (var c = 0; c < h.length; c++)
        this.words[c] = this.words[c] & o.words[c];
      return this.length = h.length, this._strip();
    }, s.prototype.iand = function(o) {
      return i((this.negative | o.negative) === 0), this.iuand(o);
    }, s.prototype.and = function(o) {
      return this.length > o.length ? this.clone().iand(o) : o.clone().iand(this);
    }, s.prototype.uand = function(o) {
      return this.length > o.length ? this.clone().iuand(o) : o.clone().iuand(this);
    }, s.prototype.iuxor = function(o) {
      var h, c;
      this.length > o.length ? (h = this, c = o) : (h = o, c = this);
      for (var v = 0; v < c.length; v++)
        this.words[v] = h.words[v] ^ c.words[v];
      if (this !== h)
        for (; v < h.length; v++)
          this.words[v] = h.words[v];
      return this.length = h.length, this._strip();
    }, s.prototype.ixor = function(o) {
      return i((this.negative | o.negative) === 0), this.iuxor(o);
    }, s.prototype.xor = function(o) {
      return this.length > o.length ? this.clone().ixor(o) : o.clone().ixor(this);
    }, s.prototype.uxor = function(o) {
      return this.length > o.length ? this.clone().iuxor(o) : o.clone().iuxor(this);
    }, s.prototype.inotn = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = Math.ceil(o / 26) | 0, c = o % 26;
      this._expand(h), c > 0 && h--;
      for (var v = 0; v < h; v++)
        this.words[v] = ~this.words[v] & 67108863;
      return c > 0 && (this.words[v] = ~this.words[v] & 67108863 >> 26 - c), this._strip();
    }, s.prototype.notn = function(o) {
      return this.clone().inotn(o);
    }, s.prototype.setn = function(o, h) {
      i(typeof o == "number" && o >= 0);
      var c = o / 26 | 0, v = o % 26;
      return this._expand(c + 1), h ? this.words[c] = this.words[c] | 1 << v : this.words[c] = this.words[c] & ~(1 << v), this._strip();
    }, s.prototype.iadd = function(o) {
      var h;
      if (this.negative !== 0 && o.negative === 0)
        return this.negative = 0, h = this.isub(o), this.negative ^= 1, this._normSign();
      if (this.negative === 0 && o.negative !== 0)
        return o.negative = 0, h = this.isub(o), o.negative = 1, h._normSign();
      var c, v;
      this.length > o.length ? (c = this, v = o) : (c = o, v = this);
      for (var y = 0, M = 0; M < v.length; M++)
        h = (c.words[M] | 0) + (v.words[M] | 0) + y, this.words[M] = h & 67108863, y = h >>> 26;
      for (; y !== 0 && M < c.length; M++)
        h = (c.words[M] | 0) + y, this.words[M] = h & 67108863, y = h >>> 26;
      if (this.length = c.length, y !== 0)
        this.words[this.length] = y, this.length++;
      else if (c !== this)
        for (; M < c.length; M++)
          this.words[M] = c.words[M];
      return this;
    }, s.prototype.add = function(o) {
      var h;
      return o.negative !== 0 && this.negative === 0 ? (o.negative = 0, h = this.sub(o), o.negative ^= 1, h) : o.negative === 0 && this.negative !== 0 ? (this.negative = 0, h = o.sub(this), this.negative = 1, h) : this.length > o.length ? this.clone().iadd(o) : o.clone().iadd(this);
    }, s.prototype.isub = function(o) {
      if (o.negative !== 0) {
        o.negative = 0;
        var h = this.iadd(o);
        return o.negative = 1, h._normSign();
      } else if (this.negative !== 0)
        return this.negative = 0, this.iadd(o), this.negative = 1, this._normSign();
      var c = this.cmp(o);
      if (c === 0)
        return this.negative = 0, this.length = 1, this.words[0] = 0, this;
      var v, y;
      c > 0 ? (v = this, y = o) : (v = o, y = this);
      for (var M = 0, E = 0; E < y.length; E++)
        h = (v.words[E] | 0) - (y.words[E] | 0) + M, M = h >> 26, this.words[E] = h & 67108863;
      for (; M !== 0 && E < v.length; E++)
        h = (v.words[E] | 0) + M, M = h >> 26, this.words[E] = h & 67108863;
      if (M === 0 && E < v.length && v !== this)
        for (; E < v.length; E++)
          this.words[E] = v.words[E];
      return this.length = Math.max(this.length, E), v !== this && (this.negative = 1), this._strip();
    }, s.prototype.sub = function(o) {
      return this.clone().isub(o);
    };
    function V(o, h, c) {
      c.negative = h.negative ^ o.negative;
      var v = o.length + h.length | 0;
      c.length = v, v = v - 1 | 0;
      var y = o.words[0] | 0, M = h.words[0] | 0, E = y * M, d = E & 67108863, f = E / 67108864 | 0;
      c.words[0] = d;
      for (var _ = 1; _ < v; _++) {
        for (var Y = f >>> 26, X = f & 67108863, g = Math.min(_, h.length - 1), F = Math.max(0, _ - o.length + 1); F <= g; F++) {
          var O = _ - F | 0;
          y = o.words[O] | 0, M = h.words[F] | 0, E = y * M + X, Y += E / 67108864 | 0, X = E & 67108863;
        }
        c.words[_] = X | 0, f = Y | 0;
      }
      return f !== 0 ? c.words[_] = f | 0 : c.length--, c._strip();
    }
    var Q = function(o, h, c) {
      var v = o.words, y = h.words, M = c.words, E = 0, d, f, _, Y = v[0] | 0, X = Y & 8191, g = Y >>> 13, F = v[1] | 0, O = F & 8191, B = F >>> 13, q = v[2] | 0, x = q & 8191, T = q >>> 13, Z = v[3] | 0, it = Z & 8191, et = Z >>> 13, pt = v[4] | 0, gt = pt & 8191, _t = pt >>> 13, re = v[5] | 0, bt = re & 8191, Et = re >>> 13, Qt = v[6] | 0, lt = Qt & 8191, yt = Qt >>> 13, Wt = v[7] | 0, ft = Wt & 8191, wt = Wt >>> 13, Kt = v[8] | 0, ut = Kt & 8191, It = Kt >>> 13, Jt = v[9] | 0, mt = Jt & 8191, Pt = Jt >>> 13, te = y[0] | 0, vt = te & 8191, Rt = te >>> 13, ue = y[1] | 0, Tt = ue & 8191, Yt = ue >>> 13, ce = y[2] | 0, Ft = ce & 8191, Vt = ce >>> 13, de = y[3] | 0, Mt = de & 8191, Lt = de >>> 13, se = y[4] | 0, St = se & 8191, kt = se >>> 13, ie = y[5] | 0, Dt = ie & 8191, jt = ie >>> 13, oe = y[6] | 0, Ct = oe & 8191, zt = oe >>> 13, he = y[7] | 0, xt = he & 8191, qt = he >>> 13, fe = y[8] | 0, Nt = fe & 8191, Xt = fe >>> 13, be = y[9] | 0, Ht = be & 8191, Gt = be >>> 13;
      c.negative = o.negative ^ h.negative, c.length = 19, d = Math.imul(X, vt), f = Math.imul(X, Rt), f = f + Math.imul(g, vt) | 0, _ = Math.imul(g, Rt);
      var ze = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (ze >>> 26) | 0, ze &= 67108863, d = Math.imul(O, vt), f = Math.imul(O, Rt), f = f + Math.imul(B, vt) | 0, _ = Math.imul(B, Rt), d = d + Math.imul(X, Tt) | 0, f = f + Math.imul(X, Yt) | 0, f = f + Math.imul(g, Tt) | 0, _ = _ + Math.imul(g, Yt) | 0;
      var $e = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + ($e >>> 26) | 0, $e &= 67108863, d = Math.imul(x, vt), f = Math.imul(x, Rt), f = f + Math.imul(T, vt) | 0, _ = Math.imul(T, Rt), d = d + Math.imul(O, Tt) | 0, f = f + Math.imul(O, Yt) | 0, f = f + Math.imul(B, Tt) | 0, _ = _ + Math.imul(B, Yt) | 0, d = d + Math.imul(X, Ft) | 0, f = f + Math.imul(X, Vt) | 0, f = f + Math.imul(g, Ft) | 0, _ = _ + Math.imul(g, Vt) | 0;
      var He = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (He >>> 26) | 0, He &= 67108863, d = Math.imul(it, vt), f = Math.imul(it, Rt), f = f + Math.imul(et, vt) | 0, _ = Math.imul(et, Rt), d = d + Math.imul(x, Tt) | 0, f = f + Math.imul(x, Yt) | 0, f = f + Math.imul(T, Tt) | 0, _ = _ + Math.imul(T, Yt) | 0, d = d + Math.imul(O, Ft) | 0, f = f + Math.imul(O, Vt) | 0, f = f + Math.imul(B, Ft) | 0, _ = _ + Math.imul(B, Vt) | 0, d = d + Math.imul(X, Mt) | 0, f = f + Math.imul(X, Lt) | 0, f = f + Math.imul(g, Mt) | 0, _ = _ + Math.imul(g, Lt) | 0;
      var je = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (je >>> 26) | 0, je &= 67108863, d = Math.imul(gt, vt), f = Math.imul(gt, Rt), f = f + Math.imul(_t, vt) | 0, _ = Math.imul(_t, Rt), d = d + Math.imul(it, Tt) | 0, f = f + Math.imul(it, Yt) | 0, f = f + Math.imul(et, Tt) | 0, _ = _ + Math.imul(et, Yt) | 0, d = d + Math.imul(x, Ft) | 0, f = f + Math.imul(x, Vt) | 0, f = f + Math.imul(T, Ft) | 0, _ = _ + Math.imul(T, Vt) | 0, d = d + Math.imul(O, Mt) | 0, f = f + Math.imul(O, Lt) | 0, f = f + Math.imul(B, Mt) | 0, _ = _ + Math.imul(B, Lt) | 0, d = d + Math.imul(X, St) | 0, f = f + Math.imul(X, kt) | 0, f = f + Math.imul(g, St) | 0, _ = _ + Math.imul(g, kt) | 0;
      var Ke = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ke >>> 26) | 0, Ke &= 67108863, d = Math.imul(bt, vt), f = Math.imul(bt, Rt), f = f + Math.imul(Et, vt) | 0, _ = Math.imul(Et, Rt), d = d + Math.imul(gt, Tt) | 0, f = f + Math.imul(gt, Yt) | 0, f = f + Math.imul(_t, Tt) | 0, _ = _ + Math.imul(_t, Yt) | 0, d = d + Math.imul(it, Ft) | 0, f = f + Math.imul(it, Vt) | 0, f = f + Math.imul(et, Ft) | 0, _ = _ + Math.imul(et, Vt) | 0, d = d + Math.imul(x, Mt) | 0, f = f + Math.imul(x, Lt) | 0, f = f + Math.imul(T, Mt) | 0, _ = _ + Math.imul(T, Lt) | 0, d = d + Math.imul(O, St) | 0, f = f + Math.imul(O, kt) | 0, f = f + Math.imul(B, St) | 0, _ = _ + Math.imul(B, kt) | 0, d = d + Math.imul(X, Dt) | 0, f = f + Math.imul(X, jt) | 0, f = f + Math.imul(g, Dt) | 0, _ = _ + Math.imul(g, jt) | 0;
      var Ie = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ie >>> 26) | 0, Ie &= 67108863, d = Math.imul(lt, vt), f = Math.imul(lt, Rt), f = f + Math.imul(yt, vt) | 0, _ = Math.imul(yt, Rt), d = d + Math.imul(bt, Tt) | 0, f = f + Math.imul(bt, Yt) | 0, f = f + Math.imul(Et, Tt) | 0, _ = _ + Math.imul(Et, Yt) | 0, d = d + Math.imul(gt, Ft) | 0, f = f + Math.imul(gt, Vt) | 0, f = f + Math.imul(_t, Ft) | 0, _ = _ + Math.imul(_t, Vt) | 0, d = d + Math.imul(it, Mt) | 0, f = f + Math.imul(it, Lt) | 0, f = f + Math.imul(et, Mt) | 0, _ = _ + Math.imul(et, Lt) | 0, d = d + Math.imul(x, St) | 0, f = f + Math.imul(x, kt) | 0, f = f + Math.imul(T, St) | 0, _ = _ + Math.imul(T, kt) | 0, d = d + Math.imul(O, Dt) | 0, f = f + Math.imul(O, jt) | 0, f = f + Math.imul(B, Dt) | 0, _ = _ + Math.imul(B, jt) | 0, d = d + Math.imul(X, Ct) | 0, f = f + Math.imul(X, zt) | 0, f = f + Math.imul(g, Ct) | 0, _ = _ + Math.imul(g, zt) | 0;
      var lr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (lr >>> 26) | 0, lr &= 67108863, d = Math.imul(ft, vt), f = Math.imul(ft, Rt), f = f + Math.imul(wt, vt) | 0, _ = Math.imul(wt, Rt), d = d + Math.imul(lt, Tt) | 0, f = f + Math.imul(lt, Yt) | 0, f = f + Math.imul(yt, Tt) | 0, _ = _ + Math.imul(yt, Yt) | 0, d = d + Math.imul(bt, Ft) | 0, f = f + Math.imul(bt, Vt) | 0, f = f + Math.imul(Et, Ft) | 0, _ = _ + Math.imul(Et, Vt) | 0, d = d + Math.imul(gt, Mt) | 0, f = f + Math.imul(gt, Lt) | 0, f = f + Math.imul(_t, Mt) | 0, _ = _ + Math.imul(_t, Lt) | 0, d = d + Math.imul(it, St) | 0, f = f + Math.imul(it, kt) | 0, f = f + Math.imul(et, St) | 0, _ = _ + Math.imul(et, kt) | 0, d = d + Math.imul(x, Dt) | 0, f = f + Math.imul(x, jt) | 0, f = f + Math.imul(T, Dt) | 0, _ = _ + Math.imul(T, jt) | 0, d = d + Math.imul(O, Ct) | 0, f = f + Math.imul(O, zt) | 0, f = f + Math.imul(B, Ct) | 0, _ = _ + Math.imul(B, zt) | 0, d = d + Math.imul(X, xt) | 0, f = f + Math.imul(X, qt) | 0, f = f + Math.imul(g, xt) | 0, _ = _ + Math.imul(g, qt) | 0;
      var Ir = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ir >>> 26) | 0, Ir &= 67108863, d = Math.imul(ut, vt), f = Math.imul(ut, Rt), f = f + Math.imul(It, vt) | 0, _ = Math.imul(It, Rt), d = d + Math.imul(ft, Tt) | 0, f = f + Math.imul(ft, Yt) | 0, f = f + Math.imul(wt, Tt) | 0, _ = _ + Math.imul(wt, Yt) | 0, d = d + Math.imul(lt, Ft) | 0, f = f + Math.imul(lt, Vt) | 0, f = f + Math.imul(yt, Ft) | 0, _ = _ + Math.imul(yt, Vt) | 0, d = d + Math.imul(bt, Mt) | 0, f = f + Math.imul(bt, Lt) | 0, f = f + Math.imul(Et, Mt) | 0, _ = _ + Math.imul(Et, Lt) | 0, d = d + Math.imul(gt, St) | 0, f = f + Math.imul(gt, kt) | 0, f = f + Math.imul(_t, St) | 0, _ = _ + Math.imul(_t, kt) | 0, d = d + Math.imul(it, Dt) | 0, f = f + Math.imul(it, jt) | 0, f = f + Math.imul(et, Dt) | 0, _ = _ + Math.imul(et, jt) | 0, d = d + Math.imul(x, Ct) | 0, f = f + Math.imul(x, zt) | 0, f = f + Math.imul(T, Ct) | 0, _ = _ + Math.imul(T, zt) | 0, d = d + Math.imul(O, xt) | 0, f = f + Math.imul(O, qt) | 0, f = f + Math.imul(B, xt) | 0, _ = _ + Math.imul(B, qt) | 0, d = d + Math.imul(X, Nt) | 0, f = f + Math.imul(X, Xt) | 0, f = f + Math.imul(g, Nt) | 0, _ = _ + Math.imul(g, Xt) | 0;
      var dr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (dr >>> 26) | 0, dr &= 67108863, d = Math.imul(mt, vt), f = Math.imul(mt, Rt), f = f + Math.imul(Pt, vt) | 0, _ = Math.imul(Pt, Rt), d = d + Math.imul(ut, Tt) | 0, f = f + Math.imul(ut, Yt) | 0, f = f + Math.imul(It, Tt) | 0, _ = _ + Math.imul(It, Yt) | 0, d = d + Math.imul(ft, Ft) | 0, f = f + Math.imul(ft, Vt) | 0, f = f + Math.imul(wt, Ft) | 0, _ = _ + Math.imul(wt, Vt) | 0, d = d + Math.imul(lt, Mt) | 0, f = f + Math.imul(lt, Lt) | 0, f = f + Math.imul(yt, Mt) | 0, _ = _ + Math.imul(yt, Lt) | 0, d = d + Math.imul(bt, St) | 0, f = f + Math.imul(bt, kt) | 0, f = f + Math.imul(Et, St) | 0, _ = _ + Math.imul(Et, kt) | 0, d = d + Math.imul(gt, Dt) | 0, f = f + Math.imul(gt, jt) | 0, f = f + Math.imul(_t, Dt) | 0, _ = _ + Math.imul(_t, jt) | 0, d = d + Math.imul(it, Ct) | 0, f = f + Math.imul(it, zt) | 0, f = f + Math.imul(et, Ct) | 0, _ = _ + Math.imul(et, zt) | 0, d = d + Math.imul(x, xt) | 0, f = f + Math.imul(x, qt) | 0, f = f + Math.imul(T, xt) | 0, _ = _ + Math.imul(T, qt) | 0, d = d + Math.imul(O, Nt) | 0, f = f + Math.imul(O, Xt) | 0, f = f + Math.imul(B, Nt) | 0, _ = _ + Math.imul(B, Xt) | 0, d = d + Math.imul(X, Ht) | 0, f = f + Math.imul(X, Gt) | 0, f = f + Math.imul(g, Ht) | 0, _ = _ + Math.imul(g, Gt) | 0;
      var Dr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Dr >>> 26) | 0, Dr &= 67108863, d = Math.imul(mt, Tt), f = Math.imul(mt, Yt), f = f + Math.imul(Pt, Tt) | 0, _ = Math.imul(Pt, Yt), d = d + Math.imul(ut, Ft) | 0, f = f + Math.imul(ut, Vt) | 0, f = f + Math.imul(It, Ft) | 0, _ = _ + Math.imul(It, Vt) | 0, d = d + Math.imul(ft, Mt) | 0, f = f + Math.imul(ft, Lt) | 0, f = f + Math.imul(wt, Mt) | 0, _ = _ + Math.imul(wt, Lt) | 0, d = d + Math.imul(lt, St) | 0, f = f + Math.imul(lt, kt) | 0, f = f + Math.imul(yt, St) | 0, _ = _ + Math.imul(yt, kt) | 0, d = d + Math.imul(bt, Dt) | 0, f = f + Math.imul(bt, jt) | 0, f = f + Math.imul(Et, Dt) | 0, _ = _ + Math.imul(Et, jt) | 0, d = d + Math.imul(gt, Ct) | 0, f = f + Math.imul(gt, zt) | 0, f = f + Math.imul(_t, Ct) | 0, _ = _ + Math.imul(_t, zt) | 0, d = d + Math.imul(it, xt) | 0, f = f + Math.imul(it, qt) | 0, f = f + Math.imul(et, xt) | 0, _ = _ + Math.imul(et, qt) | 0, d = d + Math.imul(x, Nt) | 0, f = f + Math.imul(x, Xt) | 0, f = f + Math.imul(T, Nt) | 0, _ = _ + Math.imul(T, Xt) | 0, d = d + Math.imul(O, Ht) | 0, f = f + Math.imul(O, Gt) | 0, f = f + Math.imul(B, Ht) | 0, _ = _ + Math.imul(B, Gt) | 0;
      var Cr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Cr >>> 26) | 0, Cr &= 67108863, d = Math.imul(mt, Ft), f = Math.imul(mt, Vt), f = f + Math.imul(Pt, Ft) | 0, _ = Math.imul(Pt, Vt), d = d + Math.imul(ut, Mt) | 0, f = f + Math.imul(ut, Lt) | 0, f = f + Math.imul(It, Mt) | 0, _ = _ + Math.imul(It, Lt) | 0, d = d + Math.imul(ft, St) | 0, f = f + Math.imul(ft, kt) | 0, f = f + Math.imul(wt, St) | 0, _ = _ + Math.imul(wt, kt) | 0, d = d + Math.imul(lt, Dt) | 0, f = f + Math.imul(lt, jt) | 0, f = f + Math.imul(yt, Dt) | 0, _ = _ + Math.imul(yt, jt) | 0, d = d + Math.imul(bt, Ct) | 0, f = f + Math.imul(bt, zt) | 0, f = f + Math.imul(Et, Ct) | 0, _ = _ + Math.imul(Et, zt) | 0, d = d + Math.imul(gt, xt) | 0, f = f + Math.imul(gt, qt) | 0, f = f + Math.imul(_t, xt) | 0, _ = _ + Math.imul(_t, qt) | 0, d = d + Math.imul(it, Nt) | 0, f = f + Math.imul(it, Xt) | 0, f = f + Math.imul(et, Nt) | 0, _ = _ + Math.imul(et, Xt) | 0, d = d + Math.imul(x, Ht) | 0, f = f + Math.imul(x, Gt) | 0, f = f + Math.imul(T, Ht) | 0, _ = _ + Math.imul(T, Gt) | 0;
      var pr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (pr >>> 26) | 0, pr &= 67108863, d = Math.imul(mt, Mt), f = Math.imul(mt, Lt), f = f + Math.imul(Pt, Mt) | 0, _ = Math.imul(Pt, Lt), d = d + Math.imul(ut, St) | 0, f = f + Math.imul(ut, kt) | 0, f = f + Math.imul(It, St) | 0, _ = _ + Math.imul(It, kt) | 0, d = d + Math.imul(ft, Dt) | 0, f = f + Math.imul(ft, jt) | 0, f = f + Math.imul(wt, Dt) | 0, _ = _ + Math.imul(wt, jt) | 0, d = d + Math.imul(lt, Ct) | 0, f = f + Math.imul(lt, zt) | 0, f = f + Math.imul(yt, Ct) | 0, _ = _ + Math.imul(yt, zt) | 0, d = d + Math.imul(bt, xt) | 0, f = f + Math.imul(bt, qt) | 0, f = f + Math.imul(Et, xt) | 0, _ = _ + Math.imul(Et, qt) | 0, d = d + Math.imul(gt, Nt) | 0, f = f + Math.imul(gt, Xt) | 0, f = f + Math.imul(_t, Nt) | 0, _ = _ + Math.imul(_t, Xt) | 0, d = d + Math.imul(it, Ht) | 0, f = f + Math.imul(it, Gt) | 0, f = f + Math.imul(et, Ht) | 0, _ = _ + Math.imul(et, Gt) | 0;
      var Er = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Er >>> 26) | 0, Er &= 67108863, d = Math.imul(mt, St), f = Math.imul(mt, kt), f = f + Math.imul(Pt, St) | 0, _ = Math.imul(Pt, kt), d = d + Math.imul(ut, Dt) | 0, f = f + Math.imul(ut, jt) | 0, f = f + Math.imul(It, Dt) | 0, _ = _ + Math.imul(It, jt) | 0, d = d + Math.imul(ft, Ct) | 0, f = f + Math.imul(ft, zt) | 0, f = f + Math.imul(wt, Ct) | 0, _ = _ + Math.imul(wt, zt) | 0, d = d + Math.imul(lt, xt) | 0, f = f + Math.imul(lt, qt) | 0, f = f + Math.imul(yt, xt) | 0, _ = _ + Math.imul(yt, qt) | 0, d = d + Math.imul(bt, Nt) | 0, f = f + Math.imul(bt, Xt) | 0, f = f + Math.imul(Et, Nt) | 0, _ = _ + Math.imul(Et, Xt) | 0, d = d + Math.imul(gt, Ht) | 0, f = f + Math.imul(gt, Gt) | 0, f = f + Math.imul(_t, Ht) | 0, _ = _ + Math.imul(_t, Gt) | 0;
      var Mr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Mr >>> 26) | 0, Mr &= 67108863, d = Math.imul(mt, Dt), f = Math.imul(mt, jt), f = f + Math.imul(Pt, Dt) | 0, _ = Math.imul(Pt, jt), d = d + Math.imul(ut, Ct) | 0, f = f + Math.imul(ut, zt) | 0, f = f + Math.imul(It, Ct) | 0, _ = _ + Math.imul(It, zt) | 0, d = d + Math.imul(ft, xt) | 0, f = f + Math.imul(ft, qt) | 0, f = f + Math.imul(wt, xt) | 0, _ = _ + Math.imul(wt, qt) | 0, d = d + Math.imul(lt, Nt) | 0, f = f + Math.imul(lt, Xt) | 0, f = f + Math.imul(yt, Nt) | 0, _ = _ + Math.imul(yt, Xt) | 0, d = d + Math.imul(bt, Ht) | 0, f = f + Math.imul(bt, Gt) | 0, f = f + Math.imul(Et, Ht) | 0, _ = _ + Math.imul(Et, Gt) | 0;
      var Ze = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ze >>> 26) | 0, Ze &= 67108863, d = Math.imul(mt, Ct), f = Math.imul(mt, zt), f = f + Math.imul(Pt, Ct) | 0, _ = Math.imul(Pt, zt), d = d + Math.imul(ut, xt) | 0, f = f + Math.imul(ut, qt) | 0, f = f + Math.imul(It, xt) | 0, _ = _ + Math.imul(It, qt) | 0, d = d + Math.imul(ft, Nt) | 0, f = f + Math.imul(ft, Xt) | 0, f = f + Math.imul(wt, Nt) | 0, _ = _ + Math.imul(wt, Xt) | 0, d = d + Math.imul(lt, Ht) | 0, f = f + Math.imul(lt, Gt) | 0, f = f + Math.imul(yt, Ht) | 0, _ = _ + Math.imul(yt, Gt) | 0;
      var Nr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Nr >>> 26) | 0, Nr &= 67108863, d = Math.imul(mt, xt), f = Math.imul(mt, qt), f = f + Math.imul(Pt, xt) | 0, _ = Math.imul(Pt, qt), d = d + Math.imul(ut, Nt) | 0, f = f + Math.imul(ut, Xt) | 0, f = f + Math.imul(It, Nt) | 0, _ = _ + Math.imul(It, Xt) | 0, d = d + Math.imul(ft, Ht) | 0, f = f + Math.imul(ft, Gt) | 0, f = f + Math.imul(wt, Ht) | 0, _ = _ + Math.imul(wt, Gt) | 0;
      var Pr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Pr >>> 26) | 0, Pr &= 67108863, d = Math.imul(mt, Nt), f = Math.imul(mt, Xt), f = f + Math.imul(Pt, Nt) | 0, _ = Math.imul(Pt, Xt), d = d + Math.imul(ut, Ht) | 0, f = f + Math.imul(ut, Gt) | 0, f = f + Math.imul(It, Ht) | 0, _ = _ + Math.imul(It, Gt) | 0;
      var Rr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Rr >>> 26) | 0, Rr &= 67108863, d = Math.imul(mt, Ht), f = Math.imul(mt, Gt), f = f + Math.imul(Pt, Ht) | 0, _ = Math.imul(Pt, Gt);
      var pi = (E + d | 0) + ((f & 8191) << 13) | 0;
      return E = (_ + (f >>> 13) | 0) + (pi >>> 26) | 0, pi &= 67108863, M[0] = ze, M[1] = $e, M[2] = He, M[3] = je, M[4] = Ke, M[5] = Ie, M[6] = lr, M[7] = Ir, M[8] = dr, M[9] = Dr, M[10] = Cr, M[11] = pr, M[12] = Er, M[13] = Mr, M[14] = Ze, M[15] = Nr, M[16] = Pr, M[17] = Rr, M[18] = pi, E !== 0 && (M[19] = E, c.length++), c;
    };
    Math.imul || (Q = V);
    function W(o, h, c) {
      c.negative = h.negative ^ o.negative, c.length = o.length + h.length;
      for (var v = 0, y = 0, M = 0; M < c.length - 1; M++) {
        var E = y;
        y = 0;
        for (var d = v & 67108863, f = Math.min(M, h.length - 1), _ = Math.max(0, M - o.length + 1); _ <= f; _++) {
          var Y = M - _, X = o.words[Y] | 0, g = h.words[_] | 0, F = X * g, O = F & 67108863;
          E = E + (F / 67108864 | 0) | 0, O = O + d | 0, d = O & 67108863, E = E + (O >>> 26) | 0, y += E >>> 26, E &= 67108863;
        }
        c.words[M] = d, v = E, E = y;
      }
      return v !== 0 ? c.words[M] = v : c.length--, c._strip();
    }
    function $(o, h, c) {
      return W(o, h, c);
    }
    s.prototype.mulTo = function(o, h) {
      var c, v = this.length + o.length;
      return this.length === 10 && o.length === 10 ? c = Q(this, o, h) : v < 63 ? c = V(this, o, h) : v < 1024 ? c = W(this, o, h) : c = $(this, o, h), c;
    }, s.prototype.mul = function(o) {
      var h = new s(null);
      return h.words = new Array(this.length + o.length), this.mulTo(o, h);
    }, s.prototype.mulf = function(o) {
      var h = new s(null);
      return h.words = new Array(this.length + o.length), $(this, o, h);
    }, s.prototype.imul = function(o) {
      return this.clone().mulTo(o, this);
    }, s.prototype.imuln = function(o) {
      var h = o < 0;
      h && (o = -o), i(typeof o == "number"), i(o < 67108864);
      for (var c = 0, v = 0; v < this.length; v++) {
        var y = (this.words[v] | 0) * o, M = (y & 67108863) + (c & 67108863);
        c >>= 26, c += y / 67108864 | 0, c += M >>> 26, this.words[v] = M & 67108863;
      }
      return c !== 0 && (this.words[v] = c, this.length++), h ? this.ineg() : this;
    }, s.prototype.muln = function(o) {
      return this.clone().imuln(o);
    }, s.prototype.sqr = function() {
      return this.mul(this);
    }, s.prototype.isqr = function() {
      return this.imul(this.clone());
    }, s.prototype.pow = function(o) {
      var h = z(o);
      if (h.length === 0)
        return new s(1);
      for (var c = this, v = 0; v < h.length && h[v] === 0; v++, c = c.sqr())
        ;
      if (++v < h.length)
        for (var y = c.sqr(); v < h.length; v++, y = y.sqr())
          h[v] !== 0 && (c = c.mul(y));
      return c;
    }, s.prototype.iushln = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = o % 26, c = (o - h) / 26, v = 67108863 >>> 26 - h << 26 - h, y;
      if (h !== 0) {
        var M = 0;
        for (y = 0; y < this.length; y++) {
          var E = this.words[y] & v, d = (this.words[y] | 0) - E << h;
          this.words[y] = d | M, M = E >>> 26 - h;
        }
        M && (this.words[y] = M, this.length++);
      }
      if (c !== 0) {
        for (y = this.length - 1; y >= 0; y--)
          this.words[y + c] = this.words[y];
        for (y = 0; y < c; y++)
          this.words[y] = 0;
        this.length += c;
      }
      return this._strip();
    }, s.prototype.ishln = function(o) {
      return i(this.negative === 0), this.iushln(o);
    }, s.prototype.iushrn = function(o, h, c) {
      i(typeof o == "number" && o >= 0);
      var v;
      h ? v = (h - h % 26) / 26 : v = 0;
      var y = o % 26, M = Math.min((o - y) / 26, this.length), E = 67108863 ^ 67108863 >>> y << y, d = c;
      if (v -= M, v = Math.max(0, v), d) {
        for (var f = 0; f < M; f++)
          d.words[f] = this.words[f];
        d.length = M;
      }
      if (M !== 0)
        if (this.length > M)
          for (this.length -= M, f = 0; f < this.length; f++)
            this.words[f] = this.words[f + M];
        else
          this.words[0] = 0, this.length = 1;
      var _ = 0;
      for (f = this.length - 1; f >= 0 && (_ !== 0 || f >= v); f--) {
        var Y = this.words[f] | 0;
        this.words[f] = _ << 26 - y | Y >>> y, _ = Y & E;
      }
      return d && _ !== 0 && (d.words[d.length++] = _), this.length === 0 && (this.words[0] = 0, this.length = 1), this._strip();
    }, s.prototype.ishrn = function(o, h, c) {
      return i(this.negative === 0), this.iushrn(o, h, c);
    }, s.prototype.shln = function(o) {
      return this.clone().ishln(o);
    }, s.prototype.ushln = function(o) {
      return this.clone().iushln(o);
    }, s.prototype.shrn = function(o) {
      return this.clone().ishrn(o);
    }, s.prototype.ushrn = function(o) {
      return this.clone().iushrn(o);
    }, s.prototype.testn = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = o % 26, c = (o - h) / 26, v = 1 << h;
      if (this.length <= c)
        return !1;
      var y = this.words[c];
      return !!(y & v);
    }, s.prototype.imaskn = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = o % 26, c = (o - h) / 26;
      if (i(this.negative === 0, "imaskn works only with positive numbers"), this.length <= c)
        return this;
      if (h !== 0 && c++, this.length = Math.min(c, this.length), h !== 0) {
        var v = 67108863 ^ 67108863 >>> h << h;
        this.words[this.length - 1] &= v;
      }
      return this._strip();
    }, s.prototype.maskn = function(o) {
      return this.clone().imaskn(o);
    }, s.prototype.iaddn = function(o) {
      return i(typeof o == "number"), i(o < 67108864), o < 0 ? this.isubn(-o) : this.negative !== 0 ? this.length === 1 && (this.words[0] | 0) <= o ? (this.words[0] = o - (this.words[0] | 0), this.negative = 0, this) : (this.negative = 0, this.isubn(o), this.negative = 1, this) : this._iaddn(o);
    }, s.prototype._iaddn = function(o) {
      this.words[0] += o;
      for (var h = 0; h < this.length && this.words[h] >= 67108864; h++)
        this.words[h] -= 67108864, h === this.length - 1 ? this.words[h + 1] = 1 : this.words[h + 1]++;
      return this.length = Math.max(this.length, h + 1), this;
    }, s.prototype.isubn = function(o) {
      if (i(typeof o == "number"), i(o < 67108864), o < 0)
        return this.iaddn(-o);
      if (this.negative !== 0)
        return this.negative = 0, this.iaddn(o), this.negative = 1, this;
      if (this.words[0] -= o, this.length === 1 && this.words[0] < 0)
        this.words[0] = -this.words[0], this.negative = 1;
      else
        for (var h = 0; h < this.length && this.words[h] < 0; h++)
          this.words[h] += 67108864, this.words[h + 1] -= 1;
      return this._strip();
    }, s.prototype.addn = function(o) {
      return this.clone().iaddn(o);
    }, s.prototype.subn = function(o) {
      return this.clone().isubn(o);
    }, s.prototype.iabs = function() {
      return this.negative = 0, this;
    }, s.prototype.abs = function() {
      return this.clone().iabs();
    }, s.prototype._ishlnsubmul = function(o, h, c) {
      var v = o.length + c, y;
      this._expand(v);
      var M, E = 0;
      for (y = 0; y < o.length; y++) {
        M = (this.words[y + c] | 0) + E;
        var d = (o.words[y] | 0) * h;
        M -= d & 67108863, E = (M >> 26) - (d / 67108864 | 0), this.words[y + c] = M & 67108863;
      }
      for (; y < this.length - c; y++)
        M = (this.words[y + c] | 0) + E, E = M >> 26, this.words[y + c] = M & 67108863;
      if (E === 0)
        return this._strip();
      for (i(E === -1), E = 0, y = 0; y < this.length; y++)
        M = -(this.words[y] | 0) + E, E = M >> 26, this.words[y] = M & 67108863;
      return this.negative = 1, this._strip();
    }, s.prototype._wordDiv = function(o, h) {
      var c = this.length - o.length, v = this.clone(), y = o, M = y.words[y.length - 1] | 0, E = this._countBits(M);
      c = 26 - E, c !== 0 && (y = y.ushln(c), v.iushln(c), M = y.words[y.length - 1] | 0);
      var d = v.length - y.length, f;
      if (h !== "mod") {
        f = new s(null), f.length = d + 1, f.words = new Array(f.length);
        for (var _ = 0; _ < f.length; _++)
          f.words[_] = 0;
      }
      var Y = v.clone()._ishlnsubmul(y, 1, d);
      Y.negative === 0 && (v = Y, f && (f.words[d] = 1));
      for (var X = d - 1; X >= 0; X--) {
        var g = (v.words[y.length + X] | 0) * 67108864 + (v.words[y.length + X - 1] | 0);
        for (g = Math.min(g / M | 0, 67108863), v._ishlnsubmul(y, g, X); v.negative !== 0; )
          g--, v.negative = 0, v._ishlnsubmul(y, 1, X), v.isZero() || (v.negative ^= 1);
        f && (f.words[X] = g);
      }
      return f && f._strip(), v._strip(), h !== "div" && c !== 0 && v.iushrn(c), { div: f || null, mod: v };
    }, s.prototype.divmod = function(o, h, c) {
      if (i(!o.isZero()), this.isZero())
        return { div: new s(0), mod: new s(0) };
      var v, y, M;
      return this.negative !== 0 && o.negative === 0 ? (M = this.neg().divmod(o, h), h !== "mod" && (v = M.div.neg()), h !== "div" && (y = M.mod.neg(), c && y.negative !== 0 && y.iadd(o)), { div: v, mod: y }) : this.negative === 0 && o.negative !== 0 ? (M = this.divmod(o.neg(), h), h !== "mod" && (v = M.div.neg()), { div: v, mod: M.mod }) : this.negative & o.negative ? (M = this.neg().divmod(o.neg(), h), h !== "div" && (y = M.mod.neg(), c && y.negative !== 0 && y.isub(o)), { div: M.div, mod: y }) : o.length > this.length || this.cmp(o) < 0 ? { div: new s(0), mod: this } : o.length === 1 ? h === "div" ? { div: this.divn(o.words[0]), mod: null } : h === "mod" ? { div: null, mod: new s(this.modrn(o.words[0])) } : { div: this.divn(o.words[0]), mod: new s(this.modrn(o.words[0])) } : this._wordDiv(o, h);
    }, s.prototype.div = function(o) {
      return this.divmod(o, "div", !1).div;
    }, s.prototype.mod = function(o) {
      return this.divmod(o, "mod", !1).mod;
    }, s.prototype.umod = function(o) {
      return this.divmod(o, "mod", !0).mod;
    }, s.prototype.divRound = function(o) {
      var h = this.divmod(o);
      if (h.mod.isZero())
        return h.div;
      var c = h.div.negative !== 0 ? h.mod.isub(o) : h.mod, v = o.ushrn(1), y = o.andln(1), M = c.cmp(v);
      return M < 0 || y === 1 && M === 0 ? h.div : h.div.negative !== 0 ? h.div.isubn(1) : h.div.iaddn(1);
    }, s.prototype.modrn = function(o) {
      var h = o < 0;
      h && (o = -o), i(o <= 67108863);
      for (var c = (1 << 26) % o, v = 0, y = this.length - 1; y >= 0; y--)
        v = (c * v + (this.words[y] | 0)) % o;
      return h ? -v : v;
    }, s.prototype.modn = function(o) {
      return this.modrn(o);
    }, s.prototype.idivn = function(o) {
      var h = o < 0;
      h && (o = -o), i(o <= 67108863);
      for (var c = 0, v = this.length - 1; v >= 0; v--) {
        var y = (this.words[v] | 0) + c * 67108864;
        this.words[v] = y / o | 0, c = y % o;
      }
      return this._strip(), h ? this.ineg() : this;
    }, s.prototype.divn = function(o) {
      return this.clone().idivn(o);
    }, s.prototype.egcd = function(o) {
      i(o.negative === 0), i(!o.isZero());
      var h = this, c = o.clone();
      h.negative !== 0 ? h = h.umod(o) : h = h.clone();
      for (var v = new s(1), y = new s(0), M = new s(0), E = new s(1), d = 0; h.isEven() && c.isEven(); )
        h.iushrn(1), c.iushrn(1), ++d;
      for (var f = c.clone(), _ = h.clone(); !h.isZero(); ) {
        for (var Y = 0, X = 1; !(h.words[0] & X) && Y < 26; ++Y, X <<= 1)
          ;
        if (Y > 0)
          for (h.iushrn(Y); Y-- > 0; )
            (v.isOdd() || y.isOdd()) && (v.iadd(f), y.isub(_)), v.iushrn(1), y.iushrn(1);
        for (var g = 0, F = 1; !(c.words[0] & F) && g < 26; ++g, F <<= 1)
          ;
        if (g > 0)
          for (c.iushrn(g); g-- > 0; )
            (M.isOdd() || E.isOdd()) && (M.iadd(f), E.isub(_)), M.iushrn(1), E.iushrn(1);
        h.cmp(c) >= 0 ? (h.isub(c), v.isub(M), y.isub(E)) : (c.isub(h), M.isub(v), E.isub(y));
      }
      return { a: M, b: E, gcd: c.iushln(d) };
    }, s.prototype._invmp = function(o) {
      i(o.negative === 0), i(!o.isZero());
      var h = this, c = o.clone();
      h.negative !== 0 ? h = h.umod(o) : h = h.clone();
      for (var v = new s(1), y = new s(0), M = c.clone(); h.cmpn(1) > 0 && c.cmpn(1) > 0; ) {
        for (var E = 0, d = 1; !(h.words[0] & d) && E < 26; ++E, d <<= 1)
          ;
        if (E > 0)
          for (h.iushrn(E); E-- > 0; )
            v.isOdd() && v.iadd(M), v.iushrn(1);
        for (var f = 0, _ = 1; !(c.words[0] & _) && f < 26; ++f, _ <<= 1)
          ;
        if (f > 0)
          for (c.iushrn(f); f-- > 0; )
            y.isOdd() && y.iadd(M), y.iushrn(1);
        h.cmp(c) >= 0 ? (h.isub(c), v.isub(y)) : (c.isub(h), y.isub(v));
      }
      var Y;
      return h.cmpn(1) === 0 ? Y = v : Y = y, Y.cmpn(0) < 0 && Y.iadd(o), Y;
    }, s.prototype.gcd = function(o) {
      if (this.isZero())
        return o.abs();
      if (o.isZero())
        return this.abs();
      var h = this.clone(), c = o.clone();
      h.negative = 0, c.negative = 0;
      for (var v = 0; h.isEven() && c.isEven(); v++)
        h.iushrn(1), c.iushrn(1);
      do {
        for (; h.isEven(); )
          h.iushrn(1);
        for (; c.isEven(); )
          c.iushrn(1);
        var y = h.cmp(c);
        if (y < 0) {
          var M = h;
          h = c, c = M;
        } else if (y === 0 || c.cmpn(1) === 0)
          break;
        h.isub(c);
      } while (!0);
      return c.iushln(v);
    }, s.prototype.invm = function(o) {
      return this.egcd(o).a.umod(o);
    }, s.prototype.isEven = function() {
      return (this.words[0] & 1) === 0;
    }, s.prototype.isOdd = function() {
      return (this.words[0] & 1) === 1;
    }, s.prototype.andln = function(o) {
      return this.words[0] & o;
    }, s.prototype.bincn = function(o) {
      i(typeof o == "number");
      var h = o % 26, c = (o - h) / 26, v = 1 << h;
      if (this.length <= c)
        return this._expand(c + 1), this.words[c] |= v, this;
      for (var y = v, M = c; y !== 0 && M < this.length; M++) {
        var E = this.words[M] | 0;
        E += y, y = E >>> 26, E &= 67108863, this.words[M] = E;
      }
      return y !== 0 && (this.words[M] = y, this.length++), this;
    }, s.prototype.isZero = function() {
      return this.length === 1 && this.words[0] === 0;
    }, s.prototype.cmpn = function(o) {
      var h = o < 0;
      if (this.negative !== 0 && !h)
        return -1;
      if (this.negative === 0 && h)
        return 1;
      this._strip();
      var c;
      if (this.length > 1)
        c = 1;
      else {
        h && (o = -o), i(o <= 67108863, "Number is too big");
        var v = this.words[0] | 0;
        c = v === o ? 0 : v < o ? -1 : 1;
      }
      return this.negative !== 0 ? -c | 0 : c;
    }, s.prototype.cmp = function(o) {
      if (this.negative !== 0 && o.negative === 0)
        return -1;
      if (this.negative === 0 && o.negative !== 0)
        return 1;
      var h = this.ucmp(o);
      return this.negative !== 0 ? -h | 0 : h;
    }, s.prototype.ucmp = function(o) {
      if (this.length > o.length)
        return 1;
      if (this.length < o.length)
        return -1;
      for (var h = 0, c = this.length - 1; c >= 0; c--) {
        var v = this.words[c] | 0, y = o.words[c] | 0;
        if (v !== y) {
          v < y ? h = -1 : v > y && (h = 1);
          break;
        }
      }
      return h;
    }, s.prototype.gtn = function(o) {
      return this.cmpn(o) === 1;
    }, s.prototype.gt = function(o) {
      return this.cmp(o) === 1;
    }, s.prototype.gten = function(o) {
      return this.cmpn(o) >= 0;
    }, s.prototype.gte = function(o) {
      return this.cmp(o) >= 0;
    }, s.prototype.ltn = function(o) {
      return this.cmpn(o) === -1;
    }, s.prototype.lt = function(o) {
      return this.cmp(o) === -1;
    }, s.prototype.lten = function(o) {
      return this.cmpn(o) <= 0;
    }, s.prototype.lte = function(o) {
      return this.cmp(o) <= 0;
    }, s.prototype.eqn = function(o) {
      return this.cmpn(o) === 0;
    }, s.prototype.eq = function(o) {
      return this.cmp(o) === 0;
    }, s.red = function(o) {
      return new L(o);
    }, s.prototype.toRed = function(o) {
      return i(!this.red, "Already a number in reduction context"), i(this.negative === 0, "red works only with positives"), o.convertTo(this)._forceRed(o);
    }, s.prototype.fromRed = function() {
      return i(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this);
    }, s.prototype._forceRed = function(o) {
      return this.red = o, this;
    }, s.prototype.forceRed = function(o) {
      return i(!this.red, "Already a number in reduction context"), this._forceRed(o);
    }, s.prototype.redAdd = function(o) {
      return i(this.red, "redAdd works only with red numbers"), this.red.add(this, o);
    }, s.prototype.redIAdd = function(o) {
      return i(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, o);
    }, s.prototype.redSub = function(o) {
      return i(this.red, "redSub works only with red numbers"), this.red.sub(this, o);
    }, s.prototype.redISub = function(o) {
      return i(this.red, "redISub works only with red numbers"), this.red.isub(this, o);
    }, s.prototype.redShl = function(o) {
      return i(this.red, "redShl works only with red numbers"), this.red.shl(this, o);
    }, s.prototype.redMul = function(o) {
      return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, o), this.red.mul(this, o);
    }, s.prototype.redIMul = function(o) {
      return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, o), this.red.imul(this, o);
    }, s.prototype.redSqr = function() {
      return i(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this);
    }, s.prototype.redISqr = function() {
      return i(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this);
    }, s.prototype.redSqrt = function() {
      return i(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this);
    }, s.prototype.redInvm = function() {
      return i(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this);
    }, s.prototype.redNeg = function() {
      return i(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this);
    }, s.prototype.redPow = function(o) {
      return i(this.red && !o.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, o);
    };
    var j = { k256: null, p224: null, p192: null, p25519: null };
    function K(o, h) {
      this.name = o, this.p = new s(h, 16), this.n = this.p.bitLength(), this.k = new s(1).iushln(this.n).isub(this.p), this.tmp = this._tmp();
    }
    K.prototype._tmp = function() {
      var o = new s(null);
      return o.words = new Array(Math.ceil(this.n / 13)), o;
    }, K.prototype.ireduce = function(o) {
      var h = o, c;
      do
        this.split(h, this.tmp), h = this.imulK(h), h = h.iadd(this.tmp), c = h.bitLength();
      while (c > this.n);
      var v = c < this.n ? -1 : h.ucmp(this.p);
      return v === 0 ? (h.words[0] = 0, h.length = 1) : v > 0 ? h.isub(this.p) : h.strip !== void 0 ? h.strip() : h._strip(), h;
    }, K.prototype.split = function(o, h) {
      o.iushrn(this.n, 0, h);
    }, K.prototype.imulK = function(o) {
      return o.imul(this.k);
    };
    function N() {
      K.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f");
    }
    n(N, K), N.prototype.split = function(o, h) {
      for (var c = 4194303, v = Math.min(o.length, 9), y = 0; y < v; y++)
        h.words[y] = o.words[y];
      if (h.length = v, o.length <= 9) {
        o.words[0] = 0, o.length = 1;
        return;
      }
      var M = o.words[9];
      for (h.words[h.length++] = M & c, y = 10; y < o.length; y++) {
        var E = o.words[y] | 0;
        o.words[y - 10] = (E & c) << 4 | M >>> 22, M = E;
      }
      M >>>= 22, o.words[y - 10] = M, M === 0 && o.length > 10 ? o.length -= 10 : o.length -= 9;
    }, N.prototype.imulK = function(o) {
      o.words[o.length] = 0, o.words[o.length + 1] = 0, o.length += 2;
      for (var h = 0, c = 0; c < o.length; c++) {
        var v = o.words[c] | 0;
        h += v * 977, o.words[c] = h & 67108863, h = v * 64 + (h / 67108864 | 0);
      }
      return o.words[o.length - 1] === 0 && (o.length--, o.words[o.length - 1] === 0 && o.length--), o;
    };
    function H() {
      K.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001");
    }
    n(H, K);
    function st() {
      K.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff");
    }
    n(st, K);
    function ct() {
      K.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed");
    }
    n(ct, K), ct.prototype.imulK = function(o) {
      for (var h = 0, c = 0; c < o.length; c++) {
        var v = (o.words[c] | 0) * 19 + h, y = v & 67108863;
        v >>>= 26, o.words[c] = y, h = v;
      }
      return h !== 0 && (o.words[o.length++] = h), o;
    }, s._prime = function(o) {
      if (j[o])
        return j[o];
      var h;
      if (o === "k256")
        h = new N();
      else if (o === "p224")
        h = new H();
      else if (o === "p192")
        h = new st();
      else if (o === "p25519")
        h = new ct();
      else
        throw new Error("Unknown prime " + o);
      return j[o] = h, h;
    };
    function L(o) {
      if (typeof o == "string") {
        var h = s._prime(o);
        this.m = h.p, this.prime = h;
      } else
        i(o.gtn(1), "modulus must be greater than 1"), this.m = o, this.prime = null;
    }
    L.prototype._verify1 = function(o) {
      i(o.negative === 0, "red works only with positives"), i(o.red, "red works only with red numbers");
    }, L.prototype._verify2 = function(o, h) {
      i((o.negative | h.negative) === 0, "red works only with positives"), i(o.red && o.red === h.red, "red works only with red numbers");
    }, L.prototype.imod = function(o) {
      return this.prime ? this.prime.ireduce(o)._forceRed(this) : (w(o, o.umod(this.m)._forceRed(this)), o);
    }, L.prototype.neg = function(o) {
      return o.isZero() ? o.clone() : this.m.sub(o)._forceRed(this);
    }, L.prototype.add = function(o, h) {
      this._verify2(o, h);
      var c = o.add(h);
      return c.cmp(this.m) >= 0 && c.isub(this.m), c._forceRed(this);
    }, L.prototype.iadd = function(o, h) {
      this._verify2(o, h);
      var c = o.iadd(h);
      return c.cmp(this.m) >= 0 && c.isub(this.m), c;
    }, L.prototype.sub = function(o, h) {
      this._verify2(o, h);
      var c = o.sub(h);
      return c.cmpn(0) < 0 && c.iadd(this.m), c._forceRed(this);
    }, L.prototype.isub = function(o, h) {
      this._verify2(o, h);
      var c = o.isub(h);
      return c.cmpn(0) < 0 && c.iadd(this.m), c;
    }, L.prototype.shl = function(o, h) {
      return this._verify1(o), this.imod(o.ushln(h));
    }, L.prototype.imul = function(o, h) {
      return this._verify2(o, h), this.imod(o.imul(h));
    }, L.prototype.mul = function(o, h) {
      return this._verify2(o, h), this.imod(o.mul(h));
    }, L.prototype.isqr = function(o) {
      return this.imul(o, o.clone());
    }, L.prototype.sqr = function(o) {
      return this.mul(o, o);
    }, L.prototype.sqrt = function(o) {
      if (o.isZero())
        return o.clone();
      var h = this.m.andln(3);
      if (i(h % 2 === 1), h === 3) {
        var c = this.m.add(new s(1)).iushrn(2);
        return this.pow(o, c);
      }
      for (var v = this.m.subn(1), y = 0; !v.isZero() && v.andln(1) === 0; )
        y++, v.iushrn(1);
      i(!v.isZero());
      var M = new s(1).toRed(this), E = M.redNeg(), d = this.m.subn(1).iushrn(1), f = this.m.bitLength();
      for (f = new s(2 * f * f).toRed(this); this.pow(f, d).cmp(E) !== 0; )
        f.redIAdd(E);
      for (var _ = this.pow(f, v), Y = this.pow(o, v.addn(1).iushrn(1)), X = this.pow(o, v), g = y; X.cmp(M) !== 0; ) {
        for (var F = X, O = 0; F.cmp(M) !== 0; O++)
          F = F.redSqr();
        i(O < g);
        var B = this.pow(_, new s(1).iushln(g - O - 1));
        Y = Y.redMul(B), _ = B.redSqr(), X = X.redMul(_), g = O;
      }
      return Y;
    }, L.prototype.invm = function(o) {
      var h = o._invmp(this.m);
      return h.negative !== 0 ? (h.negative = 0, this.imod(h).redNeg()) : this.imod(h);
    }, L.prototype.pow = function(o, h) {
      if (h.isZero())
        return new s(1).toRed(this);
      if (h.cmpn(1) === 0)
        return o.clone();
      var c = 4, v = new Array(1 << c);
      v[0] = new s(1).toRed(this), v[1] = o;
      for (var y = 2; y < v.length; y++)
        v[y] = this.mul(v[y - 1], o);
      var M = v[0], E = 0, d = 0, f = h.bitLength() % 26;
      for (f === 0 && (f = 26), y = h.length - 1; y >= 0; y--) {
        for (var _ = h.words[y], Y = f - 1; Y >= 0; Y--) {
          var X = _ >> Y & 1;
          if (M !== v[0] && (M = this.sqr(M)), X === 0 && E === 0) {
            d = 0;
            continue;
          }
          E <<= 1, E |= X, d++, !(d !== c && (y !== 0 || Y !== 0)) && (M = this.mul(M, v[E]), d = 0, E = 0);
        }
        f = 26;
      }
      return M;
    }, L.prototype.convertTo = function(o) {
      var h = o.umod(this.m);
      return h === o ? h.clone() : h;
    }, L.prototype.convertFrom = function(o) {
      var h = o.clone();
      return h.red = null, h;
    }, s.mont = function(o) {
      return new I(o);
    };
    function I(o) {
      L.call(this, o), this.shift = this.m.bitLength(), this.shift % 26 !== 0 && (this.shift += 26 - this.shift % 26), this.r = new s(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv);
    }
    n(I, L), I.prototype.convertTo = function(o) {
      return this.imod(o.ushln(this.shift));
    }, I.prototype.convertFrom = function(o) {
      var h = this.imod(o.mul(this.rinv));
      return h.red = null, h;
    }, I.prototype.imul = function(o, h) {
      if (o.isZero() || h.isZero())
        return o.words[0] = 0, o.length = 1, o;
      var c = o.imul(h), v = c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), y = c.isub(v).iushrn(this.shift), M = y;
      return y.cmp(this.m) >= 0 ? M = y.isub(this.m) : y.cmpn(0) < 0 && (M = y.iadd(this.m)), M._forceRed(this);
    }, I.prototype.mul = function(o, h) {
      if (o.isZero() || h.isZero())
        return new s(0)._forceRed(this);
      var c = o.mul(h), v = c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), y = c.isub(v).iushrn(this.shift), M = y;
      return y.cmp(this.m) >= 0 ? M = y.isub(this.m) : y.cmpn(0) < 0 && (M = y.iadd(this.m)), M._forceRed(this);
    }, I.prototype.invm = function(o) {
      var h = this.imod(o._invmp(this.m).mul(this.r2));
      return h._forceRed(this);
    };
  })(e, B8);
})(q8);
var Ee = q8.exports;
const L8 = "bignumber/5.7.0";
var _p = Ee.BN;
const wo = new ki(L8), c1 = {}, Ym = 9007199254740991;
function PR(e) {
  return e != null && (xi.isBigNumber(e) || typeof e == "number" && e % 1 === 0 || typeof e == "string" && !!e.match(/^-?[0-9]+$/) || Lh(e) || typeof e == "bigint" || Pu(e));
}
let Vm = !1, xi = class Jn {
  constructor(t, r) {
    t !== c1 && wo.throwError("cannot call constructor directly; use BigNumber.from", ki.errors.UNSUPPORTED_OPERATION, { operation: "new (BigNumber)" }), this._hex = r, this._isBigNumber = !0, Object.freeze(this);
  }
  fromTwos(t) {
    return Bi(Oe(this).fromTwos(t));
  }
  toTwos(t) {
    return Bi(Oe(this).toTwos(t));
  }
  abs() {
    return this._hex[0] === "-" ? Jn.from(this._hex.substring(1)) : this;
  }
  add(t) {
    return Bi(Oe(this).add(Oe(t)));
  }
  sub(t) {
    return Bi(Oe(this).sub(Oe(t)));
  }
  div(t) {
    return Jn.from(t).isZero() && vn("division-by-zero", "div"), Bi(Oe(this).div(Oe(t)));
  }
  mul(t) {
    return Bi(Oe(this).mul(Oe(t)));
  }
  mod(t) {
    const r = Oe(t);
    return r.isNeg() && vn("division-by-zero", "mod"), Bi(Oe(this).umod(r));
  }
  pow(t) {
    const r = Oe(t);
    return r.isNeg() && vn("negative-power", "pow"), Bi(Oe(this).pow(r));
  }
  and(t) {
    const r = Oe(t);
    return (this.isNegative() || r.isNeg()) && vn("unbound-bitwise-result", "and"), Bi(Oe(this).and(r));
  }
  or(t) {
    const r = Oe(t);
    return (this.isNegative() || r.isNeg()) && vn("unbound-bitwise-result", "or"), Bi(Oe(this).or(r));
  }
  xor(t) {
    const r = Oe(t);
    return (this.isNegative() || r.isNeg()) && vn("unbound-bitwise-result", "xor"), Bi(Oe(this).xor(r));
  }
  mask(t) {
    return (this.isNegative() || t < 0) && vn("negative-width", "mask"), Bi(Oe(this).maskn(t));
  }
  shl(t) {
    return (this.isNegative() || t < 0) && vn("negative-width", "shl"), Bi(Oe(this).shln(t));
  }
  shr(t) {
    return (this.isNegative() || t < 0) && vn("negative-width", "shr"), Bi(Oe(this).shrn(t));
  }
  eq(t) {
    return Oe(this).eq(Oe(t));
  }
  lt(t) {
    return Oe(this).lt(Oe(t));
  }
  lte(t) {
    return Oe(this).lte(Oe(t));
  }
  gt(t) {
    return Oe(this).gt(Oe(t));
  }
  gte(t) {
    return Oe(this).gte(Oe(t));
  }
  isNegative() {
    return this._hex[0] === "-";
  }
  isZero() {
    return Oe(this).isZero();
  }
  toNumber() {
    try {
      return Oe(this).toNumber();
    } catch {
      vn("overflow", "toNumber", this.toString());
    }
    return null;
  }
  toBigInt() {
    try {
      return BigInt(this.toString());
    } catch {
    }
    return wo.throwError("this platform does not support BigInt", ki.errors.UNSUPPORTED_OPERATION, { value: this.toString() });
  }
  toString() {
    return arguments.length > 0 && (arguments[0] === 10 ? Vm || (Vm = !0, wo.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")) : arguments[0] === 16 ? wo.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()", ki.errors.UNEXPECTED_ARGUMENT, {}) : wo.throwError("BigNumber.toString does not accept parameters", ki.errors.UNEXPECTED_ARGUMENT, {})), Oe(this).toString(10);
  }
  toHexString() {
    return this._hex;
  }
  toJSON(t) {
    return { type: "BigNumber", hex: this.toHexString() };
  }
  static from(t) {
    if (t instanceof Jn)
      return t;
    if (typeof t == "string")
      return t.match(/^-?0x[0-9a-f]+$/i) ? new Jn(c1, gu(t)) : t.match(/^-?[0-9]+$/) ? new Jn(c1, gu(new _p(t))) : wo.throwArgumentError("invalid BigNumber string", "value", t);
    if (typeof t == "number")
      return t % 1 && vn("underflow", "BigNumber.from", t), (t >= Ym || t <= -Ym) && vn("overflow", "BigNumber.from", t), Jn.from(String(t));
    const r = t;
    if (typeof r == "bigint")
      return Jn.from(r.toString());
    if (Pu(r))
      return Jn.from(U8(r));
    if (r)
      if (r.toHexString) {
        const i = r.toHexString();
        if (typeof i == "string")
          return Jn.from(i);
      } else {
        let i = r._hex;
        if (i == null && r.type === "BigNumber" && (i = r.hex), typeof i == "string" && (Lh(i) || i[0] === "-" && Lh(i.substring(1))))
          return Jn.from(i);
      }
    return wo.throwArgumentError("invalid BigNumber value", "value", t);
  }
  static isBigNumber(t) {
    return !!(t && t._isBigNumber);
  }
};
function gu(e) {
  if (typeof e != "string")
    return gu(e.toString(16));
  if (e[0] === "-")
    return e = e.substring(1), e[0] === "-" && wo.throwArgumentError("invalid hex", "value", e), e = gu(e), e === "0x00" ? e : "-" + e;
  if (e.substring(0, 2) !== "0x" && (e = "0x" + e), e === "0x")
    return "0x00";
  for (e.length % 2 && (e = "0x0" + e.substring(2)); e.length > 4 && e.substring(0, 4) === "0x00"; )
    e = "0x" + e.substring(4);
  return e;
}
function Bi(e) {
  return xi.from(gu(e));
}
function Oe(e) {
  const t = xi.from(e).toHexString();
  return t[0] === "-" ? new _p("-" + t.substring(3), 16) : new _p(t.substring(2), 16);
}
function vn(e, t, r) {
  const i = { fault: e, operation: t };
  return r != null && (i.value = r), wo.throwError(e, ki.errors.NUMERIC_FAULT, i);
}
const _i = new ki(L8), ru = {}, k8 = xi.from(0), z8 = xi.from(-1);
function $8(e, t, r, i) {
  const n = { fault: t, operation: r };
  return i !== void 0 && (n.value = i), _i.throwError(e, ki.errors.NUMERIC_FAULT, n);
}
let iu = "0";
for (; iu.length < 256; )
  iu += iu;
function l2(e) {
  if (typeof e != "number")
    try {
      e = xi.from(e).toNumber();
    } catch {
    }
  return typeof e == "number" && e >= 0 && e <= 256 && !(e % 1) ? "1" + iu.substring(0, e) : _i.throwArgumentError("invalid decimal size", "decimals", e);
}
function l1(e, t) {
  t == null && (t = 0);
  const r = l2(t);
  e = xi.from(e);
  const i = e.lt(k8);
  i && (e = e.mul(z8));
  let n = e.mod(r).toString();
  for (; n.length < r.length - 1; )
    n = "0" + n;
  n = n.match(/^([0-9]*[1-9]|0)(0*)/)[1];
  const s = e.div(r).toString();
  return r.length === 1 ? e = s : e = s + "." + n, i && (e = "-" + e), e;
}
function po(e, t) {
  t == null && (t = 0);
  const r = l2(t);
  (typeof e != "string" || !e.match(/^-?[0-9.]+$/)) && _i.throwArgumentError("invalid decimal value", "value", e);
  const i = e.substring(0, 1) === "-";
  i && (e = e.substring(1)), e === "." && _i.throwArgumentError("missing value", "value", e);
  const n = e.split(".");
  n.length > 2 && _i.throwArgumentError("too many decimal points", "value", e);
  let s = n[0], u = n[1];
  for (s || (s = "0"), u || (u = "0"); u[u.length - 1] === "0"; )
    u = u.substring(0, u.length - 1);
  for (u.length > r.length - 1 && $8("fractional component exceeds decimals", "underflow", "parseFixed"), u === "" && (u = "0"); u.length < r.length - 1; )
    u += "0";
  const p = xi.from(s), b = xi.from(u);
  let m = p.mul(r).add(b);
  return i && (m = m.mul(z8)), m;
}
let d1 = class Ep {
  constructor(t, r, i, n) {
    t !== ru && _i.throwError("cannot use FixedFormat constructor; use FixedFormat.from", ki.errors.UNSUPPORTED_OPERATION, { operation: "new FixedFormat" }), this.signed = r, this.width = i, this.decimals = n, this.name = (r ? "" : "u") + "fixed" + String(i) + "x" + String(n), this._multiplier = l2(n), Object.freeze(this);
  }
  static from(t) {
    if (t instanceof Ep)
      return t;
    typeof t == "number" && (t = `fixed128x${t}`);
    let r = !0, i = 128, n = 18;
    if (typeof t == "string") {
      if (t !== "fixed")
        if (t === "ufixed")
          r = !1;
        else {
          const s = t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);
          s || _i.throwArgumentError("invalid fixed format", "format", t), r = s[1] !== "u", i = parseInt(s[2]), n = parseInt(s[3]);
        }
    } else if (t) {
      const s = (u, p, b) => t[u] == null ? b : (typeof t[u] !== p && _i.throwArgumentError("invalid fixed format (" + u + " not " + p + ")", "format." + u, t[u]), t[u]);
      r = s("signed", "boolean", r), i = s("width", "number", i), n = s("decimals", "number", n);
    }
    return i % 8 && _i.throwArgumentError("invalid fixed format width (not byte aligned)", "format.width", i), n > 80 && _i.throwArgumentError("invalid fixed format (decimals too large)", "format.decimals", n), new Ep(ru, r, i, n);
  }
}, H8 = class wi {
  constructor(t, r, i, n) {
    t !== ru && _i.throwError("cannot use FixedNumber constructor; use FixedNumber.from", ki.errors.UNSUPPORTED_OPERATION, { operation: "new FixedFormat" }), this.format = n, this._hex = r, this._value = i, this._isFixedNumber = !0, Object.freeze(this);
  }
  _checkFormat(t) {
    this.format.name !== t.format.name && _i.throwArgumentError("incompatible format; use fixedNumber.toFormat", "other", t);
  }
  addUnsafe(t) {
    this._checkFormat(t);
    const r = po(this._value, this.format.decimals), i = po(t._value, t.format.decimals);
    return wi.fromValue(r.add(i), this.format.decimals, this.format);
  }
  subUnsafe(t) {
    this._checkFormat(t);
    const r = po(this._value, this.format.decimals), i = po(t._value, t.format.decimals);
    return wi.fromValue(r.sub(i), this.format.decimals, this.format);
  }
  mulUnsafe(t) {
    this._checkFormat(t);
    const r = po(this._value, this.format.decimals), i = po(t._value, t.format.decimals);
    return wi.fromValue(r.mul(i).div(this.format._multiplier), this.format.decimals, this.format);
  }
  divUnsafe(t) {
    this._checkFormat(t);
    const r = po(this._value, this.format.decimals), i = po(t._value, t.format.decimals);
    return wi.fromValue(r.mul(this.format._multiplier).div(i), this.format.decimals, this.format);
  }
  floor() {
    const t = this.toString().split(".");
    t.length === 1 && t.push("0");
    let r = wi.from(t[0], this.format);
    const i = !t[1].match(/^(0*)$/);
    return this.isNegative() && i && (r = r.subUnsafe(Wm.toFormat(r.format))), r;
  }
  ceiling() {
    const t = this.toString().split(".");
    t.length === 1 && t.push("0");
    let r = wi.from(t[0], this.format);
    const i = !t[1].match(/^(0*)$/);
    return !this.isNegative() && i && (r = r.addUnsafe(Wm.toFormat(r.format))), r;
  }
  round(t) {
    t == null && (t = 0);
    const r = this.toString().split(".");
    if (r.length === 1 && r.push("0"), (t < 0 || t > 80 || t % 1) && _i.throwArgumentError("invalid decimal count", "decimals", t), r[1].length <= t)
      return this;
    const i = wi.from("1" + iu.substring(0, t), this.format), n = RR.toFormat(this.format);
    return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i);
  }
  isZero() {
    return this._value === "0.0" || this._value === "0";
  }
  isNegative() {
    return this._value[0] === "-";
  }
  toString() {
    return this._value;
  }
  toHexString(t) {
    if (t == null)
      return this._hex;
    t % 8 && _i.throwArgumentError("invalid byte width", "width", t);
    const r = xi.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();
    return B0(r, t / 8);
  }
  toUnsafeFloat() {
    return parseFloat(this.toString());
  }
  toFormat(t) {
    return wi.fromString(this._value, t);
  }
  static fromValue(t, r, i) {
    return i == null && r != null && !PR(r) && (i = r, r = null), r == null && (r = 0), i == null && (i = "fixed"), wi.fromString(l1(t, r), d1.from(i));
  }
  static fromString(t, r) {
    r == null && (r = "fixed");
    const i = d1.from(r), n = po(t, i.decimals);
    !i.signed && n.lt(k8) && $8("unsigned value cannot be negative", "overflow", "value", t);
    let s = null;
    i.signed ? s = n.toTwos(i.width).toHexString() : (s = n.toHexString(), s = B0(s, i.width / 8));
    const u = l1(n, i.decimals);
    return new wi(ru, s, u, i);
  }
  static fromBytes(t, r) {
    r == null && (r = "fixed");
    const i = d1.from(r);
    if (F8(t).length > i.width / 8)
      throw new Error("overflow");
    let n = xi.from(t);
    i.signed && (n = n.fromTwos(i.width));
    const s = n.toTwos((i.signed ? 0 : 1) + i.width).toHexString(), u = l1(n, i.decimals);
    return new wi(ru, s, u, i);
  }
  static from(t, r) {
    if (typeof t == "string")
      return wi.fromString(t, r);
    if (Pu(t))
      return wi.fromBytes(t, r);
    try {
      return wi.fromValue(t, 0, r);
    } catch (i) {
      if (i.code !== ki.errors.INVALID_ARGUMENT)
        throw i;
    }
    return _i.throwArgumentError("invalid FixedNumber value", "value", t);
  }
  static isFixedNumber(t) {
    return !!(t && t._isFixedNumber);
  }
};
const Wm = H8.from(1), RR = H8.from("0.5");
var Xm;
(function(e) {
  e.current = "", e.NFC = "NFC", e.NFD = "NFD", e.NFKC = "NFKC", e.NFKD = "NFKD";
})(Xm || (Xm = {}));
var Zm;
(function(e) {
  e.UNEXPECTED_CONTINUE = "unexpected continuation byte", e.BAD_PREFIX = "bad codepoint prefix", e.OVERRUN = "string overrun", e.MISSING_CONTINUE = "missing continuation byte", e.OUT_OF_RANGE = "out of UTF-8 range", e.UTF16_SURROGATE = "UTF-16 surrogate", e.OVERLONG = "overlong representation";
})(Zm || (Zm = {}));
function OR(e) {
  if (e.length % 4 !== 0)
    throw new Error("bad data");
  let t = [];
  for (let r = 0; r < e.length; r += 4)
    t.push(parseInt(e.substring(r, r + 4), 16));
  return t;
}
function p1(e, t) {
  t || (t = function(n) {
    return [parseInt(n, 16)];
  });
  let r = 0, i = {};
  return e.split(",").forEach((n) => {
    let s = n.split(":");
    r += parseInt(s[0], 16), i[r] = t(s[1]);
  }), i;
}
function tv(e) {
  let t = 0;
  return e.split(",").map((r) => {
    let i = r.split("-");
    i.length === 1 ? i[1] = "0" : i[1] === "" && (i[1] = "1");
    let n = t + parseInt(i[0], 16);
    return t = parseInt(i[1], 16), { l: n, h: t };
  });
}
tv("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"), "ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e) => parseInt(e, 16)), p1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"), p1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"), p1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D", OR), tv("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");
function BR(e) {
  e = atob(e);
  const t = [];
  for (let r = 0; r < e.length; r++)
    t.push(e.charCodeAt(r));
  return F8(t);
}
function j8(e, t) {
  t == null && (t = 1);
  const r = [], i = r.forEach, n = function(s, u) {
    i.call(s, function(p) {
      u > 0 && Array.isArray(p) ? n(p, u - 1) : r.push(p);
    });
  };
  return n(e, t), r;
}
function TR(e) {
  const t = {};
  for (let r = 0; r < e.length; r++) {
    const i = e[r];
    t[i[0]] = i[1];
  }
  return t;
}
function FR(e) {
  let t = 0;
  function r() {
    return e[t++] << 8 | e[t++];
  }
  let i = r(), n = 1, s = [0, 1];
  for (let j = 1; j < i; j++)
    s.push(n += r());
  let u = r(), p = t;
  t += u;
  let b = 0, m = 0;
  function w() {
    return b == 0 && (m = m << 8 | e[t++], b = 8), m >> --b & 1;
  }
  const S = 31, C = Math.pow(2, S), D = C >>> 1, P = D >> 1, k = C - 1;
  let z = 0;
  for (let j = 0; j < S; j++)
    z = z << 1 | w();
  let V = [], Q = 0, W = C;
  for (; ; ) {
    let j = Math.floor(((z - Q + 1) * n - 1) / W), K = 0, N = i;
    for (; N - K > 1; ) {
      let ct = K + N >>> 1;
      j < s[ct] ? N = ct : K = ct;
    }
    if (K == 0)
      break;
    V.push(K);
    let H = Q + Math.floor(W * s[K] / n), st = Q + Math.floor(W * s[K + 1] / n) - 1;
    for (; !((H ^ st) & D); )
      z = z << 1 & k | w(), H = H << 1 & k, st = st << 1 & k | 1;
    for (; H & ~st & P; )
      z = z & D | z << 1 & k >>> 1 | w(), H = H << 1 ^ D, st = (st ^ D) << 1 | D | 1;
    Q = H, W = 1 + st - H;
  }
  let $ = i - 4;
  return V.map((j) => {
    switch (j - $) {
      case 3:
        return $ + 65792 + (e[p++] << 16 | e[p++] << 8 | e[p++]);
      case 2:
        return $ + 256 + (e[p++] << 8 | e[p++]);
      case 1:
        return $ + e[p++];
      default:
        return j - 1;
    }
  });
}
function UR(e) {
  let t = 0;
  return () => e[t++];
}
function qR(e) {
  return UR(FR(e));
}
function LR(e) {
  return e & 1 ? ~e >> 1 : e >> 1;
}
function kR(e, t) {
  let r = Array(e);
  for (let i = 0; i < e; i++)
    r[i] = 1 + t();
  return r;
}
function ev(e, t) {
  let r = Array(e);
  for (let i = 0, n = -1; i < e; i++)
    r[i] = n += 1 + t();
  return r;
}
function zR(e, t) {
  let r = Array(e);
  for (let i = 0, n = 0; i < e; i++)
    r[i] = n += LR(t());
  return r;
}
function T0(e, t) {
  let r = ev(e(), e), i = e(), n = ev(i, e), s = kR(i, e);
  for (let u = 0; u < i; u++)
    for (let p = 0; p < s[u]; p++)
      r.push(n[u] + p);
  return t ? r.map((u) => t[u]) : r;
}
function $R(e) {
  let t = [];
  for (; ; ) {
    let r = e();
    if (r == 0)
      break;
    t.push(jR(r, e));
  }
  for (; ; ) {
    let r = e() - 1;
    if (r < 0)
      break;
    t.push(KR(r, e));
  }
  return TR(j8(t));
}
function HR(e) {
  let t = [];
  for (; ; ) {
    let r = e();
    if (r == 0)
      break;
    t.push(r);
  }
  return t;
}
function K8(e, t, r) {
  let i = Array(e).fill(void 0).map(() => []);
  for (let n = 0; n < t; n++)
    zR(e, r).forEach((s, u) => i[u].push(s));
  return i;
}
function jR(e, t) {
  let r = 1 + t(), i = t(), n = HR(t), s = K8(n.length, 1 + e, t);
  return j8(s.map((u, p) => {
    const b = u[0], m = u.slice(1);
    return Array(n[p]).fill(void 0).map((w, S) => {
      let C = S * i;
      return [b + S * r, m.map((D) => D + C)];
    });
  }));
}
function KR(e, t) {
  let r = 1 + t();
  return K8(r, 1 + e, t).map((i) => [i[0], i.slice(1)]);
}
function GR(e) {
  let t = T0(e).sort((i, n) => i - n);
  return r();
  function r() {
    let i = [];
    for (; ; ) {
      let m = T0(e, t);
      if (m.length == 0)
        break;
      i.push({ set: new Set(m), node: r() });
    }
    i.sort((m, w) => w.set.size - m.set.size);
    let n = e(), s = n % 3;
    n = n / 3 | 0;
    let u = !!(n & 1);
    n >>= 1;
    let p = n == 1, b = n == 2;
    return { branches: i, valid: s, fe0f: u, save: p, check: b };
  }
}
function QR() {
  return qR(BR("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="));
}
const Qc = QR();
new Set(T0(Qc)), new Set(T0(Qc)), $R(Qc), GR(Qc);
const JR = new Uint8Array(32);
JR.fill(0);
const YR = new Uint8Array(32);
YR.fill(0), xi.from(-1);
const VR = xi.from(0), WR = xi.from(1);
xi.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"), B0(WR.toHexString(), 32), B0(VR.toHexString(), 32);
var ws = {}, Ue = {}, Ru = G8;
function G8(e, t) {
  if (!e)
    throw new Error(t || "Assertion failed");
}
G8.equal = function(e, t, r) {
  if (e != t)
    throw new Error(r || "Assertion failed: " + e + " != " + t);
};
var Mp = { exports: {} };
typeof Object.create == "function" ? Mp.exports = function(e, t) {
  t && (e.super_ = t, e.prototype = Object.create(t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }));
} : Mp.exports = function(e, t) {
  if (t) {
    e.super_ = t;
    var r = function() {
    };
    r.prototype = t.prototype, e.prototype = new r(), e.prototype.constructor = e;
  }
};
var XR = Ru, ZR = Mp.exports;
Ue.inherits = ZR;
function tO(e, t) {
  return (e.charCodeAt(t) & 64512) !== 55296 || t < 0 || t + 1 >= e.length ? !1 : (e.charCodeAt(t + 1) & 64512) === 56320;
}
function eO(e, t) {
  if (Array.isArray(e))
    return e.slice();
  if (!e)
    return [];
  var r = [];
  if (typeof e == "string")
    if (t) {
      if (t === "hex")
        for (e = e.replace(/[^a-z0-9]+/ig, ""), e.length % 2 !== 0 && (e = "0" + e), n = 0; n < e.length; n += 2)
          r.push(parseInt(e[n] + e[n + 1], 16));
    } else
      for (var i = 0, n = 0; n < e.length; n++) {
        var s = e.charCodeAt(n);
        s < 128 ? r[i++] = s : s < 2048 ? (r[i++] = s >> 6 | 192, r[i++] = s & 63 | 128) : tO(e, n) ? (s = 65536 + ((s & 1023) << 10) + (e.charCodeAt(++n) & 1023), r[i++] = s >> 18 | 240, r[i++] = s >> 12 & 63 | 128, r[i++] = s >> 6 & 63 | 128, r[i++] = s & 63 | 128) : (r[i++] = s >> 12 | 224, r[i++] = s >> 6 & 63 | 128, r[i++] = s & 63 | 128);
      }
  else
    for (n = 0; n < e.length; n++)
      r[n] = e[n] | 0;
  return r;
}
Ue.toArray = eO;
function rO(e) {
  for (var t = "", r = 0; r < e.length; r++)
    t += J8(e[r].toString(16));
  return t;
}
Ue.toHex = rO;
function Q8(e) {
  var t = e >>> 24 | e >>> 8 & 65280 | e << 8 & 16711680 | (e & 255) << 24;
  return t >>> 0;
}
Ue.htonl = Q8;
function iO(e, t) {
  for (var r = "", i = 0; i < e.length; i++) {
    var n = e[i];
    t === "little" && (n = Q8(n)), r += Y8(n.toString(16));
  }
  return r;
}
Ue.toHex32 = iO;
function J8(e) {
  return e.length === 1 ? "0" + e : e;
}
Ue.zero2 = J8;
function Y8(e) {
  return e.length === 7 ? "0" + e : e.length === 6 ? "00" + e : e.length === 5 ? "000" + e : e.length === 4 ? "0000" + e : e.length === 3 ? "00000" + e : e.length === 2 ? "000000" + e : e.length === 1 ? "0000000" + e : e;
}
Ue.zero8 = Y8;
function nO(e, t, r, i) {
  var n = r - t;
  XR(n % 4 === 0);
  for (var s = new Array(n / 4), u = 0, p = t; u < s.length; u++, p += 4) {
    var b;
    i === "big" ? b = e[p] << 24 | e[p + 1] << 16 | e[p + 2] << 8 | e[p + 3] : b = e[p + 3] << 24 | e[p + 2] << 16 | e[p + 1] << 8 | e[p], s[u] = b >>> 0;
  }
  return s;
}
Ue.join32 = nO;
function sO(e, t) {
  for (var r = new Array(e.length * 4), i = 0, n = 0; i < e.length; i++, n += 4) {
    var s = e[i];
    t === "big" ? (r[n] = s >>> 24, r[n + 1] = s >>> 16 & 255, r[n + 2] = s >>> 8 & 255, r[n + 3] = s & 255) : (r[n + 3] = s >>> 24, r[n + 2] = s >>> 16 & 255, r[n + 1] = s >>> 8 & 255, r[n] = s & 255);
  }
  return r;
}
Ue.split32 = sO;
function oO(e, t) {
  return e >>> t | e << 32 - t;
}
Ue.rotr32 = oO;
function aO(e, t) {
  return e << t | e >>> 32 - t;
}
Ue.rotl32 = aO;
function hO(e, t) {
  return e + t >>> 0;
}
Ue.sum32 = hO;
function fO(e, t, r) {
  return e + t + r >>> 0;
}
Ue.sum32_3 = fO;
function uO(e, t, r, i) {
  return e + t + r + i >>> 0;
}
Ue.sum32_4 = uO;
function cO(e, t, r, i, n) {
  return e + t + r + i + n >>> 0;
}
Ue.sum32_5 = cO;
function lO(e, t, r, i) {
  var n = e[t], s = e[t + 1], u = i + s >>> 0, p = (u < i ? 1 : 0) + r + n;
  e[t] = p >>> 0, e[t + 1] = u;
}
Ue.sum64 = lO;
function dO(e, t, r, i) {
  var n = t + i >>> 0, s = (n < t ? 1 : 0) + e + r;
  return s >>> 0;
}
Ue.sum64_hi = dO;
function pO(e, t, r, i) {
  var n = t + i;
  return n >>> 0;
}
Ue.sum64_lo = pO;
function gO(e, t, r, i, n, s, u, p) {
  var b = 0, m = t;
  m = m + i >>> 0, b += m < t ? 1 : 0, m = m + s >>> 0, b += m < s ? 1 : 0, m = m + p >>> 0, b += m < p ? 1 : 0;
  var w = e + r + n + u + b;
  return w >>> 0;
}
Ue.sum64_4_hi = gO;
function mO(e, t, r, i, n, s, u, p) {
  var b = t + i + s + p;
  return b >>> 0;
}
Ue.sum64_4_lo = mO;
function vO(e, t, r, i, n, s, u, p, b, m) {
  var w = 0, S = t;
  S = S + i >>> 0, w += S < t ? 1 : 0, S = S + s >>> 0, w += S < s ? 1 : 0, S = S + p >>> 0, w += S < p ? 1 : 0, S = S + m >>> 0, w += S < m ? 1 : 0;
  var C = e + r + n + u + b + w;
  return C >>> 0;
}
Ue.sum64_5_hi = vO;
function bO(e, t, r, i, n, s, u, p, b, m) {
  var w = t + i + s + p + m;
  return w >>> 0;
}
Ue.sum64_5_lo = bO;
function yO(e, t, r) {
  var i = t << 32 - r | e >>> r;
  return i >>> 0;
}
Ue.rotr64_hi = yO;
function wO(e, t, r) {
  var i = e << 32 - r | t >>> r;
  return i >>> 0;
}
Ue.rotr64_lo = wO;
function AO(e, t, r) {
  return e >>> r;
}
Ue.shr64_hi = AO;
function _O(e, t, r) {
  var i = e << 32 - r | t >>> r;
  return i >>> 0;
}
Ue.shr64_lo = _O;
var nf = {}, rv = Ue, EO = Ru;
function Jc() {
  this.pending = null, this.pendingTotal = 0, this.blockSize = this.constructor.blockSize, this.outSize = this.constructor.outSize, this.hmacStrength = this.constructor.hmacStrength, this.padLength = this.constructor.padLength / 8, this.endian = "big", this._delta8 = this.blockSize / 8, this._delta32 = this.blockSize / 32;
}
nf.BlockHash = Jc, Jc.prototype.update = function(e, t) {
  if (e = rv.toArray(e, t), this.pending ? this.pending = this.pending.concat(e) : this.pending = e, this.pendingTotal += e.length, this.pending.length >= this._delta8) {
    e = this.pending;
    var r = e.length % this._delta8;
    this.pending = e.slice(e.length - r, e.length), this.pending.length === 0 && (this.pending = null), e = rv.join32(e, 0, e.length - r, this.endian);
    for (var i = 0; i < e.length; i += this._delta32)
      this._update(e, i, i + this._delta32);
  }
  return this;
}, Jc.prototype.digest = function(e) {
  return this.update(this._pad()), EO(this.pending === null), this._digest(e);
}, Jc.prototype._pad = function() {
  var e = this.pendingTotal, t = this._delta8, r = t - (e + this.padLength) % t, i = new Array(r + this.padLength);
  i[0] = 128;
  for (var n = 1; n < r; n++)
    i[n] = 0;
  if (e <<= 3, this.endian === "big") {
    for (var s = 8; s < this.padLength; s++)
      i[n++] = 0;
    i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = e >>> 24 & 255, i[n++] = e >>> 16 & 255, i[n++] = e >>> 8 & 255, i[n++] = e & 255;
  } else
    for (i[n++] = e & 255, i[n++] = e >>> 8 & 255, i[n++] = e >>> 16 & 255, i[n++] = e >>> 24 & 255, i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = 0, s = 8; s < this.padLength; s++)
      i[n++] = 0;
  return i;
};
var yh = {}, Zs = {}, MO = Ue, Ls = MO.rotr32;
function SO(e, t, r, i) {
  if (e === 0)
    return V8(t, r, i);
  if (e === 1 || e === 3)
    return X8(t, r, i);
  if (e === 2)
    return W8(t, r, i);
}
Zs.ft_1 = SO;
function V8(e, t, r) {
  return e & t ^ ~e & r;
}
Zs.ch32 = V8;
function W8(e, t, r) {
  return e & t ^ e & r ^ t & r;
}
Zs.maj32 = W8;
function X8(e, t, r) {
  return e ^ t ^ r;
}
Zs.p32 = X8;
function xO(e) {
  return Ls(e, 2) ^ Ls(e, 13) ^ Ls(e, 22);
}
Zs.s0_256 = xO;
function IO(e) {
  return Ls(e, 6) ^ Ls(e, 11) ^ Ls(e, 25);
}
Zs.s1_256 = IO;
function DO(e) {
  return Ls(e, 7) ^ Ls(e, 18) ^ e >>> 3;
}
Zs.g0_256 = DO;
function CO(e) {
  return Ls(e, 17) ^ Ls(e, 19) ^ e >>> 10;
}
Zs.g1_256 = CO;
var kh = Ue, NO = nf, PO = Zs, g1 = kh.rotl32, Lf = kh.sum32, RO = kh.sum32_5, OO = PO.ft_1, Z8 = NO.BlockHash, BO = [1518500249, 1859775393, 2400959708, 3395469782];
function Ds() {
  if (!(this instanceof Ds))
    return new Ds();
  Z8.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.W = new Array(80);
}
kh.inherits(Ds, Z8);
var TO = Ds;
Ds.blockSize = 512, Ds.outSize = 160, Ds.hmacStrength = 80, Ds.padLength = 64, Ds.prototype._update = function(e, t) {
  for (var r = this.W, i = 0; i < 16; i++)
    r[i] = e[t + i];
  for (; i < r.length; i++)
    r[i] = g1(r[i - 3] ^ r[i - 8] ^ r[i - 14] ^ r[i - 16], 1);
  var n = this.h[0], s = this.h[1], u = this.h[2], p = this.h[3], b = this.h[4];
  for (i = 0; i < r.length; i++) {
    var m = ~~(i / 20), w = RO(g1(n, 5), OO(m, s, u, p), b, r[i], BO[m]);
    b = p, p = u, u = g1(s, 30), s = n, n = w;
  }
  this.h[0] = Lf(this.h[0], n), this.h[1] = Lf(this.h[1], s), this.h[2] = Lf(this.h[2], u), this.h[3] = Lf(this.h[3], p), this.h[4] = Lf(this.h[4], b);
}, Ds.prototype._digest = function(e) {
  return e === "hex" ? kh.toHex32(this.h, "big") : kh.split32(this.h, "big");
};
var zh = Ue, FO = nf, sf = Zs, UO = Ru, $n = zh.sum32, qO = zh.sum32_4, LO = zh.sum32_5, kO = sf.ch32, zO = sf.maj32, $O = sf.s0_256, HO = sf.s1_256, jO = sf.g0_256, KO = sf.g1_256, ty = FO.BlockHash, GO = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];
function Cs() {
  if (!(this instanceof Cs))
    return new Cs();
  ty.call(this), this.h = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225], this.k = GO, this.W = new Array(64);
}
zh.inherits(Cs, ty);
var ey = Cs;
Cs.blockSize = 512, Cs.outSize = 256, Cs.hmacStrength = 192, Cs.padLength = 64, Cs.prototype._update = function(e, t) {
  for (var r = this.W, i = 0; i < 16; i++)
    r[i] = e[t + i];
  for (; i < r.length; i++)
    r[i] = qO(KO(r[i - 2]), r[i - 7], jO(r[i - 15]), r[i - 16]);
  var n = this.h[0], s = this.h[1], u = this.h[2], p = this.h[3], b = this.h[4], m = this.h[5], w = this.h[6], S = this.h[7];
  for (UO(this.k.length === r.length), i = 0; i < r.length; i++) {
    var C = LO(S, HO(b), kO(b, m, w), this.k[i], r[i]), D = $n($O(n), zO(n, s, u));
    S = w, w = m, m = b, b = $n(p, C), p = u, u = s, s = n, n = $n(C, D);
  }
  this.h[0] = $n(this.h[0], n), this.h[1] = $n(this.h[1], s), this.h[2] = $n(this.h[2], u), this.h[3] = $n(this.h[3], p), this.h[4] = $n(this.h[4], b), this.h[5] = $n(this.h[5], m), this.h[6] = $n(this.h[6], w), this.h[7] = $n(this.h[7], S);
}, Cs.prototype._digest = function(e) {
  return e === "hex" ? zh.toHex32(this.h, "big") : zh.split32(this.h, "big");
};
var Sp = Ue, ry = ey;
function Mo() {
  if (!(this instanceof Mo))
    return new Mo();
  ry.call(this), this.h = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428];
}
Sp.inherits(Mo, ry);
var QO = Mo;
Mo.blockSize = 512, Mo.outSize = 224, Mo.hmacStrength = 192, Mo.padLength = 64, Mo.prototype._digest = function(e) {
  return e === "hex" ? Sp.toHex32(this.h.slice(0, 7), "big") : Sp.split32(this.h.slice(0, 7), "big");
};
var ji = Ue, JO = nf, YO = Ru, ks = ji.rotr64_hi, zs = ji.rotr64_lo, iy = ji.shr64_hi, ny = ji.shr64_lo, Ko = ji.sum64, m1 = ji.sum64_hi, v1 = ji.sum64_lo, VO = ji.sum64_4_hi, WO = ji.sum64_4_lo, XO = ji.sum64_5_hi, ZO = ji.sum64_5_lo, sy = JO.BlockHash, tB = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591];
function Zn() {
  if (!(this instanceof Zn))
    return new Zn();
  sy.call(this), this.h = [1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723, 2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199, 528734635, 4215389547, 1541459225, 327033209], this.k = tB, this.W = new Array(160);
}
ji.inherits(Zn, sy);
var oy = Zn;
Zn.blockSize = 1024, Zn.outSize = 512, Zn.hmacStrength = 192, Zn.padLength = 128, Zn.prototype._prepareBlock = function(e, t) {
  for (var r = this.W, i = 0; i < 32; i++)
    r[i] = e[t + i];
  for (; i < r.length; i += 2) {
    var n = cB(r[i - 4], r[i - 3]), s = lB(r[i - 4], r[i - 3]), u = r[i - 14], p = r[i - 13], b = fB(r[i - 30], r[i - 29]), m = uB(r[i - 30], r[i - 29]), w = r[i - 32], S = r[i - 31];
    r[i] = VO(n, s, u, p, b, m, w, S), r[i + 1] = WO(n, s, u, p, b, m, w, S);
  }
}, Zn.prototype._update = function(e, t) {
  this._prepareBlock(e, t);
  var r = this.W, i = this.h[0], n = this.h[1], s = this.h[2], u = this.h[3], p = this.h[4], b = this.h[5], m = this.h[6], w = this.h[7], S = this.h[8], C = this.h[9], D = this.h[10], P = this.h[11], k = this.h[12], z = this.h[13], V = this.h[14], Q = this.h[15];
  YO(this.k.length === r.length);
  for (var W = 0; W < r.length; W += 2) {
    var $ = V, j = Q, K = aB(S, C), N = hB(S, C), H = eB(S, C, D, P, k), st = rB(S, C, D, P, k, z), ct = this.k[W], L = this.k[W + 1], I = r[W], o = r[W + 1], h = XO($, j, K, N, H, st, ct, L, I, o), c = ZO($, j, K, N, H, st, ct, L, I, o);
    $ = sB(i, n), j = oB(i, n), K = iB(i, n, s, u, p), N = nB(i, n, s, u, p, b);
    var v = m1($, j, K, N), y = v1($, j, K, N);
    V = k, Q = z, k = D, z = P, D = S, P = C, S = m1(m, w, h, c), C = v1(w, w, h, c), m = p, w = b, p = s, b = u, s = i, u = n, i = m1(h, c, v, y), n = v1(h, c, v, y);
  }
  Ko(this.h, 0, i, n), Ko(this.h, 2, s, u), Ko(this.h, 4, p, b), Ko(this.h, 6, m, w), Ko(this.h, 8, S, C), Ko(this.h, 10, D, P), Ko(this.h, 12, k, z), Ko(this.h, 14, V, Q);
}, Zn.prototype._digest = function(e) {
  return e === "hex" ? ji.toHex32(this.h, "big") : ji.split32(this.h, "big");
};
function eB(e, t, r, i, n) {
  var s = e & r ^ ~e & n;
  return s < 0 && (s += 4294967296), s;
}
function rB(e, t, r, i, n, s) {
  var u = t & i ^ ~t & s;
  return u < 0 && (u += 4294967296), u;
}
function iB(e, t, r, i, n) {
  var s = e & r ^ e & n ^ r & n;
  return s < 0 && (s += 4294967296), s;
}
function nB(e, t, r, i, n, s) {
  var u = t & i ^ t & s ^ i & s;
  return u < 0 && (u += 4294967296), u;
}
function sB(e, t) {
  var r = ks(e, t, 28), i = ks(t, e, 2), n = ks(t, e, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function oB(e, t) {
  var r = zs(e, t, 28), i = zs(t, e, 2), n = zs(t, e, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function aB(e, t) {
  var r = ks(e, t, 14), i = ks(e, t, 18), n = ks(t, e, 9), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function hB(e, t) {
  var r = zs(e, t, 14), i = zs(e, t, 18), n = zs(t, e, 9), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function fB(e, t) {
  var r = ks(e, t, 1), i = ks(e, t, 8), n = iy(e, t, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function uB(e, t) {
  var r = zs(e, t, 1), i = zs(e, t, 8), n = ny(e, t, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function cB(e, t) {
  var r = ks(e, t, 19), i = ks(t, e, 29), n = iy(e, t, 6), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function lB(e, t) {
  var r = zs(e, t, 19), i = zs(t, e, 29), n = ny(e, t, 6), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
var xp = Ue, ay = oy;
function So() {
  if (!(this instanceof So))
    return new So();
  ay.call(this), this.h = [3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999, 355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025, 3675008525, 1694076839, 1203062813, 3204075428];
}
xp.inherits(So, ay);
var dB = So;
So.blockSize = 1024, So.outSize = 384, So.hmacStrength = 192, So.padLength = 128, So.prototype._digest = function(e) {
  return e === "hex" ? xp.toHex32(this.h.slice(0, 12), "big") : xp.split32(this.h.slice(0, 12), "big");
}, yh.sha1 = TO, yh.sha224 = QO, yh.sha256 = ey, yh.sha384 = dB, yh.sha512 = oy;
var hy = {}, Pa = Ue, pB = nf, Yc = Pa.rotl32, iv = Pa.sum32, kf = Pa.sum32_3, nv = Pa.sum32_4, fy = pB.BlockHash;
function As() {
  if (!(this instanceof As))
    return new As();
  fy.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.endian = "little";
}
Pa.inherits(As, fy), hy.ripemd160 = As, As.blockSize = 512, As.outSize = 160, As.hmacStrength = 192, As.padLength = 64, As.prototype._update = function(e, t) {
  for (var r = this.h[0], i = this.h[1], n = this.h[2], s = this.h[3], u = this.h[4], p = r, b = i, m = n, w = s, S = u, C = 0; C < 80; C++) {
    var D = iv(Yc(nv(r, sv(C, i, n, s), e[vB[C] + t], gB(C)), yB[C]), u);
    r = u, u = s, s = Yc(n, 10), n = i, i = D, D = iv(Yc(nv(p, sv(79 - C, b, m, w), e[bB[C] + t], mB(C)), wB[C]), S), p = S, S = w, w = Yc(m, 10), m = b, b = D;
  }
  D = kf(this.h[1], n, w), this.h[1] = kf(this.h[2], s, S), this.h[2] = kf(this.h[3], u, p), this.h[3] = kf(this.h[4], r, b), this.h[4] = kf(this.h[0], i, m), this.h[0] = D;
}, As.prototype._digest = function(e) {
  return e === "hex" ? Pa.toHex32(this.h, "little") : Pa.split32(this.h, "little");
};
function sv(e, t, r, i) {
  return e <= 15 ? t ^ r ^ i : e <= 31 ? t & r | ~t & i : e <= 47 ? (t | ~r) ^ i : e <= 63 ? t & i | r & ~i : t ^ (r | ~i);
}
function gB(e) {
  return e <= 15 ? 0 : e <= 31 ? 1518500249 : e <= 47 ? 1859775393 : e <= 63 ? 2400959708 : 2840853838;
}
function mB(e) {
  return e <= 15 ? 1352829926 : e <= 31 ? 1548603684 : e <= 47 ? 1836072691 : e <= 63 ? 2053994217 : 0;
}
var vB = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13], bB = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11], yB = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6], wB = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11], AB = Ue, _B = Ru;
function Dh(e, t, r) {
  if (!(this instanceof Dh))
    return new Dh(e, t, r);
  this.Hash = e, this.blockSize = e.blockSize / 8, this.outSize = e.outSize / 8, this.inner = null, this.outer = null, this._init(AB.toArray(t, r));
}
var EB = Dh;
Dh.prototype._init = function(e) {
  e.length > this.blockSize && (e = new this.Hash().update(e).digest()), _B(e.length <= this.blockSize);
  for (var t = e.length; t < this.blockSize; t++)
    e.push(0);
  for (t = 0; t < e.length; t++)
    e[t] ^= 54;
  for (this.inner = new this.Hash().update(e), t = 0; t < e.length; t++)
    e[t] ^= 106;
  this.outer = new this.Hash().update(e);
}, Dh.prototype.update = function(e, t) {
  return this.inner.update(e, t), this;
}, Dh.prototype.digest = function(e) {
  return this.outer.update(this.inner.digest()), this.outer.digest(e);
}, function(e) {
  var t = e;
  t.utils = Ue, t.common = nf, t.sha = yh, t.ripemd = hy, t.hmac = EB, t.sha1 = t.sha.sha1, t.sha256 = t.sha.sha256, t.sha224 = t.sha.sha224, t.sha384 = t.sha.sha384, t.sha512 = t.sha.sha512, t.ripemd160 = t.ripemd.ripemd160;
}(ws);
function of(e, t, r) {
  return r = { path: t, exports: {}, require: function(i, n) {
    return MB(i, n ?? r.path);
  } }, e(r, r.exports), r.exports;
}
function MB() {
  throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");
}
var d2 = uy;
function uy(e, t) {
  if (!e)
    throw new Error(t || "Assertion failed");
}
uy.equal = function(e, t, r) {
  if (e != t)
    throw new Error(r || "Assertion failed: " + e + " != " + t);
};
var ns = of(function(e, t) {
  var r = t;
  function i(u, p) {
    if (Array.isArray(u))
      return u.slice();
    if (!u)
      return [];
    var b = [];
    if (typeof u != "string") {
      for (var m = 0; m < u.length; m++)
        b[m] = u[m] | 0;
      return b;
    }
    if (p === "hex") {
      u = u.replace(/[^a-z0-9]+/ig, ""), u.length % 2 !== 0 && (u = "0" + u);
      for (var m = 0; m < u.length; m += 2)
        b.push(parseInt(u[m] + u[m + 1], 16));
    } else
      for (var m = 0; m < u.length; m++) {
        var w = u.charCodeAt(m), S = w >> 8, C = w & 255;
        S ? b.push(S, C) : b.push(C);
      }
    return b;
  }
  r.toArray = i;
  function n(u) {
    return u.length === 1 ? "0" + u : u;
  }
  r.zero2 = n;
  function s(u) {
    for (var p = "", b = 0; b < u.length; b++)
      p += n(u[b].toString(16));
    return p;
  }
  r.toHex = s, r.encode = function(u, p) {
    return p === "hex" ? s(u) : u;
  };
}), rn = of(function(e, t) {
  var r = t;
  r.assert = d2, r.toArray = ns.toArray, r.zero2 = ns.zero2, r.toHex = ns.toHex, r.encode = ns.encode;
  function i(b, m, w) {
    var S = new Array(Math.max(b.bitLength(), w) + 1);
    S.fill(0);
    for (var C = 1 << m + 1, D = b.clone(), P = 0; P < S.length; P++) {
      var k, z = D.andln(C - 1);
      D.isOdd() ? (z > (C >> 1) - 1 ? k = (C >> 1) - z : k = z, D.isubn(k)) : k = 0, S[P] = k, D.iushrn(1);
    }
    return S;
  }
  r.getNAF = i;
  function n(b, m) {
    var w = [[], []];
    b = b.clone(), m = m.clone();
    for (var S = 0, C = 0, D; b.cmpn(-S) > 0 || m.cmpn(-C) > 0; ) {
      var P = b.andln(3) + S & 3, k = m.andln(3) + C & 3;
      P === 3 && (P = -1), k === 3 && (k = -1);
      var z;
      P & 1 ? (D = b.andln(7) + S & 7, (D === 3 || D === 5) && k === 2 ? z = -P : z = P) : z = 0, w[0].push(z);
      var V;
      k & 1 ? (D = m.andln(7) + C & 7, (D === 3 || D === 5) && P === 2 ? V = -k : V = k) : V = 0, w[1].push(V), 2 * S === z + 1 && (S = 1 - S), 2 * C === V + 1 && (C = 1 - C), b.iushrn(1), m.iushrn(1);
    }
    return w;
  }
  r.getJSF = n;
  function s(b, m, w) {
    var S = "_" + m;
    b.prototype[m] = function() {
      return this[S] !== void 0 ? this[S] : this[S] = w.call(this);
    };
  }
  r.cachedProperty = s;
  function u(b) {
    return typeof b == "string" ? r.toArray(b, "hex") : b;
  }
  r.parseBytes = u;
  function p(b) {
    return new Ee(b, "hex", "le");
  }
  r.intFromLE = p;
}), Vc = rn.getNAF, SB = rn.getJSF, F0 = rn.assert;
function Wo(e, t) {
  this.type = e, this.p = new Ee(t.p, 16), this.red = t.prime ? Ee.red(t.prime) : Ee.mont(this.p), this.zero = new Ee(0).toRed(this.red), this.one = new Ee(1).toRed(this.red), this.two = new Ee(2).toRed(this.red), this.n = t.n && new Ee(t.n, 16), this.g = t.g && this.pointFromJSON(t.g, t.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4), this._bitLength = this.n ? this.n.bitLength() : 0;
  var r = this.n && this.p.div(this.n);
  !r || r.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red));
}
var $a = Wo;
Wo.prototype.point = function() {
  throw new Error("Not implemented");
}, Wo.prototype.validate = function() {
  throw new Error("Not implemented");
}, Wo.prototype._fixedNafMul = function(e, t) {
  F0(e.precomputed);
  var r = e._getDoubles(), i = Vc(t, 1, this._bitLength), n = (1 << r.step + 1) - (r.step % 2 === 0 ? 2 : 1);
  n /= 3;
  var s = [], u, p;
  for (u = 0; u < i.length; u += r.step) {
    p = 0;
    for (var b = u + r.step - 1; b >= u; b--)
      p = (p << 1) + i[b];
    s.push(p);
  }
  for (var m = this.jpoint(null, null, null), w = this.jpoint(null, null, null), S = n; S > 0; S--) {
    for (u = 0; u < s.length; u++)
      p = s[u], p === S ? w = w.mixedAdd(r.points[u]) : p === -S && (w = w.mixedAdd(r.points[u].neg()));
    m = m.add(w);
  }
  return m.toP();
}, Wo.prototype._wnafMul = function(e, t) {
  var r = 4, i = e._getNAFPoints(r);
  r = i.wnd;
  for (var n = i.points, s = Vc(t, r, this._bitLength), u = this.jpoint(null, null, null), p = s.length - 1; p >= 0; p--) {
    for (var b = 0; p >= 0 && s[p] === 0; p--)
      b++;
    if (p >= 0 && b++, u = u.dblp(b), p < 0)
      break;
    var m = s[p];
    F0(m !== 0), e.type === "affine" ? m > 0 ? u = u.mixedAdd(n[m - 1 >> 1]) : u = u.mixedAdd(n[-m - 1 >> 1].neg()) : m > 0 ? u = u.add(n[m - 1 >> 1]) : u = u.add(n[-m - 1 >> 1].neg());
  }
  return e.type === "affine" ? u.toP() : u;
}, Wo.prototype._wnafMulAdd = function(e, t, r, i, n) {
  var s = this._wnafT1, u = this._wnafT2, p = this._wnafT3, b = 0, m, w, S;
  for (m = 0; m < i; m++) {
    S = t[m];
    var C = S._getNAFPoints(e);
    s[m] = C.wnd, u[m] = C.points;
  }
  for (m = i - 1; m >= 1; m -= 2) {
    var D = m - 1, P = m;
    if (s[D] !== 1 || s[P] !== 1) {
      p[D] = Vc(r[D], s[D], this._bitLength), p[P] = Vc(r[P], s[P], this._bitLength), b = Math.max(p[D].length, b), b = Math.max(p[P].length, b);
      continue;
    }
    var k = [t[D], null, null, t[P]];
    t[D].y.cmp(t[P].y) === 0 ? (k[1] = t[D].add(t[P]), k[2] = t[D].toJ().mixedAdd(t[P].neg())) : t[D].y.cmp(t[P].y.redNeg()) === 0 ? (k[1] = t[D].toJ().mixedAdd(t[P]), k[2] = t[D].add(t[P].neg())) : (k[1] = t[D].toJ().mixedAdd(t[P]), k[2] = t[D].toJ().mixedAdd(t[P].neg()));
    var z = [-3, -1, -5, -7, 0, 7, 5, 1, 3], V = SB(r[D], r[P]);
    for (b = Math.max(V[0].length, b), p[D] = new Array(b), p[P] = new Array(b), w = 0; w < b; w++) {
      var Q = V[0][w] | 0, W = V[1][w] | 0;
      p[D][w] = z[(Q + 1) * 3 + (W + 1)], p[P][w] = 0, u[D] = k;
    }
  }
  var $ = this.jpoint(null, null, null), j = this._wnafT4;
  for (m = b; m >= 0; m--) {
    for (var K = 0; m >= 0; ) {
      var N = !0;
      for (w = 0; w < i; w++)
        j[w] = p[w][m] | 0, j[w] !== 0 && (N = !1);
      if (!N)
        break;
      K++, m--;
    }
    if (m >= 0 && K++, $ = $.dblp(K), m < 0)
      break;
    for (w = 0; w < i; w++) {
      var H = j[w];
      H !== 0 && (H > 0 ? S = u[w][H - 1 >> 1] : H < 0 && (S = u[w][-H - 1 >> 1].neg()), S.type === "affine" ? $ = $.mixedAdd(S) : $ = $.add(S));
    }
  }
  for (m = 0; m < i; m++)
    u[m] = null;
  return n ? $ : $.toP();
};
function bn(e, t) {
  this.curve = e, this.type = t, this.precomputed = null;
}
Wo.BasePoint = bn, bn.prototype.eq = function() {
  throw new Error("Not implemented");
}, bn.prototype.validate = function() {
  return this.curve.validate(this);
}, Wo.prototype.decodePoint = function(e, t) {
  e = rn.toArray(e, t);
  var r = this.p.byteLength();
  if ((e[0] === 4 || e[0] === 6 || e[0] === 7) && e.length - 1 === 2 * r) {
    e[0] === 6 ? F0(e[e.length - 1] % 2 === 0) : e[0] === 7 && F0(e[e.length - 1] % 2 === 1);
    var i = this.point(e.slice(1, 1 + r), e.slice(1 + r, 1 + 2 * r));
    return i;
  } else if ((e[0] === 2 || e[0] === 3) && e.length - 1 === r)
    return this.pointFromX(e.slice(1, 1 + r), e[0] === 3);
  throw new Error("Unknown point format");
}, bn.prototype.encodeCompressed = function(e) {
  return this.encode(e, !0);
}, bn.prototype._encode = function(e) {
  var t = this.curve.p.byteLength(), r = this.getX().toArray("be", t);
  return e ? [this.getY().isEven() ? 2 : 3].concat(r) : [4].concat(r, this.getY().toArray("be", t));
}, bn.prototype.encode = function(e, t) {
  return rn.encode(this._encode(t), e);
}, bn.prototype.precompute = function(e) {
  if (this.precomputed)
    return this;
  var t = { doubles: null, naf: null, beta: null };
  return t.naf = this._getNAFPoints(8), t.doubles = this._getDoubles(4, e), t.beta = this._getBeta(), this.precomputed = t, this;
}, bn.prototype._hasDoubles = function(e) {
  if (!this.precomputed)
    return !1;
  var t = this.precomputed.doubles;
  return t ? t.points.length >= Math.ceil((e.bitLength() + 1) / t.step) : !1;
}, bn.prototype._getDoubles = function(e, t) {
  if (this.precomputed && this.precomputed.doubles)
    return this.precomputed.doubles;
  for (var r = [this], i = this, n = 0; n < t; n += e) {
    for (var s = 0; s < e; s++)
      i = i.dbl();
    r.push(i);
  }
  return { step: e, points: r };
}, bn.prototype._getNAFPoints = function(e) {
  if (this.precomputed && this.precomputed.naf)
    return this.precomputed.naf;
  for (var t = [this], r = (1 << e) - 1, i = r === 1 ? null : this.dbl(), n = 1; n < r; n++)
    t[n] = t[n - 1].add(i);
  return { wnd: e, points: t };
}, bn.prototype._getBeta = function() {
  return null;
}, bn.prototype.dblp = function(e) {
  for (var t = this, r = 0; r < e; r++)
    t = t.dbl();
  return t;
};
var p2 = of(function(e) {
  typeof Object.create == "function" ? e.exports = function(t, r) {
    r && (t.super_ = r, t.prototype = Object.create(r.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }));
  } : e.exports = function(t, r) {
    if (r) {
      t.super_ = r;
      var i = function() {
      };
      i.prototype = r.prototype, t.prototype = new i(), t.prototype.constructor = t;
    }
  };
}), xB = rn.assert;
function Dn(e) {
  $a.call(this, "short", e), this.a = new Ee(e.a, 16).toRed(this.red), this.b = new Ee(e.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = this.a.fromRed().cmpn(0) === 0, this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0, this.endo = this._getEndomorphism(e), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4);
}
p2(Dn, $a);
var IB = Dn;
Dn.prototype._getEndomorphism = function(e) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var t, r;
    if (e.beta)
      t = new Ee(e.beta, 16).toRed(this.red);
    else {
      var i = this._getEndoRoots(this.p);
      t = i[0].cmp(i[1]) < 0 ? i[0] : i[1], t = t.toRed(this.red);
    }
    if (e.lambda)
      r = new Ee(e.lambda, 16);
    else {
      var n = this._getEndoRoots(this.n);
      this.g.mul(n[0]).x.cmp(this.g.x.redMul(t)) === 0 ? r = n[0] : (r = n[1], xB(this.g.mul(r).x.cmp(this.g.x.redMul(t)) === 0));
    }
    var s;
    return e.basis ? s = e.basis.map(function(u) {
      return { a: new Ee(u.a, 16), b: new Ee(u.b, 16) };
    }) : s = this._getEndoBasis(r), { beta: t, lambda: r, basis: s };
  }
}, Dn.prototype._getEndoRoots = function(e) {
  var t = e === this.p ? this.red : Ee.mont(e), r = new Ee(2).toRed(t).redInvm(), i = r.redNeg(), n = new Ee(3).toRed(t).redNeg().redSqrt().redMul(r), s = i.redAdd(n).fromRed(), u = i.redSub(n).fromRed();
  return [s, u];
}, Dn.prototype._getEndoBasis = function(e) {
  for (var t = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), r = e, i = this.n.clone(), n = new Ee(1), s = new Ee(0), u = new Ee(0), p = new Ee(1), b, m, w, S, C, D, P, k = 0, z, V; r.cmpn(0) !== 0; ) {
    var Q = i.div(r);
    z = i.sub(Q.mul(r)), V = u.sub(Q.mul(n));
    var W = p.sub(Q.mul(s));
    if (!w && z.cmp(t) < 0)
      b = P.neg(), m = n, w = z.neg(), S = V;
    else if (w && ++k === 2)
      break;
    P = z, i = r, r = z, u = n, n = V, p = s, s = W;
  }
  C = z.neg(), D = V;
  var $ = w.sqr().add(S.sqr()), j = C.sqr().add(D.sqr());
  return j.cmp($) >= 0 && (C = b, D = m), w.negative && (w = w.neg(), S = S.neg()), C.negative && (C = C.neg(), D = D.neg()), [{ a: w, b: S }, { a: C, b: D }];
}, Dn.prototype._endoSplit = function(e) {
  var t = this.endo.basis, r = t[0], i = t[1], n = i.b.mul(e).divRound(this.n), s = r.b.neg().mul(e).divRound(this.n), u = n.mul(r.a), p = s.mul(i.a), b = n.mul(r.b), m = s.mul(i.b), w = e.sub(u).sub(p), S = b.add(m).neg();
  return { k1: w, k2: S };
}, Dn.prototype.pointFromX = function(e, t) {
  e = new Ee(e, 16), e.red || (e = e.toRed(this.red));
  var r = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b), i = r.redSqrt();
  if (i.redSqr().redSub(r).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var n = i.fromRed().isOdd();
  return (t && !n || !t && n) && (i = i.redNeg()), this.point(e, i);
}, Dn.prototype.validate = function(e) {
  if (e.inf)
    return !0;
  var t = e.x, r = e.y, i = this.a.redMul(t), n = t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);
  return r.redSqr().redISub(n).cmpn(0) === 0;
}, Dn.prototype._endoWnafMulAdd = function(e, t, r) {
  for (var i = this._endoWnafT1, n = this._endoWnafT2, s = 0; s < e.length; s++) {
    var u = this._endoSplit(t[s]), p = e[s], b = p._getBeta();
    u.k1.negative && (u.k1.ineg(), p = p.neg(!0)), u.k2.negative && (u.k2.ineg(), b = b.neg(!0)), i[s * 2] = p, i[s * 2 + 1] = b, n[s * 2] = u.k1, n[s * 2 + 1] = u.k2;
  }
  for (var m = this._wnafMulAdd(1, i, n, s * 2, r), w = 0; w < s * 2; w++)
    i[w] = null, n[w] = null;
  return m;
};
function jr(e, t, r, i) {
  $a.BasePoint.call(this, e, "affine"), t === null && r === null ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new Ee(t, 16), this.y = new Ee(r, 16), i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1);
}
p2(jr, $a.BasePoint), Dn.prototype.point = function(e, t, r) {
  return new jr(this, e, t, r);
}, Dn.prototype.pointFromJSON = function(e, t) {
  return jr.fromJSON(this, e, t);
}, jr.prototype._getBeta = function() {
  if (this.curve.endo) {
    var e = this.precomputed;
    if (e && e.beta)
      return e.beta;
    var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
    if (e) {
      var r = this.curve, i = function(n) {
        return r.point(n.x.redMul(r.endo.beta), n.y);
      };
      e.beta = t, t.precomputed = { beta: null, naf: e.naf && { wnd: e.naf.wnd, points: e.naf.points.map(i) }, doubles: e.doubles && { step: e.doubles.step, points: e.doubles.points.map(i) } };
    }
    return t;
  }
}, jr.prototype.toJSON = function() {
  return this.precomputed ? [this.x, this.y, this.precomputed && { doubles: this.precomputed.doubles && { step: this.precomputed.doubles.step, points: this.precomputed.doubles.points.slice(1) }, naf: this.precomputed.naf && { wnd: this.precomputed.naf.wnd, points: this.precomputed.naf.points.slice(1) } }] : [this.x, this.y];
}, jr.fromJSON = function(e, t, r) {
  typeof t == "string" && (t = JSON.parse(t));
  var i = e.point(t[0], t[1], r);
  if (!t[2])
    return i;
  function n(u) {
    return e.point(u[0], u[1], r);
  }
  var s = t[2];
  return i.precomputed = { beta: null, doubles: s.doubles && { step: s.doubles.step, points: [i].concat(s.doubles.points.map(n)) }, naf: s.naf && { wnd: s.naf.wnd, points: [i].concat(s.naf.points.map(n)) } }, i;
}, jr.prototype.inspect = function() {
  return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">";
}, jr.prototype.isInfinity = function() {
  return this.inf;
}, jr.prototype.add = function(e) {
  if (this.inf)
    return e;
  if (e.inf)
    return this;
  if (this.eq(e))
    return this.dbl();
  if (this.neg().eq(e))
    return this.curve.point(null, null);
  if (this.x.cmp(e.x) === 0)
    return this.curve.point(null, null);
  var t = this.y.redSub(e.y);
  t.cmpn(0) !== 0 && (t = t.redMul(this.x.redSub(e.x).redInvm()));
  var r = t.redSqr().redISub(this.x).redISub(e.x), i = t.redMul(this.x.redSub(r)).redISub(this.y);
  return this.curve.point(r, i);
}, jr.prototype.dbl = function() {
  if (this.inf)
    return this;
  var e = this.y.redAdd(this.y);
  if (e.cmpn(0) === 0)
    return this.curve.point(null, null);
  var t = this.curve.a, r = this.x.redSqr(), i = e.redInvm(), n = r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i), s = n.redSqr().redISub(this.x.redAdd(this.x)), u = n.redMul(this.x.redSub(s)).redISub(this.y);
  return this.curve.point(s, u);
}, jr.prototype.getX = function() {
  return this.x.fromRed();
}, jr.prototype.getY = function() {
  return this.y.fromRed();
}, jr.prototype.mul = function(e) {
  return e = new Ee(e, 16), this.isInfinity() ? this : this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [e]) : this.curve._wnafMul(this, e);
}, jr.prototype.mulAdd = function(e, t, r) {
  var i = [this, t], n = [e, r];
  return this.curve.endo ? this.curve._endoWnafMulAdd(i, n) : this.curve._wnafMulAdd(1, i, n, 2);
}, jr.prototype.jmulAdd = function(e, t, r) {
  var i = [this, t], n = [e, r];
  return this.curve.endo ? this.curve._endoWnafMulAdd(i, n, !0) : this.curve._wnafMulAdd(1, i, n, 2, !0);
}, jr.prototype.eq = function(e) {
  return this === e || this.inf === e.inf && (this.inf || this.x.cmp(e.x) === 0 && this.y.cmp(e.y) === 0);
}, jr.prototype.neg = function(e) {
  if (this.inf)
    return this;
  var t = this.curve.point(this.x, this.y.redNeg());
  if (e && this.precomputed) {
    var r = this.precomputed, i = function(n) {
      return n.neg();
    };
    t.precomputed = { naf: r.naf && { wnd: r.naf.wnd, points: r.naf.points.map(i) }, doubles: r.doubles && { step: r.doubles.step, points: r.doubles.points.map(i) } };
  }
  return t;
}, jr.prototype.toJ = function() {
  if (this.inf)
    return this.curve.jpoint(null, null, null);
  var e = this.curve.jpoint(this.x, this.y, this.curve.one);
  return e;
};
function Zr(e, t, r, i) {
  $a.BasePoint.call(this, e, "jacobian"), t === null && r === null && i === null ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new Ee(0)) : (this.x = new Ee(t, 16), this.y = new Ee(r, 16), this.z = new Ee(i, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one;
}
p2(Zr, $a.BasePoint), Dn.prototype.jpoint = function(e, t, r) {
  return new Zr(this, e, t, r);
}, Zr.prototype.toP = function() {
  if (this.isInfinity())
    return this.curve.point(null, null);
  var e = this.z.redInvm(), t = e.redSqr(), r = this.x.redMul(t), i = this.y.redMul(t).redMul(e);
  return this.curve.point(r, i);
}, Zr.prototype.neg = function() {
  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
}, Zr.prototype.add = function(e) {
  if (this.isInfinity())
    return e;
  if (e.isInfinity())
    return this;
  var t = e.z.redSqr(), r = this.z.redSqr(), i = this.x.redMul(t), n = e.x.redMul(r), s = this.y.redMul(t.redMul(e.z)), u = e.y.redMul(r.redMul(this.z)), p = i.redSub(n), b = s.redSub(u);
  if (p.cmpn(0) === 0)
    return b.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var m = p.redSqr(), w = m.redMul(p), S = i.redMul(m), C = b.redSqr().redIAdd(w).redISub(S).redISub(S), D = b.redMul(S.redISub(C)).redISub(s.redMul(w)), P = this.z.redMul(e.z).redMul(p);
  return this.curve.jpoint(C, D, P);
}, Zr.prototype.mixedAdd = function(e) {
  if (this.isInfinity())
    return e.toJ();
  if (e.isInfinity())
    return this;
  var t = this.z.redSqr(), r = this.x, i = e.x.redMul(t), n = this.y, s = e.y.redMul(t).redMul(this.z), u = r.redSub(i), p = n.redSub(s);
  if (u.cmpn(0) === 0)
    return p.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var b = u.redSqr(), m = b.redMul(u), w = r.redMul(b), S = p.redSqr().redIAdd(m).redISub(w).redISub(w), C = p.redMul(w.redISub(S)).redISub(n.redMul(m)), D = this.z.redMul(u);
  return this.curve.jpoint(S, C, D);
}, Zr.prototype.dblp = function(e) {
  if (e === 0)
    return this;
  if (this.isInfinity())
    return this;
  if (!e)
    return this.dbl();
  var t;
  if (this.curve.zeroA || this.curve.threeA) {
    var r = this;
    for (t = 0; t < e; t++)
      r = r.dbl();
    return r;
  }
  var i = this.curve.a, n = this.curve.tinv, s = this.x, u = this.y, p = this.z, b = p.redSqr().redSqr(), m = u.redAdd(u);
  for (t = 0; t < e; t++) {
    var w = s.redSqr(), S = m.redSqr(), C = S.redSqr(), D = w.redAdd(w).redIAdd(w).redIAdd(i.redMul(b)), P = s.redMul(S), k = D.redSqr().redISub(P.redAdd(P)), z = P.redISub(k), V = D.redMul(z);
    V = V.redIAdd(V).redISub(C);
    var Q = m.redMul(p);
    t + 1 < e && (b = b.redMul(C)), s = k, p = Q, m = V;
  }
  return this.curve.jpoint(s, m.redMul(n), p);
}, Zr.prototype.dbl = function() {
  return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl();
}, Zr.prototype._zeroDbl = function() {
  var e, t, r;
  if (this.zOne) {
    var i = this.x.redSqr(), n = this.y.redSqr(), s = n.redSqr(), u = this.x.redAdd(n).redSqr().redISub(i).redISub(s);
    u = u.redIAdd(u);
    var p = i.redAdd(i).redIAdd(i), b = p.redSqr().redISub(u).redISub(u), m = s.redIAdd(s);
    m = m.redIAdd(m), m = m.redIAdd(m), e = b, t = p.redMul(u.redISub(b)).redISub(m), r = this.y.redAdd(this.y);
  } else {
    var w = this.x.redSqr(), S = this.y.redSqr(), C = S.redSqr(), D = this.x.redAdd(S).redSqr().redISub(w).redISub(C);
    D = D.redIAdd(D);
    var P = w.redAdd(w).redIAdd(w), k = P.redSqr(), z = C.redIAdd(C);
    z = z.redIAdd(z), z = z.redIAdd(z), e = k.redISub(D).redISub(D), t = P.redMul(D.redISub(e)).redISub(z), r = this.y.redMul(this.z), r = r.redIAdd(r);
  }
  return this.curve.jpoint(e, t, r);
}, Zr.prototype._threeDbl = function() {
  var e, t, r;
  if (this.zOne) {
    var i = this.x.redSqr(), n = this.y.redSqr(), s = n.redSqr(), u = this.x.redAdd(n).redSqr().redISub(i).redISub(s);
    u = u.redIAdd(u);
    var p = i.redAdd(i).redIAdd(i).redIAdd(this.curve.a), b = p.redSqr().redISub(u).redISub(u);
    e = b;
    var m = s.redIAdd(s);
    m = m.redIAdd(m), m = m.redIAdd(m), t = p.redMul(u.redISub(b)).redISub(m), r = this.y.redAdd(this.y);
  } else {
    var w = this.z.redSqr(), S = this.y.redSqr(), C = this.x.redMul(S), D = this.x.redSub(w).redMul(this.x.redAdd(w));
    D = D.redAdd(D).redIAdd(D);
    var P = C.redIAdd(C);
    P = P.redIAdd(P);
    var k = P.redAdd(P);
    e = D.redSqr().redISub(k), r = this.y.redAdd(this.z).redSqr().redISub(S).redISub(w);
    var z = S.redSqr();
    z = z.redIAdd(z), z = z.redIAdd(z), z = z.redIAdd(z), t = D.redMul(P.redISub(e)).redISub(z);
  }
  return this.curve.jpoint(e, t, r);
}, Zr.prototype._dbl = function() {
  var e = this.curve.a, t = this.x, r = this.y, i = this.z, n = i.redSqr().redSqr(), s = t.redSqr(), u = r.redSqr(), p = s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)), b = t.redAdd(t);
  b = b.redIAdd(b);
  var m = b.redMul(u), w = p.redSqr().redISub(m.redAdd(m)), S = m.redISub(w), C = u.redSqr();
  C = C.redIAdd(C), C = C.redIAdd(C), C = C.redIAdd(C);
  var D = p.redMul(S).redISub(C), P = r.redAdd(r).redMul(i);
  return this.curve.jpoint(w, D, P);
}, Zr.prototype.trpl = function() {
  if (!this.curve.zeroA)
    return this.dbl().add(this);
  var e = this.x.redSqr(), t = this.y.redSqr(), r = this.z.redSqr(), i = t.redSqr(), n = e.redAdd(e).redIAdd(e), s = n.redSqr(), u = this.x.redAdd(t).redSqr().redISub(e).redISub(i);
  u = u.redIAdd(u), u = u.redAdd(u).redIAdd(u), u = u.redISub(s);
  var p = u.redSqr(), b = i.redIAdd(i);
  b = b.redIAdd(b), b = b.redIAdd(b), b = b.redIAdd(b);
  var m = n.redIAdd(u).redSqr().redISub(s).redISub(p).redISub(b), w = t.redMul(m);
  w = w.redIAdd(w), w = w.redIAdd(w);
  var S = this.x.redMul(p).redISub(w);
  S = S.redIAdd(S), S = S.redIAdd(S);
  var C = this.y.redMul(m.redMul(b.redISub(m)).redISub(u.redMul(p)));
  C = C.redIAdd(C), C = C.redIAdd(C), C = C.redIAdd(C);
  var D = this.z.redAdd(u).redSqr().redISub(r).redISub(p);
  return this.curve.jpoint(S, C, D);
}, Zr.prototype.mul = function(e, t) {
  return e = new Ee(e, t), this.curve._wnafMul(this, e);
}, Zr.prototype.eq = function(e) {
  if (e.type === "affine")
    return this.eq(e.toJ());
  if (this === e)
    return !0;
  var t = this.z.redSqr(), r = e.z.redSqr();
  if (this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0) !== 0)
    return !1;
  var i = t.redMul(this.z), n = r.redMul(e.z);
  return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0) === 0;
}, Zr.prototype.eqXToP = function(e) {
  var t = this.z.redSqr(), r = e.toRed(this.curve.red).redMul(t);
  if (this.x.cmp(r) === 0)
    return !0;
  for (var i = e.clone(), n = this.curve.redN.redMul(t); ; ) {
    if (i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)
      return !1;
    if (r.redIAdd(n), this.x.cmp(r) === 0)
      return !0;
  }
}, Zr.prototype.inspect = function() {
  return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">";
}, Zr.prototype.isInfinity = function() {
  return this.z.cmpn(0) === 0;
};
var g0 = of(function(e, t) {
  var r = t;
  r.base = $a, r.short = IB, r.mont = null, r.edwards = null;
}), m0 = of(function(e, t) {
  var r = t, i = rn.assert;
  function n(p) {
    p.type === "short" ? this.curve = new g0.short(p) : p.type === "edwards" ? this.curve = new g0.edwards(p) : this.curve = new g0.mont(p), this.g = this.curve.g, this.n = this.curve.n, this.hash = p.hash, i(this.g.validate(), "Invalid curve"), i(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
  }
  r.PresetCurve = n;
  function s(p, b) {
    Object.defineProperty(r, p, { configurable: !0, enumerable: !0, get: function() {
      var m = new n(b);
      return Object.defineProperty(r, p, { configurable: !0, enumerable: !0, value: m }), m;
    } });
  }
  s("p192", { type: "short", prime: "p192", p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff", a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc", b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1", n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831", hash: ws.sha256, gRed: !1, g: ["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012", "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"] }), s("p224", { type: "short", prime: "p224", p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001", a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe", b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4", n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d", hash: ws.sha256, gRed: !1, g: ["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21", "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"] }), s("p256", { type: "short", prime: null, p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff", a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc", b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b", n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551", hash: ws.sha256, gRed: !1, g: ["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296", "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"] }), s("p384", { type: "short", prime: null, p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff", a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc", b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef", n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973", hash: ws.sha384, gRed: !1, g: ["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7", "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"] }), s("p521", { type: "short", prime: null, p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff", a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc", b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00", n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409", hash: ws.sha512, gRed: !1, g: ["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66", "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"] }), s("curve25519", { type: "mont", prime: "p25519", p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed", a: "76d06", b: "1", n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed", hash: ws.sha256, gRed: !1, g: ["9"] }), s("ed25519", { type: "edwards", prime: "p25519", p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed", a: "-1", c: "1", d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3", n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed", hash: ws.sha256, gRed: !1, g: ["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a", "6666666666666666666666666666666666666666666666666666666666666658"] });
  var u;
  try {
    u = null.crash();
  } catch {
    u = void 0;
  }
  s("secp256k1", { type: "short", prime: "k256", p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f", a: "0", b: "7", n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141", h: "1", hash: ws.sha256, beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee", lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72", basis: [{ a: "3086d221a7d46bcde86c90e49284eb15", b: "-e4437ed6010e88286f547fa90abfe4c3" }, { a: "114ca50f7a8e2f3f657c1108d9d44cfd8", b: "3086d221a7d46bcde86c90e49284eb15" }], gRed: !1, g: ["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798", "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8", u] });
});
function Xo(e) {
  if (!(this instanceof Xo))
    return new Xo(e);
  this.hash = e.hash, this.predResist = !!e.predResist, this.outLen = this.hash.outSize, this.minEntropy = e.minEntropy || this.hash.hmacStrength, this._reseed = null, this.reseedInterval = null, this.K = null, this.V = null;
  var t = ns.toArray(e.entropy, e.entropyEnc || "hex"), r = ns.toArray(e.nonce, e.nonceEnc || "hex"), i = ns.toArray(e.pers, e.persEnc || "hex");
  d2(t.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._init(t, r, i);
}
var ov = Xo;
Xo.prototype._init = function(e, t, r) {
  var i = e.concat(t).concat(r);
  this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8);
  for (var n = 0; n < this.V.length; n++)
    this.K[n] = 0, this.V[n] = 1;
  this._update(i), this._reseed = 1, this.reseedInterval = 281474976710656;
}, Xo.prototype._hmac = function() {
  return new ws.hmac(this.hash, this.K);
}, Xo.prototype._update = function(e) {
  var t = this._hmac().update(this.V).update([0]);
  e && (t = t.update(e)), this.K = t.digest(), this.V = this._hmac().update(this.V).digest(), e && (this.K = this._hmac().update(this.V).update([1]).update(e).digest(), this.V = this._hmac().update(this.V).digest());
}, Xo.prototype.reseed = function(e, t, r, i) {
  typeof t != "string" && (i = r, r = t, t = null), e = ns.toArray(e, t), r = ns.toArray(r, i), d2(e.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._update(e.concat(r || [])), this._reseed = 1;
}, Xo.prototype.generate = function(e, t, r, i) {
  if (this._reseed > this.reseedInterval)
    throw new Error("Reseed is required");
  typeof t != "string" && (i = r, r = t, t = null), r && (r = ns.toArray(r, i || "hex"), this._update(r));
  for (var n = []; n.length < e; )
    this.V = this._hmac().update(this.V).digest(), n = n.concat(this.V);
  var s = n.slice(0, e);
  return this._update(r), this._reseed++, ns.encode(s, t);
};
var b1 = rn.assert;
function ci(e, t) {
  this.ec = e, this.priv = null, this.pub = null, t.priv && this._importPrivate(t.priv, t.privEnc), t.pub && this._importPublic(t.pub, t.pubEnc);
}
var y1 = ci;
ci.fromPublic = function(e, t, r) {
  return t instanceof ci ? t : new ci(e, { pub: t, pubEnc: r });
}, ci.fromPrivate = function(e, t, r) {
  return t instanceof ci ? t : new ci(e, { priv: t, privEnc: r });
}, ci.prototype.validate = function() {
  var e = this.getPublic();
  return e.isInfinity() ? { result: !1, reason: "Invalid public key" } : e.validate() ? e.mul(this.ec.curve.n).isInfinity() ? { result: !0, reason: null } : { result: !1, reason: "Public key * N != O" } : { result: !1, reason: "Public key is not a point" };
}, ci.prototype.getPublic = function(e, t) {
  return typeof e == "string" && (t = e, e = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), t ? this.pub.encode(t, e) : this.pub;
}, ci.prototype.getPrivate = function(e) {
  return e === "hex" ? this.priv.toString(16, 2) : this.priv;
}, ci.prototype._importPrivate = function(e, t) {
  this.priv = new Ee(e, t || 16), this.priv = this.priv.umod(this.ec.curve.n);
}, ci.prototype._importPublic = function(e, t) {
  if (e.x || e.y) {
    this.ec.curve.type === "mont" ? b1(e.x, "Need x coordinate") : (this.ec.curve.type === "short" || this.ec.curve.type === "edwards") && b1(e.x && e.y, "Need both x and y coordinate"), this.pub = this.ec.curve.point(e.x, e.y);
    return;
  }
  this.pub = this.ec.curve.decodePoint(e, t);
}, ci.prototype.derive = function(e) {
  return e.validate() || b1(e.validate(), "public point not validated"), e.mul(this.priv).getX();
}, ci.prototype.sign = function(e, t, r) {
  return this.ec.sign(e, this, t, r);
}, ci.prototype.verify = function(e, t) {
  return this.ec.verify(e, t, this);
}, ci.prototype.inspect = function() {
  return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >";
};
var DB = rn.assert;
function gl(e, t) {
  if (e instanceof gl)
    return e;
  this._importDER(e, t) || (DB(e.r && e.s, "Signature without r or s"), this.r = new Ee(e.r, 16), this.s = new Ee(e.s, 16), e.recoveryParam === void 0 ? this.recoveryParam = null : this.recoveryParam = e.recoveryParam);
}
var Wc = gl;
function CB() {
  this.place = 0;
}
function w1(e, t) {
  var r = e[t.place++];
  if (!(r & 128))
    return r;
  var i = r & 15;
  if (i === 0 || i > 4)
    return !1;
  for (var n = 0, s = 0, u = t.place; s < i; s++, u++)
    n <<= 8, n |= e[u], n >>>= 0;
  return n <= 127 ? !1 : (t.place = u, n);
}
function av(e) {
  for (var t = 0, r = e.length - 1; !e[t] && !(e[t + 1] & 128) && t < r; )
    t++;
  return t === 0 ? e : e.slice(t);
}
gl.prototype._importDER = function(e, t) {
  e = rn.toArray(e, t);
  var r = new CB();
  if (e[r.place++] !== 48)
    return !1;
  var i = w1(e, r);
  if (i === !1 || i + r.place !== e.length || e[r.place++] !== 2)
    return !1;
  var n = w1(e, r);
  if (n === !1)
    return !1;
  var s = e.slice(r.place, n + r.place);
  if (r.place += n, e[r.place++] !== 2)
    return !1;
  var u = w1(e, r);
  if (u === !1 || e.length !== u + r.place)
    return !1;
  var p = e.slice(r.place, u + r.place);
  if (s[0] === 0)
    if (s[1] & 128)
      s = s.slice(1);
    else
      return !1;
  if (p[0] === 0)
    if (p[1] & 128)
      p = p.slice(1);
    else
      return !1;
  return this.r = new Ee(s), this.s = new Ee(p), this.recoveryParam = null, !0;
};
function A1(e, t) {
  if (t < 128) {
    e.push(t);
    return;
  }
  var r = 1 + (Math.log(t) / Math.LN2 >>> 3);
  for (e.push(r | 128); --r; )
    e.push(t >>> (r << 3) & 255);
  e.push(t);
}
gl.prototype.toDER = function(e) {
  var t = this.r.toArray(), r = this.s.toArray();
  for (t[0] & 128 && (t = [0].concat(t)), r[0] & 128 && (r = [0].concat(r)), t = av(t), r = av(r); !r[0] && !(r[1] & 128); )
    r = r.slice(1);
  var i = [2];
  A1(i, t.length), i = i.concat(t), i.push(2), A1(i, r.length);
  var n = i.concat(r), s = [48];
  return A1(s, n.length), s = s.concat(n), rn.encode(s, e);
};
var NB = function() {
  throw new Error("unsupported");
}, cy = rn.assert;
function Mn(e) {
  if (!(this instanceof Mn))
    return new Mn(e);
  typeof e == "string" && (cy(Object.prototype.hasOwnProperty.call(m0, e), "Unknown curve " + e), e = m0[e]), e instanceof m0.PresetCurve && (e = { curve: e }), this.curve = e.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = e.curve.g, this.g.precompute(e.curve.n.bitLength() + 1), this.hash = e.hash || e.curve.hash;
}
var PB = Mn;
Mn.prototype.keyPair = function(e) {
  return new y1(this, e);
}, Mn.prototype.keyFromPrivate = function(e, t) {
  return y1.fromPrivate(this, e, t);
}, Mn.prototype.keyFromPublic = function(e, t) {
  return y1.fromPublic(this, e, t);
}, Mn.prototype.genKeyPair = function(e) {
  e || (e = {});
  for (var t = new ov({ hash: this.hash, pers: e.pers, persEnc: e.persEnc || "utf8", entropy: e.entropy || NB(this.hash.hmacStrength), entropyEnc: e.entropy && e.entropyEnc || "utf8", nonce: this.n.toArray() }), r = this.n.byteLength(), i = this.n.sub(new Ee(2)); ; ) {
    var n = new Ee(t.generate(r));
    if (!(n.cmp(i) > 0))
      return n.iaddn(1), this.keyFromPrivate(n);
  }
}, Mn.prototype._truncateToN = function(e, t) {
  var r = e.byteLength() * 8 - this.n.bitLength();
  return r > 0 && (e = e.ushrn(r)), !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e;
}, Mn.prototype.sign = function(e, t, r, i) {
  typeof r == "object" && (i = r, r = null), i || (i = {}), t = this.keyFromPrivate(t, r), e = this._truncateToN(new Ee(e, 16));
  for (var n = this.n.byteLength(), s = t.getPrivate().toArray("be", n), u = e.toArray("be", n), p = new ov({ hash: this.hash, entropy: s, nonce: u, pers: i.pers, persEnc: i.persEnc || "utf8" }), b = this.n.sub(new Ee(1)), m = 0; ; m++) {
    var w = i.k ? i.k(m) : new Ee(p.generate(this.n.byteLength()));
    if (w = this._truncateToN(w, !0), !(w.cmpn(1) <= 0 || w.cmp(b) >= 0)) {
      var S = this.g.mul(w);
      if (!S.isInfinity()) {
        var C = S.getX(), D = C.umod(this.n);
        if (D.cmpn(0) !== 0) {
          var P = w.invm(this.n).mul(D.mul(t.getPrivate()).iadd(e));
          if (P = P.umod(this.n), P.cmpn(0) !== 0) {
            var k = (S.getY().isOdd() ? 1 : 0) | (C.cmp(D) !== 0 ? 2 : 0);
            return i.canonical && P.cmp(this.nh) > 0 && (P = this.n.sub(P), k ^= 1), new Wc({ r: D, s: P, recoveryParam: k });
          }
        }
      }
    }
  }
}, Mn.prototype.verify = function(e, t, r, i) {
  e = this._truncateToN(new Ee(e, 16)), r = this.keyFromPublic(r, i), t = new Wc(t, "hex");
  var n = t.r, s = t.s;
  if (n.cmpn(1) < 0 || n.cmp(this.n) >= 0 || s.cmpn(1) < 0 || s.cmp(this.n) >= 0)
    return !1;
  var u = s.invm(this.n), p = u.mul(e).umod(this.n), b = u.mul(n).umod(this.n), m;
  return this.curve._maxwellTrick ? (m = this.g.jmulAdd(p, r.getPublic(), b), m.isInfinity() ? !1 : m.eqXToP(n)) : (m = this.g.mulAdd(p, r.getPublic(), b), m.isInfinity() ? !1 : m.getX().umod(this.n).cmp(n) === 0);
}, Mn.prototype.recoverPubKey = function(e, t, r, i) {
  cy((3 & r) === r, "The recovery param is more than two bits"), t = new Wc(t, i);
  var n = this.n, s = new Ee(e), u = t.r, p = t.s, b = r & 1, m = r >> 1;
  if (u.cmp(this.curve.p.umod(this.curve.n)) >= 0 && m)
    throw new Error("Unable to find sencond key candinate");
  m ? u = this.curve.pointFromX(u.add(this.curve.n), b) : u = this.curve.pointFromX(u, b);
  var w = t.r.invm(n), S = n.sub(s).mul(w).umod(n), C = p.mul(w).umod(n);
  return this.g.mulAdd(S, u, C);
}, Mn.prototype.getKeyRecoveryParam = function(e, t, r, i) {
  if (t = new Wc(t, i), t.recoveryParam !== null)
    return t.recoveryParam;
  for (var n = 0; n < 4; n++) {
    var s;
    try {
      s = this.recoverPubKey(e, t, n);
    } catch {
      continue;
    }
    if (s.eq(r))
      return n;
  }
  throw new Error("Unable to find valid recovery factor");
};
var RB = of(function(e, t) {
  var r = t;
  r.version = "6.5.4", r.utils = rn, r.rand = function() {
    throw new Error("unsupported");
  }, r.curve = g0, r.curves = m0, r.ec = PB, r.eddsa = null;
});
RB.ec;
var hv;
(function(e) {
  e[e.legacy = 0] = "legacy", e[e.eip2930 = 1] = "eip2930", e[e.eip1559 = 2] = "eip1559";
})(hv || (hv = {}));
var OB = Object.defineProperty, BB = Object.defineProperties, TB = Object.getOwnPropertyDescriptors, fv = Object.getOwnPropertySymbols, FB = Object.prototype.hasOwnProperty, UB = Object.prototype.propertyIsEnumerable, uv = (e, t, r) => t in e ? OB(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, qB = (e, t) => {
  for (var r in t || (t = {}))
    FB.call(t, r) && uv(e, r, t[r]);
  if (fv)
    for (var r of fv(t))
      UB.call(t, r) && uv(e, r, t[r]);
  return e;
}, LB = (e, t) => BB(e, TB(t));
const ly = "base10", Mi = "base16", Ip = "base64pad", g2 = "utf8", dy = 0, af = 1, kB = 0, cv = 1, Dp = 12, m2 = 32;
function zB() {
  const e = Xp.generateKeyPair();
  return { privateKey: Jr(e.secretKey, Mi), publicKey: Jr(e.publicKey, Mi) };
}
function Cp() {
  const e = Kh.randomBytes(m2);
  return Jr(e, Mi);
}
function $B(e, t) {
  const r = Xp.sharedKey(kr(e, Mi), kr(t, Mi), !0), i = new YM(Fa.SHA256, r).expand(m2);
  return Jr(i, Mi);
}
function HB(e) {
  const t = Fa.hash(kr(e, Mi));
  return Jr(t, Mi);
}
function Np(e) {
  const t = Fa.hash(kr(e, g2));
  return Jr(t, Mi);
}
function jB(e) {
  return kr(`${e}`, ly);
}
function Ou(e) {
  return Number(Jr(e, ly));
}
function KB(e) {
  const t = jB(typeof e.type < "u" ? e.type : dy);
  if (Ou(t) === af && typeof e.senderPublicKey > "u")
    throw new Error("Missing sender public key for type 1 envelope");
  const r = typeof e.senderPublicKey < "u" ? kr(e.senderPublicKey, Mi) : void 0, i = typeof e.iv < "u" ? kr(e.iv, Mi) : Kh.randomBytes(Dp), n = new Vp.ChaCha20Poly1305(kr(e.symKey, Mi)).seal(i, kr(e.message, g2));
  return QB({ type: t, sealed: n, iv: i, senderPublicKey: r });
}
function GB(e) {
  const t = new Vp.ChaCha20Poly1305(kr(e.symKey, Mi)), { sealed: r, iv: i } = U0(e.encoded), n = t.open(i, r);
  if (n === null)
    throw new Error("Failed to decrypt");
  return Jr(n, g2);
}
function QB(e) {
  if (Ou(e.type) === af) {
    if (typeof e.senderPublicKey > "u")
      throw new Error("Missing sender public key for type 1 envelope");
    return Jr(ap([e.type, e.senderPublicKey, e.iv, e.sealed]), Ip);
  }
  return Jr(ap([e.type, e.iv, e.sealed]), Ip);
}
function U0(e) {
  const t = kr(e, Ip), r = t.slice(kB, cv), i = cv;
  if (Ou(r) === af) {
    const p = i + m2, b = p + Dp, m = t.slice(i, p), w = t.slice(p, b), S = t.slice(b);
    return { type: r, sealed: S, iv: w, senderPublicKey: m };
  }
  const n = i + Dp, s = t.slice(i, n), u = t.slice(n);
  return { type: r, sealed: u, iv: s };
}
function JB(e, t) {
  const r = U0(e);
  return py({ type: Ou(r.type), senderPublicKey: typeof r.senderPublicKey < "u" ? Jr(r.senderPublicKey, Mi) : void 0, receiverPublicKey: t == null ? void 0 : t.receiverPublicKey });
}
function py(e) {
  const t = (e == null ? void 0 : e.type) || dy;
  if (t === af) {
    if (typeof (e == null ? void 0 : e.senderPublicKey) > "u")
      throw new Error("missing sender public key");
    if (typeof (e == null ? void 0 : e.receiverPublicKey) > "u")
      throw new Error("missing receiver public key");
  }
  return { type: t, senderPublicKey: e == null ? void 0 : e.senderPublicKey, receiverPublicKey: e == null ? void 0 : e.receiverPublicKey };
}
function lv(e) {
  return e.type === af && typeof e.senderPublicKey == "string" && typeof e.receiverPublicKey == "string";
}
function YB(e) {
  return new pb.ec("p256").keyFromPublic({ x: Buffer.from(e.x, "base64").toString("hex"), y: Buffer.from(e.y, "base64").toString("hex") }, "hex");
}
function VB(e) {
  let t = e.replace(/-/g, "+").replace(/_/g, "/");
  const r = t.length % 4;
  return r > 0 && (t += "=".repeat(4 - r)), t;
}
function WB(e) {
  return Buffer.from(VB(e), "base64");
}
function XB(e, t) {
  const [r, i, n] = e.split("."), s = WB(n);
  if (s.length !== 64)
    throw new Error("Invalid signature length");
  const u = s.slice(0, 32).toString("hex"), p = s.slice(32, 64).toString("hex"), b = `${r}.${i}`, m = new Fa.SHA256().update(Buffer.from(b)).digest(), w = YB(t), S = Buffer.from(m).toString("hex"), C = w.verify(S, { r: u, s: p });
  if (!C)
    throw new Error("Invalid signature");
  const D = cp(e);
  return LB(qB({}, D.payload), { isVerified: C });
}
const ZB = "irn";
function Pp(e) {
  return (e == null ? void 0 : e.relay) || { protocol: ZB };
}
function Wf(e) {
  const t = ND[e];
  if (typeof t > "u")
    throw new Error(`Relay Protocol not supported: ${e}`);
  return t;
}
var tT = Object.defineProperty, eT = Object.defineProperties, rT = Object.getOwnPropertyDescriptors, dv = Object.getOwnPropertySymbols, iT = Object.prototype.hasOwnProperty, nT = Object.prototype.propertyIsEnumerable, pv = (e, t, r) => t in e ? tT(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, gv = (e, t) => {
  for (var r in t || (t = {}))
    iT.call(t, r) && pv(e, r, t[r]);
  if (dv)
    for (var r of dv(t))
      nT.call(t, r) && pv(e, r, t[r]);
  return e;
}, sT = (e, t) => eT(e, rT(t));
function oT(e, t = "-") {
  const r = {}, i = "relay" + t;
  return Object.keys(e).forEach((n) => {
    if (n.startsWith(i)) {
      const s = n.replace(i, ""), u = e[n];
      r[s] = u;
    }
  }), r;
}
function mv(e) {
  e = e.includes("wc://") ? e.replace("wc://", "") : e, e = e.includes("wc:") ? e.replace("wc:", "") : e;
  const t = e.indexOf(":"), r = e.indexOf("?") !== -1 ? e.indexOf("?") : void 0, i = e.substring(0, t), n = e.substring(t + 1, r).split("@"), s = typeof r < "u" ? e.substring(r) : "", u = fu.parse(s), p = typeof u.methods == "string" ? u.methods.split(",") : void 0;
  return { protocol: i, topic: aT(n[0]), version: parseInt(n[1], 10), symKey: u.symKey, relay: oT(u), methods: p, expiryTimestamp: u.expiryTimestamp ? parseInt(u.expiryTimestamp, 10) : void 0 };
}
function aT(e) {
  return e.startsWith("//") ? e.substring(2) : e;
}
function hT(e, t = "-") {
  const r = "relay", i = {};
  return Object.keys(e).forEach((n) => {
    const s = r + t + n;
    e[n] && (i[s] = e[n]);
  }), i;
}
function fT(e) {
  return `${e.protocol}:${e.topic}@${e.version}?` + fu.stringify(gv(sT(gv({ symKey: e.symKey }, hT(e.relay)), { expiryTimestamp: e.expiryTimestamp }), e.methods ? { methods: e.methods.join(",") } : {}));
}
const uT = { INVALID_METHOD: { message: "Invalid method.", code: 1001 }, INVALID_EVENT: { message: "Invalid event.", code: 1002 }, INVALID_UPDATE_REQUEST: { message: "Invalid update request.", code: 1003 }, INVALID_EXTEND_REQUEST: { message: "Invalid extend request.", code: 1004 }, INVALID_SESSION_SETTLE_REQUEST: { message: "Invalid session settle request.", code: 1005 }, UNAUTHORIZED_METHOD: { message: "Unauthorized method.", code: 3001 }, UNAUTHORIZED_EVENT: { message: "Unauthorized event.", code: 3002 }, UNAUTHORIZED_UPDATE_REQUEST: { message: "Unauthorized update request.", code: 3003 }, UNAUTHORIZED_EXTEND_REQUEST: { message: "Unauthorized extend request.", code: 3004 }, USER_REJECTED: { message: "User rejected.", code: 5e3 }, USER_REJECTED_CHAINS: { message: "User rejected chains.", code: 5001 }, USER_REJECTED_METHODS: { message: "User rejected methods.", code: 5002 }, USER_REJECTED_EVENTS: { message: "User rejected events.", code: 5003 }, UNSUPPORTED_CHAINS: { message: "Unsupported chains.", code: 5100 }, UNSUPPORTED_METHODS: { message: "Unsupported methods.", code: 5101 }, UNSUPPORTED_EVENTS: { message: "Unsupported events.", code: 5102 }, UNSUPPORTED_ACCOUNTS: { message: "Unsupported accounts.", code: 5103 }, UNSUPPORTED_NAMESPACE_KEY: { message: "Unsupported namespace key.", code: 5104 }, USER_DISCONNECTED: { message: "User disconnected.", code: 6e3 }, SESSION_SETTLEMENT_FAILED: { message: "Session settlement failed.", code: 7e3 }, WC_METHOD_UNSUPPORTED: { message: "Unsupported wc_ method.", code: 10001 } }, cT = { NOT_INITIALIZED: { message: "Not initialized.", code: 1 }, NO_MATCHING_KEY: { message: "No matching key.", code: 2 }, RESTORE_WILL_OVERRIDE: { message: "Restore will override.", code: 3 }, RESUBSCRIBED: { message: "Resubscribed.", code: 4 }, MISSING_OR_INVALID: { message: "Missing or invalid.", code: 5 }, EXPIRED: { message: "Expired.", code: 6 }, UNKNOWN_TYPE: { message: "Unknown type.", code: 7 }, MISMATCHED_TOPIC: { message: "Mismatched topic.", code: 8 }, NON_CONFORMING_NAMESPACES: { message: "Non conforming namespaces.", code: 9 } };
function Ye(e, t) {
  const { message: r, code: i } = cT[e];
  return { message: t ? `${r} ${t}` : r, code: i };
}
function Xf(e, t) {
  const { message: r, code: i } = uT[e];
  return { message: t ? `${r} ${t}` : r, code: i };
}
function lT(e, t) {
  return !!Array.isArray(e);
}
function Rp(e) {
  return typeof e > "u";
}
function gy(e, t) {
  return typeof e == "string" && !!e.trim().length;
}
function dT(e) {
  if (gy(e))
    try {
      return typeof new URL(e) < "u";
    } catch {
      return !1;
    }
  return !1;
}
function pT(e) {
  var t;
  return (t = e == null ? void 0 : e.proposer) == null ? void 0 : t.publicKey;
}
function gT(e) {
  return e == null ? void 0 : e.topic;
}
function _1(e) {
  return typeof e < "u" && typeof e !== null;
}
function vv() {
  const e = pl();
  return new Promise((t) => {
    switch (e) {
      case is.browser:
        t(mT());
        break;
      case is.reactNative:
        t(vT());
        break;
      case is.node:
        t(bT());
        break;
      default:
        t(!0);
    }
  });
}
function mT() {
  return dl() && (navigator == null ? void 0 : navigator.onLine);
}
async function vT() {
  if (Nu() && typeof global < "u" && global != null && global.NetInfo) {
    const e = await (global == null ? void 0 : global.NetInfo.fetch());
    return e == null ? void 0 : e.isConnected;
  }
  return !0;
}
function bT() {
  return !0;
}
function yT(e) {
  switch (pl()) {
    case is.browser:
      wT(e);
      break;
    case is.reactNative:
      AT(e);
      break;
  }
}
function wT(e) {
  !Nu() && dl() && (window.addEventListener("online", () => e(!0)), window.addEventListener("offline", () => e(!1)));
}
function AT(e) {
  Nu() && typeof global < "u" && global != null && global.NetInfo && (global == null || global.NetInfo.addEventListener((t) => e(t == null ? void 0 : t.isConnected)));
}
const _T = "PARSE_ERROR", ET = "INVALID_REQUEST", MT = "METHOD_NOT_FOUND", ST = "INVALID_PARAMS", my = "INTERNAL_ERROR", v2 = "SERVER_ERROR", xT = [-32700, -32600, -32601, -32602, -32603], nu = {
  [_T]: { code: -32700, message: "Parse error" },
  [ET]: { code: -32600, message: "Invalid Request" },
  [MT]: { code: -32601, message: "Method not found" },
  [ST]: { code: -32602, message: "Invalid params" },
  [my]: { code: -32603, message: "Internal error" },
  [v2]: { code: -32e3, message: "Server error" }
}, vy = v2;
function IT(e) {
  return xT.includes(e);
}
function bv(e) {
  return Object.keys(nu).includes(e) ? nu[e] : nu[vy];
}
function DT(e) {
  const t = Object.values(nu).find((r) => r.code === e);
  return t || nu[vy];
}
function by(e, t, r) {
  return e.message.includes("getaddrinfo ENOTFOUND") || e.message.includes("connect ECONNREFUSED") ? new Error(`Unavailable ${r} RPC url at ${t}`) : e;
}
var yy = {}, go = {}, yv;
function CT() {
  if (yv)
    return go;
  yv = 1, Object.defineProperty(go, "__esModule", { value: !0 }), go.isBrowserCryptoAvailable = go.getSubtleCrypto = go.getBrowerCrypto = void 0;
  function e() {
    return (Nn === null || Nn === void 0 ? void 0 : Nn.crypto) || (Nn === null || Nn === void 0 ? void 0 : Nn.msCrypto) || {};
  }
  go.getBrowerCrypto = e;
  function t() {
    const i = e();
    return i.subtle || i.webkitSubtle;
  }
  go.getSubtleCrypto = t;
  function r() {
    return !!e() && !!t();
  }
  return go.isBrowserCryptoAvailable = r, go;
}
var mo = {}, wv;
function NT() {
  if (wv)
    return mo;
  wv = 1, Object.defineProperty(mo, "__esModule", { value: !0 }), mo.isBrowser = mo.isNode = mo.isReactNative = void 0;
  function e() {
    return typeof document > "u" && typeof navigator < "u" && navigator.product === "ReactNative";
  }
  mo.isReactNative = e;
  function t() {
    return typeof process < "u" && typeof process.versions < "u" && typeof process.versions.node < "u";
  }
  mo.isNode = t;
  function r() {
    return !e() && !t();
  }
  return mo.isBrowser = r, mo;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 });
  const t = bu;
  t.__exportStar(CT(), e), t.__exportStar(NT(), e);
})(yy);
function Qo(e = 3) {
  const t = Date.now() * Math.pow(10, e), r = Math.floor(Math.random() * Math.pow(10, e));
  return t + r;
}
function xa(e = 6) {
  return BigInt(Qo(e));
}
function Ch(e, t, r) {
  return {
    id: r || Qo(),
    jsonrpc: "2.0",
    method: e,
    params: t
  };
}
function ml(e, t) {
  return {
    id: e,
    jsonrpc: "2.0",
    result: t
  };
}
function vl(e, t, r) {
  return {
    id: e,
    jsonrpc: "2.0",
    error: PT(t)
  };
}
function PT(e, t) {
  return typeof e > "u" ? bv(my) : (typeof e == "string" && (e = Object.assign(Object.assign({}, bv(v2)), { message: e })), IT(e.code) && (e = DT(e.code)), e);
}
class RT {
}
class OT extends RT {
  constructor() {
    super();
  }
}
class BT extends OT {
  constructor(t) {
    super();
  }
}
const TT = "^https?:", FT = "^wss?:";
function UT(e) {
  const t = e.match(new RegExp(/^\w+:/, "gi"));
  if (!(!t || !t.length))
    return t[0];
}
function wy(e, t) {
  const r = UT(e);
  return typeof r > "u" ? !1 : new RegExp(t).test(r);
}
function Av(e) {
  return wy(e, TT);
}
function _v(e) {
  return wy(e, FT);
}
function qT(e) {
  return new RegExp("wss?://localhost(:d{2,5})?").test(e);
}
function Ay(e) {
  return typeof e == "object" && "id" in e && "jsonrpc" in e && e.jsonrpc === "2.0";
}
function b2(e) {
  return Ay(e) && "method" in e;
}
function bl(e) {
  return Ay(e) && (_s(e) || xn(e));
}
function _s(e) {
  return "result" in e;
}
function xn(e) {
  return "error" in e;
}
let hs = class extends BT {
  constructor(t) {
    super(t), this.events = new Rn.EventEmitter(), this.hasRegisteredEventListeners = !1, this.connection = this.setConnection(t), this.connection.connected && this.registerEventListeners();
  }
  async connect(t = this.connection) {
    await this.open(t);
  }
  async disconnect() {
    await this.close();
  }
  on(t, r) {
    this.events.on(t, r);
  }
  once(t, r) {
    this.events.once(t, r);
  }
  off(t, r) {
    this.events.off(t, r);
  }
  removeListener(t, r) {
    this.events.removeListener(t, r);
  }
  async request(t, r) {
    return this.requestStrict(Ch(t.method, t.params || [], t.id || xa().toString()), r);
  }
  async requestStrict(t, r) {
    return new Promise(async (i, n) => {
      if (!this.connection.connected)
        try {
          await this.open();
        } catch (s) {
          n(s);
        }
      this.events.on(`${t.id}`, (s) => {
        xn(s) ? n(s.error) : i(s.result);
      });
      try {
        await this.connection.send(t, r);
      } catch (s) {
        n(s);
      }
    });
  }
  setConnection(t = this.connection) {
    return t;
  }
  onPayload(t) {
    this.events.emit("payload", t), bl(t) ? this.events.emit(`${t.id}`, t) : this.events.emit("message", { type: t.method, data: t.params });
  }
  onClose(t) {
    t && t.code === 3e3 && this.events.emit("error", new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason ? `(${t.reason})` : ""}`)), this.events.emit("disconnect");
  }
  async open(t = this.connection) {
    this.connection === t && this.connection.connected || (this.connection.connected && this.close(), typeof t == "string" && (await this.connection.open(t), t = this.connection), this.connection = this.setConnection(t), await this.connection.open(), this.registerEventListeners(), this.events.emit("connect"));
  }
  async close() {
    await this.connection.close();
  }
  registerEventListeners() {
    this.hasRegisteredEventListeners || (this.connection.on("payload", (t) => this.onPayload(t)), this.connection.on("close", (t) => this.onClose(t)), this.connection.on("error", (t) => this.events.emit("error", t)), this.connection.on("register_error", (t) => this.onClose()), this.hasRegisteredEventListeners = !0);
  }
};
const LT = () => typeof WebSocket < "u" ? WebSocket : typeof global < "u" && typeof global.WebSocket < "u" ? global.WebSocket : typeof window < "u" && typeof window.WebSocket < "u" ? window.WebSocket : typeof self < "u" && typeof self.WebSocket < "u" ? self.WebSocket : require("ws"), kT = () => typeof WebSocket < "u" || typeof global < "u" && typeof global.WebSocket < "u" || typeof window < "u" && typeof window.WebSocket < "u" || typeof self < "u" && typeof self.WebSocket < "u", Ev = (e) => e.split("?")[0], Mv = 10, zT = LT();
let $T = class {
  constructor(t) {
    if (this.url = t, this.events = new Rn.EventEmitter(), this.registering = !1, !_v(t))
      throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);
    this.url = t;
  }
  get connected() {
    return typeof this.socket < "u";
  }
  get connecting() {
    return this.registering;
  }
  on(t, r) {
    this.events.on(t, r);
  }
  once(t, r) {
    this.events.once(t, r);
  }
  off(t, r) {
    this.events.off(t, r);
  }
  removeListener(t, r) {
    this.events.removeListener(t, r);
  }
  async open(t = this.url) {
    await this.register(t);
  }
  async close() {
    return new Promise((t, r) => {
      if (typeof this.socket > "u") {
        r(new Error("Connection already closed"));
        return;
      }
      this.socket.onclose = (i) => {
        this.onClose(i), t();
      }, this.socket.close();
    });
  }
  async send(t) {
    typeof this.socket > "u" && (this.socket = await this.register());
    try {
      this.socket.send(Po(t));
    } catch (r) {
      this.onError(t.id, r);
    }
  }
  register(t = this.url) {
    if (!_v(t))
      throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);
    if (this.registering) {
      const r = this.events.getMaxListeners();
      return (this.events.listenerCount("register_error") >= r || this.events.listenerCount("open") >= r) && this.events.setMaxListeners(r + 1), new Promise((i, n) => {
        this.events.once("register_error", (s) => {
          this.resetMaxListeners(), n(s);
        }), this.events.once("open", () => {
          if (this.resetMaxListeners(), typeof this.socket > "u")
            return n(new Error("WebSocket connection is missing or invalid"));
          i(this.socket);
        });
      });
    }
    return this.url = t, this.registering = !0, new Promise((r, i) => {
      const n = new URLSearchParams(t).get("origin"), s = yy.isReactNative() ? { headers: { origin: n } } : { rejectUnauthorized: !qT(t) }, u = new zT(t, [], s);
      kT() ? u.onerror = (p) => {
        const b = p;
        i(this.emitError(b.error));
      } : u.on("error", (p) => {
        i(this.emitError(p));
      }), u.onopen = () => {
        this.onOpen(u), r(u);
      };
    });
  }
  onOpen(t) {
    t.onmessage = (r) => this.onPayload(r), t.onclose = (r) => this.onClose(r), this.socket = t, this.registering = !1, this.events.emit("open");
  }
  onClose(t) {
    this.socket = void 0, this.registering = !1, this.events.emit("close", t);
  }
  onPayload(t) {
    if (typeof t.data > "u")
      return;
    const r = typeof t.data == "string" ? Xh(t.data) : t.data;
    this.events.emit("payload", r);
  }
  onError(t, r) {
    const i = this.parseError(r), n = i.message || i.toString(), s = vl(t, n);
    this.events.emit("payload", s);
  }
  parseError(t, r = this.url) {
    return by(t, Ev(r), "WS");
  }
  resetMaxListeners() {
    this.events.getMaxListeners() > Mv && this.events.setMaxListeners(Mv);
  }
  emitError(t) {
    const r = this.parseError(new Error((t == null ? void 0 : t.message) || `WebSocket connection failed for host: ${Ev(this.url)}`));
    return this.events.emit("register_error", r), r;
  }
};
var q0 = { exports: {} };
q0.exports;
(function(e, t) {
  var r = 200, i = "__lodash_hash_undefined__", n = 1, s = 2, u = 9007199254740991, p = "[object Arguments]", b = "[object Array]", m = "[object AsyncFunction]", w = "[object Boolean]", S = "[object Date]", C = "[object Error]", D = "[object Function]", P = "[object GeneratorFunction]", k = "[object Map]", z = "[object Number]", V = "[object Null]", Q = "[object Object]", W = "[object Promise]", $ = "[object Proxy]", j = "[object RegExp]", K = "[object Set]", N = "[object String]", H = "[object Symbol]", st = "[object Undefined]", ct = "[object WeakMap]", L = "[object ArrayBuffer]", I = "[object DataView]", o = "[object Float32Array]", h = "[object Float64Array]", c = "[object Int8Array]", v = "[object Int16Array]", y = "[object Int32Array]", M = "[object Uint8Array]", E = "[object Uint8ClampedArray]", d = "[object Uint16Array]", f = "[object Uint32Array]", _ = /[\\^$.*+?()[\]{}|]/g, Y = /^\[object .+?Constructor\]$/, X = /^(?:0|[1-9]\d*)$/, g = {};
  g[o] = g[h] = g[c] = g[v] = g[y] = g[M] = g[E] = g[d] = g[f] = !0, g[p] = g[b] = g[L] = g[w] = g[I] = g[S] = g[C] = g[D] = g[k] = g[z] = g[Q] = g[j] = g[K] = g[N] = g[ct] = !1;
  var F = typeof Nn == "object" && Nn && Nn.Object === Object && Nn, O = typeof self == "object" && self && self.Object === Object && self, B = F || O || Function("return this")(), q = t && !t.nodeType && t, x = q && !0 && e && !e.nodeType && e, T = x && x.exports === q, Z = T && F.process, it = function() {
    try {
      return Z && Z.binding && Z.binding("util");
    } catch {
    }
  }(), et = it && it.isTypedArray;
  function pt(tt, ot) {
    for (var Ut = -1, ne = tt == null ? 0 : tt.length, er = 0, we = []; ++Ut < ne; ) {
      var ar = tt[Ut];
      ot(ar, Ut, tt) && (we[er++] = ar);
    }
    return we;
  }
  function gt(tt, ot) {
    for (var Ut = -1, ne = ot.length, er = tt.length; ++Ut < ne; )
      tt[er + Ut] = ot[Ut];
    return tt;
  }
  function _t(tt, ot) {
    for (var Ut = -1, ne = tt == null ? 0 : tt.length; ++Ut < ne; )
      if (ot(tt[Ut], Ut, tt))
        return !0;
    return !1;
  }
  function re(tt, ot) {
    for (var Ut = -1, ne = Array(tt); ++Ut < tt; )
      ne[Ut] = ot(Ut);
    return ne;
  }
  function bt(tt) {
    return function(ot) {
      return tt(ot);
    };
  }
  function Et(tt, ot) {
    return tt.has(ot);
  }
  function Qt(tt, ot) {
    return tt == null ? void 0 : tt[ot];
  }
  function lt(tt) {
    var ot = -1, Ut = Array(tt.size);
    return tt.forEach(function(ne, er) {
      Ut[++ot] = [er, ne];
    }), Ut;
  }
  function yt(tt, ot) {
    return function(Ut) {
      return tt(ot(Ut));
    };
  }
  function Wt(tt) {
    var ot = -1, Ut = Array(tt.size);
    return tt.forEach(function(ne) {
      Ut[++ot] = ne;
    }), Ut;
  }
  var ft = Array.prototype, wt = Function.prototype, Kt = Object.prototype, ut = B["__core-js_shared__"], It = wt.toString, Jt = Kt.hasOwnProperty, mt = function() {
    var tt = /[^.]+$/.exec(ut && ut.keys && ut.keys.IE_PROTO || "");
    return tt ? "Symbol(src)_1." + tt : "";
  }(), Pt = Kt.toString, te = RegExp(
    "^" + It.call(Jt).replace(_, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
  ), vt = T ? B.Buffer : void 0, Rt = B.Symbol, ue = B.Uint8Array, Tt = Kt.propertyIsEnumerable, Yt = ft.splice, ce = Rt ? Rt.toStringTag : void 0, Ft = Object.getOwnPropertySymbols, Vt = vt ? vt.isBuffer : void 0, de = yt(Object.keys, Object), Mt = Qi(B, "DataView"), Lt = Qi(B, "Map"), se = Qi(B, "Promise"), St = Qi(B, "Set"), kt = Qi(B, "WeakMap"), ie = Qi(Object, "create"), Dt = ro(Mt), jt = ro(Lt), oe = ro(se), Ct = ro(St), zt = ro(kt), he = Rt ? Rt.prototype : void 0, xt = he ? he.valueOf : void 0;
  function qt(tt) {
    var ot = -1, Ut = tt == null ? 0 : tt.length;
    for (this.clear(); ++ot < Ut; ) {
      var ne = tt[ot];
      this.set(ne[0], ne[1]);
    }
  }
  function fe() {
    this.__data__ = ie ? ie(null) : {}, this.size = 0;
  }
  function Nt(tt) {
    var ot = this.has(tt) && delete this.__data__[tt];
    return this.size -= ot ? 1 : 0, ot;
  }
  function Xt(tt) {
    var ot = this.__data__;
    if (ie) {
      var Ut = ot[tt];
      return Ut === i ? void 0 : Ut;
    }
    return Jt.call(ot, tt) ? ot[tt] : void 0;
  }
  function be(tt) {
    var ot = this.__data__;
    return ie ? ot[tt] !== void 0 : Jt.call(ot, tt);
  }
  function Ht(tt, ot) {
    var Ut = this.__data__;
    return this.size += this.has(tt) ? 0 : 1, Ut[tt] = ie && ot === void 0 ? i : ot, this;
  }
  qt.prototype.clear = fe, qt.prototype.delete = Nt, qt.prototype.get = Xt, qt.prototype.has = be, qt.prototype.set = Ht;
  function Gt(tt) {
    var ot = -1, Ut = tt == null ? 0 : tt.length;
    for (this.clear(); ++ot < Ut; ) {
      var ne = tt[ot];
      this.set(ne[0], ne[1]);
    }
  }
  function ze() {
    this.__data__ = [], this.size = 0;
  }
  function $e(tt) {
    var ot = this.__data__, Ut = aa(ot, tt);
    if (Ut < 0)
      return !1;
    var ne = ot.length - 1;
    return Ut == ne ? ot.pop() : Yt.call(ot, Ut, 1), --this.size, !0;
  }
  function He(tt) {
    var ot = this.__data__, Ut = aa(ot, tt);
    return Ut < 0 ? void 0 : ot[Ut][1];
  }
  function je(tt) {
    return aa(this.__data__, tt) > -1;
  }
  function Ke(tt, ot) {
    var Ut = this.__data__, ne = aa(Ut, tt);
    return ne < 0 ? (++this.size, Ut.push([tt, ot])) : Ut[ne][1] = ot, this;
  }
  Gt.prototype.clear = ze, Gt.prototype.delete = $e, Gt.prototype.get = He, Gt.prototype.has = je, Gt.prototype.set = Ke;
  function Ie(tt) {
    var ot = -1, Ut = tt == null ? 0 : tt.length;
    for (this.clear(); ++ot < Ut; ) {
      var ne = tt[ot];
      this.set(ne[0], ne[1]);
    }
  }
  function lr() {
    this.size = 0, this.__data__ = {
      hash: new qt(),
      map: new (Lt || Gt)(),
      string: new qt()
    };
  }
  function Ir(tt) {
    var ot = Oo(this, tt).delete(tt);
    return this.size -= ot ? 1 : 0, ot;
  }
  function dr(tt) {
    return Oo(this, tt).get(tt);
  }
  function Dr(tt) {
    return Oo(this, tt).has(tt);
  }
  function Cr(tt, ot) {
    var Ut = Oo(this, tt), ne = Ut.size;
    return Ut.set(tt, ot), this.size += Ut.size == ne ? 0 : 1, this;
  }
  Ie.prototype.clear = lr, Ie.prototype.delete = Ir, Ie.prototype.get = dr, Ie.prototype.has = Dr, Ie.prototype.set = Cr;
  function pr(tt) {
    var ot = -1, Ut = tt == null ? 0 : tt.length;
    for (this.__data__ = new Ie(); ++ot < Ut; )
      this.add(tt[ot]);
  }
  function Er(tt) {
    return this.__data__.set(tt, i), this;
  }
  function Mr(tt) {
    return this.__data__.has(tt);
  }
  pr.prototype.add = pr.prototype.push = Er, pr.prototype.has = Mr;
  function Ze(tt) {
    var ot = this.__data__ = new Gt(tt);
    this.size = ot.size;
  }
  function Nr() {
    this.__data__ = new Gt(), this.size = 0;
  }
  function Pr(tt) {
    var ot = this.__data__, Ut = ot.delete(tt);
    return this.size = ot.size, Ut;
  }
  function Rr(tt) {
    return this.__data__.get(tt);
  }
  function pi(tt) {
    return this.__data__.has(tt);
  }
  function Fu(tt, ot) {
    var Ut = this.__data__;
    if (Ut instanceof Gt) {
      var ne = Ut.__data__;
      if (!Lt || ne.length < r - 1)
        return ne.push([tt, ot]), this.size = ++Ut.size, this;
      Ut = this.__data__ = new Ie(ne);
    }
    return Ut.set(tt, ot), this.size = Ut.size, this;
  }
  Ze.prototype.clear = Nr, Ze.prototype.delete = Pr, Ze.prototype.get = Rr, Ze.prototype.has = pi, Ze.prototype.set = Fu;
  function Uu(tt, ot) {
    var Ut = Ya(tt), ne = !Ut && Yu(tt), er = !Ut && !ne && mf(tt), we = !Ut && !ne && !er && Xu(tt), ar = Ut || ne || er || we, Sr = ar ? re(tt.length, String) : [], Le = Sr.length;
    for (var rr in tt)
      Jt.call(tt, rr) && !(ar && // Safari 9 has enumerable `arguments.length` in strict mode.
      (rr == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
      er && (rr == "offset" || rr == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
      we && (rr == "buffer" || rr == "byteLength" || rr == "byteOffset") || // Skip index properties.
      ju(rr, Le))) && Sr.push(rr);
    return Sr;
  }
  function aa(tt, ot) {
    for (var Ut = tt.length; Ut--; )
      if (Ju(tt[Ut][0], ot))
        return Ut;
    return -1;
  }
  function pf(tt, ot, Ut) {
    var ne = ot(tt);
    return Ya(tt) ? ne : gt(ne, Ut(tt));
  }
  function ha(tt) {
    return tt == null ? tt === void 0 ? st : V : ce && ce in Object(tt) ? $u(tt) : Sl(tt);
  }
  function gf(tt) {
    return ua(tt) && ha(tt) == p;
  }
  function fa(tt, ot, Ut, ne, er) {
    return tt === ot ? !0 : tt == null || ot == null || !ua(tt) && !ua(ot) ? tt !== tt && ot !== ot : qu(tt, ot, Ut, ne, fa, er);
  }
  function qu(tt, ot, Ut, ne, er, we) {
    var ar = Ya(tt), Sr = Ya(ot), Le = ar ? b : us(tt), rr = Sr ? b : us(ot);
    Le = Le == p ? Q : Le, rr = rr == p ? Q : rr;
    var br = Le == Q, Di = rr == Q, xr = Le == rr;
    if (xr && mf(tt)) {
      if (!mf(ot))
        return !1;
      ar = !0, br = !1;
    }
    if (xr && !br)
      return we || (we = new Ze()), ar || Xu(tt) ? Qa(tt, ot, Ut, ne, er, we) : Ml(tt, ot, Le, Ut, ne, er, we);
    if (!(Ut & n)) {
      var hr = br && Jt.call(tt, "__wrapped__"), gi = Di && Jt.call(ot, "__wrapped__");
      if (hr || gi) {
        var Tn = hr ? tt.value() : tt, an = gi ? ot.value() : ot;
        return we || (we = new Ze()), er(Tn, an, Ut, ne, we);
      }
    }
    return xr ? (we || (we = new Ze()), zu(tt, ot, Ut, ne, er, we)) : !1;
  }
  function El(tt) {
    if (!Wu(tt) || Gu(tt))
      return !1;
    var ot = Va(tt) ? te : Y;
    return ot.test(ro(tt));
  }
  function Lu(tt) {
    return ua(tt) && Vu(tt.length) && !!g[ha(tt)];
  }
  function ku(tt) {
    if (!Qu(tt))
      return de(tt);
    var ot = [];
    for (var Ut in Object(tt))
      Jt.call(tt, Ut) && Ut != "constructor" && ot.push(Ut);
    return ot;
  }
  function Qa(tt, ot, Ut, ne, er, we) {
    var ar = Ut & n, Sr = tt.length, Le = ot.length;
    if (Sr != Le && !(ar && Le > Sr))
      return !1;
    var rr = we.get(tt);
    if (rr && we.get(ot))
      return rr == ot;
    var br = -1, Di = !0, xr = Ut & s ? new pr() : void 0;
    for (we.set(tt, ot), we.set(ot, tt); ++br < Sr; ) {
      var hr = tt[br], gi = ot[br];
      if (ne)
        var Tn = ar ? ne(gi, hr, br, ot, tt, we) : ne(hr, gi, br, tt, ot, we);
      if (Tn !== void 0) {
        if (Tn)
          continue;
        Di = !1;
        break;
      }
      if (xr) {
        if (!_t(ot, function(an, cs) {
          if (!Et(xr, cs) && (hr === an || er(hr, an, Ut, ne, we)))
            return xr.push(cs);
        })) {
          Di = !1;
          break;
        }
      } else if (!(hr === gi || er(hr, gi, Ut, ne, we))) {
        Di = !1;
        break;
      }
    }
    return we.delete(tt), we.delete(ot), Di;
  }
  function Ml(tt, ot, Ut, ne, er, we, ar) {
    switch (Ut) {
      case I:
        if (tt.byteLength != ot.byteLength || tt.byteOffset != ot.byteOffset)
          return !1;
        tt = tt.buffer, ot = ot.buffer;
      case L:
        return !(tt.byteLength != ot.byteLength || !we(new ue(tt), new ue(ot)));
      case w:
      case S:
      case z:
        return Ju(+tt, +ot);
      case C:
        return tt.name == ot.name && tt.message == ot.message;
      case j:
      case N:
        return tt == ot + "";
      case k:
        var Sr = lt;
      case K:
        var Le = ne & n;
        if (Sr || (Sr = Wt), tt.size != ot.size && !Le)
          return !1;
        var rr = ar.get(tt);
        if (rr)
          return rr == ot;
        ne |= s, ar.set(tt, ot);
        var br = Qa(Sr(tt), Sr(ot), ne, er, we, ar);
        return ar.delete(tt), br;
      case H:
        if (xt)
          return xt.call(tt) == xt.call(ot);
    }
    return !1;
  }
  function zu(tt, ot, Ut, ne, er, we) {
    var ar = Ut & n, Sr = Ja(tt), Le = Sr.length, rr = Ja(ot), br = rr.length;
    if (Le != br && !ar)
      return !1;
    for (var Di = Le; Di--; ) {
      var xr = Sr[Di];
      if (!(ar ? xr in ot : Jt.call(ot, xr)))
        return !1;
    }
    var hr = we.get(tt);
    if (hr && we.get(ot))
      return hr == ot;
    var gi = !0;
    we.set(tt, ot), we.set(ot, tt);
    for (var Tn = ar; ++Di < Le; ) {
      xr = Sr[Di];
      var an = tt[xr], cs = ot[xr];
      if (ne)
        var vf = ar ? ne(cs, an, xr, ot, tt, we) : ne(an, cs, xr, tt, ot, we);
      if (!(vf === void 0 ? an === cs || er(an, cs, Ut, ne, we) : vf)) {
        gi = !1;
        break;
      }
      Tn || (Tn = xr == "constructor");
    }
    if (gi && !Tn) {
      var ca = tt.constructor, zr = ot.constructor;
      ca != zr && "constructor" in tt && "constructor" in ot && !(typeof ca == "function" && ca instanceof ca && typeof zr == "function" && zr instanceof zr) && (gi = !1);
    }
    return we.delete(tt), we.delete(ot), gi;
  }
  function Ja(tt) {
    return pf(tt, Dl, Hu);
  }
  function Oo(tt, ot) {
    var Ut = tt.__data__;
    return Ku(ot) ? Ut[typeof ot == "string" ? "string" : "hash"] : Ut.map;
  }
  function Qi(tt, ot) {
    var Ut = Qt(tt, ot);
    return El(Ut) ? Ut : void 0;
  }
  function $u(tt) {
    var ot = Jt.call(tt, ce), Ut = tt[ce];
    try {
      tt[ce] = void 0;
      var ne = !0;
    } catch {
    }
    var er = Pt.call(tt);
    return ne && (ot ? tt[ce] = Ut : delete tt[ce]), er;
  }
  var Hu = Ft ? function(tt) {
    return tt == null ? [] : (tt = Object(tt), pt(Ft(tt), function(ot) {
      return Tt.call(tt, ot);
    }));
  } : tr, us = ha;
  (Mt && us(new Mt(new ArrayBuffer(1))) != I || Lt && us(new Lt()) != k || se && us(se.resolve()) != W || St && us(new St()) != K || kt && us(new kt()) != ct) && (us = function(tt) {
    var ot = ha(tt), Ut = ot == Q ? tt.constructor : void 0, ne = Ut ? ro(Ut) : "";
    if (ne)
      switch (ne) {
        case Dt:
          return I;
        case jt:
          return k;
        case oe:
          return W;
        case Ct:
          return K;
        case zt:
          return ct;
      }
    return ot;
  });
  function ju(tt, ot) {
    return ot = ot ?? u, !!ot && (typeof tt == "number" || X.test(tt)) && tt > -1 && tt % 1 == 0 && tt < ot;
  }
  function Ku(tt) {
    var ot = typeof tt;
    return ot == "string" || ot == "number" || ot == "symbol" || ot == "boolean" ? tt !== "__proto__" : tt === null;
  }
  function Gu(tt) {
    return !!mt && mt in tt;
  }
  function Qu(tt) {
    var ot = tt && tt.constructor, Ut = typeof ot == "function" && ot.prototype || Kt;
    return tt === Ut;
  }
  function Sl(tt) {
    return Pt.call(tt);
  }
  function ro(tt) {
    if (tt != null) {
      try {
        return It.call(tt);
      } catch {
      }
      try {
        return tt + "";
      } catch {
      }
    }
    return "";
  }
  function Ju(tt, ot) {
    return tt === ot || tt !== tt && ot !== ot;
  }
  var Yu = gf(/* @__PURE__ */ function() {
    return arguments;
  }()) ? gf : function(tt) {
    return ua(tt) && Jt.call(tt, "callee") && !Tt.call(tt, "callee");
  }, Ya = Array.isArray;
  function xl(tt) {
    return tt != null && Vu(tt.length) && !Va(tt);
  }
  var mf = Vt || Xe;
  function Il(tt, ot) {
    return fa(tt, ot);
  }
  function Va(tt) {
    if (!Wu(tt))
      return !1;
    var ot = ha(tt);
    return ot == D || ot == P || ot == m || ot == $;
  }
  function Vu(tt) {
    return typeof tt == "number" && tt > -1 && tt % 1 == 0 && tt <= u;
  }
  function Wu(tt) {
    var ot = typeof tt;
    return tt != null && (ot == "object" || ot == "function");
  }
  function ua(tt) {
    return tt != null && typeof tt == "object";
  }
  var Xu = et ? bt(et) : Lu;
  function Dl(tt) {
    return xl(tt) ? Uu(tt) : ku(tt);
  }
  function tr() {
    return [];
  }
  function Xe() {
    return !1;
  }
  e.exports = Il;
})(q0, q0.exports);
var HT = q0.exports;
const jT = /* @__PURE__ */ Jp(HT);
function KT(e, t) {
  if (e.length >= 255)
    throw new TypeError("Alphabet too long");
  for (var r = new Uint8Array(256), i = 0; i < r.length; i++)
    r[i] = 255;
  for (var n = 0; n < e.length; n++) {
    var s = e.charAt(n), u = s.charCodeAt(0);
    if (r[u] !== 255)
      throw new TypeError(s + " is ambiguous");
    r[u] = n;
  }
  var p = e.length, b = e.charAt(0), m = Math.log(p) / Math.log(256), w = Math.log(256) / Math.log(p);
  function S(P) {
    if (P instanceof Uint8Array || (ArrayBuffer.isView(P) ? P = new Uint8Array(P.buffer, P.byteOffset, P.byteLength) : Array.isArray(P) && (P = Uint8Array.from(P))), !(P instanceof Uint8Array))
      throw new TypeError("Expected Uint8Array");
    if (P.length === 0)
      return "";
    for (var k = 0, z = 0, V = 0, Q = P.length; V !== Q && P[V] === 0; )
      V++, k++;
    for (var W = (Q - V) * w + 1 >>> 0, $ = new Uint8Array(W); V !== Q; ) {
      for (var j = P[V], K = 0, N = W - 1; (j !== 0 || K < z) && N !== -1; N--, K++)
        j += 256 * $[N] >>> 0, $[N] = j % p >>> 0, j = j / p >>> 0;
      if (j !== 0)
        throw new Error("Non-zero carry");
      z = K, V++;
    }
    for (var H = W - z; H !== W && $[H] === 0; )
      H++;
    for (var st = b.repeat(k); H < W; ++H)
      st += e.charAt($[H]);
    return st;
  }
  function C(P) {
    if (typeof P != "string")
      throw new TypeError("Expected String");
    if (P.length === 0)
      return new Uint8Array();
    var k = 0;
    if (P[k] !== " ") {
      for (var z = 0, V = 0; P[k] === b; )
        z++, k++;
      for (var Q = (P.length - k) * m + 1 >>> 0, W = new Uint8Array(Q); P[k]; ) {
        var $ = r[P.charCodeAt(k)];
        if ($ === 255)
          return;
        for (var j = 0, K = Q - 1; ($ !== 0 || j < V) && K !== -1; K--, j++)
          $ += p * W[K] >>> 0, W[K] = $ % 256 >>> 0, $ = $ / 256 >>> 0;
        if ($ !== 0)
          throw new Error("Non-zero carry");
        V = j, k++;
      }
      if (P[k] !== " ") {
        for (var N = Q - V; N !== Q && W[N] === 0; )
          N++;
        for (var H = new Uint8Array(z + (Q - N)), st = z; N !== Q; )
          H[st++] = W[N++];
        return H;
      }
    }
  }
  function D(P) {
    var k = C(P);
    if (k)
      return k;
    throw new Error(`Non-${t} character`);
  }
  return { encode: S, decodeUnsafe: C, decode: D };
}
var GT = KT, QT = GT;
const _y = (e) => {
  if (e instanceof Uint8Array && e.constructor.name === "Uint8Array")
    return e;
  if (e instanceof ArrayBuffer)
    return new Uint8Array(e);
  if (ArrayBuffer.isView(e))
    return new Uint8Array(e.buffer, e.byteOffset, e.byteLength);
  throw new Error("Unknown type, must be binary type");
}, JT = (e) => new TextEncoder().encode(e), YT = (e) => new TextDecoder().decode(e);
let VT = class {
  constructor(t, r, i) {
    this.name = t, this.prefix = r, this.baseEncode = i;
  }
  encode(t) {
    if (t instanceof Uint8Array)
      return `${this.prefix}${this.baseEncode(t)}`;
    throw Error("Unknown type, must be binary type");
  }
}, WT = class {
  constructor(t, r, i) {
    if (this.name = t, this.prefix = r, r.codePointAt(0) === void 0)
      throw new Error("Invalid prefix character");
    this.prefixCodePoint = r.codePointAt(0), this.baseDecode = i;
  }
  decode(t) {
    if (typeof t == "string") {
      if (t.codePointAt(0) !== this.prefixCodePoint)
        throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);
      return this.baseDecode(t.slice(this.prefix.length));
    } else
      throw Error("Can only multibase decode strings");
  }
  or(t) {
    return Ey(this, t);
  }
};
class XT {
  constructor(t) {
    this.decoders = t;
  }
  or(t) {
    return Ey(this, t);
  }
  decode(t) {
    const r = t[0], i = this.decoders[r];
    if (i)
      return i.decode(t);
    throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`);
  }
}
const Ey = (e, t) => new XT({ ...e.decoders || { [e.prefix]: e }, ...t.decoders || { [t.prefix]: t } });
class ZT {
  constructor(t, r, i, n) {
    this.name = t, this.prefix = r, this.baseEncode = i, this.baseDecode = n, this.encoder = new VT(t, r, i), this.decoder = new WT(t, r, n);
  }
  encode(t) {
    return this.encoder.encode(t);
  }
  decode(t) {
    return this.decoder.decode(t);
  }
}
const yl = ({ name: e, prefix: t, encode: r, decode: i }) => new ZT(e, t, r, i), Bu = ({ prefix: e, name: t, alphabet: r }) => {
  const { encode: i, decode: n } = QT(r, t);
  return yl({ prefix: e, name: t, encode: i, decode: (s) => _y(n(s)) });
}, tF = (e, t, r, i) => {
  const n = {};
  for (let w = 0; w < t.length; ++w)
    n[t[w]] = w;
  let s = e.length;
  for (; e[s - 1] === "="; )
    --s;
  const u = new Uint8Array(s * r / 8 | 0);
  let p = 0, b = 0, m = 0;
  for (let w = 0; w < s; ++w) {
    const S = n[e[w]];
    if (S === void 0)
      throw new SyntaxError(`Non-${i} character`);
    b = b << r | S, p += r, p >= 8 && (p -= 8, u[m++] = 255 & b >> p);
  }
  if (p >= r || 255 & b << 8 - p)
    throw new SyntaxError("Unexpected end of data");
  return u;
}, eF = (e, t, r) => {
  const i = t[t.length - 1] === "=", n = (1 << r) - 1;
  let s = "", u = 0, p = 0;
  for (let b = 0; b < e.length; ++b)
    for (p = p << 8 | e[b], u += 8; u > r; )
      u -= r, s += t[n & p >> u];
  if (u && (s += t[n & p << r - u]), i)
    for (; s.length * r & 7; )
      s += "=";
  return s;
}, oi = ({ name: e, prefix: t, bitsPerChar: r, alphabet: i }) => yl({ prefix: t, name: e, encode(n) {
  return eF(n, i, r);
}, decode(n) {
  return tF(n, i, r, e);
} }), rF = yl({ prefix: "\0", name: "identity", encode: (e) => YT(e), decode: (e) => JT(e) });
var iF = Object.freeze({ __proto__: null, identity: rF });
const nF = oi({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 });
var sF = Object.freeze({ __proto__: null, base2: nF });
const oF = oi({ prefix: "7", name: "base8", alphabet: "01234567", bitsPerChar: 3 });
var aF = Object.freeze({ __proto__: null, base8: oF });
const hF = Bu({ prefix: "9", name: "base10", alphabet: "0123456789" });
var fF = Object.freeze({ __proto__: null, base10: hF });
const uF = oi({ prefix: "f", name: "base16", alphabet: "0123456789abcdef", bitsPerChar: 4 }), cF = oi({ prefix: "F", name: "base16upper", alphabet: "0123456789ABCDEF", bitsPerChar: 4 });
var lF = Object.freeze({ __proto__: null, base16: uF, base16upper: cF });
const dF = oi({ prefix: "b", name: "base32", alphabet: "abcdefghijklmnopqrstuvwxyz234567", bitsPerChar: 5 }), pF = oi({ prefix: "B", name: "base32upper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567", bitsPerChar: 5 }), gF = oi({ prefix: "c", name: "base32pad", alphabet: "abcdefghijklmnopqrstuvwxyz234567=", bitsPerChar: 5 }), mF = oi({ prefix: "C", name: "base32padupper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=", bitsPerChar: 5 }), vF = oi({ prefix: "v", name: "base32hex", alphabet: "0123456789abcdefghijklmnopqrstuv", bitsPerChar: 5 }), bF = oi({ prefix: "V", name: "base32hexupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV", bitsPerChar: 5 }), yF = oi({ prefix: "t", name: "base32hexpad", alphabet: "0123456789abcdefghijklmnopqrstuv=", bitsPerChar: 5 }), wF = oi({ prefix: "T", name: "base32hexpadupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=", bitsPerChar: 5 }), AF = oi({ prefix: "h", name: "base32z", alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769", bitsPerChar: 5 });
var _F = Object.freeze({ __proto__: null, base32: dF, base32upper: pF, base32pad: gF, base32padupper: mF, base32hex: vF, base32hexupper: bF, base32hexpad: yF, base32hexpadupper: wF, base32z: AF });
const EF = Bu({ prefix: "k", name: "base36", alphabet: "0123456789abcdefghijklmnopqrstuvwxyz" }), MF = Bu({ prefix: "K", name: "base36upper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ" });
var SF = Object.freeze({ __proto__: null, base36: EF, base36upper: MF });
const xF = Bu({ name: "base58btc", prefix: "z", alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz" }), IF = Bu({ name: "base58flickr", prefix: "Z", alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ" });
var DF = Object.freeze({ __proto__: null, base58btc: xF, base58flickr: IF });
const CF = oi({ prefix: "m", name: "base64", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", bitsPerChar: 6 }), NF = oi({ prefix: "M", name: "base64pad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", bitsPerChar: 6 }), PF = oi({ prefix: "u", name: "base64url", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_", bitsPerChar: 6 }), RF = oi({ prefix: "U", name: "base64urlpad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=", bitsPerChar: 6 });
var OF = Object.freeze({ __proto__: null, base64: CF, base64pad: NF, base64url: PF, base64urlpad: RF });
const My = Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"), BF = My.reduce((e, t, r) => (e[r] = t, e), []), TF = My.reduce((e, t, r) => (e[t.codePointAt(0)] = r, e), []);
function FF(e) {
  return e.reduce((t, r) => (t += BF[r], t), "");
}
function UF(e) {
  const t = [];
  for (const r of e) {
    const i = TF[r.codePointAt(0)];
    if (i === void 0)
      throw new Error(`Non-base256emoji character: ${r}`);
    t.push(i);
  }
  return new Uint8Array(t);
}
const qF = yl({ prefix: "🚀", name: "base256emoji", encode: FF, decode: UF });
var LF = Object.freeze({ __proto__: null, base256emoji: qF }), kF = Sy, Sv = 128, zF = 127, $F = ~zF, HF = Math.pow(2, 31);
function Sy(e, t, r) {
  t = t || [], r = r || 0;
  for (var i = r; e >= HF; )
    t[r++] = e & 255 | Sv, e /= 128;
  for (; e & $F; )
    t[r++] = e & 255 | Sv, e >>>= 7;
  return t[r] = e | 0, Sy.bytes = r - i + 1, t;
}
var jF = Op, KF = 128, xv = 127;
function Op(e, i) {
  var r = 0, i = i || 0, n = 0, s = i, u, p = e.length;
  do {
    if (s >= p)
      throw Op.bytes = 0, new RangeError("Could not decode varint");
    u = e[s++], r += n < 28 ? (u & xv) << n : (u & xv) * Math.pow(2, n), n += 7;
  } while (u >= KF);
  return Op.bytes = s - i, r;
}
var GF = Math.pow(2, 7), QF = Math.pow(2, 14), JF = Math.pow(2, 21), YF = Math.pow(2, 28), VF = Math.pow(2, 35), WF = Math.pow(2, 42), XF = Math.pow(2, 49), ZF = Math.pow(2, 56), tU = Math.pow(2, 63), eU = function(e) {
  return e < GF ? 1 : e < QF ? 2 : e < JF ? 3 : e < YF ? 4 : e < VF ? 5 : e < WF ? 6 : e < XF ? 7 : e < ZF ? 8 : e < tU ? 9 : 10;
}, rU = { encode: kF, decode: jF, encodingLength: eU }, xy = rU;
const Iv = (e, t, r = 0) => (xy.encode(e, t, r), t), Dv = (e) => xy.encodingLength(e), Bp = (e, t) => {
  const r = t.byteLength, i = Dv(e), n = i + Dv(r), s = new Uint8Array(n + r);
  return Iv(e, s, 0), Iv(r, s, i), s.set(t, n), new iU(e, r, t, s);
};
let iU = class {
  constructor(t, r, i, n) {
    this.code = t, this.size = r, this.digest = i, this.bytes = n;
  }
};
const Iy = ({ name: e, code: t, encode: r }) => new nU(e, t, r);
let nU = class {
  constructor(t, r, i) {
    this.name = t, this.code = r, this.encode = i;
  }
  digest(t) {
    if (t instanceof Uint8Array) {
      const r = this.encode(t);
      return r instanceof Uint8Array ? Bp(this.code, r) : r.then((i) => Bp(this.code, i));
    } else
      throw Error("Unknown type, must be binary type");
  }
};
const Dy = (e) => async (t) => new Uint8Array(await crypto.subtle.digest(e, t)), sU = Iy({ name: "sha2-256", code: 18, encode: Dy("SHA-256") }), oU = Iy({ name: "sha2-512", code: 19, encode: Dy("SHA-512") });
var aU = Object.freeze({ __proto__: null, sha256: sU, sha512: oU });
const Cy = 0, hU = "identity", Ny = _y, fU = (e) => Bp(Cy, Ny(e)), uU = { code: Cy, name: hU, encode: Ny, digest: fU };
var cU = Object.freeze({ __proto__: null, identity: uU });
new TextEncoder(), new TextDecoder();
const Cv = { ...iF, ...sF, ...aF, ...fF, ...lF, ..._F, ...SF, ...DF, ...OF, ...LF };
({ ...aU, ...cU });
function lU(e = 0) {
  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null ? globalThis.Buffer.allocUnsafe(e) : new Uint8Array(e);
}
function Py(e, t, r, i) {
  return { name: e, prefix: t, encoder: { name: e, prefix: t, encode: r }, decoder: { decode: i } };
}
const Nv = Py("utf8", "u", (e) => "u" + new TextDecoder("utf8").decode(e), (e) => new TextEncoder().encode(e.substring(1))), E1 = Py("ascii", "a", (e) => {
  let t = "a";
  for (let r = 0; r < e.length; r++)
    t += String.fromCharCode(e[r]);
  return t;
}, (e) => {
  e = e.substring(1);
  const t = lU(e.length);
  for (let r = 0; r < e.length; r++)
    t[r] = e.charCodeAt(r);
  return t;
}), dU = { utf8: Nv, "utf-8": Nv, hex: Cv.base16, latin1: E1, ascii: E1, binary: E1, ...Cv };
function pU(e, t = "utf8") {
  const r = dU[t];
  if (!r)
    throw new Error(`Unsupported encoding "${t}"`);
  return (t === "utf8" || t === "utf-8") && globalThis.Buffer != null && globalThis.Buffer.from != null ? globalThis.Buffer.from(e, "utf8") : r.decoder.decode(`${r.prefix}${e}`);
}
const Ry = "wc", Oy = 2, y2 = "core", Ys = `${Ry}@2:${y2}:`, gU = { name: y2, logger: "error" }, mU = { database: ":memory:" }, vU = "crypto", Pv = "client_ed25519_seed", bU = Zt.ONE_DAY, yU = "keychain", wU = "0.3", AU = "messages", _U = "0.3", EU = Zt.SIX_HOURS, MU = "publisher", By = "irn", SU = "error", Ty = "wss://relay.walletconnect.org", xU = "relayer", qi = { message: "relayer_message", message_ack: "relayer_message_ack", connect: "relayer_connect", disconnect: "relayer_disconnect", error: "relayer_error", connection_stalled: "relayer_connection_stalled", transport_closed: "relayer_transport_closed", publish: "relayer_publish" }, IU = "_subscription", yn = { payload: "payload", connect: "connect", disconnect: "disconnect", error: "error" }, DU = 0.1, Fy = "2.15.2", CU = 1e4, NU = "0.3", PU = "WALLETCONNECT_CLIENT_ID", Es = { created: "subscription_created", deleted: "subscription_deleted", expired: "subscription_expired", disabled: "subscription_disabled", sync: "subscription_sync", resubscribed: "subscription_resubscribed" }, RU = "subscription", OU = "0.3", BU = Zt.FIVE_SECONDS * 1e3, TU = "pairing", FU = "0.3", zf = { wc_pairingDelete: { req: { ttl: Zt.ONE_DAY, prompt: !1, tag: 1e3 }, res: { ttl: Zt.ONE_DAY, prompt: !1, tag: 1001 } }, wc_pairingPing: { req: { ttl: Zt.THIRTY_SECONDS, prompt: !1, tag: 1002 }, res: { ttl: Zt.THIRTY_SECONDS, prompt: !1, tag: 1003 } }, unregistered_method: { req: { ttl: Zt.ONE_DAY, prompt: !1, tag: 0 }, res: { ttl: Zt.ONE_DAY, prompt: !1, tag: 0 } } }, Mh = { create: "pairing_create", expire: "pairing_expire", delete: "pairing_delete", ping: "pairing_ping" }, Hn = { created: "history_created", updated: "history_updated", deleted: "history_deleted", sync: "history_sync" }, UU = "history", qU = "0.3", LU = "expirer", _n = { created: "expirer_created", deleted: "expirer_deleted", expired: "expirer_expired", sync: "expirer_sync" }, kU = "0.3", zU = "verify-api", $U = "https://verify.walletconnect.com", Uy = "https://verify.walletconnect.org", su = Uy, HU = `${su}/v3`, jU = [$U, Uy], KU = "echo", GU = "https://echo.walletconnect.com", vs = { pairing_started: "pairing_started", pairing_uri_validation_success: "pairing_uri_validation_success", pairing_uri_not_expired: "pairing_uri_not_expired", store_new_pairing: "store_new_pairing", subscribing_pairing_topic: "subscribing_pairing_topic", subscribe_pairing_topic_success: "subscribe_pairing_topic_success", existing_pairing: "existing_pairing", pairing_not_expired: "pairing_not_expired", emit_inactive_pairing: "emit_inactive_pairing", emit_session_proposal: "emit_session_proposal", subscribing_to_pairing_topic: "subscribing_to_pairing_topic" }, bo = { no_wss_connection: "no_wss_connection", no_internet_connection: "no_internet_connection", malformed_pairing_uri: "malformed_pairing_uri", active_pairing_already_exists: "active_pairing_already_exists", subscribe_pairing_topic_failure: "subscribe_pairing_topic_failure", pairing_expired: "pairing_expired", proposal_expired: "proposal_expired", proposal_listener_not_found: "proposal_listener_not_found" }, jn = { session_approve_started: "session_approve_started", proposal_not_expired: "proposal_not_expired", session_namespaces_validation_success: "session_namespaces_validation_success", create_session_topic: "create_session_topic", subscribing_session_topic: "subscribing_session_topic", subscribe_session_topic_success: "subscribe_session_topic_success", publishing_session_approve: "publishing_session_approve", session_approve_publish_success: "session_approve_publish_success", store_session: "store_session", publishing_session_settle: "publishing_session_settle", session_settle_publish_success: "session_settle_publish_success" }, Ea = { no_internet_connection: "no_internet_connection", no_wss_connection: "no_wss_connection", proposal_expired: "proposal_expired", subscribe_session_topic_failure: "subscribe_session_topic_failure", session_approve_publish_failure: "session_approve_publish_failure", session_settle_publish_failure: "session_settle_publish_failure", session_approve_namespace_validation_failure: "session_approve_namespace_validation_failure", proposal_not_found: "proposal_not_found" }, Ma = { authenticated_session_approve_started: "authenticated_session_approve_started", authenticated_session_not_expired: "authenticated_session_not_expired", chains_caip2_compliant: "chains_caip2_compliant", chains_evm_compliant: "chains_evm_compliant", create_authenticated_session_topic: "create_authenticated_session_topic", cacaos_verified: "cacaos_verified", store_authenticated_session: "store_authenticated_session", subscribing_authenticated_session_topic: "subscribing_authenticated_session_topic", subscribe_authenticated_session_topic_success: "subscribe_authenticated_session_topic_success", publishing_authenticated_session_approve: "publishing_authenticated_session_approve", authenticated_session_approve_publish_success: "authenticated_session_approve_publish_success" }, $f = { no_internet_connection: "no_internet_connection", no_wss_connection: "no_wss_connection", missing_session_authenticate_request: "missing_session_authenticate_request", session_authenticate_request_expired: "session_authenticate_request_expired", chains_caip2_compliant_failure: "chains_caip2_compliant_failure", chains_evm_compliant_failure: "chains_evm_compliant_failure", invalid_cacao: "invalid_cacao", subscribe_authenticated_session_topic_failure: "subscribe_authenticated_session_topic_failure", authenticated_session_approve_publish_failure: "authenticated_session_approve_publish_failure", authenticated_session_pending_request_not_found: "authenticated_session_pending_request_not_found" }, QU = 0.1, JU = "event-client", YU = 86400, VU = "https://pulse.walletconnect.com/batch";
class WU {
  constructor(t, r) {
    this.core = t, this.logger = r, this.keychain = /* @__PURE__ */ new Map(), this.name = yU, this.version = wU, this.initialized = !1, this.storagePrefix = Ys, this.init = async () => {
      if (!this.initialized) {
        const i = await this.getKeyChain();
        typeof i < "u" && (this.keychain = i), this.initialized = !0;
      }
    }, this.has = (i) => (this.isInitialized(), this.keychain.has(i)), this.set = async (i, n) => {
      this.isInitialized(), this.keychain.set(i, n), await this.persist();
    }, this.get = (i) => {
      this.isInitialized();
      const n = this.keychain.get(i);
      if (typeof n > "u") {
        const { message: s } = Ye("NO_MATCHING_KEY", `${this.name}: ${i}`);
        throw new Error(s);
      }
      return n;
    }, this.del = async (i) => {
      this.isInitialized(), this.keychain.delete(i), await this.persist();
    }, this.core = t, this.logger = Ii(r, this.name);
  }
  get context() {
    return Gi(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + this.core.customStoragePrefix + "//" + this.name;
  }
  async setKeyChain(t) {
    await this.core.storage.setItem(this.storageKey, P8(t));
  }
  async getKeyChain() {
    const t = await this.core.storage.getItem(this.storageKey);
    return typeof t < "u" ? R8(t) : void 0;
  }
  async persist() {
    await this.setKeyChain(this.keychain);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: t } = Ye("NOT_INITIALIZED", this.name);
      throw new Error(t);
    }
  }
}
class XU {
  constructor(t, r, i) {
    this.core = t, this.logger = r, this.name = vU, this.randomSessionIdentifier = Cp(), this.initialized = !1, this.init = async () => {
      this.initialized || (await this.keychain.init(), this.initialized = !0);
    }, this.hasKeys = (n) => (this.isInitialized(), this.keychain.has(n)), this.getClientId = async () => {
      this.isInitialized();
      const n = await this.getClientSeed(), s = hm(n);
      return Kb(s.publicKey);
    }, this.generateKeyPair = () => {
      this.isInitialized();
      const n = zB();
      return this.setPrivateKey(n.publicKey, n.privateKey);
    }, this.signJWT = async (n) => {
      this.isInitialized();
      const s = await this.getClientSeed(), u = hm(s), p = this.randomSessionIdentifier;
      return await CD(p, n, bU, u);
    }, this.generateSharedKey = (n, s, u) => {
      this.isInitialized();
      const p = this.getPrivateKey(n), b = $B(p, s);
      return this.setSymKey(b, u);
    }, this.setSymKey = async (n, s) => {
      this.isInitialized();
      const u = s || HB(n);
      return await this.keychain.set(u, n), u;
    }, this.deleteKeyPair = async (n) => {
      this.isInitialized(), await this.keychain.del(n);
    }, this.deleteSymKey = async (n) => {
      this.isInitialized(), await this.keychain.del(n);
    }, this.encode = async (n, s, u) => {
      this.isInitialized();
      const p = py(u), b = Po(s);
      if (lv(p)) {
        const C = p.senderPublicKey, D = p.receiverPublicKey;
        n = await this.generateSharedKey(C, D);
      }
      const m = this.getSymKey(n), { type: w, senderPublicKey: S } = p;
      return KB({ type: w, symKey: m, message: b, senderPublicKey: S });
    }, this.decode = async (n, s, u) => {
      this.isInitialized();
      const p = JB(s, u);
      if (lv(p)) {
        const b = p.receiverPublicKey, m = p.senderPublicKey;
        n = await this.generateSharedKey(b, m);
      }
      try {
        const b = this.getSymKey(n), m = GB({ symKey: b, encoded: s });
        return Xh(m);
      } catch (b) {
        this.logger.error(`Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`), this.logger.error(b);
      }
    }, this.getPayloadType = (n) => {
      const s = U0(n);
      return Ou(s.type);
    }, this.getPayloadSenderPublicKey = (n) => {
      const s = U0(n);
      return s.senderPublicKey ? Jr(s.senderPublicKey, Mi) : void 0;
    }, this.core = t, this.logger = Ii(r, this.name), this.keychain = i || new WU(this.core, this.logger);
  }
  get context() {
    return Gi(this.logger);
  }
  async setPrivateKey(t, r) {
    return await this.keychain.set(t, r), t;
  }
  getPrivateKey(t) {
    return this.keychain.get(t);
  }
  async getClientSeed() {
    let t = "";
    try {
      t = this.keychain.get(Pv);
    } catch {
      t = Cp(), await this.keychain.set(Pv, t);
    }
    return pU(t, "base16");
  }
  getSymKey(t) {
    return this.keychain.get(t);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: t } = Ye("NOT_INITIALIZED", this.name);
      throw new Error(t);
    }
  }
}
let ZU = class extends XP {
  constructor(t, r) {
    super(t, r), this.logger = t, this.core = r, this.messages = /* @__PURE__ */ new Map(), this.name = AU, this.version = _U, this.initialized = !1, this.storagePrefix = Ys, this.init = async () => {
      if (!this.initialized) {
        this.logger.trace("Initialized");
        try {
          const i = await this.getRelayerMessages();
          typeof i < "u" && (this.messages = i), this.logger.debug(`Successfully Restored records for ${this.name}`), this.logger.trace({ type: "method", method: "restore", size: this.messages.size });
        } catch (i) {
          this.logger.debug(`Failed to Restore records for ${this.name}`), this.logger.error(i);
        } finally {
          this.initialized = !0;
        }
      }
    }, this.set = async (i, n) => {
      this.isInitialized();
      const s = Np(n);
      let u = this.messages.get(i);
      return typeof u > "u" && (u = {}), typeof u[s] < "u" || (u[s] = n, this.messages.set(i, u), await this.persist()), s;
    }, this.get = (i) => {
      this.isInitialized();
      let n = this.messages.get(i);
      return typeof n > "u" && (n = {}), n;
    }, this.has = (i, n) => {
      this.isInitialized();
      const s = this.get(i), u = Np(n);
      return typeof s[u] < "u";
    }, this.del = async (i) => {
      this.isInitialized(), this.messages.delete(i), await this.persist();
    }, this.logger = Ii(t, this.name), this.core = r;
  }
  get context() {
    return Gi(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + this.core.customStoragePrefix + "//" + this.name;
  }
  async setRelayerMessages(t) {
    await this.core.storage.setItem(this.storageKey, P8(t));
  }
  async getRelayerMessages() {
    const t = await this.core.storage.getItem(this.storageKey);
    return typeof t < "u" ? R8(t) : void 0;
  }
  async persist() {
    await this.setRelayerMessages(this.messages);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: t } = Ye("NOT_INITIALIZED", this.name);
      throw new Error(t);
    }
  }
}, tq = class extends ZP {
  constructor(t, r) {
    super(t, r), this.relayer = t, this.logger = r, this.events = new Rn.EventEmitter(), this.name = MU, this.queue = /* @__PURE__ */ new Map(), this.publishTimeout = Zt.toMiliseconds(Zt.ONE_MINUTE), this.failedPublishTimeout = Zt.toMiliseconds(Zt.ONE_SECOND), this.needsTransportRestart = !1, this.publish = async (i, n, s) => {
      var u;
      this.logger.debug("Publishing Payload"), this.logger.trace({ type: "method", method: "publish", params: { topic: i, message: n, opts: s } });
      const p = (s == null ? void 0 : s.ttl) || EU, b = Pp(s), m = (s == null ? void 0 : s.prompt) || !1, w = (s == null ? void 0 : s.tag) || 0, S = (s == null ? void 0 : s.id) || xa().toString(), C = { topic: i, message: n, opts: { ttl: p, relay: b, prompt: m, tag: w, id: S, attestation: s == null ? void 0 : s.attestation } }, D = `Failed to publish payload, please try again. id:${S} tag:${w}`, P = Date.now();
      let k, z = 1;
      try {
        for (; k === void 0; ) {
          if (Date.now() - P > this.publishTimeout)
            throw new Error(D);
          this.logger.trace({ id: S, attempts: z }, `publisher.publish - attempt ${z}`), k = await await Ih(this.rpcPublish(i, n, p, b, m, w, S, s == null ? void 0 : s.attestation).catch((V) => this.logger.warn(V)), this.publishTimeout, D), z++, k || await new Promise((V) => setTimeout(V, this.failedPublishTimeout));
        }
        this.relayer.events.emit(qi.publish, C), this.logger.debug("Successfully Published Payload"), this.logger.trace({ type: "method", method: "publish", params: { id: S, topic: i, message: n, opts: s } });
      } catch (V) {
        if (this.logger.debug("Failed to Publish Payload"), this.logger.error(V), (u = s == null ? void 0 : s.internal) != null && u.throwOnFailedPublish)
          throw V;
        this.queue.set(S, C);
      }
    }, this.on = (i, n) => {
      this.events.on(i, n);
    }, this.once = (i, n) => {
      this.events.once(i, n);
    }, this.off = (i, n) => {
      this.events.off(i, n);
    }, this.removeListener = (i, n) => {
      this.events.removeListener(i, n);
    }, this.relayer = t, this.logger = Ii(r, this.name), this.registerEventListeners();
  }
  get context() {
    return Gi(this.logger);
  }
  rpcPublish(t, r, i, n, s, u, p, b) {
    var m, w, S, C;
    const D = { method: Wf(n.protocol).publish, params: { topic: t, message: r, ttl: i, prompt: s, tag: u, attestation: b }, id: p };
    return Rp((m = D.params) == null ? void 0 : m.prompt) && ((w = D.params) == null || delete w.prompt), Rp((S = D.params) == null ? void 0 : S.tag) && ((C = D.params) == null || delete C.tag), this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "message", direction: "outgoing", request: D }), this.relayer.request(D);
  }
  removeRequestFromQueue(t) {
    this.queue.delete(t);
  }
  checkQueue() {
    this.queue.forEach(async (t) => {
      const { topic: r, message: i, opts: n } = t;
      await this.publish(r, i, n);
    });
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(rf.pulse, () => {
      if (this.needsTransportRestart) {
        this.needsTransportRestart = !1, this.relayer.events.emit(qi.connection_stalled);
        return;
      }
      this.checkQueue();
    }), this.relayer.on(qi.message_ack, (t) => {
      this.removeRequestFromQueue(t.id.toString());
    });
  }
}, eq = class {
  constructor() {
    this.map = /* @__PURE__ */ new Map(), this.set = (t, r) => {
      const i = this.get(t);
      this.exists(t, r) || this.map.set(t, [...i, r]);
    }, this.get = (t) => this.map.get(t) || [], this.exists = (t, r) => this.get(t).includes(r), this.delete = (t, r) => {
      if (typeof r > "u") {
        this.map.delete(t);
        return;
      }
      if (!this.map.has(t))
        return;
      const i = this.get(t);
      if (!this.exists(t, r))
        return;
      const n = i.filter((s) => s !== r);
      if (!n.length) {
        this.map.delete(t);
        return;
      }
      this.map.set(t, n);
    }, this.clear = () => {
      this.map.clear();
    };
  }
  get topics() {
    return Array.from(this.map.keys());
  }
};
var rq = Object.defineProperty, iq = Object.defineProperties, nq = Object.getOwnPropertyDescriptors, Rv = Object.getOwnPropertySymbols, sq = Object.prototype.hasOwnProperty, oq = Object.prototype.propertyIsEnumerable, Ov = (e, t, r) => t in e ? rq(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, Hf = (e, t) => {
  for (var r in t || (t = {}))
    sq.call(t, r) && Ov(e, r, t[r]);
  if (Rv)
    for (var r of Rv(t))
      oq.call(t, r) && Ov(e, r, t[r]);
  return e;
}, M1 = (e, t) => iq(e, nq(t));
let aq = class extends rR {
  constructor(t, r) {
    super(t, r), this.relayer = t, this.logger = r, this.subscriptions = /* @__PURE__ */ new Map(), this.topicMap = new eq(), this.events = new Rn.EventEmitter(), this.name = RU, this.version = OU, this.pending = /* @__PURE__ */ new Map(), this.cached = [], this.initialized = !1, this.pendingSubscriptionWatchLabel = "pending_sub_watch_label", this.pollingInterval = 20, this.storagePrefix = Ys, this.subscribeTimeout = Zt.toMiliseconds(Zt.ONE_MINUTE), this.restartInProgress = !1, this.batchSubscribeTopicsLimit = 500, this.pendingBatchMessages = [], this.init = async () => {
      this.initialized || (this.logger.trace("Initialized"), this.registerEventListeners(), this.clientId = await this.relayer.core.crypto.getClientId());
    }, this.subscribe = async (i, n) => {
      await this.restartToComplete(), this.isInitialized(), this.logger.debug("Subscribing Topic"), this.logger.trace({ type: "method", method: "subscribe", params: { topic: i, opts: n } });
      try {
        const s = Pp(n), u = { topic: i, relay: s };
        this.pending.set(i, u);
        const p = await this.rpcSubscribe(i, s);
        return typeof p == "string" && (this.onSubscribe(p, u), this.logger.debug("Successfully Subscribed Topic"), this.logger.trace({ type: "method", method: "subscribe", params: { topic: i, opts: n } })), p;
      } catch (s) {
        throw this.logger.debug("Failed to Subscribe Topic"), this.logger.error(s), s;
      }
    }, this.unsubscribe = async (i, n) => {
      await this.restartToComplete(), this.isInitialized(), typeof (n == null ? void 0 : n.id) < "u" ? await this.unsubscribeById(i, n.id, n) : await this.unsubscribeByTopic(i, n);
    }, this.isSubscribed = async (i) => {
      if (this.topics.includes(i))
        return !0;
      const n = `${this.pendingSubscriptionWatchLabel}_${i}`;
      return await new Promise((s, u) => {
        const p = new Zt.Watch();
        p.start(n);
        const b = setInterval(() => {
          !this.pending.has(i) && this.topics.includes(i) && (clearInterval(b), p.stop(n), s(!0)), p.elapsed(n) >= BU && (clearInterval(b), p.stop(n), u(new Error("Subscription resolution timeout")));
        }, this.pollingInterval);
      }).catch(() => !1);
    }, this.on = (i, n) => {
      this.events.on(i, n);
    }, this.once = (i, n) => {
      this.events.once(i, n);
    }, this.off = (i, n) => {
      this.events.off(i, n);
    }, this.removeListener = (i, n) => {
      this.events.removeListener(i, n);
    }, this.start = async () => {
      await this.onConnect();
    }, this.stop = async () => {
      await this.onDisconnect();
    }, this.restart = async () => {
      this.restartInProgress = !0, await this.restore(), await this.reset(), this.restartInProgress = !1;
    }, this.relayer = t, this.logger = Ii(r, this.name), this.clientId = "";
  }
  get context() {
    return Gi(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + this.relayer.core.customStoragePrefix + "//" + this.name;
  }
  get length() {
    return this.subscriptions.size;
  }
  get ids() {
    return Array.from(this.subscriptions.keys());
  }
  get values() {
    return Array.from(this.subscriptions.values());
  }
  get topics() {
    return this.topicMap.topics;
  }
  hasSubscription(t, r) {
    let i = !1;
    try {
      i = this.getSubscription(t).topic === r;
    } catch {
    }
    return i;
  }
  onEnable() {
    this.cached = [], this.initialized = !0;
  }
  onDisable() {
    this.cached = this.values, this.subscriptions.clear(), this.topicMap.clear();
  }
  async unsubscribeByTopic(t, r) {
    const i = this.topicMap.get(t);
    await Promise.all(i.map(async (n) => await this.unsubscribeById(t, n, r)));
  }
  async unsubscribeById(t, r, i) {
    this.logger.debug("Unsubscribing Topic"), this.logger.trace({ type: "method", method: "unsubscribe", params: { topic: t, id: r, opts: i } });
    try {
      const n = Pp(i);
      await this.rpcUnsubscribe(t, r, n);
      const s = Xf("USER_DISCONNECTED", `${this.name}, ${t}`);
      await this.onUnsubscribe(t, r, s), this.logger.debug("Successfully Unsubscribed Topic"), this.logger.trace({ type: "method", method: "unsubscribe", params: { topic: t, id: r, opts: i } });
    } catch (n) {
      throw this.logger.debug("Failed to Unsubscribe Topic"), this.logger.error(n), n;
    }
  }
  async rpcSubscribe(t, r) {
    const i = { method: Wf(r.protocol).subscribe, params: { topic: t } };
    this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: i });
    try {
      return await await Ih(this.relayer.request(i).catch((n) => this.logger.warn(n)), this.subscribeTimeout) ? Np(t + this.clientId) : null;
    } catch {
      this.logger.debug("Outgoing Relay Subscribe Payload stalled"), this.relayer.events.emit(qi.connection_stalled);
    }
    return null;
  }
  async rpcBatchSubscribe(t) {
    if (!t.length)
      return;
    const r = t[0].relay, i = { method: Wf(r.protocol).batchSubscribe, params: { topics: t.map((n) => n.topic) } };
    this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: i });
    try {
      return await await Ih(this.relayer.request(i).catch((n) => this.logger.warn(n)), this.subscribeTimeout);
    } catch {
      this.relayer.events.emit(qi.connection_stalled);
    }
  }
  async rpcBatchFetchMessages(t) {
    if (!t.length)
      return;
    const r = t[0].relay, i = { method: Wf(r.protocol).batchFetchMessages, params: { topics: t.map((s) => s.topic) } };
    this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: i });
    let n;
    try {
      n = await await Ih(this.relayer.request(i).catch((s) => this.logger.warn(s)), this.subscribeTimeout);
    } catch {
      this.relayer.events.emit(qi.connection_stalled);
    }
    return n;
  }
  rpcUnsubscribe(t, r, i) {
    const n = { method: Wf(i.protocol).unsubscribe, params: { topic: t, id: r } };
    return this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: n }), this.relayer.request(n);
  }
  onSubscribe(t, r) {
    this.setSubscription(t, M1(Hf({}, r), { id: t })), this.pending.delete(r.topic);
  }
  onBatchSubscribe(t) {
    t.length && t.forEach((r) => {
      this.setSubscription(r.id, Hf({}, r)), this.pending.delete(r.topic);
    });
  }
  async onUnsubscribe(t, r, i) {
    this.events.removeAllListeners(r), this.hasSubscription(r, t) && this.deleteSubscription(r, i), await this.relayer.messages.del(t);
  }
  async setRelayerSubscriptions(t) {
    await this.relayer.core.storage.setItem(this.storageKey, t);
  }
  async getRelayerSubscriptions() {
    return await this.relayer.core.storage.getItem(this.storageKey);
  }
  setSubscription(t, r) {
    this.logger.debug("Setting subscription"), this.logger.trace({ type: "method", method: "setSubscription", id: t, subscription: r }), this.addSubscription(t, r);
  }
  addSubscription(t, r) {
    this.subscriptions.set(t, Hf({}, r)), this.topicMap.set(r.topic, t), this.events.emit(Es.created, r);
  }
  getSubscription(t) {
    this.logger.debug("Getting subscription"), this.logger.trace({ type: "method", method: "getSubscription", id: t });
    const r = this.subscriptions.get(t);
    if (!r) {
      const { message: i } = Ye("NO_MATCHING_KEY", `${this.name}: ${t}`);
      throw new Error(i);
    }
    return r;
  }
  deleteSubscription(t, r) {
    this.logger.debug("Deleting subscription"), this.logger.trace({ type: "method", method: "deleteSubscription", id: t, reason: r });
    const i = this.getSubscription(t);
    this.subscriptions.delete(t), this.topicMap.delete(i.topic, t), this.events.emit(Es.deleted, M1(Hf({}, i), { reason: r }));
  }
  async persist() {
    await this.setRelayerSubscriptions(this.values), this.events.emit(Es.sync);
  }
  async reset() {
    if (this.cached.length) {
      const t = Math.ceil(this.cached.length / this.batchSubscribeTopicsLimit);
      for (let r = 0; r < t; r++) {
        const i = this.cached.splice(0, this.batchSubscribeTopicsLimit);
        await this.batchFetchMessages(i), await this.batchSubscribe(i);
      }
    }
    this.events.emit(Es.resubscribed);
  }
  async restore() {
    try {
      const t = await this.getRelayerSubscriptions();
      if (typeof t > "u" || !t.length)
        return;
      if (this.subscriptions.size) {
        const { message: r } = Ye("RESTORE_WILL_OVERRIDE", this.name);
        throw this.logger.error(r), this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`), new Error(r);
      }
      this.cached = t, this.logger.debug(`Successfully Restored subscriptions for ${this.name}`), this.logger.trace({ type: "method", method: "restore", subscriptions: this.values });
    } catch (t) {
      this.logger.debug(`Failed to Restore subscriptions for ${this.name}`), this.logger.error(t);
    }
  }
  async batchSubscribe(t) {
    if (!t.length)
      return;
    const r = await this.rpcBatchSubscribe(t);
    lT(r) && this.onBatchSubscribe(r.map((i, n) => M1(Hf({}, t[n]), { id: i })));
  }
  async batchFetchMessages(t) {
    if (!t.length)
      return;
    this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);
    const r = await this.rpcBatchFetchMessages(t);
    r && r.messages && (this.pendingBatchMessages = this.pendingBatchMessages.concat(r.messages));
  }
  async onConnect() {
    await this.restart(), this.onEnable();
  }
  onDisconnect() {
    this.onDisable();
  }
  async checkPending() {
    if (!this.initialized || !this.relayer.connected)
      return;
    const t = [];
    this.pending.forEach((r) => {
      t.push(r);
    }), await this.batchSubscribe(t), this.pendingBatchMessages.length && (await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages), this.pendingBatchMessages = []);
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(rf.pulse, async () => {
      await this.checkPending();
    }), this.events.on(Es.created, async (t) => {
      const r = Es.created;
      this.logger.info(`Emitting ${r}`), this.logger.debug({ type: "event", event: r, data: t }), await this.persist();
    }), this.events.on(Es.deleted, async (t) => {
      const r = Es.deleted;
      this.logger.info(`Emitting ${r}`), this.logger.debug({ type: "event", event: r, data: t }), await this.persist();
    });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: t } = Ye("NOT_INITIALIZED", this.name);
      throw new Error(t);
    }
  }
  async restartToComplete() {
    this.restartInProgress && await new Promise((t) => {
      const r = setInterval(() => {
        this.restartInProgress || (clearInterval(r), t());
      }, this.pollingInterval);
    });
  }
};
var hq = Object.defineProperty, Bv = Object.getOwnPropertySymbols, fq = Object.prototype.hasOwnProperty, uq = Object.prototype.propertyIsEnumerable, Tv = (e, t, r) => t in e ? hq(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, cq = (e, t) => {
  for (var r in t || (t = {}))
    fq.call(t, r) && Tv(e, r, t[r]);
  if (Bv)
    for (var r of Bv(t))
      uq.call(t, r) && Tv(e, r, t[r]);
  return e;
};
let lq = class extends tR {
  constructor(t) {
    super(t), this.protocol = "wc", this.version = 2, this.events = new Rn.EventEmitter(), this.name = xU, this.transportExplicitlyClosed = !1, this.initialized = !1, this.connectionAttemptInProgress = !1, this.connectionStatusPollingInterval = 20, this.staleConnectionErrors = ["socket hang up", "stalled", "interrupted"], this.hasExperiencedNetworkDisruption = !1, this.requestsInFlight = /* @__PURE__ */ new Map(), this.heartBeatTimeout = Zt.toMiliseconds(Zt.THIRTY_SECONDS + Zt.ONE_SECOND), this.request = async (r) => {
      var i, n;
      this.logger.debug("Publishing Request Payload");
      const s = r.id || xa().toString();
      await this.toEstablishConnection();
      try {
        const u = this.provider.request(r);
        this.requestsInFlight.set(s, { promise: u, request: r }), this.logger.trace({ id: s, method: r.method, topic: (i = r.params) == null ? void 0 : i.topic }, "relayer.request - attempt to publish...");
        const p = await new Promise(async (b, m) => {
          const w = () => {
            m(new Error(`relayer.request - publish interrupted, id: ${s}`));
          };
          this.provider.on(yn.disconnect, w);
          const S = await u;
          this.provider.off(yn.disconnect, w), b(S);
        });
        return this.logger.trace({ id: s, method: r.method, topic: (n = r.params) == null ? void 0 : n.topic }, "relayer.request - published"), p;
      } catch (u) {
        throw this.logger.debug(`Failed to Publish Request: ${s}`), u;
      } finally {
        this.requestsInFlight.delete(s);
      }
    }, this.resetPingTimeout = () => {
      if (pu())
        try {
          clearTimeout(this.pingTimeout), this.pingTimeout = setTimeout(() => {
            var r, i, n;
            (n = (i = (r = this.provider) == null ? void 0 : r.connection) == null ? void 0 : i.socket) == null || n.terminate();
          }, this.heartBeatTimeout);
        } catch (r) {
          this.logger.warn(r);
        }
    }, this.onPayloadHandler = (r) => {
      this.onProviderPayload(r), this.resetPingTimeout();
    }, this.onConnectHandler = () => {
      this.logger.trace("relayer connected"), this.startPingTimeout(), this.events.emit(qi.connect);
    }, this.onDisconnectHandler = () => {
      this.logger.trace("relayer disconnected"), this.onProviderDisconnect();
    }, this.onProviderErrorHandler = (r) => {
      this.logger.error(r), this.events.emit(qi.error, r), this.logger.info("Fatal socket error received, closing transport"), this.transportClose();
    }, this.registerProviderListeners = () => {
      this.provider.on(yn.payload, this.onPayloadHandler), this.provider.on(yn.connect, this.onConnectHandler), this.provider.on(yn.disconnect, this.onDisconnectHandler), this.provider.on(yn.error, this.onProviderErrorHandler);
    }, this.core = t.core, this.logger = typeof t.logger < "u" && typeof t.logger != "string" ? Ii(t.logger, this.name) : Du(ll({ level: t.logger || SU })), this.messages = new ZU(this.logger, t.core), this.subscriber = new aq(this, this.logger), this.publisher = new tq(this, this.logger), this.relayUrl = (t == null ? void 0 : t.relayUrl) || Ty, this.projectId = t.projectId, this.bundleId = lR(), this.provider = {};
  }
  async init() {
    this.logger.trace("Initialized"), this.registerEventListeners(), await Promise.all([this.messages.init(), this.subscriber.init()]), await this.transportOpen(), this.initialized = !0, setTimeout(async () => {
      this.subscriber.topics.length === 0 && this.subscriber.pending.size === 0 && (this.logger.info("No topics subscribed to after init, closing transport"), await this.transportClose(), this.transportExplicitlyClosed = !1);
    }, CU);
  }
  get context() {
    return Gi(this.logger);
  }
  get connected() {
    var t, r, i;
    return ((i = (r = (t = this.provider) == null ? void 0 : t.connection) == null ? void 0 : r.socket) == null ? void 0 : i.readyState) === 1;
  }
  get connecting() {
    var t, r, i;
    return ((i = (r = (t = this.provider) == null ? void 0 : t.connection) == null ? void 0 : r.socket) == null ? void 0 : i.readyState) === 0;
  }
  async publish(t, r, i) {
    this.isInitialized(), await this.publisher.publish(t, r, i), await this.recordMessageEvent({ topic: t, message: r, publishedAt: Date.now() });
  }
  async subscribe(t, r) {
    var i;
    this.isInitialized();
    let n = ((i = this.subscriber.topicMap.get(t)) == null ? void 0 : i[0]) || "", s;
    const u = (p) => {
      p.topic === t && (this.subscriber.off(Es.created, u), s());
    };
    return await Promise.all([new Promise((p) => {
      s = p, this.subscriber.on(Es.created, u);
    }), new Promise(async (p) => {
      n = await this.subscriber.subscribe(t, r) || n, p();
    })]), n;
  }
  async unsubscribe(t, r) {
    this.isInitialized(), await this.subscriber.unsubscribe(t, r);
  }
  on(t, r) {
    this.events.on(t, r);
  }
  once(t, r) {
    this.events.once(t, r);
  }
  off(t, r) {
    this.events.off(t, r);
  }
  removeListener(t, r) {
    this.events.removeListener(t, r);
  }
  async transportDisconnect() {
    if (!this.hasExperiencedNetworkDisruption && this.connected && this.requestsInFlight.size > 0)
      try {
        await Promise.all(Array.from(this.requestsInFlight.values()).map((t) => t.promise));
      } catch (t) {
        this.logger.warn(t);
      }
    this.hasExperiencedNetworkDisruption || this.connected ? await Ih(this.provider.disconnect(), 2e3, "provider.disconnect()").catch(() => this.onProviderDisconnect()) : this.onProviderDisconnect();
  }
  async transportClose() {
    this.transportExplicitlyClosed = !0, await this.transportDisconnect();
  }
  async transportOpen(t) {
    await this.confirmOnlineStateOrThrow(), t && t !== this.relayUrl && (this.relayUrl = t, await this.transportDisconnect()), await this.createProvider(), this.connectionAttemptInProgress = !0, this.transportExplicitlyClosed = !1;
    try {
      await new Promise(async (r, i) => {
        const n = () => {
          this.provider.off(yn.disconnect, n), i(new Error("Connection interrupted while trying to subscribe"));
        };
        this.provider.on(yn.disconnect, n), await Ih(this.provider.connect(), Zt.toMiliseconds(Zt.ONE_MINUTE), `Socket stalled when trying to connect to ${this.relayUrl}`).catch((s) => {
          i(s);
        }).finally(() => {
          clearTimeout(this.reconnectTimeout), this.reconnectTimeout = void 0;
        }), this.subscriber.start().catch((s) => {
          this.logger.error(s), this.onDisconnectHandler();
        }), this.hasExperiencedNetworkDisruption = !1, r();
      });
    } catch (r) {
      this.logger.error(r);
      const i = r;
      if (this.hasExperiencedNetworkDisruption = !0, !this.isConnectionStalled(i.message))
        throw r;
    } finally {
      this.connectionAttemptInProgress = !1;
    }
  }
  async restartTransport(t) {
    this.connectionAttemptInProgress || (this.relayUrl = t || this.relayUrl, await this.confirmOnlineStateOrThrow(), await this.transportClose(), await this.transportOpen());
  }
  async confirmOnlineStateOrThrow() {
    if (!await vv())
      throw new Error("No internet connection detected. Please restart your network and try again.");
  }
  async handleBatchMessageEvents(t) {
    if ((t == null ? void 0 : t.length) === 0) {
      this.logger.trace("Batch message events is empty. Ignoring...");
      return;
    }
    const r = t.sort((i, n) => i.publishedAt - n.publishedAt);
    this.logger.trace(`Batch of ${r.length} message events sorted`);
    for (const i of r)
      try {
        await this.onMessageEvent(i);
      } catch (n) {
        this.logger.warn(n);
      }
    this.logger.trace(`Batch of ${r.length} message events processed`);
  }
  startPingTimeout() {
    var t, r, i, n, s;
    if (pu())
      try {
        (r = (t = this.provider) == null ? void 0 : t.connection) != null && r.socket && ((s = (n = (i = this.provider) == null ? void 0 : i.connection) == null ? void 0 : n.socket) == null || s.once("ping", () => {
          this.resetPingTimeout();
        })), this.resetPingTimeout();
      } catch (u) {
        this.logger.warn(u);
      }
  }
  isConnectionStalled(t) {
    return this.staleConnectionErrors.some((r) => t.includes(r));
  }
  async createProvider() {
    this.provider.connection && this.unregisterProviderListeners();
    const t = await this.core.crypto.signJWT(this.relayUrl);
    this.provider = new hs(new $T(vR({ sdkVersion: Fy, protocol: this.protocol, version: this.version, relayUrl: this.relayUrl, projectId: this.projectId, auth: t, useOnCloseEvent: !0, bundleId: this.bundleId }))), this.registerProviderListeners();
  }
  async recordMessageEvent(t) {
    const { topic: r, message: i } = t;
    await this.messages.set(r, i);
  }
  async shouldIgnoreMessageEvent(t) {
    const { topic: r, message: i } = t;
    if (!i || i.length === 0)
      return this.logger.debug(`Ignoring invalid/empty message: ${i}`), !0;
    if (!await this.subscriber.isSubscribed(r))
      return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`), !0;
    const n = this.messages.has(r, i);
    return n && this.logger.debug(`Ignoring duplicate message: ${i}`), n;
  }
  async onProviderPayload(t) {
    if (this.logger.debug("Incoming Relay Payload"), this.logger.trace({ type: "payload", direction: "incoming", payload: t }), b2(t)) {
      if (!t.method.endsWith(IU))
        return;
      const r = t.params, { topic: i, message: n, publishedAt: s, attestation: u } = r.data, p = { topic: i, message: n, publishedAt: s, attestation: u };
      this.logger.debug("Emitting Relayer Payload"), this.logger.trace(cq({ type: "event", event: r.id }, p)), this.events.emit(r.id, p), await this.acknowledgePayload(t), await this.onMessageEvent(p);
    } else
      bl(t) && this.events.emit(qi.message_ack, t);
  }
  async onMessageEvent(t) {
    await this.shouldIgnoreMessageEvent(t) || (this.events.emit(qi.message, t), await this.recordMessageEvent(t));
  }
  async acknowledgePayload(t) {
    const r = ml(t.id, !0);
    await this.provider.connection.send(r);
  }
  unregisterProviderListeners() {
    this.provider.off(yn.payload, this.onPayloadHandler), this.provider.off(yn.connect, this.onConnectHandler), this.provider.off(yn.disconnect, this.onDisconnectHandler), this.provider.off(yn.error, this.onProviderErrorHandler), clearTimeout(this.pingTimeout);
  }
  async registerEventListeners() {
    let t = await vv();
    yT(async (r) => {
      t !== r && (t = r, r ? await this.restartTransport().catch((i) => this.logger.error(i)) : (this.hasExperiencedNetworkDisruption = !0, await this.transportDisconnect(), this.transportExplicitlyClosed = !1));
    });
  }
  async onProviderDisconnect() {
    await this.subscriber.stop(), this.requestsInFlight.clear(), clearTimeout(this.pingTimeout), this.events.emit(qi.disconnect), this.connectionAttemptInProgress = !1, !this.transportExplicitlyClosed && (this.reconnectTimeout || (this.reconnectTimeout = setTimeout(async () => {
      await this.transportOpen().catch((t) => this.logger.error(t));
    }, Zt.toMiliseconds(DU))));
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: t } = Ye("NOT_INITIALIZED", this.name);
      throw new Error(t);
    }
  }
  async toEstablishConnection() {
    await this.confirmOnlineStateOrThrow(), !this.connected && (this.connectionAttemptInProgress && await new Promise((t) => {
      const r = setInterval(() => {
        this.connected && (clearInterval(r), t());
      }, this.connectionStatusPollingInterval);
    }), await this.transportOpen());
  }
};
var dq = Object.defineProperty, Fv = Object.getOwnPropertySymbols, pq = Object.prototype.hasOwnProperty, gq = Object.prototype.propertyIsEnumerable, Uv = (e, t, r) => t in e ? dq(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, qv = (e, t) => {
  for (var r in t || (t = {}))
    pq.call(t, r) && Uv(e, r, t[r]);
  if (Fv)
    for (var r of Fv(t))
      gq.call(t, r) && Uv(e, r, t[r]);
  return e;
};
class Ha extends eR {
  constructor(t, r, i, n = Ys, s = void 0) {
    super(t, r, i, n), this.core = t, this.logger = r, this.name = i, this.map = /* @__PURE__ */ new Map(), this.version = NU, this.cached = [], this.initialized = !1, this.storagePrefix = Ys, this.recentlyDeleted = [], this.recentlyDeletedLimit = 200, this.init = async () => {
      this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach((u) => {
        this.getKey && u !== null && !Rp(u) ? this.map.set(this.getKey(u), u) : pT(u) ? this.map.set(u.id, u) : gT(u) && this.map.set(u.topic, u);
      }), this.cached = [], this.initialized = !0);
    }, this.set = async (u, p) => {
      this.isInitialized(), this.map.has(u) ? await this.update(u, p) : (this.logger.debug("Setting value"), this.logger.trace({ type: "method", method: "set", key: u, value: p }), this.map.set(u, p), await this.persist());
    }, this.get = (u) => (this.isInitialized(), this.logger.debug("Getting value"), this.logger.trace({ type: "method", method: "get", key: u }), this.getData(u)), this.getAll = (u) => (this.isInitialized(), u ? this.values.filter((p) => Object.keys(u).every((b) => jT(p[b], u[b]))) : this.values), this.update = async (u, p) => {
      this.isInitialized(), this.logger.debug("Updating value"), this.logger.trace({ type: "method", method: "update", key: u, update: p });
      const b = qv(qv({}, this.getData(u)), p);
      this.map.set(u, b), await this.persist();
    }, this.delete = async (u, p) => {
      this.isInitialized(), this.map.has(u) && (this.logger.debug("Deleting value"), this.logger.trace({ type: "method", method: "delete", key: u, reason: p }), this.map.delete(u), this.addToRecentlyDeleted(u), await this.persist());
    }, this.logger = Ii(r, this.name), this.storagePrefix = n, this.getKey = s;
  }
  get context() {
    return Gi(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + this.core.customStoragePrefix + "//" + this.name;
  }
  get length() {
    return this.map.size;
  }
  get keys() {
    return Array.from(this.map.keys());
  }
  get values() {
    return Array.from(this.map.values());
  }
  addToRecentlyDeleted(t) {
    this.recentlyDeleted.push(t), this.recentlyDeleted.length >= this.recentlyDeletedLimit && this.recentlyDeleted.splice(0, this.recentlyDeletedLimit / 2);
  }
  async setDataStore(t) {
    await this.core.storage.setItem(this.storageKey, t);
  }
  async getDataStore() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getData(t) {
    const r = this.map.get(t);
    if (!r) {
      if (this.recentlyDeleted.includes(t)) {
        const { message: n } = Ye("MISSING_OR_INVALID", `Record was recently deleted - ${this.name}: ${t}`);
        throw this.logger.error(n), new Error(n);
      }
      const { message: i } = Ye("NO_MATCHING_KEY", `${this.name}: ${t}`);
      throw this.logger.error(i), new Error(i);
    }
    return r;
  }
  async persist() {
    await this.setDataStore(this.values);
  }
  async restore() {
    try {
      const t = await this.getDataStore();
      if (typeof t > "u" || !t.length)
        return;
      if (this.map.size) {
        const { message: r } = Ye("RESTORE_WILL_OVERRIDE", this.name);
        throw this.logger.error(r), new Error(r);
      }
      this.cached = t, this.logger.debug(`Successfully Restored value for ${this.name}`), this.logger.trace({ type: "method", method: "restore", value: this.values });
    } catch (t) {
      this.logger.debug(`Failed to Restore value for ${this.name}`), this.logger.error(t);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: t } = Ye("NOT_INITIALIZED", this.name);
      throw new Error(t);
    }
  }
}
class mq {
  constructor(t, r) {
    this.core = t, this.logger = r, this.name = TU, this.version = FU, this.events = new Qp(), this.initialized = !1, this.storagePrefix = Ys, this.ignoredPayloadTypes = [af], this.registeredMethods = [], this.init = async () => {
      this.initialized || (await this.pairings.init(), await this.cleanup(), this.registerRelayerEvents(), this.registerExpirerEvents(), this.initialized = !0, this.logger.trace("Initialized"));
    }, this.register = ({ methods: i }) => {
      this.isInitialized(), this.registeredMethods = [.../* @__PURE__ */ new Set([...this.registeredMethods, ...i])];
    }, this.create = async (i) => {
      this.isInitialized();
      const n = Cp(), s = await this.core.crypto.setSymKey(n), u = l0(Zt.FIVE_MINUTES), p = { protocol: By }, b = { topic: s, expiry: u, relay: p, active: !1 }, m = fT({ protocol: this.core.protocol, version: this.core.version, topic: s, symKey: n, relay: p, expiryTimestamp: u, methods: i == null ? void 0 : i.methods });
      return this.core.expirer.set(s, u), await this.pairings.set(s, b), await this.core.relayer.subscribe(s), { topic: s, uri: m };
    }, this.pair = async (i) => {
      this.isInitialized();
      const n = this.core.eventClient.createEvent({ properties: { topic: i == null ? void 0 : i.uri, trace: [vs.pairing_started] } });
      this.isValidPair(i, n);
      const { topic: s, symKey: u, relay: p, expiryTimestamp: b, methods: m } = mv(i.uri);
      n.props.properties.topic = s, n.addTrace(vs.pairing_uri_validation_success), n.addTrace(vs.pairing_uri_not_expired);
      let w;
      if (this.pairings.keys.includes(s)) {
        if (w = this.pairings.get(s), n.addTrace(vs.existing_pairing), w.active)
          throw n.setError(bo.active_pairing_already_exists), new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);
        n.addTrace(vs.pairing_not_expired);
      }
      const S = b || l0(Zt.FIVE_MINUTES), C = { topic: s, relay: p, expiry: S, active: !1, methods: m };
      this.core.expirer.set(s, S), await this.pairings.set(s, C), n.addTrace(vs.store_new_pairing), i.activatePairing && await this.activate({ topic: s }), this.events.emit(Mh.create, C), n.addTrace(vs.emit_inactive_pairing), this.core.crypto.keychain.has(s) || await this.core.crypto.setSymKey(u, s), n.addTrace(vs.subscribing_pairing_topic);
      try {
        await this.core.relayer.confirmOnlineStateOrThrow();
      } catch {
        n.setError(bo.no_internet_connection);
      }
      try {
        await this.core.relayer.subscribe(s, { relay: p });
      } catch (D) {
        throw n.setError(bo.subscribe_pairing_topic_failure), D;
      }
      return n.addTrace(vs.subscribe_pairing_topic_success), C;
    }, this.activate = async ({ topic: i }) => {
      this.isInitialized();
      const n = l0(Zt.THIRTY_DAYS);
      this.core.expirer.set(i, n), await this.pairings.update(i, { active: !0, expiry: n });
    }, this.ping = async (i) => {
      this.isInitialized(), await this.isValidPing(i);
      const { topic: n } = i;
      if (this.pairings.keys.includes(n)) {
        const s = await this.sendRequest(n, "wc_pairingPing", {}), { done: u, resolve: p, reject: b } = bR();
        this.events.once(h1("pairing_ping", s), ({ error: m }) => {
          m ? b(m) : p();
        }), await u();
      }
    }, this.updateExpiry = async ({ topic: i, expiry: n }) => {
      this.isInitialized(), await this.pairings.update(i, { expiry: n });
    }, this.updateMetadata = async ({ topic: i, metadata: n }) => {
      this.isInitialized(), await this.pairings.update(i, { peerMetadata: n });
    }, this.getPairings = () => (this.isInitialized(), this.pairings.values), this.disconnect = async (i) => {
      this.isInitialized(), await this.isValidDisconnect(i);
      const { topic: n } = i;
      this.pairings.keys.includes(n) && (await this.sendRequest(n, "wc_pairingDelete", Xf("USER_DISCONNECTED")), await this.deletePairing(n));
    }, this.sendRequest = async (i, n, s) => {
      const u = Ch(n, s), p = await this.core.crypto.encode(i, u), b = zf[n].req;
      return this.core.history.set(i, u), this.core.relayer.publish(i, p, b), u.id;
    }, this.sendResult = async (i, n, s) => {
      const u = ml(i, s), p = await this.core.crypto.encode(n, u), b = await this.core.history.get(n, i), m = zf[b.request.method].res;
      await this.core.relayer.publish(n, p, m), await this.core.history.resolve(u);
    }, this.sendError = async (i, n, s) => {
      const u = vl(i, s), p = await this.core.crypto.encode(n, u), b = await this.core.history.get(n, i), m = zf[b.request.method] ? zf[b.request.method].res : zf.unregistered_method.res;
      await this.core.relayer.publish(n, p, m), await this.core.history.resolve(u);
    }, this.deletePairing = async (i, n) => {
      await this.core.relayer.unsubscribe(i), await Promise.all([this.pairings.delete(i, Xf("USER_DISCONNECTED")), this.core.crypto.deleteSymKey(i), n ? Promise.resolve() : this.core.expirer.del(i)]);
    }, this.cleanup = async () => {
      const i = this.pairings.getAll().filter((n) => $m(n.expiry));
      await Promise.all(i.map((n) => this.deletePairing(n.topic)));
    }, this.onRelayEventRequest = (i) => {
      const { topic: n, payload: s } = i;
      switch (s.method) {
        case "wc_pairingPing":
          return this.onPairingPingRequest(n, s);
        case "wc_pairingDelete":
          return this.onPairingDeleteRequest(n, s);
        default:
          return this.onUnknownRpcMethodRequest(n, s);
      }
    }, this.onRelayEventResponse = async (i) => {
      const { topic: n, payload: s } = i, u = (await this.core.history.get(n, s.id)).request.method;
      switch (u) {
        case "wc_pairingPing":
          return this.onPairingPingResponse(n, s);
        default:
          return this.onUnknownRpcMethodResponse(u);
      }
    }, this.onPairingPingRequest = async (i, n) => {
      const { id: s } = n;
      try {
        this.isValidPing({ topic: i }), await this.sendResult(s, i, !0), this.events.emit(Mh.ping, { id: s, topic: i });
      } catch (u) {
        await this.sendError(s, i, u), this.logger.error(u);
      }
    }, this.onPairingPingResponse = (i, n) => {
      const { id: s } = n;
      setTimeout(() => {
        _s(n) ? this.events.emit(h1("pairing_ping", s), {}) : xn(n) && this.events.emit(h1("pairing_ping", s), { error: n.error });
      }, 500);
    }, this.onPairingDeleteRequest = async (i, n) => {
      const { id: s } = n;
      try {
        this.isValidDisconnect({ topic: i }), await this.deletePairing(i), this.events.emit(Mh.delete, { id: s, topic: i });
      } catch (u) {
        await this.sendError(s, i, u), this.logger.error(u);
      }
    }, this.onUnknownRpcMethodRequest = async (i, n) => {
      const { id: s, method: u } = n;
      try {
        if (this.registeredMethods.includes(u))
          return;
        const p = Xf("WC_METHOD_UNSUPPORTED", u);
        await this.sendError(s, i, p), this.logger.error(p);
      } catch (p) {
        await this.sendError(s, i, p), this.logger.error(p);
      }
    }, this.onUnknownRpcMethodResponse = (i) => {
      this.registeredMethods.includes(i) || this.logger.error(Xf("WC_METHOD_UNSUPPORTED", i));
    }, this.isValidPair = (i, n) => {
      var s;
      if (!_1(i)) {
        const { message: p } = Ye("MISSING_OR_INVALID", `pair() params: ${i}`);
        throw n.setError(bo.malformed_pairing_uri), new Error(p);
      }
      if (!dT(i.uri)) {
        const { message: p } = Ye("MISSING_OR_INVALID", `pair() uri: ${i.uri}`);
        throw n.setError(bo.malformed_pairing_uri), new Error(p);
      }
      const u = mv(i == null ? void 0 : i.uri);
      if (!((s = u == null ? void 0 : u.relay) != null && s.protocol)) {
        const { message: p } = Ye("MISSING_OR_INVALID", "pair() uri#relay-protocol");
        throw n.setError(bo.malformed_pairing_uri), new Error(p);
      }
      if (!(u != null && u.symKey)) {
        const { message: p } = Ye("MISSING_OR_INVALID", "pair() uri#symKey");
        throw n.setError(bo.malformed_pairing_uri), new Error(p);
      }
      if (u != null && u.expiryTimestamp && Zt.toMiliseconds(u == null ? void 0 : u.expiryTimestamp) < Date.now()) {
        n.setError(bo.pairing_expired);
        const { message: p } = Ye("EXPIRED", "pair() URI has expired. Please try again with a new connection URI.");
        throw new Error(p);
      }
    }, this.isValidPing = async (i) => {
      if (!_1(i)) {
        const { message: s } = Ye("MISSING_OR_INVALID", `ping() params: ${i}`);
        throw new Error(s);
      }
      const { topic: n } = i;
      await this.isValidPairingTopic(n);
    }, this.isValidDisconnect = async (i) => {
      if (!_1(i)) {
        const { message: s } = Ye("MISSING_OR_INVALID", `disconnect() params: ${i}`);
        throw new Error(s);
      }
      const { topic: n } = i;
      await this.isValidPairingTopic(n);
    }, this.isValidPairingTopic = async (i) => {
      if (!gy(i)) {
        const { message: n } = Ye("MISSING_OR_INVALID", `pairing topic should be a string: ${i}`);
        throw new Error(n);
      }
      if (!this.pairings.keys.includes(i)) {
        const { message: n } = Ye("NO_MATCHING_KEY", `pairing topic doesn't exist: ${i}`);
        throw new Error(n);
      }
      if ($m(this.pairings.get(i).expiry)) {
        await this.deletePairing(i);
        const { message: n } = Ye("EXPIRED", `pairing topic: ${i}`);
        throw new Error(n);
      }
    }, this.core = t, this.logger = Ii(r, this.name), this.pairings = new Ha(this.core, this.logger, this.name, this.storagePrefix);
  }
  get context() {
    return Gi(this.logger);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: t } = Ye("NOT_INITIALIZED", this.name);
      throw new Error(t);
    }
  }
  registerRelayerEvents() {
    this.core.relayer.on(qi.message, async (t) => {
      const { topic: r, message: i } = t;
      if (!this.pairings.keys.includes(r) || this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))
        return;
      const n = await this.core.crypto.decode(r, i);
      try {
        b2(n) ? (this.core.history.set(r, n), this.onRelayEventRequest({ topic: r, payload: n })) : bl(n) && (await this.core.history.resolve(n), await this.onRelayEventResponse({ topic: r, payload: n }), this.core.history.delete(r, n.id));
      } catch (s) {
        this.logger.error(s);
      }
    });
  }
  registerExpirerEvents() {
    this.core.expirer.on(_n.expired, async (t) => {
      const { topic: r } = AR(t.target);
      r && this.pairings.keys.includes(r) && (await this.deletePairing(r, !0), this.events.emit(Mh.expire, { topic: r }));
    });
  }
}
class vq extends WP {
  constructor(t, r) {
    super(t, r), this.core = t, this.logger = r, this.records = /* @__PURE__ */ new Map(), this.events = new Rn.EventEmitter(), this.name = UU, this.version = qU, this.cached = [], this.initialized = !1, this.storagePrefix = Ys, this.init = async () => {
      this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach((i) => this.records.set(i.id, i)), this.cached = [], this.registerEventListeners(), this.initialized = !0);
    }, this.set = (i, n, s) => {
      if (this.isInitialized(), this.logger.debug("Setting JSON-RPC request history record"), this.logger.trace({ type: "method", method: "set", topic: i, request: n, chainId: s }), this.records.has(n.id))
        return;
      const u = { id: n.id, topic: i, request: { method: n.method, params: n.params || null }, chainId: s, expiry: l0(Zt.THIRTY_DAYS) };
      this.records.set(u.id, u), this.persist(), this.events.emit(Hn.created, u);
    }, this.resolve = async (i) => {
      if (this.isInitialized(), this.logger.debug("Updating JSON-RPC response history record"), this.logger.trace({ type: "method", method: "update", response: i }), !this.records.has(i.id))
        return;
      const n = await this.getRecord(i.id);
      typeof n.response > "u" && (n.response = xn(i) ? { error: i.error } : { result: i.result }, this.records.set(n.id, n), this.persist(), this.events.emit(Hn.updated, n));
    }, this.get = async (i, n) => (this.isInitialized(), this.logger.debug("Getting record"), this.logger.trace({ type: "method", method: "get", topic: i, id: n }), await this.getRecord(n)), this.delete = (i, n) => {
      this.isInitialized(), this.logger.debug("Deleting record"), this.logger.trace({ type: "method", method: "delete", id: n }), this.values.forEach((s) => {
        if (s.topic === i) {
          if (typeof n < "u" && s.id !== n)
            return;
          this.records.delete(s.id), this.events.emit(Hn.deleted, s);
        }
      }), this.persist();
    }, this.exists = async (i, n) => (this.isInitialized(), this.records.has(n) ? (await this.getRecord(n)).topic === i : !1), this.on = (i, n) => {
      this.events.on(i, n);
    }, this.once = (i, n) => {
      this.events.once(i, n);
    }, this.off = (i, n) => {
      this.events.off(i, n);
    }, this.removeListener = (i, n) => {
      this.events.removeListener(i, n);
    }, this.logger = Ii(r, this.name);
  }
  get context() {
    return Gi(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + this.core.customStoragePrefix + "//" + this.name;
  }
  get size() {
    return this.records.size;
  }
  get keys() {
    return Array.from(this.records.keys());
  }
  get values() {
    return Array.from(this.records.values());
  }
  get pending() {
    const t = [];
    return this.values.forEach((r) => {
      if (typeof r.response < "u")
        return;
      const i = { topic: r.topic, request: Ch(r.request.method, r.request.params, r.id), chainId: r.chainId };
      return t.push(i);
    }), t;
  }
  async setJsonRpcRecords(t) {
    await this.core.storage.setItem(this.storageKey, t);
  }
  async getJsonRpcRecords() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getRecord(t) {
    this.isInitialized();
    const r = this.records.get(t);
    if (!r) {
      const { message: i } = Ye("NO_MATCHING_KEY", `${this.name}: ${t}`);
      throw new Error(i);
    }
    return r;
  }
  async persist() {
    await this.setJsonRpcRecords(this.values), this.events.emit(Hn.sync);
  }
  async restore() {
    try {
      const t = await this.getJsonRpcRecords();
      if (typeof t > "u" || !t.length)
        return;
      if (this.records.size) {
        const { message: r } = Ye("RESTORE_WILL_OVERRIDE", this.name);
        throw this.logger.error(r), new Error(r);
      }
      this.cached = t, this.logger.debug(`Successfully Restored records for ${this.name}`), this.logger.trace({ type: "method", method: "restore", records: this.values });
    } catch (t) {
      this.logger.debug(`Failed to Restore records for ${this.name}`), this.logger.error(t);
    }
  }
  registerEventListeners() {
    this.events.on(Hn.created, (t) => {
      const r = Hn.created;
      this.logger.info(`Emitting ${r}`), this.logger.debug({ type: "event", event: r, record: t });
    }), this.events.on(Hn.updated, (t) => {
      const r = Hn.updated;
      this.logger.info(`Emitting ${r}`), this.logger.debug({ type: "event", event: r, record: t });
    }), this.events.on(Hn.deleted, (t) => {
      const r = Hn.deleted;
      this.logger.info(`Emitting ${r}`), this.logger.debug({ type: "event", event: r, record: t });
    }), this.core.heartbeat.on(rf.pulse, () => {
      this.cleanup();
    });
  }
  cleanup() {
    try {
      this.isInitialized();
      let t = !1;
      this.records.forEach((r) => {
        Zt.toMiliseconds(r.expiry || 0) - Date.now() <= 0 && (this.logger.info(`Deleting expired history log: ${r.id}`), this.records.delete(r.id), this.events.emit(Hn.deleted, r, !1), t = !0);
      }), t && this.persist();
    } catch (t) {
      this.logger.warn(t);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: t } = Ye("NOT_INITIALIZED", this.name);
      throw new Error(t);
    }
  }
}
class bq extends iR {
  constructor(t, r) {
    super(t, r), this.core = t, this.logger = r, this.expirations = /* @__PURE__ */ new Map(), this.events = new Rn.EventEmitter(), this.name = LU, this.version = kU, this.cached = [], this.initialized = !1, this.storagePrefix = Ys, this.init = async () => {
      this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach((i) => this.expirations.set(i.target, i)), this.cached = [], this.registerEventListeners(), this.initialized = !0);
    }, this.has = (i) => {
      try {
        const n = this.formatTarget(i);
        return typeof this.getExpiration(n) < "u";
      } catch {
        return !1;
      }
    }, this.set = (i, n) => {
      this.isInitialized();
      const s = this.formatTarget(i), u = { target: s, expiry: n };
      this.expirations.set(s, u), this.checkExpiry(s, u), this.events.emit(_n.created, { target: s, expiration: u });
    }, this.get = (i) => {
      this.isInitialized();
      const n = this.formatTarget(i);
      return this.getExpiration(n);
    }, this.del = (i) => {
      if (this.isInitialized(), this.has(i)) {
        const n = this.formatTarget(i), s = this.getExpiration(n);
        this.expirations.delete(n), this.events.emit(_n.deleted, { target: n, expiration: s });
      }
    }, this.on = (i, n) => {
      this.events.on(i, n);
    }, this.once = (i, n) => {
      this.events.once(i, n);
    }, this.off = (i, n) => {
      this.events.off(i, n);
    }, this.removeListener = (i, n) => {
      this.events.removeListener(i, n);
    }, this.logger = Ii(r, this.name);
  }
  get context() {
    return Gi(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + this.core.customStoragePrefix + "//" + this.name;
  }
  get length() {
    return this.expirations.size;
  }
  get keys() {
    return Array.from(this.expirations.keys());
  }
  get values() {
    return Array.from(this.expirations.values());
  }
  formatTarget(t) {
    if (typeof t == "string")
      return yR(t);
    if (typeof t == "number")
      return wR(t);
    const { message: r } = Ye("UNKNOWN_TYPE", `Target type: ${typeof t}`);
    throw new Error(r);
  }
  async setExpirations(t) {
    await this.core.storage.setItem(this.storageKey, t);
  }
  async getExpirations() {
    return await this.core.storage.getItem(this.storageKey);
  }
  async persist() {
    await this.setExpirations(this.values), this.events.emit(_n.sync);
  }
  async restore() {
    try {
      const t = await this.getExpirations();
      if (typeof t > "u" || !t.length)
        return;
      if (this.expirations.size) {
        const { message: r } = Ye("RESTORE_WILL_OVERRIDE", this.name);
        throw this.logger.error(r), new Error(r);
      }
      this.cached = t, this.logger.debug(`Successfully Restored expirations for ${this.name}`), this.logger.trace({ type: "method", method: "restore", expirations: this.values });
    } catch (t) {
      this.logger.debug(`Failed to Restore expirations for ${this.name}`), this.logger.error(t);
    }
  }
  getExpiration(t) {
    const r = this.expirations.get(t);
    if (!r) {
      const { message: i } = Ye("NO_MATCHING_KEY", `${this.name}: ${t}`);
      throw this.logger.warn(i), new Error(i);
    }
    return r;
  }
  checkExpiry(t, r) {
    const { expiry: i } = r;
    Zt.toMiliseconds(i) - Date.now() <= 0 && this.expire(t, r);
  }
  expire(t, r) {
    this.expirations.delete(t), this.events.emit(_n.expired, { target: t, expiration: r });
  }
  checkExpirations() {
    this.core.relayer.connected && this.expirations.forEach((t, r) => this.checkExpiry(r, t));
  }
  registerEventListeners() {
    this.core.heartbeat.on(rf.pulse, () => this.checkExpirations()), this.events.on(_n.created, (t) => {
      const r = _n.created;
      this.logger.info(`Emitting ${r}`), this.logger.debug({ type: "event", event: r, data: t }), this.persist();
    }), this.events.on(_n.expired, (t) => {
      const r = _n.expired;
      this.logger.info(`Emitting ${r}`), this.logger.debug({ type: "event", event: r, data: t }), this.persist();
    }), this.events.on(_n.deleted, (t) => {
      const r = _n.deleted;
      this.logger.info(`Emitting ${r}`), this.logger.debug({ type: "event", event: r, data: t }), this.persist();
    });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: t } = Ye("NOT_INITIALIZED", this.name);
      throw new Error(t);
    }
  }
}
var fr = {};
Object.defineProperty(fr, "__esModule", { value: !0 }), fr.getLocalStorage = fr.getLocalStorageOrThrow = fr.getCrypto = fr.getCryptoOrThrow = fr.getLocation = fr.getLocationOrThrow = fr.getNavigator = fr.getNavigatorOrThrow = qy = fr.getDocument = fr.getDocumentOrThrow = fr.getFromWindowOrThrow = fr.getFromWindow = void 0;
function ja(e) {
  let t;
  return typeof window < "u" && typeof window[e] < "u" && (t = window[e]), t;
}
fr.getFromWindow = ja;
function hf(e) {
  const t = ja(e);
  if (!t)
    throw new Error(`${e} is not defined in Window`);
  return t;
}
fr.getFromWindowOrThrow = hf;
function yq() {
  return hf("document");
}
fr.getDocumentOrThrow = yq;
function wq() {
  return ja("document");
}
var qy = fr.getDocument = wq;
function Aq() {
  return hf("navigator");
}
fr.getNavigatorOrThrow = Aq;
function _q() {
  return ja("navigator");
}
fr.getNavigator = _q;
function Eq() {
  return hf("location");
}
fr.getLocationOrThrow = Eq;
function Mq() {
  return ja("location");
}
fr.getLocation = Mq;
function Sq() {
  return hf("crypto");
}
fr.getCryptoOrThrow = Sq;
function xq() {
  return ja("crypto");
}
fr.getCrypto = xq;
function Iq() {
  return hf("localStorage");
}
fr.getLocalStorageOrThrow = Iq;
function Dq() {
  return ja("localStorage");
}
fr.getLocalStorage = Dq;
class Cq extends nR {
  constructor(t, r, i) {
    super(t, r, i), this.core = t, this.logger = r, this.store = i, this.name = zU, this.verifyUrlV3 = HU, this.storagePrefix = Ys, this.version = Oy, this.init = async () => {
      var n;
      this.isDevEnv || (this.publicKey = await this.store.getItem(this.storeKey), this.publicKey && Zt.toMiliseconds((n = this.publicKey) == null ? void 0 : n.expiresAt) < Date.now() && (this.logger.debug("verify v2 public key expired"), await this.removePublicKey()), this.publicKey || await this.fetchAndPersistPublicKey());
    }, this.register = async (n) => {
      if (!dl() || this.isDevEnv)
        return;
      const s = window.location.origin, { id: u, decryptedId: p } = n, b = `${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${u}&decryptedId=${p}`;
      try {
        const m = qy(), w = this.startAbortTimer(Zt.ONE_SECOND * 5), S = await new Promise((C, D) => {
          const P = () => {
            window.removeEventListener("message", z), m.body.removeChild(k), D("attestation aborted");
          };
          this.abortController.signal.addEventListener("abort", P);
          const k = m.createElement("iframe");
          k.src = b, k.style.display = "none", k.addEventListener("error", P, { signal: this.abortController.signal });
          const z = (V) => {
            if (!V.data)
              return;
            const Q = JSON.parse(V.data);
            if (Q.type === "verify_attestation") {
              if (cp(Q.attestation).payload.id !== u)
                return;
              clearInterval(w), m.body.removeChild(k), this.abortController.signal.removeEventListener("abort", P), window.removeEventListener("message", z), C(Q.attestation === null ? "" : Q.attestation);
            }
          };
          m.body.appendChild(k), window.addEventListener("message", z, { signal: this.abortController.signal });
        });
        return this.logger.debug("jwt attestation", S), S;
      } catch (m) {
        this.logger.warn(m);
      }
      return "";
    }, this.resolve = async (n) => {
      if (this.isDevEnv)
        return "";
      const { attestationId: s, hash: u, encryptedId: p } = n;
      if (s === "") {
        this.logger.debug("resolve: attestationId is empty, skipping");
        return;
      }
      if (s) {
        if (cp(s).payload.id !== p)
          return;
        const m = await this.isValidJwtAttestation(s);
        if (m)
          return m;
      }
      if (!u)
        return;
      const b = this.getVerifyUrl(n == null ? void 0 : n.verifyUrl);
      return this.fetchAttestation(u, b);
    }, this.fetchAttestation = async (n, s) => {
      this.logger.debug(`resolving attestation: ${n} from url: ${s}`);
      const u = this.startAbortTimer(Zt.ONE_SECOND * 5), p = await fetch(`${s}/attestation/${n}?v2Supported=true`, { signal: this.abortController.signal });
      return clearTimeout(u), p.status === 200 ? await p.json() : void 0;
    }, this.getVerifyUrl = (n) => {
      let s = n || su;
      return jU.includes(s) || (this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${su}`), s = su), s;
    }, this.fetchPublicKey = async () => {
      try {
        this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);
        const n = this.startAbortTimer(Zt.FIVE_SECONDS), s = await fetch(`${this.verifyUrlV3}/public-key`, { signal: this.abortController.signal });
        return clearTimeout(n), await s.json();
      } catch (n) {
        this.logger.warn(n);
      }
    }, this.persistPublicKey = async (n) => {
      this.logger.debug("persisting public key to local storage", n), await this.store.setItem(this.storeKey, n), this.publicKey = n;
    }, this.removePublicKey = async () => {
      this.logger.debug("removing verify v2 public key from storage"), await this.store.removeItem(this.storeKey), this.publicKey = void 0;
    }, this.isValidJwtAttestation = async (n) => {
      const s = await this.getPublicKey();
      try {
        if (s)
          return this.validateAttestation(n, s);
      } catch (p) {
        this.logger.error(p), this.logger.warn("error validating attestation");
      }
      const u = await this.fetchAndPersistPublicKey();
      try {
        if (u)
          return this.validateAttestation(n, u);
      } catch (p) {
        this.logger.error(p), this.logger.warn("error validating attestation");
      }
    }, this.getPublicKey = async () => this.publicKey ? this.publicKey : await this.fetchAndPersistPublicKey(), this.fetchAndPersistPublicKey = async () => {
      if (this.fetchPromise)
        return await this.fetchPromise, this.publicKey;
      this.fetchPromise = new Promise(async (s) => {
        const u = await this.fetchPublicKey();
        u && (await this.persistPublicKey(u), s(u));
      });
      const n = await this.fetchPromise;
      return this.fetchPromise = void 0, n;
    }, this.validateAttestation = (n, s) => {
      const u = XB(n, s.publicKey), p = { hasExpired: Zt.toMiliseconds(u.exp) < Date.now(), payload: u };
      if (p.hasExpired)
        throw this.logger.warn("resolve: jwt attestation expired"), new Error("JWT attestation expired");
      return { origin: p.payload.origin, isScam: p.payload.isScam };
    }, this.logger = Ii(r, this.name), this.abortController = new AbortController(), this.isDevEnv = pu() && process.env.IS_VITEST, this.init();
  }
  get storeKey() {
    return this.storagePrefix + this.version + this.core.customStoragePrefix + "//verify:public:key";
  }
  get context() {
    return Gi(this.logger);
  }
  startAbortTimer(t) {
    return this.abortController = new AbortController(), setTimeout(() => this.abortController.abort(), Zt.toMiliseconds(t));
  }
}
class Nq extends sR {
  constructor(t, r) {
    super(t, r), this.projectId = t, this.logger = r, this.context = KU, this.registerDeviceToken = async (i) => {
      const { clientId: n, token: s, notificationType: u, enableEncrypted: p = !1 } = i, b = `${GU}/${this.projectId}/clients`;
      await fetch(b, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ client_id: n, type: u, token: s, always_raw: p }) });
    }, this.logger = Ii(r, this.context);
  }
}
var Pq = Object.defineProperty, Lv = Object.getOwnPropertySymbols, Rq = Object.prototype.hasOwnProperty, Oq = Object.prototype.propertyIsEnumerable, kv = (e, t, r) => t in e ? Pq(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, jf = (e, t) => {
  for (var r in t || (t = {}))
    Rq.call(t, r) && kv(e, r, t[r]);
  if (Lv)
    for (var r of Lv(t))
      Oq.call(t, r) && kv(e, r, t[r]);
  return e;
};
class Bq extends oR {
  constructor(t, r, i = !0) {
    super(t, r, i), this.core = t, this.logger = r, this.context = JU, this.storagePrefix = Ys, this.storageVersion = QU, this.events = /* @__PURE__ */ new Map(), this.shouldPersist = !1, this.createEvent = (n) => {
      const { event: s = "ERROR", type: u = "", properties: { topic: p, trace: b } } = n, m = _R(), w = this.core.projectId || "", S = Date.now(), C = jf({ eventId: m, bundleId: w, timestamp: S, props: { event: s, type: u, properties: { topic: p, trace: b } } }, this.setMethods(m));
      return this.telemetryEnabled && (this.events.set(m, C), this.shouldPersist = !0), C;
    }, this.getEvent = (n) => {
      const { eventId: s, topic: u } = n;
      if (s)
        return this.events.get(s);
      const p = Array.from(this.events.values()).find((b) => b.props.properties.topic === u);
      if (p)
        return jf(jf({}, p), this.setMethods(p.eventId));
    }, this.deleteEvent = (n) => {
      const { eventId: s } = n;
      this.events.delete(s), this.shouldPersist = !0;
    }, this.setEventListeners = () => {
      this.core.heartbeat.on(rf.pulse, async () => {
        this.shouldPersist && await this.persist(), this.events.forEach((n) => {
          Zt.fromMiliseconds(Date.now()) - Zt.fromMiliseconds(n.timestamp) > YU && (this.events.delete(n.eventId), this.shouldPersist = !0);
        });
      });
    }, this.setMethods = (n) => ({ addTrace: (s) => this.addTrace(n, s), setError: (s) => this.setError(n, s) }), this.addTrace = (n, s) => {
      const u = this.events.get(n);
      u && (u.props.properties.trace.push(s), this.events.set(n, u), this.shouldPersist = !0);
    }, this.setError = (n, s) => {
      const u = this.events.get(n);
      u && (u.props.type = s, u.timestamp = Date.now(), this.events.set(n, u), this.shouldPersist = !0);
    }, this.persist = async () => {
      await this.core.storage.setItem(this.storageKey, Array.from(this.events.values())), this.shouldPersist = !1;
    }, this.restore = async () => {
      try {
        const n = await this.core.storage.getItem(this.storageKey) || [];
        if (!n.length)
          return;
        n.forEach((s) => {
          this.events.set(s.eventId, jf(jf({}, s), this.setMethods(s.eventId)));
        });
      } catch (n) {
        this.logger.warn(n);
      }
    }, this.submit = async () => {
      if (!this.telemetryEnabled || this.events.size === 0)
        return;
      const n = [];
      for (const [s, u] of this.events)
        u.props.type && n.push(u);
      if (n.length !== 0)
        try {
          if ((await fetch(`${VU}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Fy}`, { method: "POST", body: JSON.stringify(n) })).ok)
            for (const s of n)
              this.events.delete(s.eventId), this.shouldPersist = !0;
        } catch (s) {
          this.logger.warn(s);
        }
    }, this.logger = Ii(r, this.context), i ? this.restore().then(async () => {
      await this.submit(), this.setEventListeners();
    }) : this.persist();
  }
  get storageKey() {
    return this.storagePrefix + this.storageVersion + this.core.customStoragePrefix + "//" + this.context;
  }
}
var Tq = Object.defineProperty, zv = Object.getOwnPropertySymbols, Fq = Object.prototype.hasOwnProperty, Uq = Object.prototype.propertyIsEnumerable, $v = (e, t, r) => t in e ? Tq(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, Hv = (e, t) => {
  for (var r in t || (t = {}))
    Fq.call(t, r) && $v(e, r, t[r]);
  if (zv)
    for (var r of zv(t))
      Uq.call(t, r) && $v(e, r, t[r]);
  return e;
};
let qq = class Ly extends VP {
  constructor(t) {
    var r;
    super(t), this.protocol = Ry, this.version = Oy, this.name = y2, this.events = new Rn.EventEmitter(), this.initialized = !1, this.on = (u, p) => this.events.on(u, p), this.once = (u, p) => this.events.once(u, p), this.off = (u, p) => this.events.off(u, p), this.removeListener = (u, p) => this.events.removeListener(u, p), this.projectId = t == null ? void 0 : t.projectId, this.relayUrl = (t == null ? void 0 : t.relayUrl) || Ty, this.customStoragePrefix = t != null && t.customStoragePrefix ? `:${t.customStoragePrefix}` : "";
    const i = ll({ level: typeof (t == null ? void 0 : t.logger) == "string" && t.logger ? t.logger : gU.logger }), { logger: n, chunkLoggerController: s } = YP({ opts: i, maxSizeInBytes: t == null ? void 0 : t.maxLogBlobSizeInBytes, loggerOverride: t == null ? void 0 : t.logger });
    this.logChunkController = s, (r = this.logChunkController) != null && r.downloadLogsBlobInBrowser && (window.downloadLogsBlobInBrowser = async () => {
      var u, p;
      (u = this.logChunkController) != null && u.downloadLogsBlobInBrowser && ((p = this.logChunkController) == null || p.downloadLogsBlobInBrowser({ clientId: await this.crypto.getClientId() }));
    }), this.logger = Ii(n, this.name), this.heartbeat = new AP(), this.crypto = new XU(this, this.logger, t == null ? void 0 : t.keychain), this.history = new vq(this, this.logger), this.expirer = new bq(this, this.logger), this.storage = t != null && t.storage ? t.storage : new yP(Hv(Hv({}, mU), t == null ? void 0 : t.storageOptions)), this.relayer = new lq({ core: this, logger: this.logger, relayUrl: this.relayUrl, projectId: this.projectId }), this.pairing = new mq(this, this.logger), this.verify = new Cq(this, this.logger, this.storage), this.echoClient = new Nq(this.projectId || "", this.logger), this.eventClient = new Bq(this, this.logger, t == null ? void 0 : t.telemetryEnabled);
  }
  static async init(t) {
    const r = new Ly(t);
    await r.initialize();
    const i = await r.crypto.getClientId();
    return await r.storage.setItem(PU, i), r;
  }
  get context() {
    return Gi(this.logger);
  }
  async start() {
    this.initialized || await this.initialize();
  }
  async getLogsBlob() {
    var t;
    return (t = this.logChunkController) == null ? void 0 : t.logsToBlob({ clientId: await this.crypto.getClientId() });
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.crypto.init(), await this.history.init(), await this.expirer.init(), await this.relayer.init(), await this.heartbeat.init(), await this.pairing.init(), this.initialized = !0, this.logger.info("Core Initialization Success");
    } catch (t) {
      throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`, t), this.logger.error(t.message), t;
    }
  }
};
const Lq = qq;
let kq = class {
  constructor(t) {
    this.opts = t, this.protocol = "wc", this.version = 2;
  }
}, zq = class {
  constructor(t) {
    this.client = t;
  }
};
const $q = ":";
function S1(e) {
  const [t, r] = e.split($q);
  return { namespace: t, reference: r };
}
function ky(e, t) {
  return e.includes(":") ? [e] : t.chains || [];
}
const Hq = "ReactNative", Sh = { reactNative: "react-native", node: "node", browser: "browser", unknown: "unknown" };
function zy() {
  return typeof process < "u" && typeof process.versions < "u" && typeof process.versions.node < "u";
}
function jq() {
  return !yu() && !!wu() && navigator.product === Hq;
}
function $y() {
  return !zy() && !!wu() && !!yu();
}
function Kq() {
  return jq() ? Sh.reactNative : zy() ? Sh.node : $y() ? Sh.browser : Sh.unknown;
}
function Gq() {
  return V6() || { name: "", description: "", url: "", icons: [""] };
}
function Ia(e, t) {
  return e.filter((r) => t.includes(r)).length === e.length;
}
function dh(e = Zt.FIVE_MINUTES, t) {
  const r = Zt.toMiliseconds(e || Zt.FIVE_MINUTES);
  let i, n, s;
  return { resolve: (u) => {
    s && i && (clearTimeout(s), i(u));
  }, reject: (u) => {
    s && n && (clearTimeout(s), n(u));
  }, done: () => new Promise((u, p) => {
    s = setTimeout(() => {
      p(new Error(t));
    }, r), i = u, n = p;
  }) };
}
function Qq(e) {
  const [t, r] = e.split(":"), i = { id: void 0, topic: void 0 };
  if (t === "topic" && typeof r == "string")
    i.topic = r;
  else if (t === "id" && Number.isInteger(Number(r)))
    i.id = Number(r);
  else
    throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);
  return i;
}
function Zi(e, t) {
  return Zt.fromMiliseconds(Date.now() + Zt.toMiliseconds(e));
}
function ph(e) {
  return Date.now() >= Zt.toMiliseconds(e);
}
function Ge(e, t) {
  return `${e}${t ? `:${t}` : ""}`;
}
function Jq(e = [], t = []) {
  return [.../* @__PURE__ */ new Set([...e, ...t])];
}
async function Yq({ id: e, topic: t, wcDeepLink: r }) {
  try {
    if (!r)
      return;
    const i = typeof r == "string" ? JSON.parse(r) : r;
    let n = i == null ? void 0 : i.href;
    if (typeof n != "string")
      return;
    n.endsWith("/") && (n = n.slice(0, -1));
    const s = `${n}/wc?requestId=${e}&sessionTopic=${t}`, u = Kq();
    u === Sh.browser ? s.startsWith("https://") || s.startsWith("http://") ? window.open(s, "_blank", "noreferrer noopener") : window.open(s, "_self", "noreferrer noopener") : u === Sh.reactNative && typeof (global == null ? void 0 : global.Linking) < "u" && await global.Linking.openURL(s);
  } catch (i) {
    console.error(i);
  }
}
async function Vq(e, t) {
  try {
    return await e.getItem(t) || ($y() ? localStorage.getItem(t) : void 0);
  } catch (r) {
    console.error(r);
  }
}
var Hy = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function Wq(e) {
  var t = e.default;
  if (typeof t == "function") {
    var r = function() {
      return t.apply(this, arguments);
    };
    r.prototype = t.prototype;
  } else
    r = {};
  return Object.defineProperty(r, "__esModule", { value: !0 }), Object.keys(e).forEach(function(i) {
    var n = Object.getOwnPropertyDescriptor(e, i);
    Object.defineProperty(r, i, n.get ? n : { enumerable: !0, get: function() {
      return e[i];
    } });
  }), r;
}
var jy = { exports: {} };
/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/
(function(e) {
  (function() {
    var t = "input is invalid type", r = "finalize already called", i = typeof window == "object", n = i ? window : {};
    n.JS_SHA3_NO_WINDOW && (i = !1);
    var s = !i && typeof self == "object", u = !n.JS_SHA3_NO_NODE_JS && typeof process == "object" && process.versions && process.versions.node;
    u ? n = Hy : s && (n = self);
    var p = !n.JS_SHA3_NO_COMMON_JS && !0 && e.exports, b = !n.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer < "u", m = "0123456789abcdef".split(""), w = [31, 7936, 2031616, 520093696], S = [4, 1024, 262144, 67108864], C = [1, 256, 65536, 16777216], D = [6, 1536, 393216, 100663296], P = [0, 8, 16, 24], k = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648], z = [224, 256, 384, 512], V = [128, 256], Q = ["hex", "buffer", "arrayBuffer", "array", "digest"], W = { 128: 168, 256: 136 };
    (n.JS_SHA3_NO_NODE_JS || !Array.isArray) && (Array.isArray = function(g) {
      return Object.prototype.toString.call(g) === "[object Array]";
    }), b && (n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView) && (ArrayBuffer.isView = function(g) {
      return typeof g == "object" && g.buffer && g.buffer.constructor === ArrayBuffer;
    });
    for (var $ = function(g, F, O) {
      return function(B) {
        return new _(g, F, g).update(B)[O]();
      };
    }, j = function(g, F, O) {
      return function(B, q) {
        return new _(g, F, q).update(B)[O]();
      };
    }, K = function(g, F, O) {
      return function(B, q, x, T) {
        return h["cshake" + g].update(B, q, x, T)[O]();
      };
    }, N = function(g, F, O) {
      return function(B, q, x, T) {
        return h["kmac" + g].update(B, q, x, T)[O]();
      };
    }, H = function(g, F, O, B) {
      for (var q = 0; q < Q.length; ++q) {
        var x = Q[q];
        g[x] = F(O, B, x);
      }
      return g;
    }, st = function(g, F) {
      var O = $(g, F, "hex");
      return O.create = function() {
        return new _(g, F, g);
      }, O.update = function(B) {
        return O.create().update(B);
      }, H(O, $, g, F);
    }, ct = function(g, F) {
      var O = j(g, F, "hex");
      return O.create = function(B) {
        return new _(g, F, B);
      }, O.update = function(B, q) {
        return O.create(q).update(B);
      }, H(O, j, g, F);
    }, L = function(g, F) {
      var O = W[g], B = K(g, F, "hex");
      return B.create = function(q, x, T) {
        return !x && !T ? h["shake" + g].create(q) : new _(g, F, q).bytepad([x, T], O);
      }, B.update = function(q, x, T, Z) {
        return B.create(x, T, Z).update(q);
      }, H(B, K, g, F);
    }, I = function(g, F) {
      var O = W[g], B = N(g, F, "hex");
      return B.create = function(q, x, T) {
        return new Y(g, F, x).bytepad(["KMAC", T], O).bytepad([q], O);
      }, B.update = function(q, x, T, Z) {
        return B.create(q, T, Z).update(x);
      }, H(B, N, g, F);
    }, o = [{ name: "keccak", padding: C, bits: z, createMethod: st }, { name: "sha3", padding: D, bits: z, createMethod: st }, { name: "shake", padding: w, bits: V, createMethod: ct }, { name: "cshake", padding: S, bits: V, createMethod: L }, { name: "kmac", padding: S, bits: V, createMethod: I }], h = {}, c = [], v = 0; v < o.length; ++v)
      for (var y = o[v], M = y.bits, E = 0; E < M.length; ++E) {
        var d = y.name + "_" + M[E];
        if (c.push(d), h[d] = y.createMethod(M[E], y.padding), y.name !== "sha3") {
          var f = y.name + M[E];
          c.push(f), h[f] = h[d];
        }
      }
    function _(g, F, O) {
      this.blocks = [], this.s = [], this.padding = F, this.outputBits = O, this.reset = !0, this.finalized = !1, this.block = 0, this.start = 0, this.blockCount = 1600 - (g << 1) >> 5, this.byteCount = this.blockCount << 2, this.outputBlocks = O >> 5, this.extraBytes = (O & 31) >> 3;
      for (var B = 0; B < 50; ++B)
        this.s[B] = 0;
    }
    _.prototype.update = function(g) {
      if (this.finalized)
        throw new Error(r);
      var F, O = typeof g;
      if (O !== "string") {
        if (O === "object") {
          if (g === null)
            throw new Error(t);
          if (b && g.constructor === ArrayBuffer)
            g = new Uint8Array(g);
          else if (!Array.isArray(g) && (!b || !ArrayBuffer.isView(g)))
            throw new Error(t);
        } else
          throw new Error(t);
        F = !0;
      }
      for (var B = this.blocks, q = this.byteCount, x = g.length, T = this.blockCount, Z = 0, it = this.s, et, pt; Z < x; ) {
        if (this.reset)
          for (this.reset = !1, B[0] = this.block, et = 1; et < T + 1; ++et)
            B[et] = 0;
        if (F)
          for (et = this.start; Z < x && et < q; ++Z)
            B[et >> 2] |= g[Z] << P[et++ & 3];
        else
          for (et = this.start; Z < x && et < q; ++Z)
            pt = g.charCodeAt(Z), pt < 128 ? B[et >> 2] |= pt << P[et++ & 3] : pt < 2048 ? (B[et >> 2] |= (192 | pt >> 6) << P[et++ & 3], B[et >> 2] |= (128 | pt & 63) << P[et++ & 3]) : pt < 55296 || pt >= 57344 ? (B[et >> 2] |= (224 | pt >> 12) << P[et++ & 3], B[et >> 2] |= (128 | pt >> 6 & 63) << P[et++ & 3], B[et >> 2] |= (128 | pt & 63) << P[et++ & 3]) : (pt = 65536 + ((pt & 1023) << 10 | g.charCodeAt(++Z) & 1023), B[et >> 2] |= (240 | pt >> 18) << P[et++ & 3], B[et >> 2] |= (128 | pt >> 12 & 63) << P[et++ & 3], B[et >> 2] |= (128 | pt >> 6 & 63) << P[et++ & 3], B[et >> 2] |= (128 | pt & 63) << P[et++ & 3]);
        if (this.lastByteIndex = et, et >= q) {
          for (this.start = et - q, this.block = B[T], et = 0; et < T; ++et)
            it[et] ^= B[et];
          X(it), this.reset = !0;
        } else
          this.start = et;
      }
      return this;
    }, _.prototype.encode = function(g, F) {
      var O = g & 255, B = 1, q = [O];
      for (g = g >> 8, O = g & 255; O > 0; )
        q.unshift(O), g = g >> 8, O = g & 255, ++B;
      return F ? q.push(B) : q.unshift(B), this.update(q), q.length;
    }, _.prototype.encodeString = function(g) {
      var F, O = typeof g;
      if (O !== "string") {
        if (O === "object") {
          if (g === null)
            throw new Error(t);
          if (b && g.constructor === ArrayBuffer)
            g = new Uint8Array(g);
          else if (!Array.isArray(g) && (!b || !ArrayBuffer.isView(g)))
            throw new Error(t);
        } else
          throw new Error(t);
        F = !0;
      }
      var B = 0, q = g.length;
      if (F)
        B = q;
      else
        for (var x = 0; x < g.length; ++x) {
          var T = g.charCodeAt(x);
          T < 128 ? B += 1 : T < 2048 ? B += 2 : T < 55296 || T >= 57344 ? B += 3 : (T = 65536 + ((T & 1023) << 10 | g.charCodeAt(++x) & 1023), B += 4);
        }
      return B += this.encode(B * 8), this.update(g), B;
    }, _.prototype.bytepad = function(g, F) {
      for (var O = this.encode(F), B = 0; B < g.length; ++B)
        O += this.encodeString(g[B]);
      var q = F - O % F, x = [];
      return x.length = q, this.update(x), this;
    }, _.prototype.finalize = function() {
      if (!this.finalized) {
        this.finalized = !0;
        var g = this.blocks, F = this.lastByteIndex, O = this.blockCount, B = this.s;
        if (g[F >> 2] |= this.padding[F & 3], this.lastByteIndex === this.byteCount)
          for (g[0] = g[O], F = 1; F < O + 1; ++F)
            g[F] = 0;
        for (g[O - 1] |= 2147483648, F = 0; F < O; ++F)
          B[F] ^= g[F];
        X(B);
      }
    }, _.prototype.toString = _.prototype.hex = function() {
      this.finalize();
      for (var g = this.blockCount, F = this.s, O = this.outputBlocks, B = this.extraBytes, q = 0, x = 0, T = "", Z; x < O; ) {
        for (q = 0; q < g && x < O; ++q, ++x)
          Z = F[q], T += m[Z >> 4 & 15] + m[Z & 15] + m[Z >> 12 & 15] + m[Z >> 8 & 15] + m[Z >> 20 & 15] + m[Z >> 16 & 15] + m[Z >> 28 & 15] + m[Z >> 24 & 15];
        x % g === 0 && (X(F), q = 0);
      }
      return B && (Z = F[q], T += m[Z >> 4 & 15] + m[Z & 15], B > 1 && (T += m[Z >> 12 & 15] + m[Z >> 8 & 15]), B > 2 && (T += m[Z >> 20 & 15] + m[Z >> 16 & 15])), T;
    }, _.prototype.arrayBuffer = function() {
      this.finalize();
      var g = this.blockCount, F = this.s, O = this.outputBlocks, B = this.extraBytes, q = 0, x = 0, T = this.outputBits >> 3, Z;
      B ? Z = new ArrayBuffer(O + 1 << 2) : Z = new ArrayBuffer(T);
      for (var it = new Uint32Array(Z); x < O; ) {
        for (q = 0; q < g && x < O; ++q, ++x)
          it[x] = F[q];
        x % g === 0 && X(F);
      }
      return B && (it[q] = F[q], Z = Z.slice(0, T)), Z;
    }, _.prototype.buffer = _.prototype.arrayBuffer, _.prototype.digest = _.prototype.array = function() {
      this.finalize();
      for (var g = this.blockCount, F = this.s, O = this.outputBlocks, B = this.extraBytes, q = 0, x = 0, T = [], Z, it; x < O; ) {
        for (q = 0; q < g && x < O; ++q, ++x)
          Z = x << 2, it = F[q], T[Z] = it & 255, T[Z + 1] = it >> 8 & 255, T[Z + 2] = it >> 16 & 255, T[Z + 3] = it >> 24 & 255;
        x % g === 0 && X(F);
      }
      return B && (Z = x << 2, it = F[q], T[Z] = it & 255, B > 1 && (T[Z + 1] = it >> 8 & 255), B > 2 && (T[Z + 2] = it >> 16 & 255)), T;
    };
    function Y(g, F, O) {
      _.call(this, g, F, O);
    }
    Y.prototype = new _(), Y.prototype.finalize = function() {
      return this.encode(this.outputBits, !0), _.prototype.finalize.call(this);
    };
    var X = function(g) {
      var F, O, B, q, x, T, Z, it, et, pt, gt, _t, re, bt, Et, Qt, lt, yt, Wt, ft, wt, Kt, ut, It, Jt, mt, Pt, te, vt, Rt, ue, Tt, Yt, ce, Ft, Vt, de, Mt, Lt, se, St, kt, ie, Dt, jt, oe, Ct, zt, he, xt, qt, fe, Nt, Xt, be, Ht, Gt, ze, $e, He, je, Ke, Ie;
      for (B = 0; B < 48; B += 2)
        q = g[0] ^ g[10] ^ g[20] ^ g[30] ^ g[40], x = g[1] ^ g[11] ^ g[21] ^ g[31] ^ g[41], T = g[2] ^ g[12] ^ g[22] ^ g[32] ^ g[42], Z = g[3] ^ g[13] ^ g[23] ^ g[33] ^ g[43], it = g[4] ^ g[14] ^ g[24] ^ g[34] ^ g[44], et = g[5] ^ g[15] ^ g[25] ^ g[35] ^ g[45], pt = g[6] ^ g[16] ^ g[26] ^ g[36] ^ g[46], gt = g[7] ^ g[17] ^ g[27] ^ g[37] ^ g[47], _t = g[8] ^ g[18] ^ g[28] ^ g[38] ^ g[48], re = g[9] ^ g[19] ^ g[29] ^ g[39] ^ g[49], F = _t ^ (T << 1 | Z >>> 31), O = re ^ (Z << 1 | T >>> 31), g[0] ^= F, g[1] ^= O, g[10] ^= F, g[11] ^= O, g[20] ^= F, g[21] ^= O, g[30] ^= F, g[31] ^= O, g[40] ^= F, g[41] ^= O, F = q ^ (it << 1 | et >>> 31), O = x ^ (et << 1 | it >>> 31), g[2] ^= F, g[3] ^= O, g[12] ^= F, g[13] ^= O, g[22] ^= F, g[23] ^= O, g[32] ^= F, g[33] ^= O, g[42] ^= F, g[43] ^= O, F = T ^ (pt << 1 | gt >>> 31), O = Z ^ (gt << 1 | pt >>> 31), g[4] ^= F, g[5] ^= O, g[14] ^= F, g[15] ^= O, g[24] ^= F, g[25] ^= O, g[34] ^= F, g[35] ^= O, g[44] ^= F, g[45] ^= O, F = it ^ (_t << 1 | re >>> 31), O = et ^ (re << 1 | _t >>> 31), g[6] ^= F, g[7] ^= O, g[16] ^= F, g[17] ^= O, g[26] ^= F, g[27] ^= O, g[36] ^= F, g[37] ^= O, g[46] ^= F, g[47] ^= O, F = pt ^ (q << 1 | x >>> 31), O = gt ^ (x << 1 | q >>> 31), g[8] ^= F, g[9] ^= O, g[18] ^= F, g[19] ^= O, g[28] ^= F, g[29] ^= O, g[38] ^= F, g[39] ^= O, g[48] ^= F, g[49] ^= O, bt = g[0], Et = g[1], oe = g[11] << 4 | g[10] >>> 28, Ct = g[10] << 4 | g[11] >>> 28, te = g[20] << 3 | g[21] >>> 29, vt = g[21] << 3 | g[20] >>> 29, He = g[31] << 9 | g[30] >>> 23, je = g[30] << 9 | g[31] >>> 23, kt = g[40] << 18 | g[41] >>> 14, ie = g[41] << 18 | g[40] >>> 14, ce = g[2] << 1 | g[3] >>> 31, Ft = g[3] << 1 | g[2] >>> 31, Qt = g[13] << 12 | g[12] >>> 20, lt = g[12] << 12 | g[13] >>> 20, zt = g[22] << 10 | g[23] >>> 22, he = g[23] << 10 | g[22] >>> 22, Rt = g[33] << 13 | g[32] >>> 19, ue = g[32] << 13 | g[33] >>> 19, Ke = g[42] << 2 | g[43] >>> 30, Ie = g[43] << 2 | g[42] >>> 30, Xt = g[5] << 30 | g[4] >>> 2, be = g[4] << 30 | g[5] >>> 2, Vt = g[14] << 6 | g[15] >>> 26, de = g[15] << 6 | g[14] >>> 26, yt = g[25] << 11 | g[24] >>> 21, Wt = g[24] << 11 | g[25] >>> 21, xt = g[34] << 15 | g[35] >>> 17, qt = g[35] << 15 | g[34] >>> 17, Tt = g[45] << 29 | g[44] >>> 3, Yt = g[44] << 29 | g[45] >>> 3, It = g[6] << 28 | g[7] >>> 4, Jt = g[7] << 28 | g[6] >>> 4, Ht = g[17] << 23 | g[16] >>> 9, Gt = g[16] << 23 | g[17] >>> 9, Mt = g[26] << 25 | g[27] >>> 7, Lt = g[27] << 25 | g[26] >>> 7, ft = g[36] << 21 | g[37] >>> 11, wt = g[37] << 21 | g[36] >>> 11, fe = g[47] << 24 | g[46] >>> 8, Nt = g[46] << 24 | g[47] >>> 8, Dt = g[8] << 27 | g[9] >>> 5, jt = g[9] << 27 | g[8] >>> 5, mt = g[18] << 20 | g[19] >>> 12, Pt = g[19] << 20 | g[18] >>> 12, ze = g[29] << 7 | g[28] >>> 25, $e = g[28] << 7 | g[29] >>> 25, se = g[38] << 8 | g[39] >>> 24, St = g[39] << 8 | g[38] >>> 24, Kt = g[48] << 14 | g[49] >>> 18, ut = g[49] << 14 | g[48] >>> 18, g[0] = bt ^ ~Qt & yt, g[1] = Et ^ ~lt & Wt, g[10] = It ^ ~mt & te, g[11] = Jt ^ ~Pt & vt, g[20] = ce ^ ~Vt & Mt, g[21] = Ft ^ ~de & Lt, g[30] = Dt ^ ~oe & zt, g[31] = jt ^ ~Ct & he, g[40] = Xt ^ ~Ht & ze, g[41] = be ^ ~Gt & $e, g[2] = Qt ^ ~yt & ft, g[3] = lt ^ ~Wt & wt, g[12] = mt ^ ~te & Rt, g[13] = Pt ^ ~vt & ue, g[22] = Vt ^ ~Mt & se, g[23] = de ^ ~Lt & St, g[32] = oe ^ ~zt & xt, g[33] = Ct ^ ~he & qt, g[42] = Ht ^ ~ze & He, g[43] = Gt ^ ~$e & je, g[4] = yt ^ ~ft & Kt, g[5] = Wt ^ ~wt & ut, g[14] = te ^ ~Rt & Tt, g[15] = vt ^ ~ue & Yt, g[24] = Mt ^ ~se & kt, g[25] = Lt ^ ~St & ie, g[34] = zt ^ ~xt & fe, g[35] = he ^ ~qt & Nt, g[44] = ze ^ ~He & Ke, g[45] = $e ^ ~je & Ie, g[6] = ft ^ ~Kt & bt, g[7] = wt ^ ~ut & Et, g[16] = Rt ^ ~Tt & It, g[17] = ue ^ ~Yt & Jt, g[26] = se ^ ~kt & ce, g[27] = St ^ ~ie & Ft, g[36] = xt ^ ~fe & Dt, g[37] = qt ^ ~Nt & jt, g[46] = He ^ ~Ke & Xt, g[47] = je ^ ~Ie & be, g[8] = Kt ^ ~bt & Qt, g[9] = ut ^ ~Et & lt, g[18] = Tt ^ ~It & mt, g[19] = Yt ^ ~Jt & Pt, g[28] = kt ^ ~ce & Vt, g[29] = ie ^ ~Ft & de, g[38] = fe ^ ~Dt & oe, g[39] = Nt ^ ~jt & Ct, g[48] = Ke ^ ~Xt & Ht, g[49] = Ie ^ ~be & Gt, g[0] ^= k[B], g[1] ^= k[B + 1];
    };
    if (p)
      e.exports = h;
    else
      for (v = 0; v < c.length; ++v)
        n[c[v]] = h[c[v]];
  })();
})(jy);
var Xq = jy.exports;
const Zq = "logger/5.7.0";
let jv = !1, Kv = !1;
const v0 = { debug: 1, default: 2, info: 2, warning: 3, error: 4, off: 5 };
let Gv = v0.default, x1 = null;
function tL() {
  try {
    const e = [];
    if (["NFD", "NFC", "NFKD", "NFKC"].forEach((t) => {
      try {
        if ("test".normalize(t) !== "test")
          throw new Error("bad normalize");
      } catch {
        e.push(t);
      }
    }), e.length)
      throw new Error("missing " + e.join(", "));
    if ("é".normalize("NFD") !== "é")
      throw new Error("broken implementation");
  } catch (e) {
    return e.message;
  }
  return null;
}
const Qv = tL();
var Tp;
(function(e) {
  e.DEBUG = "DEBUG", e.INFO = "INFO", e.WARNING = "WARNING", e.ERROR = "ERROR", e.OFF = "OFF";
})(Tp || (Tp = {}));
var Wn;
(function(e) {
  e.UNKNOWN_ERROR = "UNKNOWN_ERROR", e.NOT_IMPLEMENTED = "NOT_IMPLEMENTED", e.UNSUPPORTED_OPERATION = "UNSUPPORTED_OPERATION", e.NETWORK_ERROR = "NETWORK_ERROR", e.SERVER_ERROR = "SERVER_ERROR", e.TIMEOUT = "TIMEOUT", e.BUFFER_OVERRUN = "BUFFER_OVERRUN", e.NUMERIC_FAULT = "NUMERIC_FAULT", e.MISSING_NEW = "MISSING_NEW", e.INVALID_ARGUMENT = "INVALID_ARGUMENT", e.MISSING_ARGUMENT = "MISSING_ARGUMENT", e.UNEXPECTED_ARGUMENT = "UNEXPECTED_ARGUMENT", e.CALL_EXCEPTION = "CALL_EXCEPTION", e.INSUFFICIENT_FUNDS = "INSUFFICIENT_FUNDS", e.NONCE_EXPIRED = "NONCE_EXPIRED", e.REPLACEMENT_UNDERPRICED = "REPLACEMENT_UNDERPRICED", e.UNPREDICTABLE_GAS_LIMIT = "UNPREDICTABLE_GAS_LIMIT", e.TRANSACTION_REPLACED = "TRANSACTION_REPLACED", e.ACTION_REJECTED = "ACTION_REJECTED";
})(Wn || (Wn = {}));
const Jv = "0123456789abcdef";
let ii = class qr {
  constructor(t) {
    Object.defineProperty(this, "version", { enumerable: !0, value: t, writable: !1 });
  }
  _log(t, r) {
    const i = t.toLowerCase();
    v0[i] == null && this.throwArgumentError("invalid log level name", "logLevel", t), !(Gv > v0[i]) && console.log.apply(console, r);
  }
  debug(...t) {
    this._log(qr.levels.DEBUG, t);
  }
  info(...t) {
    this._log(qr.levels.INFO, t);
  }
  warn(...t) {
    this._log(qr.levels.WARNING, t);
  }
  makeError(t, r, i) {
    if (Kv)
      return this.makeError("censored error", r, {});
    r || (r = qr.errors.UNKNOWN_ERROR), i || (i = {});
    const n = [];
    Object.keys(i).forEach((b) => {
      const m = i[b];
      try {
        if (m instanceof Uint8Array) {
          let w = "";
          for (let S = 0; S < m.length; S++)
            w += Jv[m[S] >> 4], w += Jv[m[S] & 15];
          n.push(b + "=Uint8Array(0x" + w + ")");
        } else
          n.push(b + "=" + JSON.stringify(m));
      } catch {
        n.push(b + "=" + JSON.stringify(i[b].toString()));
      }
    }), n.push(`code=${r}`), n.push(`version=${this.version}`);
    const s = t;
    let u = "";
    switch (r) {
      case Wn.NUMERIC_FAULT: {
        u = "NUMERIC_FAULT";
        const b = t;
        switch (b) {
          case "overflow":
          case "underflow":
          case "division-by-zero":
            u += "-" + b;
            break;
          case "negative-power":
          case "negative-width":
            u += "-unsupported";
            break;
          case "unbound-bitwise-result":
            u += "-unbound-result";
            break;
        }
        break;
      }
      case Wn.CALL_EXCEPTION:
      case Wn.INSUFFICIENT_FUNDS:
      case Wn.MISSING_NEW:
      case Wn.NONCE_EXPIRED:
      case Wn.REPLACEMENT_UNDERPRICED:
      case Wn.TRANSACTION_REPLACED:
      case Wn.UNPREDICTABLE_GAS_LIMIT:
        u = r;
        break;
    }
    u && (t += " [ See: https://links.ethers.org/v5-errors-" + u + " ]"), n.length && (t += " (" + n.join(", ") + ")");
    const p = new Error(t);
    return p.reason = s, p.code = r, Object.keys(i).forEach(function(b) {
      p[b] = i[b];
    }), p;
  }
  throwError(t, r, i) {
    throw this.makeError(t, r, i);
  }
  throwArgumentError(t, r, i) {
    return this.throwError(t, qr.errors.INVALID_ARGUMENT, { argument: r, value: i });
  }
  assert(t, r, i, n) {
    t || this.throwError(r, i, n);
  }
  assertArgument(t, r, i, n) {
    t || this.throwArgumentError(r, i, n);
  }
  checkNormalize(t) {
    Qv && this.throwError("platform missing String.prototype.normalize", qr.errors.UNSUPPORTED_OPERATION, { operation: "String.prototype.normalize", form: Qv });
  }
  checkSafeUint53(t, r) {
    typeof t == "number" && (r == null && (r = "value not safe"), (t < 0 || t >= 9007199254740991) && this.throwError(r, qr.errors.NUMERIC_FAULT, { operation: "checkSafeInteger", fault: "out-of-safe-range", value: t }), t % 1 && this.throwError(r, qr.errors.NUMERIC_FAULT, { operation: "checkSafeInteger", fault: "non-integer", value: t }));
  }
  checkArgumentCount(t, r, i) {
    i ? i = ": " + i : i = "", t < r && this.throwError("missing argument" + i, qr.errors.MISSING_ARGUMENT, { count: t, expectedCount: r }), t > r && this.throwError("too many arguments" + i, qr.errors.UNEXPECTED_ARGUMENT, { count: t, expectedCount: r });
  }
  checkNew(t, r) {
    (t === Object || t == null) && this.throwError("missing new", qr.errors.MISSING_NEW, { name: r.name });
  }
  checkAbstract(t, r) {
    t === r ? this.throwError("cannot instantiate abstract class " + JSON.stringify(r.name) + " directly; use a sub-class", qr.errors.UNSUPPORTED_OPERATION, { name: t.name, operation: "new" }) : (t === Object || t == null) && this.throwError("missing new", qr.errors.MISSING_NEW, { name: r.name });
  }
  static globalLogger() {
    return x1 || (x1 = new qr(Zq)), x1;
  }
  static setCensorship(t, r) {
    if (!t && r && this.globalLogger().throwError("cannot permanently disable censorship", qr.errors.UNSUPPORTED_OPERATION, { operation: "setCensorship" }), jv) {
      if (!t)
        return;
      this.globalLogger().throwError("error censorship permanent", qr.errors.UNSUPPORTED_OPERATION, { operation: "setCensorship" });
    }
    Kv = !!t, jv = !!r;
  }
  static setLogLevel(t) {
    const r = v0[t.toLowerCase()];
    if (r == null) {
      qr.globalLogger().warn("invalid log level - " + t);
      return;
    }
    Gv = r;
  }
  static from(t) {
    return new qr(t);
  }
};
ii.errors = Wn, ii.levels = Tp;
const eL = "bytes/5.7.0", _r = new ii(eL);
function Ky(e) {
  return !!e.toHexString;
}
function Nh(e) {
  return e.slice || (e.slice = function() {
    const t = Array.prototype.slice.call(arguments);
    return Nh(new Uint8Array(Array.prototype.slice.apply(e, t)));
  }), e;
}
function rL(e) {
  return tn(e) && !(e.length % 2) || ff(e);
}
function Yv(e) {
  return typeof e == "number" && e == e && e % 1 === 0;
}
function ff(e) {
  if (e == null)
    return !1;
  if (e.constructor === Uint8Array)
    return !0;
  if (typeof e == "string" || !Yv(e.length) || e.length < 0)
    return !1;
  for (let t = 0; t < e.length; t++) {
    const r = e[t];
    if (!Yv(r) || r < 0 || r >= 256)
      return !1;
  }
  return !0;
}
function mr(e, t) {
  if (t || (t = {}), typeof e == "number") {
    _r.checkSafeUint53(e, "invalid arrayify value");
    const r = [];
    for (; e; )
      r.unshift(e & 255), e = parseInt(String(e / 256));
    return r.length === 0 && r.push(0), Nh(new Uint8Array(r));
  }
  if (t.allowMissingPrefix && typeof e == "string" && e.substring(0, 2) !== "0x" && (e = "0x" + e), Ky(e) && (e = e.toHexString()), tn(e)) {
    let r = e.substring(2);
    r.length % 2 && (t.hexPad === "left" ? r = "0" + r : t.hexPad === "right" ? r += "0" : _r.throwArgumentError("hex data is odd-length", "value", e));
    const i = [];
    for (let n = 0; n < r.length; n += 2)
      i.push(parseInt(r.substring(n, n + 2), 16));
    return Nh(new Uint8Array(i));
  }
  return ff(e) ? Nh(new Uint8Array(e)) : _r.throwArgumentError("invalid arrayify value", "value", e);
}
function iL(e) {
  const t = e.map((n) => mr(n)), r = t.reduce((n, s) => n + s.length, 0), i = new Uint8Array(r);
  return t.reduce((n, s) => (i.set(s, n), n + s.length), 0), Nh(i);
}
function nL(e, t) {
  e = mr(e), e.length > t && _r.throwArgumentError("value out of range", "value", arguments[0]);
  const r = new Uint8Array(t);
  return r.set(e, t - e.length), Nh(r);
}
function tn(e, t) {
  return !(typeof e != "string" || !e.match(/^0x[0-9A-Fa-f]*$/) || t && e.length !== 2 + 2 * t);
}
const I1 = "0123456789abcdef";
function Ui(e, t) {
  if (t || (t = {}), typeof e == "number") {
    _r.checkSafeUint53(e, "invalid hexlify value");
    let r = "";
    for (; e; )
      r = I1[e & 15] + r, e = Math.floor(e / 16);
    return r.length ? (r.length % 2 && (r = "0" + r), "0x" + r) : "0x00";
  }
  if (typeof e == "bigint")
    return e = e.toString(16), e.length % 2 ? "0x0" + e : "0x" + e;
  if (t.allowMissingPrefix && typeof e == "string" && e.substring(0, 2) !== "0x" && (e = "0x" + e), Ky(e))
    return e.toHexString();
  if (tn(e))
    return e.length % 2 && (t.hexPad === "left" ? e = "0x0" + e.substring(2) : t.hexPad === "right" ? e += "0" : _r.throwArgumentError("hex data is odd-length", "value", e)), e.toLowerCase();
  if (ff(e)) {
    let r = "0x";
    for (let i = 0; i < e.length; i++) {
      let n = e[i];
      r += I1[(n & 240) >> 4] + I1[n & 15];
    }
    return r;
  }
  return _r.throwArgumentError("invalid hexlify value", "value", e);
}
function sL(e) {
  if (typeof e != "string")
    e = Ui(e);
  else if (!tn(e) || e.length % 2)
    return null;
  return (e.length - 2) / 2;
}
function Vv(e, t, r) {
  return typeof e != "string" ? e = Ui(e) : (!tn(e) || e.length % 2) && _r.throwArgumentError("invalid hexData", "value", e), t = 2 + 2 * t, r != null ? "0x" + e.substring(t, 2 + 2 * r) : "0x" + e.substring(t);
}
function $s(e, t) {
  for (typeof e != "string" ? e = Ui(e) : tn(e) || _r.throwArgumentError("invalid hex string", "value", e), e.length > 2 * t + 2 && _r.throwArgumentError("value out of range", "value", arguments[1]); e.length < 2 * t + 2; )
    e = "0x0" + e.substring(2);
  return e;
}
function Gy(e) {
  const t = { r: "0x", s: "0x", _vs: "0x", recoveryParam: 0, v: 0, yParityAndS: "0x", compact: "0x" };
  if (rL(e)) {
    let r = mr(e);
    r.length === 64 ? (t.v = 27 + (r[32] >> 7), r[32] &= 127, t.r = Ui(r.slice(0, 32)), t.s = Ui(r.slice(32, 64))) : r.length === 65 ? (t.r = Ui(r.slice(0, 32)), t.s = Ui(r.slice(32, 64)), t.v = r[64]) : _r.throwArgumentError("invalid signature string", "signature", e), t.v < 27 && (t.v === 0 || t.v === 1 ? t.v += 27 : _r.throwArgumentError("signature invalid v byte", "signature", e)), t.recoveryParam = 1 - t.v % 2, t.recoveryParam && (r[32] |= 128), t._vs = Ui(r.slice(32, 64));
  } else {
    if (t.r = e.r, t.s = e.s, t.v = e.v, t.recoveryParam = e.recoveryParam, t._vs = e._vs, t._vs != null) {
      const n = nL(mr(t._vs), 32);
      t._vs = Ui(n);
      const s = n[0] >= 128 ? 1 : 0;
      t.recoveryParam == null ? t.recoveryParam = s : t.recoveryParam !== s && _r.throwArgumentError("signature recoveryParam mismatch _vs", "signature", e), n[0] &= 127;
      const u = Ui(n);
      t.s == null ? t.s = u : t.s !== u && _r.throwArgumentError("signature v mismatch _vs", "signature", e);
    }
    if (t.recoveryParam == null)
      t.v == null ? _r.throwArgumentError("signature missing v and recoveryParam", "signature", e) : t.v === 0 || t.v === 1 ? t.recoveryParam = t.v : t.recoveryParam = 1 - t.v % 2;
    else if (t.v == null)
      t.v = 27 + t.recoveryParam;
    else {
      const n = t.v === 0 || t.v === 1 ? t.v : 1 - t.v % 2;
      t.recoveryParam !== n && _r.throwArgumentError("signature recoveryParam mismatch v", "signature", e);
    }
    t.r == null || !tn(t.r) ? _r.throwArgumentError("signature missing or invalid r", "signature", e) : t.r = $s(t.r, 32), t.s == null || !tn(t.s) ? _r.throwArgumentError("signature missing or invalid s", "signature", e) : t.s = $s(t.s, 32);
    const r = mr(t.s);
    r[0] >= 128 && _r.throwArgumentError("signature s out of range", "signature", e), t.recoveryParam && (r[0] |= 128);
    const i = Ui(r);
    t._vs && (tn(t._vs) || _r.throwArgumentError("signature invalid _vs", "signature", e), t._vs = $s(t._vs, 32)), t._vs == null ? t._vs = i : t._vs !== i && _r.throwArgumentError("signature _vs mismatch v and s", "signature", e);
  }
  return t.yParityAndS = t._vs, t.compact = t.r + t.yParityAndS.substring(2), t;
}
function w2(e) {
  return "0x" + Xq.keccak_256(mr(e));
}
var Qy = { exports: {} }, oL = {}, aL = Object.freeze({ __proto__: null, default: oL }), hL = Wq(aL);
(function(e) {
  (function(t, r) {
    function i(o, h) {
      if (!o)
        throw new Error(h || "Assertion failed");
    }
    function n(o, h) {
      o.super_ = h;
      var c = function() {
      };
      c.prototype = h.prototype, o.prototype = new c(), o.prototype.constructor = o;
    }
    function s(o, h, c) {
      if (s.isBN(o))
        return o;
      this.negative = 0, this.words = null, this.length = 0, this.red = null, o !== null && ((h === "le" || h === "be") && (c = h, h = 10), this._init(o || 0, h || 10, c || "be"));
    }
    typeof t == "object" ? t.exports = s : r.BN = s, s.BN = s, s.wordSize = 26;
    var u;
    try {
      typeof window < "u" && typeof window.Buffer < "u" ? u = window.Buffer : u = hL.Buffer;
    } catch {
    }
    s.isBN = function(o) {
      return o instanceof s ? !0 : o !== null && typeof o == "object" && o.constructor.wordSize === s.wordSize && Array.isArray(o.words);
    }, s.max = function(o, h) {
      return o.cmp(h) > 0 ? o : h;
    }, s.min = function(o, h) {
      return o.cmp(h) < 0 ? o : h;
    }, s.prototype._init = function(o, h, c) {
      if (typeof o == "number")
        return this._initNumber(o, h, c);
      if (typeof o == "object")
        return this._initArray(o, h, c);
      h === "hex" && (h = 16), i(h === (h | 0) && h >= 2 && h <= 36), o = o.toString().replace(/\s+/g, "");
      var v = 0;
      o[0] === "-" && (v++, this.negative = 1), v < o.length && (h === 16 ? this._parseHex(o, v, c) : (this._parseBase(o, h, v), c === "le" && this._initArray(this.toArray(), h, c)));
    }, s.prototype._initNumber = function(o, h, c) {
      o < 0 && (this.negative = 1, o = -o), o < 67108864 ? (this.words = [o & 67108863], this.length = 1) : o < 4503599627370496 ? (this.words = [o & 67108863, o / 67108864 & 67108863], this.length = 2) : (i(o < 9007199254740992), this.words = [o & 67108863, o / 67108864 & 67108863, 1], this.length = 3), c === "le" && this._initArray(this.toArray(), h, c);
    }, s.prototype._initArray = function(o, h, c) {
      if (i(typeof o.length == "number"), o.length <= 0)
        return this.words = [0], this.length = 1, this;
      this.length = Math.ceil(o.length / 3), this.words = new Array(this.length);
      for (var v = 0; v < this.length; v++)
        this.words[v] = 0;
      var y, M, E = 0;
      if (c === "be")
        for (v = o.length - 1, y = 0; v >= 0; v -= 3)
          M = o[v] | o[v - 1] << 8 | o[v - 2] << 16, this.words[y] |= M << E & 67108863, this.words[y + 1] = M >>> 26 - E & 67108863, E += 24, E >= 26 && (E -= 26, y++);
      else if (c === "le")
        for (v = 0, y = 0; v < o.length; v += 3)
          M = o[v] | o[v + 1] << 8 | o[v + 2] << 16, this.words[y] |= M << E & 67108863, this.words[y + 1] = M >>> 26 - E & 67108863, E += 24, E >= 26 && (E -= 26, y++);
      return this._strip();
    };
    function p(o, h) {
      var c = o.charCodeAt(h);
      if (c >= 48 && c <= 57)
        return c - 48;
      if (c >= 65 && c <= 70)
        return c - 55;
      if (c >= 97 && c <= 102)
        return c - 87;
      i(!1, "Invalid character in " + o);
    }
    function b(o, h, c) {
      var v = p(o, c);
      return c - 1 >= h && (v |= p(o, c - 1) << 4), v;
    }
    s.prototype._parseHex = function(o, h, c) {
      this.length = Math.ceil((o.length - h) / 6), this.words = new Array(this.length);
      for (var v = 0; v < this.length; v++)
        this.words[v] = 0;
      var y = 0, M = 0, E;
      if (c === "be")
        for (v = o.length - 1; v >= h; v -= 2)
          E = b(o, h, v) << y, this.words[M] |= E & 67108863, y >= 18 ? (y -= 18, M += 1, this.words[M] |= E >>> 26) : y += 8;
      else {
        var d = o.length - h;
        for (v = d % 2 === 0 ? h + 1 : h; v < o.length; v += 2)
          E = b(o, h, v) << y, this.words[M] |= E & 67108863, y >= 18 ? (y -= 18, M += 1, this.words[M] |= E >>> 26) : y += 8;
      }
      this._strip();
    };
    function m(o, h, c, v) {
      for (var y = 0, M = 0, E = Math.min(o.length, c), d = h; d < E; d++) {
        var f = o.charCodeAt(d) - 48;
        y *= v, f >= 49 ? M = f - 49 + 10 : f >= 17 ? M = f - 17 + 10 : M = f, i(f >= 0 && M < v, "Invalid character"), y += M;
      }
      return y;
    }
    s.prototype._parseBase = function(o, h, c) {
      this.words = [0], this.length = 1;
      for (var v = 0, y = 1; y <= 67108863; y *= h)
        v++;
      v--, y = y / h | 0;
      for (var M = o.length - c, E = M % v, d = Math.min(M, M - E) + c, f = 0, _ = c; _ < d; _ += v)
        f = m(o, _, _ + v, h), this.imuln(y), this.words[0] + f < 67108864 ? this.words[0] += f : this._iaddn(f);
      if (E !== 0) {
        var Y = 1;
        for (f = m(o, _, o.length, h), _ = 0; _ < E; _++)
          Y *= h;
        this.imuln(Y), this.words[0] + f < 67108864 ? this.words[0] += f : this._iaddn(f);
      }
      this._strip();
    }, s.prototype.copy = function(o) {
      o.words = new Array(this.length);
      for (var h = 0; h < this.length; h++)
        o.words[h] = this.words[h];
      o.length = this.length, o.negative = this.negative, o.red = this.red;
    };
    function w(o, h) {
      o.words = h.words, o.length = h.length, o.negative = h.negative, o.red = h.red;
    }
    if (s.prototype._move = function(o) {
      w(o, this);
    }, s.prototype.clone = function() {
      var o = new s(null);
      return this.copy(o), o;
    }, s.prototype._expand = function(o) {
      for (; this.length < o; )
        this.words[this.length++] = 0;
      return this;
    }, s.prototype._strip = function() {
      for (; this.length > 1 && this.words[this.length - 1] === 0; )
        this.length--;
      return this._normSign();
    }, s.prototype._normSign = function() {
      return this.length === 1 && this.words[0] === 0 && (this.negative = 0), this;
    }, typeof Symbol < "u" && typeof Symbol.for == "function")
      try {
        s.prototype[Symbol.for("nodejs.util.inspect.custom")] = S;
      } catch {
        s.prototype.inspect = S;
      }
    else
      s.prototype.inspect = S;
    function S() {
      return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
    }
    var C = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"], D = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5], P = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176];
    s.prototype.toString = function(o, h) {
      o = o || 10, h = h | 0 || 1;
      var c;
      if (o === 16 || o === "hex") {
        c = "";
        for (var v = 0, y = 0, M = 0; M < this.length; M++) {
          var E = this.words[M], d = ((E << v | y) & 16777215).toString(16);
          y = E >>> 24 - v & 16777215, v += 2, v >= 26 && (v -= 26, M--), y !== 0 || M !== this.length - 1 ? c = C[6 - d.length] + d + c : c = d + c;
        }
        for (y !== 0 && (c = y.toString(16) + c); c.length % h !== 0; )
          c = "0" + c;
        return this.negative !== 0 && (c = "-" + c), c;
      }
      if (o === (o | 0) && o >= 2 && o <= 36) {
        var f = D[o], _ = P[o];
        c = "";
        var Y = this.clone();
        for (Y.negative = 0; !Y.isZero(); ) {
          var X = Y.modrn(_).toString(o);
          Y = Y.idivn(_), Y.isZero() ? c = X + c : c = C[f - X.length] + X + c;
        }
        for (this.isZero() && (c = "0" + c); c.length % h !== 0; )
          c = "0" + c;
        return this.negative !== 0 && (c = "-" + c), c;
      }
      i(!1, "Base should be between 2 and 36");
    }, s.prototype.toNumber = function() {
      var o = this.words[0];
      return this.length === 2 ? o += this.words[1] * 67108864 : this.length === 3 && this.words[2] === 1 ? o += 4503599627370496 + this.words[1] * 67108864 : this.length > 2 && i(!1, "Number can only safely store up to 53 bits"), this.negative !== 0 ? -o : o;
    }, s.prototype.toJSON = function() {
      return this.toString(16, 2);
    }, u && (s.prototype.toBuffer = function(o, h) {
      return this.toArrayLike(u, o, h);
    }), s.prototype.toArray = function(o, h) {
      return this.toArrayLike(Array, o, h);
    };
    var k = function(o, h) {
      return o.allocUnsafe ? o.allocUnsafe(h) : new o(h);
    };
    s.prototype.toArrayLike = function(o, h, c) {
      this._strip();
      var v = this.byteLength(), y = c || Math.max(1, v);
      i(v <= y, "byte array longer than desired length"), i(y > 0, "Requested array length <= 0");
      var M = k(o, y), E = h === "le" ? "LE" : "BE";
      return this["_toArrayLike" + E](M, v), M;
    }, s.prototype._toArrayLikeLE = function(o, h) {
      for (var c = 0, v = 0, y = 0, M = 0; y < this.length; y++) {
        var E = this.words[y] << M | v;
        o[c++] = E & 255, c < o.length && (o[c++] = E >> 8 & 255), c < o.length && (o[c++] = E >> 16 & 255), M === 6 ? (c < o.length && (o[c++] = E >> 24 & 255), v = 0, M = 0) : (v = E >>> 24, M += 2);
      }
      if (c < o.length)
        for (o[c++] = v; c < o.length; )
          o[c++] = 0;
    }, s.prototype._toArrayLikeBE = function(o, h) {
      for (var c = o.length - 1, v = 0, y = 0, M = 0; y < this.length; y++) {
        var E = this.words[y] << M | v;
        o[c--] = E & 255, c >= 0 && (o[c--] = E >> 8 & 255), c >= 0 && (o[c--] = E >> 16 & 255), M === 6 ? (c >= 0 && (o[c--] = E >> 24 & 255), v = 0, M = 0) : (v = E >>> 24, M += 2);
      }
      if (c >= 0)
        for (o[c--] = v; c >= 0; )
          o[c--] = 0;
    }, Math.clz32 ? s.prototype._countBits = function(o) {
      return 32 - Math.clz32(o);
    } : s.prototype._countBits = function(o) {
      var h = o, c = 0;
      return h >= 4096 && (c += 13, h >>>= 13), h >= 64 && (c += 7, h >>>= 7), h >= 8 && (c += 4, h >>>= 4), h >= 2 && (c += 2, h >>>= 2), c + h;
    }, s.prototype._zeroBits = function(o) {
      if (o === 0)
        return 26;
      var h = o, c = 0;
      return h & 8191 || (c += 13, h >>>= 13), h & 127 || (c += 7, h >>>= 7), h & 15 || (c += 4, h >>>= 4), h & 3 || (c += 2, h >>>= 2), h & 1 || c++, c;
    }, s.prototype.bitLength = function() {
      var o = this.words[this.length - 1], h = this._countBits(o);
      return (this.length - 1) * 26 + h;
    };
    function z(o) {
      for (var h = new Array(o.bitLength()), c = 0; c < h.length; c++) {
        var v = c / 26 | 0, y = c % 26;
        h[c] = o.words[v] >>> y & 1;
      }
      return h;
    }
    s.prototype.zeroBits = function() {
      if (this.isZero())
        return 0;
      for (var o = 0, h = 0; h < this.length; h++) {
        var c = this._zeroBits(this.words[h]);
        if (o += c, c !== 26)
          break;
      }
      return o;
    }, s.prototype.byteLength = function() {
      return Math.ceil(this.bitLength() / 8);
    }, s.prototype.toTwos = function(o) {
      return this.negative !== 0 ? this.abs().inotn(o).iaddn(1) : this.clone();
    }, s.prototype.fromTwos = function(o) {
      return this.testn(o - 1) ? this.notn(o).iaddn(1).ineg() : this.clone();
    }, s.prototype.isNeg = function() {
      return this.negative !== 0;
    }, s.prototype.neg = function() {
      return this.clone().ineg();
    }, s.prototype.ineg = function() {
      return this.isZero() || (this.negative ^= 1), this;
    }, s.prototype.iuor = function(o) {
      for (; this.length < o.length; )
        this.words[this.length++] = 0;
      for (var h = 0; h < o.length; h++)
        this.words[h] = this.words[h] | o.words[h];
      return this._strip();
    }, s.prototype.ior = function(o) {
      return i((this.negative | o.negative) === 0), this.iuor(o);
    }, s.prototype.or = function(o) {
      return this.length > o.length ? this.clone().ior(o) : o.clone().ior(this);
    }, s.prototype.uor = function(o) {
      return this.length > o.length ? this.clone().iuor(o) : o.clone().iuor(this);
    }, s.prototype.iuand = function(o) {
      var h;
      this.length > o.length ? h = o : h = this;
      for (var c = 0; c < h.length; c++)
        this.words[c] = this.words[c] & o.words[c];
      return this.length = h.length, this._strip();
    }, s.prototype.iand = function(o) {
      return i((this.negative | o.negative) === 0), this.iuand(o);
    }, s.prototype.and = function(o) {
      return this.length > o.length ? this.clone().iand(o) : o.clone().iand(this);
    }, s.prototype.uand = function(o) {
      return this.length > o.length ? this.clone().iuand(o) : o.clone().iuand(this);
    }, s.prototype.iuxor = function(o) {
      var h, c;
      this.length > o.length ? (h = this, c = o) : (h = o, c = this);
      for (var v = 0; v < c.length; v++)
        this.words[v] = h.words[v] ^ c.words[v];
      if (this !== h)
        for (; v < h.length; v++)
          this.words[v] = h.words[v];
      return this.length = h.length, this._strip();
    }, s.prototype.ixor = function(o) {
      return i((this.negative | o.negative) === 0), this.iuxor(o);
    }, s.prototype.xor = function(o) {
      return this.length > o.length ? this.clone().ixor(o) : o.clone().ixor(this);
    }, s.prototype.uxor = function(o) {
      return this.length > o.length ? this.clone().iuxor(o) : o.clone().iuxor(this);
    }, s.prototype.inotn = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = Math.ceil(o / 26) | 0, c = o % 26;
      this._expand(h), c > 0 && h--;
      for (var v = 0; v < h; v++)
        this.words[v] = ~this.words[v] & 67108863;
      return c > 0 && (this.words[v] = ~this.words[v] & 67108863 >> 26 - c), this._strip();
    }, s.prototype.notn = function(o) {
      return this.clone().inotn(o);
    }, s.prototype.setn = function(o, h) {
      i(typeof o == "number" && o >= 0);
      var c = o / 26 | 0, v = o % 26;
      return this._expand(c + 1), h ? this.words[c] = this.words[c] | 1 << v : this.words[c] = this.words[c] & ~(1 << v), this._strip();
    }, s.prototype.iadd = function(o) {
      var h;
      if (this.negative !== 0 && o.negative === 0)
        return this.negative = 0, h = this.isub(o), this.negative ^= 1, this._normSign();
      if (this.negative === 0 && o.negative !== 0)
        return o.negative = 0, h = this.isub(o), o.negative = 1, h._normSign();
      var c, v;
      this.length > o.length ? (c = this, v = o) : (c = o, v = this);
      for (var y = 0, M = 0; M < v.length; M++)
        h = (c.words[M] | 0) + (v.words[M] | 0) + y, this.words[M] = h & 67108863, y = h >>> 26;
      for (; y !== 0 && M < c.length; M++)
        h = (c.words[M] | 0) + y, this.words[M] = h & 67108863, y = h >>> 26;
      if (this.length = c.length, y !== 0)
        this.words[this.length] = y, this.length++;
      else if (c !== this)
        for (; M < c.length; M++)
          this.words[M] = c.words[M];
      return this;
    }, s.prototype.add = function(o) {
      var h;
      return o.negative !== 0 && this.negative === 0 ? (o.negative = 0, h = this.sub(o), o.negative ^= 1, h) : o.negative === 0 && this.negative !== 0 ? (this.negative = 0, h = o.sub(this), this.negative = 1, h) : this.length > o.length ? this.clone().iadd(o) : o.clone().iadd(this);
    }, s.prototype.isub = function(o) {
      if (o.negative !== 0) {
        o.negative = 0;
        var h = this.iadd(o);
        return o.negative = 1, h._normSign();
      } else if (this.negative !== 0)
        return this.negative = 0, this.iadd(o), this.negative = 1, this._normSign();
      var c = this.cmp(o);
      if (c === 0)
        return this.negative = 0, this.length = 1, this.words[0] = 0, this;
      var v, y;
      c > 0 ? (v = this, y = o) : (v = o, y = this);
      for (var M = 0, E = 0; E < y.length; E++)
        h = (v.words[E] | 0) - (y.words[E] | 0) + M, M = h >> 26, this.words[E] = h & 67108863;
      for (; M !== 0 && E < v.length; E++)
        h = (v.words[E] | 0) + M, M = h >> 26, this.words[E] = h & 67108863;
      if (M === 0 && E < v.length && v !== this)
        for (; E < v.length; E++)
          this.words[E] = v.words[E];
      return this.length = Math.max(this.length, E), v !== this && (this.negative = 1), this._strip();
    }, s.prototype.sub = function(o) {
      return this.clone().isub(o);
    };
    function V(o, h, c) {
      c.negative = h.negative ^ o.negative;
      var v = o.length + h.length | 0;
      c.length = v, v = v - 1 | 0;
      var y = o.words[0] | 0, M = h.words[0] | 0, E = y * M, d = E & 67108863, f = E / 67108864 | 0;
      c.words[0] = d;
      for (var _ = 1; _ < v; _++) {
        for (var Y = f >>> 26, X = f & 67108863, g = Math.min(_, h.length - 1), F = Math.max(0, _ - o.length + 1); F <= g; F++) {
          var O = _ - F | 0;
          y = o.words[O] | 0, M = h.words[F] | 0, E = y * M + X, Y += E / 67108864 | 0, X = E & 67108863;
        }
        c.words[_] = X | 0, f = Y | 0;
      }
      return f !== 0 ? c.words[_] = f | 0 : c.length--, c._strip();
    }
    var Q = function(o, h, c) {
      var v = o.words, y = h.words, M = c.words, E = 0, d, f, _, Y = v[0] | 0, X = Y & 8191, g = Y >>> 13, F = v[1] | 0, O = F & 8191, B = F >>> 13, q = v[2] | 0, x = q & 8191, T = q >>> 13, Z = v[3] | 0, it = Z & 8191, et = Z >>> 13, pt = v[4] | 0, gt = pt & 8191, _t = pt >>> 13, re = v[5] | 0, bt = re & 8191, Et = re >>> 13, Qt = v[6] | 0, lt = Qt & 8191, yt = Qt >>> 13, Wt = v[7] | 0, ft = Wt & 8191, wt = Wt >>> 13, Kt = v[8] | 0, ut = Kt & 8191, It = Kt >>> 13, Jt = v[9] | 0, mt = Jt & 8191, Pt = Jt >>> 13, te = y[0] | 0, vt = te & 8191, Rt = te >>> 13, ue = y[1] | 0, Tt = ue & 8191, Yt = ue >>> 13, ce = y[2] | 0, Ft = ce & 8191, Vt = ce >>> 13, de = y[3] | 0, Mt = de & 8191, Lt = de >>> 13, se = y[4] | 0, St = se & 8191, kt = se >>> 13, ie = y[5] | 0, Dt = ie & 8191, jt = ie >>> 13, oe = y[6] | 0, Ct = oe & 8191, zt = oe >>> 13, he = y[7] | 0, xt = he & 8191, qt = he >>> 13, fe = y[8] | 0, Nt = fe & 8191, Xt = fe >>> 13, be = y[9] | 0, Ht = be & 8191, Gt = be >>> 13;
      c.negative = o.negative ^ h.negative, c.length = 19, d = Math.imul(X, vt), f = Math.imul(X, Rt), f = f + Math.imul(g, vt) | 0, _ = Math.imul(g, Rt);
      var ze = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (ze >>> 26) | 0, ze &= 67108863, d = Math.imul(O, vt), f = Math.imul(O, Rt), f = f + Math.imul(B, vt) | 0, _ = Math.imul(B, Rt), d = d + Math.imul(X, Tt) | 0, f = f + Math.imul(X, Yt) | 0, f = f + Math.imul(g, Tt) | 0, _ = _ + Math.imul(g, Yt) | 0;
      var $e = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + ($e >>> 26) | 0, $e &= 67108863, d = Math.imul(x, vt), f = Math.imul(x, Rt), f = f + Math.imul(T, vt) | 0, _ = Math.imul(T, Rt), d = d + Math.imul(O, Tt) | 0, f = f + Math.imul(O, Yt) | 0, f = f + Math.imul(B, Tt) | 0, _ = _ + Math.imul(B, Yt) | 0, d = d + Math.imul(X, Ft) | 0, f = f + Math.imul(X, Vt) | 0, f = f + Math.imul(g, Ft) | 0, _ = _ + Math.imul(g, Vt) | 0;
      var He = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (He >>> 26) | 0, He &= 67108863, d = Math.imul(it, vt), f = Math.imul(it, Rt), f = f + Math.imul(et, vt) | 0, _ = Math.imul(et, Rt), d = d + Math.imul(x, Tt) | 0, f = f + Math.imul(x, Yt) | 0, f = f + Math.imul(T, Tt) | 0, _ = _ + Math.imul(T, Yt) | 0, d = d + Math.imul(O, Ft) | 0, f = f + Math.imul(O, Vt) | 0, f = f + Math.imul(B, Ft) | 0, _ = _ + Math.imul(B, Vt) | 0, d = d + Math.imul(X, Mt) | 0, f = f + Math.imul(X, Lt) | 0, f = f + Math.imul(g, Mt) | 0, _ = _ + Math.imul(g, Lt) | 0;
      var je = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (je >>> 26) | 0, je &= 67108863, d = Math.imul(gt, vt), f = Math.imul(gt, Rt), f = f + Math.imul(_t, vt) | 0, _ = Math.imul(_t, Rt), d = d + Math.imul(it, Tt) | 0, f = f + Math.imul(it, Yt) | 0, f = f + Math.imul(et, Tt) | 0, _ = _ + Math.imul(et, Yt) | 0, d = d + Math.imul(x, Ft) | 0, f = f + Math.imul(x, Vt) | 0, f = f + Math.imul(T, Ft) | 0, _ = _ + Math.imul(T, Vt) | 0, d = d + Math.imul(O, Mt) | 0, f = f + Math.imul(O, Lt) | 0, f = f + Math.imul(B, Mt) | 0, _ = _ + Math.imul(B, Lt) | 0, d = d + Math.imul(X, St) | 0, f = f + Math.imul(X, kt) | 0, f = f + Math.imul(g, St) | 0, _ = _ + Math.imul(g, kt) | 0;
      var Ke = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ke >>> 26) | 0, Ke &= 67108863, d = Math.imul(bt, vt), f = Math.imul(bt, Rt), f = f + Math.imul(Et, vt) | 0, _ = Math.imul(Et, Rt), d = d + Math.imul(gt, Tt) | 0, f = f + Math.imul(gt, Yt) | 0, f = f + Math.imul(_t, Tt) | 0, _ = _ + Math.imul(_t, Yt) | 0, d = d + Math.imul(it, Ft) | 0, f = f + Math.imul(it, Vt) | 0, f = f + Math.imul(et, Ft) | 0, _ = _ + Math.imul(et, Vt) | 0, d = d + Math.imul(x, Mt) | 0, f = f + Math.imul(x, Lt) | 0, f = f + Math.imul(T, Mt) | 0, _ = _ + Math.imul(T, Lt) | 0, d = d + Math.imul(O, St) | 0, f = f + Math.imul(O, kt) | 0, f = f + Math.imul(B, St) | 0, _ = _ + Math.imul(B, kt) | 0, d = d + Math.imul(X, Dt) | 0, f = f + Math.imul(X, jt) | 0, f = f + Math.imul(g, Dt) | 0, _ = _ + Math.imul(g, jt) | 0;
      var Ie = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ie >>> 26) | 0, Ie &= 67108863, d = Math.imul(lt, vt), f = Math.imul(lt, Rt), f = f + Math.imul(yt, vt) | 0, _ = Math.imul(yt, Rt), d = d + Math.imul(bt, Tt) | 0, f = f + Math.imul(bt, Yt) | 0, f = f + Math.imul(Et, Tt) | 0, _ = _ + Math.imul(Et, Yt) | 0, d = d + Math.imul(gt, Ft) | 0, f = f + Math.imul(gt, Vt) | 0, f = f + Math.imul(_t, Ft) | 0, _ = _ + Math.imul(_t, Vt) | 0, d = d + Math.imul(it, Mt) | 0, f = f + Math.imul(it, Lt) | 0, f = f + Math.imul(et, Mt) | 0, _ = _ + Math.imul(et, Lt) | 0, d = d + Math.imul(x, St) | 0, f = f + Math.imul(x, kt) | 0, f = f + Math.imul(T, St) | 0, _ = _ + Math.imul(T, kt) | 0, d = d + Math.imul(O, Dt) | 0, f = f + Math.imul(O, jt) | 0, f = f + Math.imul(B, Dt) | 0, _ = _ + Math.imul(B, jt) | 0, d = d + Math.imul(X, Ct) | 0, f = f + Math.imul(X, zt) | 0, f = f + Math.imul(g, Ct) | 0, _ = _ + Math.imul(g, zt) | 0;
      var lr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (lr >>> 26) | 0, lr &= 67108863, d = Math.imul(ft, vt), f = Math.imul(ft, Rt), f = f + Math.imul(wt, vt) | 0, _ = Math.imul(wt, Rt), d = d + Math.imul(lt, Tt) | 0, f = f + Math.imul(lt, Yt) | 0, f = f + Math.imul(yt, Tt) | 0, _ = _ + Math.imul(yt, Yt) | 0, d = d + Math.imul(bt, Ft) | 0, f = f + Math.imul(bt, Vt) | 0, f = f + Math.imul(Et, Ft) | 0, _ = _ + Math.imul(Et, Vt) | 0, d = d + Math.imul(gt, Mt) | 0, f = f + Math.imul(gt, Lt) | 0, f = f + Math.imul(_t, Mt) | 0, _ = _ + Math.imul(_t, Lt) | 0, d = d + Math.imul(it, St) | 0, f = f + Math.imul(it, kt) | 0, f = f + Math.imul(et, St) | 0, _ = _ + Math.imul(et, kt) | 0, d = d + Math.imul(x, Dt) | 0, f = f + Math.imul(x, jt) | 0, f = f + Math.imul(T, Dt) | 0, _ = _ + Math.imul(T, jt) | 0, d = d + Math.imul(O, Ct) | 0, f = f + Math.imul(O, zt) | 0, f = f + Math.imul(B, Ct) | 0, _ = _ + Math.imul(B, zt) | 0, d = d + Math.imul(X, xt) | 0, f = f + Math.imul(X, qt) | 0, f = f + Math.imul(g, xt) | 0, _ = _ + Math.imul(g, qt) | 0;
      var Ir = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ir >>> 26) | 0, Ir &= 67108863, d = Math.imul(ut, vt), f = Math.imul(ut, Rt), f = f + Math.imul(It, vt) | 0, _ = Math.imul(It, Rt), d = d + Math.imul(ft, Tt) | 0, f = f + Math.imul(ft, Yt) | 0, f = f + Math.imul(wt, Tt) | 0, _ = _ + Math.imul(wt, Yt) | 0, d = d + Math.imul(lt, Ft) | 0, f = f + Math.imul(lt, Vt) | 0, f = f + Math.imul(yt, Ft) | 0, _ = _ + Math.imul(yt, Vt) | 0, d = d + Math.imul(bt, Mt) | 0, f = f + Math.imul(bt, Lt) | 0, f = f + Math.imul(Et, Mt) | 0, _ = _ + Math.imul(Et, Lt) | 0, d = d + Math.imul(gt, St) | 0, f = f + Math.imul(gt, kt) | 0, f = f + Math.imul(_t, St) | 0, _ = _ + Math.imul(_t, kt) | 0, d = d + Math.imul(it, Dt) | 0, f = f + Math.imul(it, jt) | 0, f = f + Math.imul(et, Dt) | 0, _ = _ + Math.imul(et, jt) | 0, d = d + Math.imul(x, Ct) | 0, f = f + Math.imul(x, zt) | 0, f = f + Math.imul(T, Ct) | 0, _ = _ + Math.imul(T, zt) | 0, d = d + Math.imul(O, xt) | 0, f = f + Math.imul(O, qt) | 0, f = f + Math.imul(B, xt) | 0, _ = _ + Math.imul(B, qt) | 0, d = d + Math.imul(X, Nt) | 0, f = f + Math.imul(X, Xt) | 0, f = f + Math.imul(g, Nt) | 0, _ = _ + Math.imul(g, Xt) | 0;
      var dr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (dr >>> 26) | 0, dr &= 67108863, d = Math.imul(mt, vt), f = Math.imul(mt, Rt), f = f + Math.imul(Pt, vt) | 0, _ = Math.imul(Pt, Rt), d = d + Math.imul(ut, Tt) | 0, f = f + Math.imul(ut, Yt) | 0, f = f + Math.imul(It, Tt) | 0, _ = _ + Math.imul(It, Yt) | 0, d = d + Math.imul(ft, Ft) | 0, f = f + Math.imul(ft, Vt) | 0, f = f + Math.imul(wt, Ft) | 0, _ = _ + Math.imul(wt, Vt) | 0, d = d + Math.imul(lt, Mt) | 0, f = f + Math.imul(lt, Lt) | 0, f = f + Math.imul(yt, Mt) | 0, _ = _ + Math.imul(yt, Lt) | 0, d = d + Math.imul(bt, St) | 0, f = f + Math.imul(bt, kt) | 0, f = f + Math.imul(Et, St) | 0, _ = _ + Math.imul(Et, kt) | 0, d = d + Math.imul(gt, Dt) | 0, f = f + Math.imul(gt, jt) | 0, f = f + Math.imul(_t, Dt) | 0, _ = _ + Math.imul(_t, jt) | 0, d = d + Math.imul(it, Ct) | 0, f = f + Math.imul(it, zt) | 0, f = f + Math.imul(et, Ct) | 0, _ = _ + Math.imul(et, zt) | 0, d = d + Math.imul(x, xt) | 0, f = f + Math.imul(x, qt) | 0, f = f + Math.imul(T, xt) | 0, _ = _ + Math.imul(T, qt) | 0, d = d + Math.imul(O, Nt) | 0, f = f + Math.imul(O, Xt) | 0, f = f + Math.imul(B, Nt) | 0, _ = _ + Math.imul(B, Xt) | 0, d = d + Math.imul(X, Ht) | 0, f = f + Math.imul(X, Gt) | 0, f = f + Math.imul(g, Ht) | 0, _ = _ + Math.imul(g, Gt) | 0;
      var Dr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Dr >>> 26) | 0, Dr &= 67108863, d = Math.imul(mt, Tt), f = Math.imul(mt, Yt), f = f + Math.imul(Pt, Tt) | 0, _ = Math.imul(Pt, Yt), d = d + Math.imul(ut, Ft) | 0, f = f + Math.imul(ut, Vt) | 0, f = f + Math.imul(It, Ft) | 0, _ = _ + Math.imul(It, Vt) | 0, d = d + Math.imul(ft, Mt) | 0, f = f + Math.imul(ft, Lt) | 0, f = f + Math.imul(wt, Mt) | 0, _ = _ + Math.imul(wt, Lt) | 0, d = d + Math.imul(lt, St) | 0, f = f + Math.imul(lt, kt) | 0, f = f + Math.imul(yt, St) | 0, _ = _ + Math.imul(yt, kt) | 0, d = d + Math.imul(bt, Dt) | 0, f = f + Math.imul(bt, jt) | 0, f = f + Math.imul(Et, Dt) | 0, _ = _ + Math.imul(Et, jt) | 0, d = d + Math.imul(gt, Ct) | 0, f = f + Math.imul(gt, zt) | 0, f = f + Math.imul(_t, Ct) | 0, _ = _ + Math.imul(_t, zt) | 0, d = d + Math.imul(it, xt) | 0, f = f + Math.imul(it, qt) | 0, f = f + Math.imul(et, xt) | 0, _ = _ + Math.imul(et, qt) | 0, d = d + Math.imul(x, Nt) | 0, f = f + Math.imul(x, Xt) | 0, f = f + Math.imul(T, Nt) | 0, _ = _ + Math.imul(T, Xt) | 0, d = d + Math.imul(O, Ht) | 0, f = f + Math.imul(O, Gt) | 0, f = f + Math.imul(B, Ht) | 0, _ = _ + Math.imul(B, Gt) | 0;
      var Cr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Cr >>> 26) | 0, Cr &= 67108863, d = Math.imul(mt, Ft), f = Math.imul(mt, Vt), f = f + Math.imul(Pt, Ft) | 0, _ = Math.imul(Pt, Vt), d = d + Math.imul(ut, Mt) | 0, f = f + Math.imul(ut, Lt) | 0, f = f + Math.imul(It, Mt) | 0, _ = _ + Math.imul(It, Lt) | 0, d = d + Math.imul(ft, St) | 0, f = f + Math.imul(ft, kt) | 0, f = f + Math.imul(wt, St) | 0, _ = _ + Math.imul(wt, kt) | 0, d = d + Math.imul(lt, Dt) | 0, f = f + Math.imul(lt, jt) | 0, f = f + Math.imul(yt, Dt) | 0, _ = _ + Math.imul(yt, jt) | 0, d = d + Math.imul(bt, Ct) | 0, f = f + Math.imul(bt, zt) | 0, f = f + Math.imul(Et, Ct) | 0, _ = _ + Math.imul(Et, zt) | 0, d = d + Math.imul(gt, xt) | 0, f = f + Math.imul(gt, qt) | 0, f = f + Math.imul(_t, xt) | 0, _ = _ + Math.imul(_t, qt) | 0, d = d + Math.imul(it, Nt) | 0, f = f + Math.imul(it, Xt) | 0, f = f + Math.imul(et, Nt) | 0, _ = _ + Math.imul(et, Xt) | 0, d = d + Math.imul(x, Ht) | 0, f = f + Math.imul(x, Gt) | 0, f = f + Math.imul(T, Ht) | 0, _ = _ + Math.imul(T, Gt) | 0;
      var pr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (pr >>> 26) | 0, pr &= 67108863, d = Math.imul(mt, Mt), f = Math.imul(mt, Lt), f = f + Math.imul(Pt, Mt) | 0, _ = Math.imul(Pt, Lt), d = d + Math.imul(ut, St) | 0, f = f + Math.imul(ut, kt) | 0, f = f + Math.imul(It, St) | 0, _ = _ + Math.imul(It, kt) | 0, d = d + Math.imul(ft, Dt) | 0, f = f + Math.imul(ft, jt) | 0, f = f + Math.imul(wt, Dt) | 0, _ = _ + Math.imul(wt, jt) | 0, d = d + Math.imul(lt, Ct) | 0, f = f + Math.imul(lt, zt) | 0, f = f + Math.imul(yt, Ct) | 0, _ = _ + Math.imul(yt, zt) | 0, d = d + Math.imul(bt, xt) | 0, f = f + Math.imul(bt, qt) | 0, f = f + Math.imul(Et, xt) | 0, _ = _ + Math.imul(Et, qt) | 0, d = d + Math.imul(gt, Nt) | 0, f = f + Math.imul(gt, Xt) | 0, f = f + Math.imul(_t, Nt) | 0, _ = _ + Math.imul(_t, Xt) | 0, d = d + Math.imul(it, Ht) | 0, f = f + Math.imul(it, Gt) | 0, f = f + Math.imul(et, Ht) | 0, _ = _ + Math.imul(et, Gt) | 0;
      var Er = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Er >>> 26) | 0, Er &= 67108863, d = Math.imul(mt, St), f = Math.imul(mt, kt), f = f + Math.imul(Pt, St) | 0, _ = Math.imul(Pt, kt), d = d + Math.imul(ut, Dt) | 0, f = f + Math.imul(ut, jt) | 0, f = f + Math.imul(It, Dt) | 0, _ = _ + Math.imul(It, jt) | 0, d = d + Math.imul(ft, Ct) | 0, f = f + Math.imul(ft, zt) | 0, f = f + Math.imul(wt, Ct) | 0, _ = _ + Math.imul(wt, zt) | 0, d = d + Math.imul(lt, xt) | 0, f = f + Math.imul(lt, qt) | 0, f = f + Math.imul(yt, xt) | 0, _ = _ + Math.imul(yt, qt) | 0, d = d + Math.imul(bt, Nt) | 0, f = f + Math.imul(bt, Xt) | 0, f = f + Math.imul(Et, Nt) | 0, _ = _ + Math.imul(Et, Xt) | 0, d = d + Math.imul(gt, Ht) | 0, f = f + Math.imul(gt, Gt) | 0, f = f + Math.imul(_t, Ht) | 0, _ = _ + Math.imul(_t, Gt) | 0;
      var Mr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Mr >>> 26) | 0, Mr &= 67108863, d = Math.imul(mt, Dt), f = Math.imul(mt, jt), f = f + Math.imul(Pt, Dt) | 0, _ = Math.imul(Pt, jt), d = d + Math.imul(ut, Ct) | 0, f = f + Math.imul(ut, zt) | 0, f = f + Math.imul(It, Ct) | 0, _ = _ + Math.imul(It, zt) | 0, d = d + Math.imul(ft, xt) | 0, f = f + Math.imul(ft, qt) | 0, f = f + Math.imul(wt, xt) | 0, _ = _ + Math.imul(wt, qt) | 0, d = d + Math.imul(lt, Nt) | 0, f = f + Math.imul(lt, Xt) | 0, f = f + Math.imul(yt, Nt) | 0, _ = _ + Math.imul(yt, Xt) | 0, d = d + Math.imul(bt, Ht) | 0, f = f + Math.imul(bt, Gt) | 0, f = f + Math.imul(Et, Ht) | 0, _ = _ + Math.imul(Et, Gt) | 0;
      var Ze = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Ze >>> 26) | 0, Ze &= 67108863, d = Math.imul(mt, Ct), f = Math.imul(mt, zt), f = f + Math.imul(Pt, Ct) | 0, _ = Math.imul(Pt, zt), d = d + Math.imul(ut, xt) | 0, f = f + Math.imul(ut, qt) | 0, f = f + Math.imul(It, xt) | 0, _ = _ + Math.imul(It, qt) | 0, d = d + Math.imul(ft, Nt) | 0, f = f + Math.imul(ft, Xt) | 0, f = f + Math.imul(wt, Nt) | 0, _ = _ + Math.imul(wt, Xt) | 0, d = d + Math.imul(lt, Ht) | 0, f = f + Math.imul(lt, Gt) | 0, f = f + Math.imul(yt, Ht) | 0, _ = _ + Math.imul(yt, Gt) | 0;
      var Nr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Nr >>> 26) | 0, Nr &= 67108863, d = Math.imul(mt, xt), f = Math.imul(mt, qt), f = f + Math.imul(Pt, xt) | 0, _ = Math.imul(Pt, qt), d = d + Math.imul(ut, Nt) | 0, f = f + Math.imul(ut, Xt) | 0, f = f + Math.imul(It, Nt) | 0, _ = _ + Math.imul(It, Xt) | 0, d = d + Math.imul(ft, Ht) | 0, f = f + Math.imul(ft, Gt) | 0, f = f + Math.imul(wt, Ht) | 0, _ = _ + Math.imul(wt, Gt) | 0;
      var Pr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Pr >>> 26) | 0, Pr &= 67108863, d = Math.imul(mt, Nt), f = Math.imul(mt, Xt), f = f + Math.imul(Pt, Nt) | 0, _ = Math.imul(Pt, Xt), d = d + Math.imul(ut, Ht) | 0, f = f + Math.imul(ut, Gt) | 0, f = f + Math.imul(It, Ht) | 0, _ = _ + Math.imul(It, Gt) | 0;
      var Rr = (E + d | 0) + ((f & 8191) << 13) | 0;
      E = (_ + (f >>> 13) | 0) + (Rr >>> 26) | 0, Rr &= 67108863, d = Math.imul(mt, Ht), f = Math.imul(mt, Gt), f = f + Math.imul(Pt, Ht) | 0, _ = Math.imul(Pt, Gt);
      var pi = (E + d | 0) + ((f & 8191) << 13) | 0;
      return E = (_ + (f >>> 13) | 0) + (pi >>> 26) | 0, pi &= 67108863, M[0] = ze, M[1] = $e, M[2] = He, M[3] = je, M[4] = Ke, M[5] = Ie, M[6] = lr, M[7] = Ir, M[8] = dr, M[9] = Dr, M[10] = Cr, M[11] = pr, M[12] = Er, M[13] = Mr, M[14] = Ze, M[15] = Nr, M[16] = Pr, M[17] = Rr, M[18] = pi, E !== 0 && (M[19] = E, c.length++), c;
    };
    Math.imul || (Q = V);
    function W(o, h, c) {
      c.negative = h.negative ^ o.negative, c.length = o.length + h.length;
      for (var v = 0, y = 0, M = 0; M < c.length - 1; M++) {
        var E = y;
        y = 0;
        for (var d = v & 67108863, f = Math.min(M, h.length - 1), _ = Math.max(0, M - o.length + 1); _ <= f; _++) {
          var Y = M - _, X = o.words[Y] | 0, g = h.words[_] | 0, F = X * g, O = F & 67108863;
          E = E + (F / 67108864 | 0) | 0, O = O + d | 0, d = O & 67108863, E = E + (O >>> 26) | 0, y += E >>> 26, E &= 67108863;
        }
        c.words[M] = d, v = E, E = y;
      }
      return v !== 0 ? c.words[M] = v : c.length--, c._strip();
    }
    function $(o, h, c) {
      return W(o, h, c);
    }
    s.prototype.mulTo = function(o, h) {
      var c, v = this.length + o.length;
      return this.length === 10 && o.length === 10 ? c = Q(this, o, h) : v < 63 ? c = V(this, o, h) : v < 1024 ? c = W(this, o, h) : c = $(this, o, h), c;
    }, s.prototype.mul = function(o) {
      var h = new s(null);
      return h.words = new Array(this.length + o.length), this.mulTo(o, h);
    }, s.prototype.mulf = function(o) {
      var h = new s(null);
      return h.words = new Array(this.length + o.length), $(this, o, h);
    }, s.prototype.imul = function(o) {
      return this.clone().mulTo(o, this);
    }, s.prototype.imuln = function(o) {
      var h = o < 0;
      h && (o = -o), i(typeof o == "number"), i(o < 67108864);
      for (var c = 0, v = 0; v < this.length; v++) {
        var y = (this.words[v] | 0) * o, M = (y & 67108863) + (c & 67108863);
        c >>= 26, c += y / 67108864 | 0, c += M >>> 26, this.words[v] = M & 67108863;
      }
      return c !== 0 && (this.words[v] = c, this.length++), h ? this.ineg() : this;
    }, s.prototype.muln = function(o) {
      return this.clone().imuln(o);
    }, s.prototype.sqr = function() {
      return this.mul(this);
    }, s.prototype.isqr = function() {
      return this.imul(this.clone());
    }, s.prototype.pow = function(o) {
      var h = z(o);
      if (h.length === 0)
        return new s(1);
      for (var c = this, v = 0; v < h.length && h[v] === 0; v++, c = c.sqr())
        ;
      if (++v < h.length)
        for (var y = c.sqr(); v < h.length; v++, y = y.sqr())
          h[v] !== 0 && (c = c.mul(y));
      return c;
    }, s.prototype.iushln = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = o % 26, c = (o - h) / 26, v = 67108863 >>> 26 - h << 26 - h, y;
      if (h !== 0) {
        var M = 0;
        for (y = 0; y < this.length; y++) {
          var E = this.words[y] & v, d = (this.words[y] | 0) - E << h;
          this.words[y] = d | M, M = E >>> 26 - h;
        }
        M && (this.words[y] = M, this.length++);
      }
      if (c !== 0) {
        for (y = this.length - 1; y >= 0; y--)
          this.words[y + c] = this.words[y];
        for (y = 0; y < c; y++)
          this.words[y] = 0;
        this.length += c;
      }
      return this._strip();
    }, s.prototype.ishln = function(o) {
      return i(this.negative === 0), this.iushln(o);
    }, s.prototype.iushrn = function(o, h, c) {
      i(typeof o == "number" && o >= 0);
      var v;
      h ? v = (h - h % 26) / 26 : v = 0;
      var y = o % 26, M = Math.min((o - y) / 26, this.length), E = 67108863 ^ 67108863 >>> y << y, d = c;
      if (v -= M, v = Math.max(0, v), d) {
        for (var f = 0; f < M; f++)
          d.words[f] = this.words[f];
        d.length = M;
      }
      if (M !== 0)
        if (this.length > M)
          for (this.length -= M, f = 0; f < this.length; f++)
            this.words[f] = this.words[f + M];
        else
          this.words[0] = 0, this.length = 1;
      var _ = 0;
      for (f = this.length - 1; f >= 0 && (_ !== 0 || f >= v); f--) {
        var Y = this.words[f] | 0;
        this.words[f] = _ << 26 - y | Y >>> y, _ = Y & E;
      }
      return d && _ !== 0 && (d.words[d.length++] = _), this.length === 0 && (this.words[0] = 0, this.length = 1), this._strip();
    }, s.prototype.ishrn = function(o, h, c) {
      return i(this.negative === 0), this.iushrn(o, h, c);
    }, s.prototype.shln = function(o) {
      return this.clone().ishln(o);
    }, s.prototype.ushln = function(o) {
      return this.clone().iushln(o);
    }, s.prototype.shrn = function(o) {
      return this.clone().ishrn(o);
    }, s.prototype.ushrn = function(o) {
      return this.clone().iushrn(o);
    }, s.prototype.testn = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = o % 26, c = (o - h) / 26, v = 1 << h;
      if (this.length <= c)
        return !1;
      var y = this.words[c];
      return !!(y & v);
    }, s.prototype.imaskn = function(o) {
      i(typeof o == "number" && o >= 0);
      var h = o % 26, c = (o - h) / 26;
      if (i(this.negative === 0, "imaskn works only with positive numbers"), this.length <= c)
        return this;
      if (h !== 0 && c++, this.length = Math.min(c, this.length), h !== 0) {
        var v = 67108863 ^ 67108863 >>> h << h;
        this.words[this.length - 1] &= v;
      }
      return this._strip();
    }, s.prototype.maskn = function(o) {
      return this.clone().imaskn(o);
    }, s.prototype.iaddn = function(o) {
      return i(typeof o == "number"), i(o < 67108864), o < 0 ? this.isubn(-o) : this.negative !== 0 ? this.length === 1 && (this.words[0] | 0) <= o ? (this.words[0] = o - (this.words[0] | 0), this.negative = 0, this) : (this.negative = 0, this.isubn(o), this.negative = 1, this) : this._iaddn(o);
    }, s.prototype._iaddn = function(o) {
      this.words[0] += o;
      for (var h = 0; h < this.length && this.words[h] >= 67108864; h++)
        this.words[h] -= 67108864, h === this.length - 1 ? this.words[h + 1] = 1 : this.words[h + 1]++;
      return this.length = Math.max(this.length, h + 1), this;
    }, s.prototype.isubn = function(o) {
      if (i(typeof o == "number"), i(o < 67108864), o < 0)
        return this.iaddn(-o);
      if (this.negative !== 0)
        return this.negative = 0, this.iaddn(o), this.negative = 1, this;
      if (this.words[0] -= o, this.length === 1 && this.words[0] < 0)
        this.words[0] = -this.words[0], this.negative = 1;
      else
        for (var h = 0; h < this.length && this.words[h] < 0; h++)
          this.words[h] += 67108864, this.words[h + 1] -= 1;
      return this._strip();
    }, s.prototype.addn = function(o) {
      return this.clone().iaddn(o);
    }, s.prototype.subn = function(o) {
      return this.clone().isubn(o);
    }, s.prototype.iabs = function() {
      return this.negative = 0, this;
    }, s.prototype.abs = function() {
      return this.clone().iabs();
    }, s.prototype._ishlnsubmul = function(o, h, c) {
      var v = o.length + c, y;
      this._expand(v);
      var M, E = 0;
      for (y = 0; y < o.length; y++) {
        M = (this.words[y + c] | 0) + E;
        var d = (o.words[y] | 0) * h;
        M -= d & 67108863, E = (M >> 26) - (d / 67108864 | 0), this.words[y + c] = M & 67108863;
      }
      for (; y < this.length - c; y++)
        M = (this.words[y + c] | 0) + E, E = M >> 26, this.words[y + c] = M & 67108863;
      if (E === 0)
        return this._strip();
      for (i(E === -1), E = 0, y = 0; y < this.length; y++)
        M = -(this.words[y] | 0) + E, E = M >> 26, this.words[y] = M & 67108863;
      return this.negative = 1, this._strip();
    }, s.prototype._wordDiv = function(o, h) {
      var c = this.length - o.length, v = this.clone(), y = o, M = y.words[y.length - 1] | 0, E = this._countBits(M);
      c = 26 - E, c !== 0 && (y = y.ushln(c), v.iushln(c), M = y.words[y.length - 1] | 0);
      var d = v.length - y.length, f;
      if (h !== "mod") {
        f = new s(null), f.length = d + 1, f.words = new Array(f.length);
        for (var _ = 0; _ < f.length; _++)
          f.words[_] = 0;
      }
      var Y = v.clone()._ishlnsubmul(y, 1, d);
      Y.negative === 0 && (v = Y, f && (f.words[d] = 1));
      for (var X = d - 1; X >= 0; X--) {
        var g = (v.words[y.length + X] | 0) * 67108864 + (v.words[y.length + X - 1] | 0);
        for (g = Math.min(g / M | 0, 67108863), v._ishlnsubmul(y, g, X); v.negative !== 0; )
          g--, v.negative = 0, v._ishlnsubmul(y, 1, X), v.isZero() || (v.negative ^= 1);
        f && (f.words[X] = g);
      }
      return f && f._strip(), v._strip(), h !== "div" && c !== 0 && v.iushrn(c), { div: f || null, mod: v };
    }, s.prototype.divmod = function(o, h, c) {
      if (i(!o.isZero()), this.isZero())
        return { div: new s(0), mod: new s(0) };
      var v, y, M;
      return this.negative !== 0 && o.negative === 0 ? (M = this.neg().divmod(o, h), h !== "mod" && (v = M.div.neg()), h !== "div" && (y = M.mod.neg(), c && y.negative !== 0 && y.iadd(o)), { div: v, mod: y }) : this.negative === 0 && o.negative !== 0 ? (M = this.divmod(o.neg(), h), h !== "mod" && (v = M.div.neg()), { div: v, mod: M.mod }) : this.negative & o.negative ? (M = this.neg().divmod(o.neg(), h), h !== "div" && (y = M.mod.neg(), c && y.negative !== 0 && y.isub(o)), { div: M.div, mod: y }) : o.length > this.length || this.cmp(o) < 0 ? { div: new s(0), mod: this } : o.length === 1 ? h === "div" ? { div: this.divn(o.words[0]), mod: null } : h === "mod" ? { div: null, mod: new s(this.modrn(o.words[0])) } : { div: this.divn(o.words[0]), mod: new s(this.modrn(o.words[0])) } : this._wordDiv(o, h);
    }, s.prototype.div = function(o) {
      return this.divmod(o, "div", !1).div;
    }, s.prototype.mod = function(o) {
      return this.divmod(o, "mod", !1).mod;
    }, s.prototype.umod = function(o) {
      return this.divmod(o, "mod", !0).mod;
    }, s.prototype.divRound = function(o) {
      var h = this.divmod(o);
      if (h.mod.isZero())
        return h.div;
      var c = h.div.negative !== 0 ? h.mod.isub(o) : h.mod, v = o.ushrn(1), y = o.andln(1), M = c.cmp(v);
      return M < 0 || y === 1 && M === 0 ? h.div : h.div.negative !== 0 ? h.div.isubn(1) : h.div.iaddn(1);
    }, s.prototype.modrn = function(o) {
      var h = o < 0;
      h && (o = -o), i(o <= 67108863);
      for (var c = (1 << 26) % o, v = 0, y = this.length - 1; y >= 0; y--)
        v = (c * v + (this.words[y] | 0)) % o;
      return h ? -v : v;
    }, s.prototype.modn = function(o) {
      return this.modrn(o);
    }, s.prototype.idivn = function(o) {
      var h = o < 0;
      h && (o = -o), i(o <= 67108863);
      for (var c = 0, v = this.length - 1; v >= 0; v--) {
        var y = (this.words[v] | 0) + c * 67108864;
        this.words[v] = y / o | 0, c = y % o;
      }
      return this._strip(), h ? this.ineg() : this;
    }, s.prototype.divn = function(o) {
      return this.clone().idivn(o);
    }, s.prototype.egcd = function(o) {
      i(o.negative === 0), i(!o.isZero());
      var h = this, c = o.clone();
      h.negative !== 0 ? h = h.umod(o) : h = h.clone();
      for (var v = new s(1), y = new s(0), M = new s(0), E = new s(1), d = 0; h.isEven() && c.isEven(); )
        h.iushrn(1), c.iushrn(1), ++d;
      for (var f = c.clone(), _ = h.clone(); !h.isZero(); ) {
        for (var Y = 0, X = 1; !(h.words[0] & X) && Y < 26; ++Y, X <<= 1)
          ;
        if (Y > 0)
          for (h.iushrn(Y); Y-- > 0; )
            (v.isOdd() || y.isOdd()) && (v.iadd(f), y.isub(_)), v.iushrn(1), y.iushrn(1);
        for (var g = 0, F = 1; !(c.words[0] & F) && g < 26; ++g, F <<= 1)
          ;
        if (g > 0)
          for (c.iushrn(g); g-- > 0; )
            (M.isOdd() || E.isOdd()) && (M.iadd(f), E.isub(_)), M.iushrn(1), E.iushrn(1);
        h.cmp(c) >= 0 ? (h.isub(c), v.isub(M), y.isub(E)) : (c.isub(h), M.isub(v), E.isub(y));
      }
      return { a: M, b: E, gcd: c.iushln(d) };
    }, s.prototype._invmp = function(o) {
      i(o.negative === 0), i(!o.isZero());
      var h = this, c = o.clone();
      h.negative !== 0 ? h = h.umod(o) : h = h.clone();
      for (var v = new s(1), y = new s(0), M = c.clone(); h.cmpn(1) > 0 && c.cmpn(1) > 0; ) {
        for (var E = 0, d = 1; !(h.words[0] & d) && E < 26; ++E, d <<= 1)
          ;
        if (E > 0)
          for (h.iushrn(E); E-- > 0; )
            v.isOdd() && v.iadd(M), v.iushrn(1);
        for (var f = 0, _ = 1; !(c.words[0] & _) && f < 26; ++f, _ <<= 1)
          ;
        if (f > 0)
          for (c.iushrn(f); f-- > 0; )
            y.isOdd() && y.iadd(M), y.iushrn(1);
        h.cmp(c) >= 0 ? (h.isub(c), v.isub(y)) : (c.isub(h), y.isub(v));
      }
      var Y;
      return h.cmpn(1) === 0 ? Y = v : Y = y, Y.cmpn(0) < 0 && Y.iadd(o), Y;
    }, s.prototype.gcd = function(o) {
      if (this.isZero())
        return o.abs();
      if (o.isZero())
        return this.abs();
      var h = this.clone(), c = o.clone();
      h.negative = 0, c.negative = 0;
      for (var v = 0; h.isEven() && c.isEven(); v++)
        h.iushrn(1), c.iushrn(1);
      do {
        for (; h.isEven(); )
          h.iushrn(1);
        for (; c.isEven(); )
          c.iushrn(1);
        var y = h.cmp(c);
        if (y < 0) {
          var M = h;
          h = c, c = M;
        } else if (y === 0 || c.cmpn(1) === 0)
          break;
        h.isub(c);
      } while (!0);
      return c.iushln(v);
    }, s.prototype.invm = function(o) {
      return this.egcd(o).a.umod(o);
    }, s.prototype.isEven = function() {
      return (this.words[0] & 1) === 0;
    }, s.prototype.isOdd = function() {
      return (this.words[0] & 1) === 1;
    }, s.prototype.andln = function(o) {
      return this.words[0] & o;
    }, s.prototype.bincn = function(o) {
      i(typeof o == "number");
      var h = o % 26, c = (o - h) / 26, v = 1 << h;
      if (this.length <= c)
        return this._expand(c + 1), this.words[c] |= v, this;
      for (var y = v, M = c; y !== 0 && M < this.length; M++) {
        var E = this.words[M] | 0;
        E += y, y = E >>> 26, E &= 67108863, this.words[M] = E;
      }
      return y !== 0 && (this.words[M] = y, this.length++), this;
    }, s.prototype.isZero = function() {
      return this.length === 1 && this.words[0] === 0;
    }, s.prototype.cmpn = function(o) {
      var h = o < 0;
      if (this.negative !== 0 && !h)
        return -1;
      if (this.negative === 0 && h)
        return 1;
      this._strip();
      var c;
      if (this.length > 1)
        c = 1;
      else {
        h && (o = -o), i(o <= 67108863, "Number is too big");
        var v = this.words[0] | 0;
        c = v === o ? 0 : v < o ? -1 : 1;
      }
      return this.negative !== 0 ? -c | 0 : c;
    }, s.prototype.cmp = function(o) {
      if (this.negative !== 0 && o.negative === 0)
        return -1;
      if (this.negative === 0 && o.negative !== 0)
        return 1;
      var h = this.ucmp(o);
      return this.negative !== 0 ? -h | 0 : h;
    }, s.prototype.ucmp = function(o) {
      if (this.length > o.length)
        return 1;
      if (this.length < o.length)
        return -1;
      for (var h = 0, c = this.length - 1; c >= 0; c--) {
        var v = this.words[c] | 0, y = o.words[c] | 0;
        if (v !== y) {
          v < y ? h = -1 : v > y && (h = 1);
          break;
        }
      }
      return h;
    }, s.prototype.gtn = function(o) {
      return this.cmpn(o) === 1;
    }, s.prototype.gt = function(o) {
      return this.cmp(o) === 1;
    }, s.prototype.gten = function(o) {
      return this.cmpn(o) >= 0;
    }, s.prototype.gte = function(o) {
      return this.cmp(o) >= 0;
    }, s.prototype.ltn = function(o) {
      return this.cmpn(o) === -1;
    }, s.prototype.lt = function(o) {
      return this.cmp(o) === -1;
    }, s.prototype.lten = function(o) {
      return this.cmpn(o) <= 0;
    }, s.prototype.lte = function(o) {
      return this.cmp(o) <= 0;
    }, s.prototype.eqn = function(o) {
      return this.cmpn(o) === 0;
    }, s.prototype.eq = function(o) {
      return this.cmp(o) === 0;
    }, s.red = function(o) {
      return new L(o);
    }, s.prototype.toRed = function(o) {
      return i(!this.red, "Already a number in reduction context"), i(this.negative === 0, "red works only with positives"), o.convertTo(this)._forceRed(o);
    }, s.prototype.fromRed = function() {
      return i(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this);
    }, s.prototype._forceRed = function(o) {
      return this.red = o, this;
    }, s.prototype.forceRed = function(o) {
      return i(!this.red, "Already a number in reduction context"), this._forceRed(o);
    }, s.prototype.redAdd = function(o) {
      return i(this.red, "redAdd works only with red numbers"), this.red.add(this, o);
    }, s.prototype.redIAdd = function(o) {
      return i(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, o);
    }, s.prototype.redSub = function(o) {
      return i(this.red, "redSub works only with red numbers"), this.red.sub(this, o);
    }, s.prototype.redISub = function(o) {
      return i(this.red, "redISub works only with red numbers"), this.red.isub(this, o);
    }, s.prototype.redShl = function(o) {
      return i(this.red, "redShl works only with red numbers"), this.red.shl(this, o);
    }, s.prototype.redMul = function(o) {
      return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, o), this.red.mul(this, o);
    }, s.prototype.redIMul = function(o) {
      return i(this.red, "redMul works only with red numbers"), this.red._verify2(this, o), this.red.imul(this, o);
    }, s.prototype.redSqr = function() {
      return i(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this);
    }, s.prototype.redISqr = function() {
      return i(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this);
    }, s.prototype.redSqrt = function() {
      return i(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this);
    }, s.prototype.redInvm = function() {
      return i(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this);
    }, s.prototype.redNeg = function() {
      return i(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this);
    }, s.prototype.redPow = function(o) {
      return i(this.red && !o.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, o);
    };
    var j = { k256: null, p224: null, p192: null, p25519: null };
    function K(o, h) {
      this.name = o, this.p = new s(h, 16), this.n = this.p.bitLength(), this.k = new s(1).iushln(this.n).isub(this.p), this.tmp = this._tmp();
    }
    K.prototype._tmp = function() {
      var o = new s(null);
      return o.words = new Array(Math.ceil(this.n / 13)), o;
    }, K.prototype.ireduce = function(o) {
      var h = o, c;
      do
        this.split(h, this.tmp), h = this.imulK(h), h = h.iadd(this.tmp), c = h.bitLength();
      while (c > this.n);
      var v = c < this.n ? -1 : h.ucmp(this.p);
      return v === 0 ? (h.words[0] = 0, h.length = 1) : v > 0 ? h.isub(this.p) : h.strip !== void 0 ? h.strip() : h._strip(), h;
    }, K.prototype.split = function(o, h) {
      o.iushrn(this.n, 0, h);
    }, K.prototype.imulK = function(o) {
      return o.imul(this.k);
    };
    function N() {
      K.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f");
    }
    n(N, K), N.prototype.split = function(o, h) {
      for (var c = 4194303, v = Math.min(o.length, 9), y = 0; y < v; y++)
        h.words[y] = o.words[y];
      if (h.length = v, o.length <= 9) {
        o.words[0] = 0, o.length = 1;
        return;
      }
      var M = o.words[9];
      for (h.words[h.length++] = M & c, y = 10; y < o.length; y++) {
        var E = o.words[y] | 0;
        o.words[y - 10] = (E & c) << 4 | M >>> 22, M = E;
      }
      M >>>= 22, o.words[y - 10] = M, M === 0 && o.length > 10 ? o.length -= 10 : o.length -= 9;
    }, N.prototype.imulK = function(o) {
      o.words[o.length] = 0, o.words[o.length + 1] = 0, o.length += 2;
      for (var h = 0, c = 0; c < o.length; c++) {
        var v = o.words[c] | 0;
        h += v * 977, o.words[c] = h & 67108863, h = v * 64 + (h / 67108864 | 0);
      }
      return o.words[o.length - 1] === 0 && (o.length--, o.words[o.length - 1] === 0 && o.length--), o;
    };
    function H() {
      K.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001");
    }
    n(H, K);
    function st() {
      K.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff");
    }
    n(st, K);
    function ct() {
      K.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed");
    }
    n(ct, K), ct.prototype.imulK = function(o) {
      for (var h = 0, c = 0; c < o.length; c++) {
        var v = (o.words[c] | 0) * 19 + h, y = v & 67108863;
        v >>>= 26, o.words[c] = y, h = v;
      }
      return h !== 0 && (o.words[o.length++] = h), o;
    }, s._prime = function(o) {
      if (j[o])
        return j[o];
      var h;
      if (o === "k256")
        h = new N();
      else if (o === "p224")
        h = new H();
      else if (o === "p192")
        h = new st();
      else if (o === "p25519")
        h = new ct();
      else
        throw new Error("Unknown prime " + o);
      return j[o] = h, h;
    };
    function L(o) {
      if (typeof o == "string") {
        var h = s._prime(o);
        this.m = h.p, this.prime = h;
      } else
        i(o.gtn(1), "modulus must be greater than 1"), this.m = o, this.prime = null;
    }
    L.prototype._verify1 = function(o) {
      i(o.negative === 0, "red works only with positives"), i(o.red, "red works only with red numbers");
    }, L.prototype._verify2 = function(o, h) {
      i((o.negative | h.negative) === 0, "red works only with positives"), i(o.red && o.red === h.red, "red works only with red numbers");
    }, L.prototype.imod = function(o) {
      return this.prime ? this.prime.ireduce(o)._forceRed(this) : (w(o, o.umod(this.m)._forceRed(this)), o);
    }, L.prototype.neg = function(o) {
      return o.isZero() ? o.clone() : this.m.sub(o)._forceRed(this);
    }, L.prototype.add = function(o, h) {
      this._verify2(o, h);
      var c = o.add(h);
      return c.cmp(this.m) >= 0 && c.isub(this.m), c._forceRed(this);
    }, L.prototype.iadd = function(o, h) {
      this._verify2(o, h);
      var c = o.iadd(h);
      return c.cmp(this.m) >= 0 && c.isub(this.m), c;
    }, L.prototype.sub = function(o, h) {
      this._verify2(o, h);
      var c = o.sub(h);
      return c.cmpn(0) < 0 && c.iadd(this.m), c._forceRed(this);
    }, L.prototype.isub = function(o, h) {
      this._verify2(o, h);
      var c = o.isub(h);
      return c.cmpn(0) < 0 && c.iadd(this.m), c;
    }, L.prototype.shl = function(o, h) {
      return this._verify1(o), this.imod(o.ushln(h));
    }, L.prototype.imul = function(o, h) {
      return this._verify2(o, h), this.imod(o.imul(h));
    }, L.prototype.mul = function(o, h) {
      return this._verify2(o, h), this.imod(o.mul(h));
    }, L.prototype.isqr = function(o) {
      return this.imul(o, o.clone());
    }, L.prototype.sqr = function(o) {
      return this.mul(o, o);
    }, L.prototype.sqrt = function(o) {
      if (o.isZero())
        return o.clone();
      var h = this.m.andln(3);
      if (i(h % 2 === 1), h === 3) {
        var c = this.m.add(new s(1)).iushrn(2);
        return this.pow(o, c);
      }
      for (var v = this.m.subn(1), y = 0; !v.isZero() && v.andln(1) === 0; )
        y++, v.iushrn(1);
      i(!v.isZero());
      var M = new s(1).toRed(this), E = M.redNeg(), d = this.m.subn(1).iushrn(1), f = this.m.bitLength();
      for (f = new s(2 * f * f).toRed(this); this.pow(f, d).cmp(E) !== 0; )
        f.redIAdd(E);
      for (var _ = this.pow(f, v), Y = this.pow(o, v.addn(1).iushrn(1)), X = this.pow(o, v), g = y; X.cmp(M) !== 0; ) {
        for (var F = X, O = 0; F.cmp(M) !== 0; O++)
          F = F.redSqr();
        i(O < g);
        var B = this.pow(_, new s(1).iushln(g - O - 1));
        Y = Y.redMul(B), _ = B.redSqr(), X = X.redMul(_), g = O;
      }
      return Y;
    }, L.prototype.invm = function(o) {
      var h = o._invmp(this.m);
      return h.negative !== 0 ? (h.negative = 0, this.imod(h).redNeg()) : this.imod(h);
    }, L.prototype.pow = function(o, h) {
      if (h.isZero())
        return new s(1).toRed(this);
      if (h.cmpn(1) === 0)
        return o.clone();
      var c = 4, v = new Array(1 << c);
      v[0] = new s(1).toRed(this), v[1] = o;
      for (var y = 2; y < v.length; y++)
        v[y] = this.mul(v[y - 1], o);
      var M = v[0], E = 0, d = 0, f = h.bitLength() % 26;
      for (f === 0 && (f = 26), y = h.length - 1; y >= 0; y--) {
        for (var _ = h.words[y], Y = f - 1; Y >= 0; Y--) {
          var X = _ >> Y & 1;
          if (M !== v[0] && (M = this.sqr(M)), X === 0 && E === 0) {
            d = 0;
            continue;
          }
          E <<= 1, E |= X, d++, !(d !== c && (y !== 0 || Y !== 0)) && (M = this.mul(M, v[E]), d = 0, E = 0);
        }
        f = 26;
      }
      return M;
    }, L.prototype.convertTo = function(o) {
      var h = o.umod(this.m);
      return h === o ? h.clone() : h;
    }, L.prototype.convertFrom = function(o) {
      var h = o.clone();
      return h.red = null, h;
    }, s.mont = function(o) {
      return new I(o);
    };
    function I(o) {
      L.call(this, o), this.shift = this.m.bitLength(), this.shift % 26 !== 0 && (this.shift += 26 - this.shift % 26), this.r = new s(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv);
    }
    n(I, L), I.prototype.convertTo = function(o) {
      return this.imod(o.ushln(this.shift));
    }, I.prototype.convertFrom = function(o) {
      var h = this.imod(o.mul(this.rinv));
      return h.red = null, h;
    }, I.prototype.imul = function(o, h) {
      if (o.isZero() || h.isZero())
        return o.words[0] = 0, o.length = 1, o;
      var c = o.imul(h), v = c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), y = c.isub(v).iushrn(this.shift), M = y;
      return y.cmp(this.m) >= 0 ? M = y.isub(this.m) : y.cmpn(0) < 0 && (M = y.iadd(this.m)), M._forceRed(this);
    }, I.prototype.mul = function(o, h) {
      if (o.isZero() || h.isZero())
        return new s(0)._forceRed(this);
      var c = o.mul(h), v = c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), y = c.isub(v).iushrn(this.shift), M = y;
      return y.cmp(this.m) >= 0 ? M = y.isub(this.m) : y.cmpn(0) < 0 && (M = y.iadd(this.m)), M._forceRed(this);
    }, I.prototype.invm = function(o) {
      var h = this.imod(o._invmp(this.m).mul(this.r2));
      return h._forceRed(this);
    };
  })(e, Hy);
})(Qy);
var Me = Qy.exports;
const Jy = "bignumber/5.7.0";
var L0 = Me.BN;
const Ao = new ii(Jy), D1 = {}, Wv = 9007199254740991;
function fL(e) {
  return e != null && (sr.isBigNumber(e) || typeof e == "number" && e % 1 === 0 || typeof e == "string" && !!e.match(/^-?[0-9]+$/) || tn(e) || typeof e == "bigint" || ff(e));
}
let Xv = !1;
class sr {
  constructor(t, r) {
    t !== D1 && Ao.throwError("cannot call constructor directly; use BigNumber.from", ii.errors.UNSUPPORTED_OPERATION, { operation: "new (BigNumber)" }), this._hex = r, this._isBigNumber = !0, Object.freeze(this);
  }
  fromTwos(t) {
    return Ti(Be(this).fromTwos(t));
  }
  toTwos(t) {
    return Ti(Be(this).toTwos(t));
  }
  abs() {
    return this._hex[0] === "-" ? sr.from(this._hex.substring(1)) : this;
  }
  add(t) {
    return Ti(Be(this).add(Be(t)));
  }
  sub(t) {
    return Ti(Be(this).sub(Be(t)));
  }
  div(t) {
    return sr.from(t).isZero() && wn("division-by-zero", "div"), Ti(Be(this).div(Be(t)));
  }
  mul(t) {
    return Ti(Be(this).mul(Be(t)));
  }
  mod(t) {
    const r = Be(t);
    return r.isNeg() && wn("division-by-zero", "mod"), Ti(Be(this).umod(r));
  }
  pow(t) {
    const r = Be(t);
    return r.isNeg() && wn("negative-power", "pow"), Ti(Be(this).pow(r));
  }
  and(t) {
    const r = Be(t);
    return (this.isNegative() || r.isNeg()) && wn("unbound-bitwise-result", "and"), Ti(Be(this).and(r));
  }
  or(t) {
    const r = Be(t);
    return (this.isNegative() || r.isNeg()) && wn("unbound-bitwise-result", "or"), Ti(Be(this).or(r));
  }
  xor(t) {
    const r = Be(t);
    return (this.isNegative() || r.isNeg()) && wn("unbound-bitwise-result", "xor"), Ti(Be(this).xor(r));
  }
  mask(t) {
    return (this.isNegative() || t < 0) && wn("negative-width", "mask"), Ti(Be(this).maskn(t));
  }
  shl(t) {
    return (this.isNegative() || t < 0) && wn("negative-width", "shl"), Ti(Be(this).shln(t));
  }
  shr(t) {
    return (this.isNegative() || t < 0) && wn("negative-width", "shr"), Ti(Be(this).shrn(t));
  }
  eq(t) {
    return Be(this).eq(Be(t));
  }
  lt(t) {
    return Be(this).lt(Be(t));
  }
  lte(t) {
    return Be(this).lte(Be(t));
  }
  gt(t) {
    return Be(this).gt(Be(t));
  }
  gte(t) {
    return Be(this).gte(Be(t));
  }
  isNegative() {
    return this._hex[0] === "-";
  }
  isZero() {
    return Be(this).isZero();
  }
  toNumber() {
    try {
      return Be(this).toNumber();
    } catch {
      wn("overflow", "toNumber", this.toString());
    }
    return null;
  }
  toBigInt() {
    try {
      return BigInt(this.toString());
    } catch {
    }
    return Ao.throwError("this platform does not support BigInt", ii.errors.UNSUPPORTED_OPERATION, { value: this.toString() });
  }
  toString() {
    return arguments.length > 0 && (arguments[0] === 10 ? Xv || (Xv = !0, Ao.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")) : arguments[0] === 16 ? Ao.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()", ii.errors.UNEXPECTED_ARGUMENT, {}) : Ao.throwError("BigNumber.toString does not accept parameters", ii.errors.UNEXPECTED_ARGUMENT, {})), Be(this).toString(10);
  }
  toHexString() {
    return this._hex;
  }
  toJSON(t) {
    return { type: "BigNumber", hex: this.toHexString() };
  }
  static from(t) {
    if (t instanceof sr)
      return t;
    if (typeof t == "string")
      return t.match(/^-?0x[0-9a-f]+$/i) ? new sr(D1, mu(t)) : t.match(/^-?[0-9]+$/) ? new sr(D1, mu(new L0(t))) : Ao.throwArgumentError("invalid BigNumber string", "value", t);
    if (typeof t == "number")
      return t % 1 && wn("underflow", "BigNumber.from", t), (t >= Wv || t <= -Wv) && wn("overflow", "BigNumber.from", t), sr.from(String(t));
    const r = t;
    if (typeof r == "bigint")
      return sr.from(r.toString());
    if (ff(r))
      return sr.from(Ui(r));
    if (r)
      if (r.toHexString) {
        const i = r.toHexString();
        if (typeof i == "string")
          return sr.from(i);
      } else {
        let i = r._hex;
        if (i == null && r.type === "BigNumber" && (i = r.hex), typeof i == "string" && (tn(i) || i[0] === "-" && tn(i.substring(1))))
          return sr.from(i);
      }
    return Ao.throwArgumentError("invalid BigNumber value", "value", t);
  }
  static isBigNumber(t) {
    return !!(t && t._isBigNumber);
  }
}
function mu(e) {
  if (typeof e != "string")
    return mu(e.toString(16));
  if (e[0] === "-")
    return e = e.substring(1), e[0] === "-" && Ao.throwArgumentError("invalid hex", "value", e), e = mu(e), e === "0x00" ? e : "-" + e;
  if (e.substring(0, 2) !== "0x" && (e = "0x" + e), e === "0x")
    return "0x00";
  for (e.length % 2 && (e = "0x0" + e.substring(2)); e.length > 4 && e.substring(0, 4) === "0x00"; )
    e = "0x" + e.substring(4);
  return e;
}
function Ti(e) {
  return sr.from(mu(e));
}
function Be(e) {
  const t = sr.from(e).toHexString();
  return t[0] === "-" ? new L0("-" + t.substring(3), 16) : new L0(t.substring(2), 16);
}
function wn(e, t, r) {
  const i = { fault: e, operation: t };
  return r != null && (i.value = r), Ao.throwError(e, ii.errors.NUMERIC_FAULT, i);
}
function uL(e) {
  return new L0(e, 36).toString(16);
}
const Ei = new ii(Jy), ou = {}, Yy = sr.from(0), Vy = sr.from(-1);
function Wy(e, t, r, i) {
  const n = { fault: t, operation: r };
  return i !== void 0 && (n.value = i), Ei.throwError(e, ii.errors.NUMERIC_FAULT, n);
}
let au = "0";
for (; au.length < 256; )
  au += au;
function A2(e) {
  if (typeof e != "number")
    try {
      e = sr.from(e).toNumber();
    } catch {
    }
  return typeof e == "number" && e >= 0 && e <= 256 && !(e % 1) ? "1" + au.substring(0, e) : Ei.throwArgumentError("invalid decimal size", "decimals", e);
}
function C1(e, t) {
  t == null && (t = 0);
  const r = A2(t);
  e = sr.from(e);
  const i = e.lt(Yy);
  i && (e = e.mul(Vy));
  let n = e.mod(r).toString();
  for (; n.length < r.length - 1; )
    n = "0" + n;
  n = n.match(/^([0-9]*[1-9]|0)(0*)/)[1];
  const s = e.div(r).toString();
  return r.length === 1 ? e = s : e = s + "." + n, i && (e = "-" + e), e;
}
function vo(e, t) {
  t == null && (t = 0);
  const r = A2(t);
  (typeof e != "string" || !e.match(/^-?[0-9.]+$/)) && Ei.throwArgumentError("invalid decimal value", "value", e);
  const i = e.substring(0, 1) === "-";
  i && (e = e.substring(1)), e === "." && Ei.throwArgumentError("missing value", "value", e);
  const n = e.split(".");
  n.length > 2 && Ei.throwArgumentError("too many decimal points", "value", e);
  let s = n[0], u = n[1];
  for (s || (s = "0"), u || (u = "0"); u[u.length - 1] === "0"; )
    u = u.substring(0, u.length - 1);
  for (u.length > r.length - 1 && Wy("fractional component exceeds decimals", "underflow", "parseFixed"), u === "" && (u = "0"); u.length < r.length - 1; )
    u += "0";
  const p = sr.from(s), b = sr.from(u);
  let m = p.mul(r).add(b);
  return i && (m = m.mul(Vy)), m;
}
let N1 = class Fp {
  constructor(t, r, i, n) {
    t !== ou && Ei.throwError("cannot use FixedFormat constructor; use FixedFormat.from", ii.errors.UNSUPPORTED_OPERATION, { operation: "new FixedFormat" }), this.signed = r, this.width = i, this.decimals = n, this.name = (r ? "" : "u") + "fixed" + String(i) + "x" + String(n), this._multiplier = A2(n), Object.freeze(this);
  }
  static from(t) {
    if (t instanceof Fp)
      return t;
    typeof t == "number" && (t = `fixed128x${t}`);
    let r = !0, i = 128, n = 18;
    if (typeof t == "string") {
      if (t !== "fixed")
        if (t === "ufixed")
          r = !1;
        else {
          const s = t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);
          s || Ei.throwArgumentError("invalid fixed format", "format", t), r = s[1] !== "u", i = parseInt(s[2]), n = parseInt(s[3]);
        }
    } else if (t) {
      const s = (u, p, b) => t[u] == null ? b : (typeof t[u] !== p && Ei.throwArgumentError("invalid fixed format (" + u + " not " + p + ")", "format." + u, t[u]), t[u]);
      r = s("signed", "boolean", r), i = s("width", "number", i), n = s("decimals", "number", n);
    }
    return i % 8 && Ei.throwArgumentError("invalid fixed format width (not byte aligned)", "format.width", i), n > 80 && Ei.throwArgumentError("invalid fixed format (decimals too large)", "format.decimals", n), new Fp(ou, r, i, n);
  }
};
class ri {
  constructor(t, r, i, n) {
    t !== ou && Ei.throwError("cannot use FixedNumber constructor; use FixedNumber.from", ii.errors.UNSUPPORTED_OPERATION, { operation: "new FixedFormat" }), this.format = n, this._hex = r, this._value = i, this._isFixedNumber = !0, Object.freeze(this);
  }
  _checkFormat(t) {
    this.format.name !== t.format.name && Ei.throwArgumentError("incompatible format; use fixedNumber.toFormat", "other", t);
  }
  addUnsafe(t) {
    this._checkFormat(t);
    const r = vo(this._value, this.format.decimals), i = vo(t._value, t.format.decimals);
    return ri.fromValue(r.add(i), this.format.decimals, this.format);
  }
  subUnsafe(t) {
    this._checkFormat(t);
    const r = vo(this._value, this.format.decimals), i = vo(t._value, t.format.decimals);
    return ri.fromValue(r.sub(i), this.format.decimals, this.format);
  }
  mulUnsafe(t) {
    this._checkFormat(t);
    const r = vo(this._value, this.format.decimals), i = vo(t._value, t.format.decimals);
    return ri.fromValue(r.mul(i).div(this.format._multiplier), this.format.decimals, this.format);
  }
  divUnsafe(t) {
    this._checkFormat(t);
    const r = vo(this._value, this.format.decimals), i = vo(t._value, t.format.decimals);
    return ri.fromValue(r.mul(this.format._multiplier).div(i), this.format.decimals, this.format);
  }
  floor() {
    const t = this.toString().split(".");
    t.length === 1 && t.push("0");
    let r = ri.from(t[0], this.format);
    const i = !t[1].match(/^(0*)$/);
    return this.isNegative() && i && (r = r.subUnsafe(Zv.toFormat(r.format))), r;
  }
  ceiling() {
    const t = this.toString().split(".");
    t.length === 1 && t.push("0");
    let r = ri.from(t[0], this.format);
    const i = !t[1].match(/^(0*)$/);
    return !this.isNegative() && i && (r = r.addUnsafe(Zv.toFormat(r.format))), r;
  }
  round(t) {
    t == null && (t = 0);
    const r = this.toString().split(".");
    if (r.length === 1 && r.push("0"), (t < 0 || t > 80 || t % 1) && Ei.throwArgumentError("invalid decimal count", "decimals", t), r[1].length <= t)
      return this;
    const i = ri.from("1" + au.substring(0, t), this.format), n = cL.toFormat(this.format);
    return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i);
  }
  isZero() {
    return this._value === "0.0" || this._value === "0";
  }
  isNegative() {
    return this._value[0] === "-";
  }
  toString() {
    return this._value;
  }
  toHexString(t) {
    if (t == null)
      return this._hex;
    t % 8 && Ei.throwArgumentError("invalid byte width", "width", t);
    const r = sr.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();
    return $s(r, t / 8);
  }
  toUnsafeFloat() {
    return parseFloat(this.toString());
  }
  toFormat(t) {
    return ri.fromString(this._value, t);
  }
  static fromValue(t, r, i) {
    return i == null && r != null && !fL(r) && (i = r, r = null), r == null && (r = 0), i == null && (i = "fixed"), ri.fromString(C1(t, r), N1.from(i));
  }
  static fromString(t, r) {
    r == null && (r = "fixed");
    const i = N1.from(r), n = vo(t, i.decimals);
    !i.signed && n.lt(Yy) && Wy("unsigned value cannot be negative", "overflow", "value", t);
    let s = null;
    i.signed ? s = n.toTwos(i.width).toHexString() : (s = n.toHexString(), s = $s(s, i.width / 8));
    const u = C1(n, i.decimals);
    return new ri(ou, s, u, i);
  }
  static fromBytes(t, r) {
    r == null && (r = "fixed");
    const i = N1.from(r);
    if (mr(t).length > i.width / 8)
      throw new Error("overflow");
    let n = sr.from(t);
    i.signed && (n = n.fromTwos(i.width));
    const s = n.toTwos((i.signed ? 0 : 1) + i.width).toHexString(), u = C1(n, i.decimals);
    return new ri(ou, s, u, i);
  }
  static from(t, r) {
    if (typeof t == "string")
      return ri.fromString(t, r);
    if (ff(t))
      return ri.fromBytes(t, r);
    try {
      return ri.fromValue(t, 0, r);
    } catch (i) {
      if (i.code !== ii.errors.INVALID_ARGUMENT)
        throw i;
    }
    return Ei.throwArgumentError("invalid FixedNumber value", "value", t);
  }
  static isFixedNumber(t) {
    return !!(t && t._isFixedNumber);
  }
}
const Zv = ri.from(1), cL = ri.from("0.5"), lL = "strings/5.7.0", dL = new ii(lL);
var k0;
(function(e) {
  e.current = "", e.NFC = "NFC", e.NFD = "NFD", e.NFKC = "NFKC", e.NFKD = "NFKD";
})(k0 || (k0 = {}));
var t6;
(function(e) {
  e.UNEXPECTED_CONTINUE = "unexpected continuation byte", e.BAD_PREFIX = "bad codepoint prefix", e.OVERRUN = "string overrun", e.MISSING_CONTINUE = "missing continuation byte", e.OUT_OF_RANGE = "out of UTF-8 range", e.UTF16_SURROGATE = "UTF-16 surrogate", e.OVERLONG = "overlong representation";
})(t6 || (t6 = {}));
function P1(e, t = k0.current) {
  t != k0.current && (dL.checkNormalize(), e = e.normalize(t));
  let r = [];
  for (let i = 0; i < e.length; i++) {
    const n = e.charCodeAt(i);
    if (n < 128)
      r.push(n);
    else if (n < 2048)
      r.push(n >> 6 | 192), r.push(n & 63 | 128);
    else if ((n & 64512) == 55296) {
      i++;
      const s = e.charCodeAt(i);
      if (i >= e.length || (s & 64512) !== 56320)
        throw new Error("invalid utf-8 string");
      const u = 65536 + ((n & 1023) << 10) + (s & 1023);
      r.push(u >> 18 | 240), r.push(u >> 12 & 63 | 128), r.push(u >> 6 & 63 | 128), r.push(u & 63 | 128);
    } else
      r.push(n >> 12 | 224), r.push(n >> 6 & 63 | 128), r.push(n & 63 | 128);
  }
  return mr(r);
}
function pL(e) {
  if (e.length % 4 !== 0)
    throw new Error("bad data");
  let t = [];
  for (let r = 0; r < e.length; r += 4)
    t.push(parseInt(e.substring(r, r + 4), 16));
  return t;
}
function R1(e, t) {
  t || (t = function(n) {
    return [parseInt(n, 16)];
  });
  let r = 0, i = {};
  return e.split(",").forEach((n) => {
    let s = n.split(":");
    r += parseInt(s[0], 16), i[r] = t(s[1]);
  }), i;
}
function e6(e) {
  let t = 0;
  return e.split(",").map((r) => {
    let i = r.split("-");
    i.length === 1 ? i[1] = "0" : i[1] === "" && (i[1] = "1");
    let n = t + parseInt(i[0], 16);
    return t = parseInt(i[1], 16), { l: n, h: t };
  });
}
e6("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"), "ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e) => parseInt(e, 16)), R1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"), R1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"), R1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D", pL), e6("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");
function gL(e) {
  e = atob(e);
  const t = [];
  for (let r = 0; r < e.length; r++)
    t.push(e.charCodeAt(r));
  return mr(t);
}
function Xy(e, t) {
  t == null && (t = 1);
  const r = [], i = r.forEach, n = function(s, u) {
    i.call(s, function(p) {
      u > 0 && Array.isArray(p) ? n(p, u - 1) : r.push(p);
    });
  };
  return n(e, t), r;
}
function mL(e) {
  const t = {};
  for (let r = 0; r < e.length; r++) {
    const i = e[r];
    t[i[0]] = i[1];
  }
  return t;
}
function vL(e) {
  let t = 0;
  function r() {
    return e[t++] << 8 | e[t++];
  }
  let i = r(), n = 1, s = [0, 1];
  for (let j = 1; j < i; j++)
    s.push(n += r());
  let u = r(), p = t;
  t += u;
  let b = 0, m = 0;
  function w() {
    return b == 0 && (m = m << 8 | e[t++], b = 8), m >> --b & 1;
  }
  const S = 31, C = Math.pow(2, S), D = C >>> 1, P = D >> 1, k = C - 1;
  let z = 0;
  for (let j = 0; j < S; j++)
    z = z << 1 | w();
  let V = [], Q = 0, W = C;
  for (; ; ) {
    let j = Math.floor(((z - Q + 1) * n - 1) / W), K = 0, N = i;
    for (; N - K > 1; ) {
      let ct = K + N >>> 1;
      j < s[ct] ? N = ct : K = ct;
    }
    if (K == 0)
      break;
    V.push(K);
    let H = Q + Math.floor(W * s[K] / n), st = Q + Math.floor(W * s[K + 1] / n) - 1;
    for (; !((H ^ st) & D); )
      z = z << 1 & k | w(), H = H << 1 & k, st = st << 1 & k | 1;
    for (; H & ~st & P; )
      z = z & D | z << 1 & k >>> 1 | w(), H = H << 1 ^ D, st = (st ^ D) << 1 | D | 1;
    Q = H, W = 1 + st - H;
  }
  let $ = i - 4;
  return V.map((j) => {
    switch (j - $) {
      case 3:
        return $ + 65792 + (e[p++] << 16 | e[p++] << 8 | e[p++]);
      case 2:
        return $ + 256 + (e[p++] << 8 | e[p++]);
      case 1:
        return $ + e[p++];
      default:
        return j - 1;
    }
  });
}
function bL(e) {
  let t = 0;
  return () => e[t++];
}
function yL(e) {
  return bL(vL(e));
}
function wL(e) {
  return e & 1 ? ~e >> 1 : e >> 1;
}
function AL(e, t) {
  let r = Array(e);
  for (let i = 0; i < e; i++)
    r[i] = 1 + t();
  return r;
}
function r6(e, t) {
  let r = Array(e);
  for (let i = 0, n = -1; i < e; i++)
    r[i] = n += 1 + t();
  return r;
}
function _L(e, t) {
  let r = Array(e);
  for (let i = 0, n = 0; i < e; i++)
    r[i] = n += wL(t());
  return r;
}
function z0(e, t) {
  let r = r6(e(), e), i = e(), n = r6(i, e), s = AL(i, e);
  for (let u = 0; u < i; u++)
    for (let p = 0; p < s[u]; p++)
      r.push(n[u] + p);
  return t ? r.map((u) => t[u]) : r;
}
function EL(e) {
  let t = [];
  for (; ; ) {
    let r = e();
    if (r == 0)
      break;
    t.push(SL(r, e));
  }
  for (; ; ) {
    let r = e() - 1;
    if (r < 0)
      break;
    t.push(xL(r, e));
  }
  return mL(Xy(t));
}
function ML(e) {
  let t = [];
  for (; ; ) {
    let r = e();
    if (r == 0)
      break;
    t.push(r);
  }
  return t;
}
function Zy(e, t, r) {
  let i = Array(e).fill(void 0).map(() => []);
  for (let n = 0; n < t; n++)
    _L(e, r).forEach((s, u) => i[u].push(s));
  return i;
}
function SL(e, t) {
  let r = 1 + t(), i = t(), n = ML(t), s = Zy(n.length, 1 + e, t);
  return Xy(s.map((u, p) => {
    const b = u[0], m = u.slice(1);
    return Array(n[p]).fill(void 0).map((w, S) => {
      let C = S * i;
      return [b + S * r, m.map((D) => D + C)];
    });
  }));
}
function xL(e, t) {
  let r = 1 + t();
  return Zy(r, 1 + e, t).map((i) => [i[0], i.slice(1)]);
}
function IL(e) {
  let t = z0(e).sort((i, n) => i - n);
  return r();
  function r() {
    let i = [];
    for (; ; ) {
      let m = z0(e, t);
      if (m.length == 0)
        break;
      i.push({ set: new Set(m), node: r() });
    }
    i.sort((m, w) => w.set.size - m.set.size);
    let n = e(), s = n % 3;
    n = n / 3 | 0;
    let u = !!(n & 1);
    n >>= 1;
    let p = n == 1, b = n == 2;
    return { branches: i, valid: s, fe0f: u, save: p, check: b };
  }
}
function DL() {
  return yL(gL("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="));
}
const Xc = DL();
new Set(z0(Xc)), new Set(z0(Xc)), EL(Xc), IL(Xc);
const CL = new Uint8Array(32);
CL.fill(0);
const NL = `Ethereum Signed Message:
`;
function t5(e) {
  return typeof e == "string" && (e = P1(e)), w2(iL([P1(NL), P1(String(e.length)), e]));
}
const PL = "address/5.7.0", Zf = new ii(PL);
function i6(e) {
  tn(e, 20) || Zf.throwArgumentError("invalid address", "address", e), e = e.toLowerCase();
  const t = e.substring(2).split(""), r = new Uint8Array(40);
  for (let n = 0; n < 40; n++)
    r[n] = t[n].charCodeAt(0);
  const i = mr(w2(r));
  for (let n = 0; n < 40; n += 2)
    i[n >> 1] >> 4 >= 8 && (t[n] = t[n].toUpperCase()), (i[n >> 1] & 15) >= 8 && (t[n + 1] = t[n + 1].toUpperCase());
  return "0x" + t.join("");
}
const RL = 9007199254740991;
function OL(e) {
  return Math.log10 ? Math.log10(e) : Math.log(e) / Math.LN10;
}
const _2 = {};
for (let e = 0; e < 10; e++)
  _2[String(e)] = String(e);
for (let e = 0; e < 26; e++)
  _2[String.fromCharCode(65 + e)] = String(10 + e);
const n6 = Math.floor(OL(RL));
function BL(e) {
  e = e.toUpperCase(), e = e.substring(4) + e.substring(0, 2) + "00";
  let t = e.split("").map((i) => _2[i]).join("");
  for (; t.length >= n6; ) {
    let i = t.substring(0, n6);
    t = parseInt(i, 10) % 97 + t.substring(i.length);
  }
  let r = String(98 - parseInt(t, 10) % 97);
  for (; r.length < 2; )
    r = "0" + r;
  return r;
}
function TL(e) {
  let t = null;
  if (typeof e != "string" && Zf.throwArgumentError("invalid address", "address", e), e.match(/^(0x)?[0-9a-fA-F]{40}$/))
    e.substring(0, 2) !== "0x" && (e = "0x" + e), t = i6(e), e.match(/([A-F].*[a-f])|([a-f].*[A-F])/) && t !== e && Zf.throwArgumentError("bad address checksum", "address", e);
  else if (e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {
    for (e.substring(2, 4) !== BL(e) && Zf.throwArgumentError("bad icap checksum", "address", e), t = uL(e.substring(4)); t.length < 40; )
      t = "0" + t;
    t = i6("0x" + t);
  } else
    Zf.throwArgumentError("invalid address", "address", e);
  return t;
}
function Kf(e, t, r) {
  Object.defineProperty(e, t, { enumerable: !0, value: r, writable: !1 });
}
const FL = new Uint8Array(32);
FL.fill(0), sr.from(-1);
const UL = sr.from(0), qL = sr.from(1);
sr.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"), $s(qL.toHexString(), 32), $s(UL.toHexString(), 32);
var Ms = {}, qe = {}, Tu = e5;
function e5(e, t) {
  if (!e)
    throw new Error(t || "Assertion failed");
}
e5.equal = function(e, t, r) {
  if (e != t)
    throw new Error(r || "Assertion failed: " + e + " != " + t);
};
var Up = { exports: {} };
typeof Object.create == "function" ? Up.exports = function(e, t) {
  t && (e.super_ = t, e.prototype = Object.create(t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }));
} : Up.exports = function(e, t) {
  if (t) {
    e.super_ = t;
    var r = function() {
    };
    r.prototype = t.prototype, e.prototype = new r(), e.prototype.constructor = e;
  }
};
var LL = Tu, kL = Up.exports;
qe.inherits = kL;
function zL(e, t) {
  return (e.charCodeAt(t) & 64512) !== 55296 || t < 0 || t + 1 >= e.length ? !1 : (e.charCodeAt(t + 1) & 64512) === 56320;
}
function $L(e, t) {
  if (Array.isArray(e))
    return e.slice();
  if (!e)
    return [];
  var r = [];
  if (typeof e == "string")
    if (t) {
      if (t === "hex")
        for (e = e.replace(/[^a-z0-9]+/ig, ""), e.length % 2 !== 0 && (e = "0" + e), n = 0; n < e.length; n += 2)
          r.push(parseInt(e[n] + e[n + 1], 16));
    } else
      for (var i = 0, n = 0; n < e.length; n++) {
        var s = e.charCodeAt(n);
        s < 128 ? r[i++] = s : s < 2048 ? (r[i++] = s >> 6 | 192, r[i++] = s & 63 | 128) : zL(e, n) ? (s = 65536 + ((s & 1023) << 10) + (e.charCodeAt(++n) & 1023), r[i++] = s >> 18 | 240, r[i++] = s >> 12 & 63 | 128, r[i++] = s >> 6 & 63 | 128, r[i++] = s & 63 | 128) : (r[i++] = s >> 12 | 224, r[i++] = s >> 6 & 63 | 128, r[i++] = s & 63 | 128);
      }
  else
    for (n = 0; n < e.length; n++)
      r[n] = e[n] | 0;
  return r;
}
qe.toArray = $L;
function HL(e) {
  for (var t = "", r = 0; r < e.length; r++)
    t += i5(e[r].toString(16));
  return t;
}
qe.toHex = HL;
function r5(e) {
  var t = e >>> 24 | e >>> 8 & 65280 | e << 8 & 16711680 | (e & 255) << 24;
  return t >>> 0;
}
qe.htonl = r5;
function jL(e, t) {
  for (var r = "", i = 0; i < e.length; i++) {
    var n = e[i];
    t === "little" && (n = r5(n)), r += n5(n.toString(16));
  }
  return r;
}
qe.toHex32 = jL;
function i5(e) {
  return e.length === 1 ? "0" + e : e;
}
qe.zero2 = i5;
function n5(e) {
  return e.length === 7 ? "0" + e : e.length === 6 ? "00" + e : e.length === 5 ? "000" + e : e.length === 4 ? "0000" + e : e.length === 3 ? "00000" + e : e.length === 2 ? "000000" + e : e.length === 1 ? "0000000" + e : e;
}
qe.zero8 = n5;
function KL(e, t, r, i) {
  var n = r - t;
  LL(n % 4 === 0);
  for (var s = new Array(n / 4), u = 0, p = t; u < s.length; u++, p += 4) {
    var b;
    i === "big" ? b = e[p] << 24 | e[p + 1] << 16 | e[p + 2] << 8 | e[p + 3] : b = e[p + 3] << 24 | e[p + 2] << 16 | e[p + 1] << 8 | e[p], s[u] = b >>> 0;
  }
  return s;
}
qe.join32 = KL;
function GL(e, t) {
  for (var r = new Array(e.length * 4), i = 0, n = 0; i < e.length; i++, n += 4) {
    var s = e[i];
    t === "big" ? (r[n] = s >>> 24, r[n + 1] = s >>> 16 & 255, r[n + 2] = s >>> 8 & 255, r[n + 3] = s & 255) : (r[n + 3] = s >>> 24, r[n + 2] = s >>> 16 & 255, r[n + 1] = s >>> 8 & 255, r[n] = s & 255);
  }
  return r;
}
qe.split32 = GL;
function QL(e, t) {
  return e >>> t | e << 32 - t;
}
qe.rotr32 = QL;
function JL(e, t) {
  return e << t | e >>> 32 - t;
}
qe.rotl32 = JL;
function YL(e, t) {
  return e + t >>> 0;
}
qe.sum32 = YL;
function VL(e, t, r) {
  return e + t + r >>> 0;
}
qe.sum32_3 = VL;
function WL(e, t, r, i) {
  return e + t + r + i >>> 0;
}
qe.sum32_4 = WL;
function XL(e, t, r, i, n) {
  return e + t + r + i + n >>> 0;
}
qe.sum32_5 = XL;
function ZL(e, t, r, i) {
  var n = e[t], s = e[t + 1], u = i + s >>> 0, p = (u < i ? 1 : 0) + r + n;
  e[t] = p >>> 0, e[t + 1] = u;
}
qe.sum64 = ZL;
function tk(e, t, r, i) {
  var n = t + i >>> 0, s = (n < t ? 1 : 0) + e + r;
  return s >>> 0;
}
qe.sum64_hi = tk;
function ek(e, t, r, i) {
  var n = t + i;
  return n >>> 0;
}
qe.sum64_lo = ek;
function rk(e, t, r, i, n, s, u, p) {
  var b = 0, m = t;
  m = m + i >>> 0, b += m < t ? 1 : 0, m = m + s >>> 0, b += m < s ? 1 : 0, m = m + p >>> 0, b += m < p ? 1 : 0;
  var w = e + r + n + u + b;
  return w >>> 0;
}
qe.sum64_4_hi = rk;
function ik(e, t, r, i, n, s, u, p) {
  var b = t + i + s + p;
  return b >>> 0;
}
qe.sum64_4_lo = ik;
function nk(e, t, r, i, n, s, u, p, b, m) {
  var w = 0, S = t;
  S = S + i >>> 0, w += S < t ? 1 : 0, S = S + s >>> 0, w += S < s ? 1 : 0, S = S + p >>> 0, w += S < p ? 1 : 0, S = S + m >>> 0, w += S < m ? 1 : 0;
  var C = e + r + n + u + b + w;
  return C >>> 0;
}
qe.sum64_5_hi = nk;
function sk(e, t, r, i, n, s, u, p, b, m) {
  var w = t + i + s + p + m;
  return w >>> 0;
}
qe.sum64_5_lo = sk;
function ok(e, t, r) {
  var i = t << 32 - r | e >>> r;
  return i >>> 0;
}
qe.rotr64_hi = ok;
function ak(e, t, r) {
  var i = e << 32 - r | t >>> r;
  return i >>> 0;
}
qe.rotr64_lo = ak;
function hk(e, t, r) {
  return e >>> r;
}
qe.shr64_hi = hk;
function fk(e, t, r) {
  var i = e << 32 - r | t >>> r;
  return i >>> 0;
}
qe.shr64_lo = fk;
var uf = {}, s6 = qe, uk = Tu;
function Zc() {
  this.pending = null, this.pendingTotal = 0, this.blockSize = this.constructor.blockSize, this.outSize = this.constructor.outSize, this.hmacStrength = this.constructor.hmacStrength, this.padLength = this.constructor.padLength / 8, this.endian = "big", this._delta8 = this.blockSize / 8, this._delta32 = this.blockSize / 32;
}
uf.BlockHash = Zc, Zc.prototype.update = function(e, t) {
  if (e = s6.toArray(e, t), this.pending ? this.pending = this.pending.concat(e) : this.pending = e, this.pendingTotal += e.length, this.pending.length >= this._delta8) {
    e = this.pending;
    var r = e.length % this._delta8;
    this.pending = e.slice(e.length - r, e.length), this.pending.length === 0 && (this.pending = null), e = s6.join32(e, 0, e.length - r, this.endian);
    for (var i = 0; i < e.length; i += this._delta32)
      this._update(e, i, i + this._delta32);
  }
  return this;
}, Zc.prototype.digest = function(e) {
  return this.update(this._pad()), uk(this.pending === null), this._digest(e);
}, Zc.prototype._pad = function() {
  var e = this.pendingTotal, t = this._delta8, r = t - (e + this.padLength) % t, i = new Array(r + this.padLength);
  i[0] = 128;
  for (var n = 1; n < r; n++)
    i[n] = 0;
  if (e <<= 3, this.endian === "big") {
    for (var s = 8; s < this.padLength; s++)
      i[n++] = 0;
    i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = e >>> 24 & 255, i[n++] = e >>> 16 & 255, i[n++] = e >>> 8 & 255, i[n++] = e & 255;
  } else
    for (i[n++] = e & 255, i[n++] = e >>> 8 & 255, i[n++] = e >>> 16 & 255, i[n++] = e >>> 24 & 255, i[n++] = 0, i[n++] = 0, i[n++] = 0, i[n++] = 0, s = 8; s < this.padLength; s++)
      i[n++] = 0;
  return i;
};
var wh = {}, to = {}, ck = qe, Hs = ck.rotr32;
function lk(e, t, r, i) {
  if (e === 0)
    return s5(t, r, i);
  if (e === 1 || e === 3)
    return a5(t, r, i);
  if (e === 2)
    return o5(t, r, i);
}
to.ft_1 = lk;
function s5(e, t, r) {
  return e & t ^ ~e & r;
}
to.ch32 = s5;
function o5(e, t, r) {
  return e & t ^ e & r ^ t & r;
}
to.maj32 = o5;
function a5(e, t, r) {
  return e ^ t ^ r;
}
to.p32 = a5;
function dk(e) {
  return Hs(e, 2) ^ Hs(e, 13) ^ Hs(e, 22);
}
to.s0_256 = dk;
function pk(e) {
  return Hs(e, 6) ^ Hs(e, 11) ^ Hs(e, 25);
}
to.s1_256 = pk;
function gk(e) {
  return Hs(e, 7) ^ Hs(e, 18) ^ e >>> 3;
}
to.g0_256 = gk;
function mk(e) {
  return Hs(e, 17) ^ Hs(e, 19) ^ e >>> 10;
}
to.g1_256 = mk;
var $h = qe, vk = uf, bk = to, O1 = $h.rotl32, Gf = $h.sum32, yk = $h.sum32_5, wk = bk.ft_1, h5 = vk.BlockHash, Ak = [1518500249, 1859775393, 2400959708, 3395469782];
function Ns() {
  if (!(this instanceof Ns))
    return new Ns();
  h5.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.W = new Array(80);
}
$h.inherits(Ns, h5);
var _k = Ns;
Ns.blockSize = 512, Ns.outSize = 160, Ns.hmacStrength = 80, Ns.padLength = 64, Ns.prototype._update = function(e, t) {
  for (var r = this.W, i = 0; i < 16; i++)
    r[i] = e[t + i];
  for (; i < r.length; i++)
    r[i] = O1(r[i - 3] ^ r[i - 8] ^ r[i - 14] ^ r[i - 16], 1);
  var n = this.h[0], s = this.h[1], u = this.h[2], p = this.h[3], b = this.h[4];
  for (i = 0; i < r.length; i++) {
    var m = ~~(i / 20), w = yk(O1(n, 5), wk(m, s, u, p), b, r[i], Ak[m]);
    b = p, p = u, u = O1(s, 30), s = n, n = w;
  }
  this.h[0] = Gf(this.h[0], n), this.h[1] = Gf(this.h[1], s), this.h[2] = Gf(this.h[2], u), this.h[3] = Gf(this.h[3], p), this.h[4] = Gf(this.h[4], b);
}, Ns.prototype._digest = function(e) {
  return e === "hex" ? $h.toHex32(this.h, "big") : $h.split32(this.h, "big");
};
var Hh = qe, Ek = uf, cf = to, Mk = Tu, Kn = Hh.sum32, Sk = Hh.sum32_4, xk = Hh.sum32_5, Ik = cf.ch32, Dk = cf.maj32, Ck = cf.s0_256, Nk = cf.s1_256, Pk = cf.g0_256, Rk = cf.g1_256, f5 = Ek.BlockHash, Ok = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];
function Ps() {
  if (!(this instanceof Ps))
    return new Ps();
  f5.call(this), this.h = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225], this.k = Ok, this.W = new Array(64);
}
Hh.inherits(Ps, f5);
var u5 = Ps;
Ps.blockSize = 512, Ps.outSize = 256, Ps.hmacStrength = 192, Ps.padLength = 64, Ps.prototype._update = function(e, t) {
  for (var r = this.W, i = 0; i < 16; i++)
    r[i] = e[t + i];
  for (; i < r.length; i++)
    r[i] = Sk(Rk(r[i - 2]), r[i - 7], Pk(r[i - 15]), r[i - 16]);
  var n = this.h[0], s = this.h[1], u = this.h[2], p = this.h[3], b = this.h[4], m = this.h[5], w = this.h[6], S = this.h[7];
  for (Mk(this.k.length === r.length), i = 0; i < r.length; i++) {
    var C = xk(S, Nk(b), Ik(b, m, w), this.k[i], r[i]), D = Kn(Ck(n), Dk(n, s, u));
    S = w, w = m, m = b, b = Kn(p, C), p = u, u = s, s = n, n = Kn(C, D);
  }
  this.h[0] = Kn(this.h[0], n), this.h[1] = Kn(this.h[1], s), this.h[2] = Kn(this.h[2], u), this.h[3] = Kn(this.h[3], p), this.h[4] = Kn(this.h[4], b), this.h[5] = Kn(this.h[5], m), this.h[6] = Kn(this.h[6], w), this.h[7] = Kn(this.h[7], S);
}, Ps.prototype._digest = function(e) {
  return e === "hex" ? Hh.toHex32(this.h, "big") : Hh.split32(this.h, "big");
};
var qp = qe, c5 = u5;
function xo() {
  if (!(this instanceof xo))
    return new xo();
  c5.call(this), this.h = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428];
}
qp.inherits(xo, c5);
var Bk = xo;
xo.blockSize = 512, xo.outSize = 224, xo.hmacStrength = 192, xo.padLength = 64, xo.prototype._digest = function(e) {
  return e === "hex" ? qp.toHex32(this.h.slice(0, 7), "big") : qp.split32(this.h.slice(0, 7), "big");
};
var Ki = qe, Tk = uf, Fk = Tu, js = Ki.rotr64_hi, Ks = Ki.rotr64_lo, l5 = Ki.shr64_hi, d5 = Ki.shr64_lo, Go = Ki.sum64, B1 = Ki.sum64_hi, T1 = Ki.sum64_lo, Uk = Ki.sum64_4_hi, qk = Ki.sum64_4_lo, Lk = Ki.sum64_5_hi, kk = Ki.sum64_5_lo, p5 = Tk.BlockHash, zk = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591];
function ts() {
  if (!(this instanceof ts))
    return new ts();
  p5.call(this), this.h = [1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723, 2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199, 528734635, 4215389547, 1541459225, 327033209], this.k = zk, this.W = new Array(160);
}
Ki.inherits(ts, p5);
var g5 = ts;
ts.blockSize = 1024, ts.outSize = 512, ts.hmacStrength = 192, ts.padLength = 128, ts.prototype._prepareBlock = function(e, t) {
  for (var r = this.W, i = 0; i < 32; i++)
    r[i] = e[t + i];
  for (; i < r.length; i += 2) {
    var n = Xk(r[i - 4], r[i - 3]), s = Zk(r[i - 4], r[i - 3]), u = r[i - 14], p = r[i - 13], b = Vk(r[i - 30], r[i - 29]), m = Wk(r[i - 30], r[i - 29]), w = r[i - 32], S = r[i - 31];
    r[i] = Uk(n, s, u, p, b, m, w, S), r[i + 1] = qk(n, s, u, p, b, m, w, S);
  }
}, ts.prototype._update = function(e, t) {
  this._prepareBlock(e, t);
  var r = this.W, i = this.h[0], n = this.h[1], s = this.h[2], u = this.h[3], p = this.h[4], b = this.h[5], m = this.h[6], w = this.h[7], S = this.h[8], C = this.h[9], D = this.h[10], P = this.h[11], k = this.h[12], z = this.h[13], V = this.h[14], Q = this.h[15];
  Fk(this.k.length === r.length);
  for (var W = 0; W < r.length; W += 2) {
    var $ = V, j = Q, K = Jk(S, C), N = Yk(S, C), H = $k(S, C, D, P, k), st = Hk(S, C, D, P, k, z), ct = this.k[W], L = this.k[W + 1], I = r[W], o = r[W + 1], h = Lk($, j, K, N, H, st, ct, L, I, o), c = kk($, j, K, N, H, st, ct, L, I, o);
    $ = Gk(i, n), j = Qk(i, n), K = jk(i, n, s, u, p), N = Kk(i, n, s, u, p, b);
    var v = B1($, j, K, N), y = T1($, j, K, N);
    V = k, Q = z, k = D, z = P, D = S, P = C, S = B1(m, w, h, c), C = T1(w, w, h, c), m = p, w = b, p = s, b = u, s = i, u = n, i = B1(h, c, v, y), n = T1(h, c, v, y);
  }
  Go(this.h, 0, i, n), Go(this.h, 2, s, u), Go(this.h, 4, p, b), Go(this.h, 6, m, w), Go(this.h, 8, S, C), Go(this.h, 10, D, P), Go(this.h, 12, k, z), Go(this.h, 14, V, Q);
}, ts.prototype._digest = function(e) {
  return e === "hex" ? Ki.toHex32(this.h, "big") : Ki.split32(this.h, "big");
};
function $k(e, t, r, i, n) {
  var s = e & r ^ ~e & n;
  return s < 0 && (s += 4294967296), s;
}
function Hk(e, t, r, i, n, s) {
  var u = t & i ^ ~t & s;
  return u < 0 && (u += 4294967296), u;
}
function jk(e, t, r, i, n) {
  var s = e & r ^ e & n ^ r & n;
  return s < 0 && (s += 4294967296), s;
}
function Kk(e, t, r, i, n, s) {
  var u = t & i ^ t & s ^ i & s;
  return u < 0 && (u += 4294967296), u;
}
function Gk(e, t) {
  var r = js(e, t, 28), i = js(t, e, 2), n = js(t, e, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function Qk(e, t) {
  var r = Ks(e, t, 28), i = Ks(t, e, 2), n = Ks(t, e, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function Jk(e, t) {
  var r = js(e, t, 14), i = js(e, t, 18), n = js(t, e, 9), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function Yk(e, t) {
  var r = Ks(e, t, 14), i = Ks(e, t, 18), n = Ks(t, e, 9), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function Vk(e, t) {
  var r = js(e, t, 1), i = js(e, t, 8), n = l5(e, t, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function Wk(e, t) {
  var r = Ks(e, t, 1), i = Ks(e, t, 8), n = d5(e, t, 7), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function Xk(e, t) {
  var r = js(e, t, 19), i = js(t, e, 29), n = l5(e, t, 6), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
function Zk(e, t) {
  var r = Ks(e, t, 19), i = Ks(t, e, 29), n = d5(e, t, 6), s = r ^ i ^ n;
  return s < 0 && (s += 4294967296), s;
}
var Lp = qe, m5 = g5;
function Io() {
  if (!(this instanceof Io))
    return new Io();
  m5.call(this), this.h = [3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999, 355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025, 3675008525, 1694076839, 1203062813, 3204075428];
}
Lp.inherits(Io, m5);
var tz = Io;
Io.blockSize = 1024, Io.outSize = 384, Io.hmacStrength = 192, Io.padLength = 128, Io.prototype._digest = function(e) {
  return e === "hex" ? Lp.toHex32(this.h.slice(0, 12), "big") : Lp.split32(this.h.slice(0, 12), "big");
}, wh.sha1 = _k, wh.sha224 = Bk, wh.sha256 = u5, wh.sha384 = tz, wh.sha512 = g5;
var v5 = {}, Ra = qe, ez = uf, t0 = Ra.rotl32, o6 = Ra.sum32, Qf = Ra.sum32_3, a6 = Ra.sum32_4, b5 = ez.BlockHash;
function Ss() {
  if (!(this instanceof Ss))
    return new Ss();
  b5.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.endian = "little";
}
Ra.inherits(Ss, b5), v5.ripemd160 = Ss, Ss.blockSize = 512, Ss.outSize = 160, Ss.hmacStrength = 192, Ss.padLength = 64, Ss.prototype._update = function(e, t) {
  for (var r = this.h[0], i = this.h[1], n = this.h[2], s = this.h[3], u = this.h[4], p = r, b = i, m = n, w = s, S = u, C = 0; C < 80; C++) {
    var D = o6(t0(a6(r, h6(C, i, n, s), e[nz[C] + t], rz(C)), oz[C]), u);
    r = u, u = s, s = t0(n, 10), n = i, i = D, D = o6(t0(a6(p, h6(79 - C, b, m, w), e[sz[C] + t], iz(C)), az[C]), S), p = S, S = w, w = t0(m, 10), m = b, b = D;
  }
  D = Qf(this.h[1], n, w), this.h[1] = Qf(this.h[2], s, S), this.h[2] = Qf(this.h[3], u, p), this.h[3] = Qf(this.h[4], r, b), this.h[4] = Qf(this.h[0], i, m), this.h[0] = D;
}, Ss.prototype._digest = function(e) {
  return e === "hex" ? Ra.toHex32(this.h, "little") : Ra.split32(this.h, "little");
};
function h6(e, t, r, i) {
  return e <= 15 ? t ^ r ^ i : e <= 31 ? t & r | ~t & i : e <= 47 ? (t | ~r) ^ i : e <= 63 ? t & i | r & ~i : t ^ (r | ~i);
}
function rz(e) {
  return e <= 15 ? 0 : e <= 31 ? 1518500249 : e <= 47 ? 1859775393 : e <= 63 ? 2400959708 : 2840853838;
}
function iz(e) {
  return e <= 15 ? 1352829926 : e <= 31 ? 1548603684 : e <= 47 ? 1836072691 : e <= 63 ? 2053994217 : 0;
}
var nz = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13], sz = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11], oz = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6], az = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11], hz = qe, fz = Tu;
function Ph(e, t, r) {
  if (!(this instanceof Ph))
    return new Ph(e, t, r);
  this.Hash = e, this.blockSize = e.blockSize / 8, this.outSize = e.outSize / 8, this.inner = null, this.outer = null, this._init(hz.toArray(t, r));
}
var uz = Ph;
Ph.prototype._init = function(e) {
  e.length > this.blockSize && (e = new this.Hash().update(e).digest()), fz(e.length <= this.blockSize);
  for (var t = e.length; t < this.blockSize; t++)
    e.push(0);
  for (t = 0; t < e.length; t++)
    e[t] ^= 54;
  for (this.inner = new this.Hash().update(e), t = 0; t < e.length; t++)
    e[t] ^= 106;
  this.outer = new this.Hash().update(e);
}, Ph.prototype.update = function(e, t) {
  return this.inner.update(e, t), this;
}, Ph.prototype.digest = function(e) {
  return this.outer.update(this.inner.digest()), this.outer.digest(e);
}, function(e) {
  var t = e;
  t.utils = qe, t.common = uf, t.sha = wh, t.ripemd = v5, t.hmac = uz, t.sha1 = t.sha.sha1, t.sha256 = t.sha.sha256, t.sha224 = t.sha.sha224, t.sha384 = t.sha.sha384, t.sha512 = t.sha.sha512, t.ripemd160 = t.ripemd.ripemd160;
}(Ms);
function lf(e, t, r) {
  return r = { path: t, exports: {}, require: function(i, n) {
    return cz(i, n ?? r.path);
  } }, e(r, r.exports), r.exports;
}
function cz() {
  throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");
}
var E2 = y5;
function y5(e, t) {
  if (!e)
    throw new Error(t || "Assertion failed");
}
y5.equal = function(e, t, r) {
  if (e != t)
    throw new Error(r || "Assertion failed: " + e + " != " + t);
};
var ss = lf(function(e, t) {
  var r = t;
  function i(u, p) {
    if (Array.isArray(u))
      return u.slice();
    if (!u)
      return [];
    var b = [];
    if (typeof u != "string") {
      for (var m = 0; m < u.length; m++)
        b[m] = u[m] | 0;
      return b;
    }
    if (p === "hex") {
      u = u.replace(/[^a-z0-9]+/ig, ""), u.length % 2 !== 0 && (u = "0" + u);
      for (var m = 0; m < u.length; m += 2)
        b.push(parseInt(u[m] + u[m + 1], 16));
    } else
      for (var m = 0; m < u.length; m++) {
        var w = u.charCodeAt(m), S = w >> 8, C = w & 255;
        S ? b.push(S, C) : b.push(C);
      }
    return b;
  }
  r.toArray = i;
  function n(u) {
    return u.length === 1 ? "0" + u : u;
  }
  r.zero2 = n;
  function s(u) {
    for (var p = "", b = 0; b < u.length; b++)
      p += n(u[b].toString(16));
    return p;
  }
  r.toHex = s, r.encode = function(u, p) {
    return p === "hex" ? s(u) : u;
  };
}), nn = lf(function(e, t) {
  var r = t;
  r.assert = E2, r.toArray = ss.toArray, r.zero2 = ss.zero2, r.toHex = ss.toHex, r.encode = ss.encode;
  function i(b, m, w) {
    var S = new Array(Math.max(b.bitLength(), w) + 1);
    S.fill(0);
    for (var C = 1 << m + 1, D = b.clone(), P = 0; P < S.length; P++) {
      var k, z = D.andln(C - 1);
      D.isOdd() ? (z > (C >> 1) - 1 ? k = (C >> 1) - z : k = z, D.isubn(k)) : k = 0, S[P] = k, D.iushrn(1);
    }
    return S;
  }
  r.getNAF = i;
  function n(b, m) {
    var w = [[], []];
    b = b.clone(), m = m.clone();
    for (var S = 0, C = 0, D; b.cmpn(-S) > 0 || m.cmpn(-C) > 0; ) {
      var P = b.andln(3) + S & 3, k = m.andln(3) + C & 3;
      P === 3 && (P = -1), k === 3 && (k = -1);
      var z;
      P & 1 ? (D = b.andln(7) + S & 7, (D === 3 || D === 5) && k === 2 ? z = -P : z = P) : z = 0, w[0].push(z);
      var V;
      k & 1 ? (D = m.andln(7) + C & 7, (D === 3 || D === 5) && P === 2 ? V = -k : V = k) : V = 0, w[1].push(V), 2 * S === z + 1 && (S = 1 - S), 2 * C === V + 1 && (C = 1 - C), b.iushrn(1), m.iushrn(1);
    }
    return w;
  }
  r.getJSF = n;
  function s(b, m, w) {
    var S = "_" + m;
    b.prototype[m] = function() {
      return this[S] !== void 0 ? this[S] : this[S] = w.call(this);
    };
  }
  r.cachedProperty = s;
  function u(b) {
    return typeof b == "string" ? r.toArray(b, "hex") : b;
  }
  r.parseBytes = u;
  function p(b) {
    return new Me(b, "hex", "le");
  }
  r.intFromLE = p;
}), e0 = nn.getNAF, lz = nn.getJSF, $0 = nn.assert;
function Zo(e, t) {
  this.type = e, this.p = new Me(t.p, 16), this.red = t.prime ? Me.red(t.prime) : Me.mont(this.p), this.zero = new Me(0).toRed(this.red), this.one = new Me(1).toRed(this.red), this.two = new Me(2).toRed(this.red), this.n = t.n && new Me(t.n, 16), this.g = t.g && this.pointFromJSON(t.g, t.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4), this._bitLength = this.n ? this.n.bitLength() : 0;
  var r = this.n && this.p.div(this.n);
  !r || r.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red));
}
var Ka = Zo;
Zo.prototype.point = function() {
  throw new Error("Not implemented");
}, Zo.prototype.validate = function() {
  throw new Error("Not implemented");
}, Zo.prototype._fixedNafMul = function(e, t) {
  $0(e.precomputed);
  var r = e._getDoubles(), i = e0(t, 1, this._bitLength), n = (1 << r.step + 1) - (r.step % 2 === 0 ? 2 : 1);
  n /= 3;
  var s = [], u, p;
  for (u = 0; u < i.length; u += r.step) {
    p = 0;
    for (var b = u + r.step - 1; b >= u; b--)
      p = (p << 1) + i[b];
    s.push(p);
  }
  for (var m = this.jpoint(null, null, null), w = this.jpoint(null, null, null), S = n; S > 0; S--) {
    for (u = 0; u < s.length; u++)
      p = s[u], p === S ? w = w.mixedAdd(r.points[u]) : p === -S && (w = w.mixedAdd(r.points[u].neg()));
    m = m.add(w);
  }
  return m.toP();
}, Zo.prototype._wnafMul = function(e, t) {
  var r = 4, i = e._getNAFPoints(r);
  r = i.wnd;
  for (var n = i.points, s = e0(t, r, this._bitLength), u = this.jpoint(null, null, null), p = s.length - 1; p >= 0; p--) {
    for (var b = 0; p >= 0 && s[p] === 0; p--)
      b++;
    if (p >= 0 && b++, u = u.dblp(b), p < 0)
      break;
    var m = s[p];
    $0(m !== 0), e.type === "affine" ? m > 0 ? u = u.mixedAdd(n[m - 1 >> 1]) : u = u.mixedAdd(n[-m - 1 >> 1].neg()) : m > 0 ? u = u.add(n[m - 1 >> 1]) : u = u.add(n[-m - 1 >> 1].neg());
  }
  return e.type === "affine" ? u.toP() : u;
}, Zo.prototype._wnafMulAdd = function(e, t, r, i, n) {
  var s = this._wnafT1, u = this._wnafT2, p = this._wnafT3, b = 0, m, w, S;
  for (m = 0; m < i; m++) {
    S = t[m];
    var C = S._getNAFPoints(e);
    s[m] = C.wnd, u[m] = C.points;
  }
  for (m = i - 1; m >= 1; m -= 2) {
    var D = m - 1, P = m;
    if (s[D] !== 1 || s[P] !== 1) {
      p[D] = e0(r[D], s[D], this._bitLength), p[P] = e0(r[P], s[P], this._bitLength), b = Math.max(p[D].length, b), b = Math.max(p[P].length, b);
      continue;
    }
    var k = [t[D], null, null, t[P]];
    t[D].y.cmp(t[P].y) === 0 ? (k[1] = t[D].add(t[P]), k[2] = t[D].toJ().mixedAdd(t[P].neg())) : t[D].y.cmp(t[P].y.redNeg()) === 0 ? (k[1] = t[D].toJ().mixedAdd(t[P]), k[2] = t[D].add(t[P].neg())) : (k[1] = t[D].toJ().mixedAdd(t[P]), k[2] = t[D].toJ().mixedAdd(t[P].neg()));
    var z = [-3, -1, -5, -7, 0, 7, 5, 1, 3], V = lz(r[D], r[P]);
    for (b = Math.max(V[0].length, b), p[D] = new Array(b), p[P] = new Array(b), w = 0; w < b; w++) {
      var Q = V[0][w] | 0, W = V[1][w] | 0;
      p[D][w] = z[(Q + 1) * 3 + (W + 1)], p[P][w] = 0, u[D] = k;
    }
  }
  var $ = this.jpoint(null, null, null), j = this._wnafT4;
  for (m = b; m >= 0; m--) {
    for (var K = 0; m >= 0; ) {
      var N = !0;
      for (w = 0; w < i; w++)
        j[w] = p[w][m] | 0, j[w] !== 0 && (N = !1);
      if (!N)
        break;
      K++, m--;
    }
    if (m >= 0 && K++, $ = $.dblp(K), m < 0)
      break;
    for (w = 0; w < i; w++) {
      var H = j[w];
      H !== 0 && (H > 0 ? S = u[w][H - 1 >> 1] : H < 0 && (S = u[w][-H - 1 >> 1].neg()), S.type === "affine" ? $ = $.mixedAdd(S) : $ = $.add(S));
    }
  }
  for (m = 0; m < i; m++)
    u[m] = null;
  return n ? $ : $.toP();
};
function An(e, t) {
  this.curve = e, this.type = t, this.precomputed = null;
}
Zo.BasePoint = An, An.prototype.eq = function() {
  throw new Error("Not implemented");
}, An.prototype.validate = function() {
  return this.curve.validate(this);
}, Zo.prototype.decodePoint = function(e, t) {
  e = nn.toArray(e, t);
  var r = this.p.byteLength();
  if ((e[0] === 4 || e[0] === 6 || e[0] === 7) && e.length - 1 === 2 * r) {
    e[0] === 6 ? $0(e[e.length - 1] % 2 === 0) : e[0] === 7 && $0(e[e.length - 1] % 2 === 1);
    var i = this.point(e.slice(1, 1 + r), e.slice(1 + r, 1 + 2 * r));
    return i;
  } else if ((e[0] === 2 || e[0] === 3) && e.length - 1 === r)
    return this.pointFromX(e.slice(1, 1 + r), e[0] === 3);
  throw new Error("Unknown point format");
}, An.prototype.encodeCompressed = function(e) {
  return this.encode(e, !0);
}, An.prototype._encode = function(e) {
  var t = this.curve.p.byteLength(), r = this.getX().toArray("be", t);
  return e ? [this.getY().isEven() ? 2 : 3].concat(r) : [4].concat(r, this.getY().toArray("be", t));
}, An.prototype.encode = function(e, t) {
  return nn.encode(this._encode(t), e);
}, An.prototype.precompute = function(e) {
  if (this.precomputed)
    return this;
  var t = { doubles: null, naf: null, beta: null };
  return t.naf = this._getNAFPoints(8), t.doubles = this._getDoubles(4, e), t.beta = this._getBeta(), this.precomputed = t, this;
}, An.prototype._hasDoubles = function(e) {
  if (!this.precomputed)
    return !1;
  var t = this.precomputed.doubles;
  return t ? t.points.length >= Math.ceil((e.bitLength() + 1) / t.step) : !1;
}, An.prototype._getDoubles = function(e, t) {
  if (this.precomputed && this.precomputed.doubles)
    return this.precomputed.doubles;
  for (var r = [this], i = this, n = 0; n < t; n += e) {
    for (var s = 0; s < e; s++)
      i = i.dbl();
    r.push(i);
  }
  return { step: e, points: r };
}, An.prototype._getNAFPoints = function(e) {
  if (this.precomputed && this.precomputed.naf)
    return this.precomputed.naf;
  for (var t = [this], r = (1 << e) - 1, i = r === 1 ? null : this.dbl(), n = 1; n < r; n++)
    t[n] = t[n - 1].add(i);
  return { wnd: e, points: t };
}, An.prototype._getBeta = function() {
  return null;
}, An.prototype.dblp = function(e) {
  for (var t = this, r = 0; r < e; r++)
    t = t.dbl();
  return t;
};
var M2 = lf(function(e) {
  typeof Object.create == "function" ? e.exports = function(t, r) {
    r && (t.super_ = r, t.prototype = Object.create(r.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }));
  } : e.exports = function(t, r) {
    if (r) {
      t.super_ = r;
      var i = function() {
      };
      i.prototype = r.prototype, t.prototype = new i(), t.prototype.constructor = t;
    }
  };
}), dz = nn.assert;
function Cn(e) {
  Ka.call(this, "short", e), this.a = new Me(e.a, 16).toRed(this.red), this.b = new Me(e.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = this.a.fromRed().cmpn(0) === 0, this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0, this.endo = this._getEndomorphism(e), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4);
}
M2(Cn, Ka);
var pz = Cn;
Cn.prototype._getEndomorphism = function(e) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var t, r;
    if (e.beta)
      t = new Me(e.beta, 16).toRed(this.red);
    else {
      var i = this._getEndoRoots(this.p);
      t = i[0].cmp(i[1]) < 0 ? i[0] : i[1], t = t.toRed(this.red);
    }
    if (e.lambda)
      r = new Me(e.lambda, 16);
    else {
      var n = this._getEndoRoots(this.n);
      this.g.mul(n[0]).x.cmp(this.g.x.redMul(t)) === 0 ? r = n[0] : (r = n[1], dz(this.g.mul(r).x.cmp(this.g.x.redMul(t)) === 0));
    }
    var s;
    return e.basis ? s = e.basis.map(function(u) {
      return { a: new Me(u.a, 16), b: new Me(u.b, 16) };
    }) : s = this._getEndoBasis(r), { beta: t, lambda: r, basis: s };
  }
}, Cn.prototype._getEndoRoots = function(e) {
  var t = e === this.p ? this.red : Me.mont(e), r = new Me(2).toRed(t).redInvm(), i = r.redNeg(), n = new Me(3).toRed(t).redNeg().redSqrt().redMul(r), s = i.redAdd(n).fromRed(), u = i.redSub(n).fromRed();
  return [s, u];
}, Cn.prototype._getEndoBasis = function(e) {
  for (var t = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), r = e, i = this.n.clone(), n = new Me(1), s = new Me(0), u = new Me(0), p = new Me(1), b, m, w, S, C, D, P, k = 0, z, V; r.cmpn(0) !== 0; ) {
    var Q = i.div(r);
    z = i.sub(Q.mul(r)), V = u.sub(Q.mul(n));
    var W = p.sub(Q.mul(s));
    if (!w && z.cmp(t) < 0)
      b = P.neg(), m = n, w = z.neg(), S = V;
    else if (w && ++k === 2)
      break;
    P = z, i = r, r = z, u = n, n = V, p = s, s = W;
  }
  C = z.neg(), D = V;
  var $ = w.sqr().add(S.sqr()), j = C.sqr().add(D.sqr());
  return j.cmp($) >= 0 && (C = b, D = m), w.negative && (w = w.neg(), S = S.neg()), C.negative && (C = C.neg(), D = D.neg()), [{ a: w, b: S }, { a: C, b: D }];
}, Cn.prototype._endoSplit = function(e) {
  var t = this.endo.basis, r = t[0], i = t[1], n = i.b.mul(e).divRound(this.n), s = r.b.neg().mul(e).divRound(this.n), u = n.mul(r.a), p = s.mul(i.a), b = n.mul(r.b), m = s.mul(i.b), w = e.sub(u).sub(p), S = b.add(m).neg();
  return { k1: w, k2: S };
}, Cn.prototype.pointFromX = function(e, t) {
  e = new Me(e, 16), e.red || (e = e.toRed(this.red));
  var r = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b), i = r.redSqrt();
  if (i.redSqr().redSub(r).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var n = i.fromRed().isOdd();
  return (t && !n || !t && n) && (i = i.redNeg()), this.point(e, i);
}, Cn.prototype.validate = function(e) {
  if (e.inf)
    return !0;
  var t = e.x, r = e.y, i = this.a.redMul(t), n = t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);
  return r.redSqr().redISub(n).cmpn(0) === 0;
}, Cn.prototype._endoWnafMulAdd = function(e, t, r) {
  for (var i = this._endoWnafT1, n = this._endoWnafT2, s = 0; s < e.length; s++) {
    var u = this._endoSplit(t[s]), p = e[s], b = p._getBeta();
    u.k1.negative && (u.k1.ineg(), p = p.neg(!0)), u.k2.negative && (u.k2.ineg(), b = b.neg(!0)), i[s * 2] = p, i[s * 2 + 1] = b, n[s * 2] = u.k1, n[s * 2 + 1] = u.k2;
  }
  for (var m = this._wnafMulAdd(1, i, n, s * 2, r), w = 0; w < s * 2; w++)
    i[w] = null, n[w] = null;
  return m;
};
function Kr(e, t, r, i) {
  Ka.BasePoint.call(this, e, "affine"), t === null && r === null ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new Me(t, 16), this.y = new Me(r, 16), i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1);
}
M2(Kr, Ka.BasePoint), Cn.prototype.point = function(e, t, r) {
  return new Kr(this, e, t, r);
}, Cn.prototype.pointFromJSON = function(e, t) {
  return Kr.fromJSON(this, e, t);
}, Kr.prototype._getBeta = function() {
  if (this.curve.endo) {
    var e = this.precomputed;
    if (e && e.beta)
      return e.beta;
    var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
    if (e) {
      var r = this.curve, i = function(n) {
        return r.point(n.x.redMul(r.endo.beta), n.y);
      };
      e.beta = t, t.precomputed = { beta: null, naf: e.naf && { wnd: e.naf.wnd, points: e.naf.points.map(i) }, doubles: e.doubles && { step: e.doubles.step, points: e.doubles.points.map(i) } };
    }
    return t;
  }
}, Kr.prototype.toJSON = function() {
  return this.precomputed ? [this.x, this.y, this.precomputed && { doubles: this.precomputed.doubles && { step: this.precomputed.doubles.step, points: this.precomputed.doubles.points.slice(1) }, naf: this.precomputed.naf && { wnd: this.precomputed.naf.wnd, points: this.precomputed.naf.points.slice(1) } }] : [this.x, this.y];
}, Kr.fromJSON = function(e, t, r) {
  typeof t == "string" && (t = JSON.parse(t));
  var i = e.point(t[0], t[1], r);
  if (!t[2])
    return i;
  function n(u) {
    return e.point(u[0], u[1], r);
  }
  var s = t[2];
  return i.precomputed = { beta: null, doubles: s.doubles && { step: s.doubles.step, points: [i].concat(s.doubles.points.map(n)) }, naf: s.naf && { wnd: s.naf.wnd, points: [i].concat(s.naf.points.map(n)) } }, i;
}, Kr.prototype.inspect = function() {
  return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">";
}, Kr.prototype.isInfinity = function() {
  return this.inf;
}, Kr.prototype.add = function(e) {
  if (this.inf)
    return e;
  if (e.inf)
    return this;
  if (this.eq(e))
    return this.dbl();
  if (this.neg().eq(e))
    return this.curve.point(null, null);
  if (this.x.cmp(e.x) === 0)
    return this.curve.point(null, null);
  var t = this.y.redSub(e.y);
  t.cmpn(0) !== 0 && (t = t.redMul(this.x.redSub(e.x).redInvm()));
  var r = t.redSqr().redISub(this.x).redISub(e.x), i = t.redMul(this.x.redSub(r)).redISub(this.y);
  return this.curve.point(r, i);
}, Kr.prototype.dbl = function() {
  if (this.inf)
    return this;
  var e = this.y.redAdd(this.y);
  if (e.cmpn(0) === 0)
    return this.curve.point(null, null);
  var t = this.curve.a, r = this.x.redSqr(), i = e.redInvm(), n = r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i), s = n.redSqr().redISub(this.x.redAdd(this.x)), u = n.redMul(this.x.redSub(s)).redISub(this.y);
  return this.curve.point(s, u);
}, Kr.prototype.getX = function() {
  return this.x.fromRed();
}, Kr.prototype.getY = function() {
  return this.y.fromRed();
}, Kr.prototype.mul = function(e) {
  return e = new Me(e, 16), this.isInfinity() ? this : this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [e]) : this.curve._wnafMul(this, e);
}, Kr.prototype.mulAdd = function(e, t, r) {
  var i = [this, t], n = [e, r];
  return this.curve.endo ? this.curve._endoWnafMulAdd(i, n) : this.curve._wnafMulAdd(1, i, n, 2);
}, Kr.prototype.jmulAdd = function(e, t, r) {
  var i = [this, t], n = [e, r];
  return this.curve.endo ? this.curve._endoWnafMulAdd(i, n, !0) : this.curve._wnafMulAdd(1, i, n, 2, !0);
}, Kr.prototype.eq = function(e) {
  return this === e || this.inf === e.inf && (this.inf || this.x.cmp(e.x) === 0 && this.y.cmp(e.y) === 0);
}, Kr.prototype.neg = function(e) {
  if (this.inf)
    return this;
  var t = this.curve.point(this.x, this.y.redNeg());
  if (e && this.precomputed) {
    var r = this.precomputed, i = function(n) {
      return n.neg();
    };
    t.precomputed = { naf: r.naf && { wnd: r.naf.wnd, points: r.naf.points.map(i) }, doubles: r.doubles && { step: r.doubles.step, points: r.doubles.points.map(i) } };
  }
  return t;
}, Kr.prototype.toJ = function() {
  if (this.inf)
    return this.curve.jpoint(null, null, null);
  var e = this.curve.jpoint(this.x, this.y, this.curve.one);
  return e;
};
function ti(e, t, r, i) {
  Ka.BasePoint.call(this, e, "jacobian"), t === null && r === null && i === null ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new Me(0)) : (this.x = new Me(t, 16), this.y = new Me(r, 16), this.z = new Me(i, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one;
}
M2(ti, Ka.BasePoint), Cn.prototype.jpoint = function(e, t, r) {
  return new ti(this, e, t, r);
}, ti.prototype.toP = function() {
  if (this.isInfinity())
    return this.curve.point(null, null);
  var e = this.z.redInvm(), t = e.redSqr(), r = this.x.redMul(t), i = this.y.redMul(t).redMul(e);
  return this.curve.point(r, i);
}, ti.prototype.neg = function() {
  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
}, ti.prototype.add = function(e) {
  if (this.isInfinity())
    return e;
  if (e.isInfinity())
    return this;
  var t = e.z.redSqr(), r = this.z.redSqr(), i = this.x.redMul(t), n = e.x.redMul(r), s = this.y.redMul(t.redMul(e.z)), u = e.y.redMul(r.redMul(this.z)), p = i.redSub(n), b = s.redSub(u);
  if (p.cmpn(0) === 0)
    return b.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var m = p.redSqr(), w = m.redMul(p), S = i.redMul(m), C = b.redSqr().redIAdd(w).redISub(S).redISub(S), D = b.redMul(S.redISub(C)).redISub(s.redMul(w)), P = this.z.redMul(e.z).redMul(p);
  return this.curve.jpoint(C, D, P);
}, ti.prototype.mixedAdd = function(e) {
  if (this.isInfinity())
    return e.toJ();
  if (e.isInfinity())
    return this;
  var t = this.z.redSqr(), r = this.x, i = e.x.redMul(t), n = this.y, s = e.y.redMul(t).redMul(this.z), u = r.redSub(i), p = n.redSub(s);
  if (u.cmpn(0) === 0)
    return p.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var b = u.redSqr(), m = b.redMul(u), w = r.redMul(b), S = p.redSqr().redIAdd(m).redISub(w).redISub(w), C = p.redMul(w.redISub(S)).redISub(n.redMul(m)), D = this.z.redMul(u);
  return this.curve.jpoint(S, C, D);
}, ti.prototype.dblp = function(e) {
  if (e === 0)
    return this;
  if (this.isInfinity())
    return this;
  if (!e)
    return this.dbl();
  var t;
  if (this.curve.zeroA || this.curve.threeA) {
    var r = this;
    for (t = 0; t < e; t++)
      r = r.dbl();
    return r;
  }
  var i = this.curve.a, n = this.curve.tinv, s = this.x, u = this.y, p = this.z, b = p.redSqr().redSqr(), m = u.redAdd(u);
  for (t = 0; t < e; t++) {
    var w = s.redSqr(), S = m.redSqr(), C = S.redSqr(), D = w.redAdd(w).redIAdd(w).redIAdd(i.redMul(b)), P = s.redMul(S), k = D.redSqr().redISub(P.redAdd(P)), z = P.redISub(k), V = D.redMul(z);
    V = V.redIAdd(V).redISub(C);
    var Q = m.redMul(p);
    t + 1 < e && (b = b.redMul(C)), s = k, p = Q, m = V;
  }
  return this.curve.jpoint(s, m.redMul(n), p);
}, ti.prototype.dbl = function() {
  return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl();
}, ti.prototype._zeroDbl = function() {
  var e, t, r;
  if (this.zOne) {
    var i = this.x.redSqr(), n = this.y.redSqr(), s = n.redSqr(), u = this.x.redAdd(n).redSqr().redISub(i).redISub(s);
    u = u.redIAdd(u);
    var p = i.redAdd(i).redIAdd(i), b = p.redSqr().redISub(u).redISub(u), m = s.redIAdd(s);
    m = m.redIAdd(m), m = m.redIAdd(m), e = b, t = p.redMul(u.redISub(b)).redISub(m), r = this.y.redAdd(this.y);
  } else {
    var w = this.x.redSqr(), S = this.y.redSqr(), C = S.redSqr(), D = this.x.redAdd(S).redSqr().redISub(w).redISub(C);
    D = D.redIAdd(D);
    var P = w.redAdd(w).redIAdd(w), k = P.redSqr(), z = C.redIAdd(C);
    z = z.redIAdd(z), z = z.redIAdd(z), e = k.redISub(D).redISub(D), t = P.redMul(D.redISub(e)).redISub(z), r = this.y.redMul(this.z), r = r.redIAdd(r);
  }
  return this.curve.jpoint(e, t, r);
}, ti.prototype._threeDbl = function() {
  var e, t, r;
  if (this.zOne) {
    var i = this.x.redSqr(), n = this.y.redSqr(), s = n.redSqr(), u = this.x.redAdd(n).redSqr().redISub(i).redISub(s);
    u = u.redIAdd(u);
    var p = i.redAdd(i).redIAdd(i).redIAdd(this.curve.a), b = p.redSqr().redISub(u).redISub(u);
    e = b;
    var m = s.redIAdd(s);
    m = m.redIAdd(m), m = m.redIAdd(m), t = p.redMul(u.redISub(b)).redISub(m), r = this.y.redAdd(this.y);
  } else {
    var w = this.z.redSqr(), S = this.y.redSqr(), C = this.x.redMul(S), D = this.x.redSub(w).redMul(this.x.redAdd(w));
    D = D.redAdd(D).redIAdd(D);
    var P = C.redIAdd(C);
    P = P.redIAdd(P);
    var k = P.redAdd(P);
    e = D.redSqr().redISub(k), r = this.y.redAdd(this.z).redSqr().redISub(S).redISub(w);
    var z = S.redSqr();
    z = z.redIAdd(z), z = z.redIAdd(z), z = z.redIAdd(z), t = D.redMul(P.redISub(e)).redISub(z);
  }
  return this.curve.jpoint(e, t, r);
}, ti.prototype._dbl = function() {
  var e = this.curve.a, t = this.x, r = this.y, i = this.z, n = i.redSqr().redSqr(), s = t.redSqr(), u = r.redSqr(), p = s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)), b = t.redAdd(t);
  b = b.redIAdd(b);
  var m = b.redMul(u), w = p.redSqr().redISub(m.redAdd(m)), S = m.redISub(w), C = u.redSqr();
  C = C.redIAdd(C), C = C.redIAdd(C), C = C.redIAdd(C);
  var D = p.redMul(S).redISub(C), P = r.redAdd(r).redMul(i);
  return this.curve.jpoint(w, D, P);
}, ti.prototype.trpl = function() {
  if (!this.curve.zeroA)
    return this.dbl().add(this);
  var e = this.x.redSqr(), t = this.y.redSqr(), r = this.z.redSqr(), i = t.redSqr(), n = e.redAdd(e).redIAdd(e), s = n.redSqr(), u = this.x.redAdd(t).redSqr().redISub(e).redISub(i);
  u = u.redIAdd(u), u = u.redAdd(u).redIAdd(u), u = u.redISub(s);
  var p = u.redSqr(), b = i.redIAdd(i);
  b = b.redIAdd(b), b = b.redIAdd(b), b = b.redIAdd(b);
  var m = n.redIAdd(u).redSqr().redISub(s).redISub(p).redISub(b), w = t.redMul(m);
  w = w.redIAdd(w), w = w.redIAdd(w);
  var S = this.x.redMul(p).redISub(w);
  S = S.redIAdd(S), S = S.redIAdd(S);
  var C = this.y.redMul(m.redMul(b.redISub(m)).redISub(u.redMul(p)));
  C = C.redIAdd(C), C = C.redIAdd(C), C = C.redIAdd(C);
  var D = this.z.redAdd(u).redSqr().redISub(r).redISub(p);
  return this.curve.jpoint(S, C, D);
}, ti.prototype.mul = function(e, t) {
  return e = new Me(e, t), this.curve._wnafMul(this, e);
}, ti.prototype.eq = function(e) {
  if (e.type === "affine")
    return this.eq(e.toJ());
  if (this === e)
    return !0;
  var t = this.z.redSqr(), r = e.z.redSqr();
  if (this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0) !== 0)
    return !1;
  var i = t.redMul(this.z), n = r.redMul(e.z);
  return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0) === 0;
}, ti.prototype.eqXToP = function(e) {
  var t = this.z.redSqr(), r = e.toRed(this.curve.red).redMul(t);
  if (this.x.cmp(r) === 0)
    return !0;
  for (var i = e.clone(), n = this.curve.redN.redMul(t); ; ) {
    if (i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)
      return !1;
    if (r.redIAdd(n), this.x.cmp(r) === 0)
      return !0;
  }
}, ti.prototype.inspect = function() {
  return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">";
}, ti.prototype.isInfinity = function() {
  return this.z.cmpn(0) === 0;
};
var b0 = lf(function(e, t) {
  var r = t;
  r.base = Ka, r.short = pz, r.mont = null, r.edwards = null;
}), y0 = lf(function(e, t) {
  var r = t, i = nn.assert;
  function n(p) {
    p.type === "short" ? this.curve = new b0.short(p) : p.type === "edwards" ? this.curve = new b0.edwards(p) : this.curve = new b0.mont(p), this.g = this.curve.g, this.n = this.curve.n, this.hash = p.hash, i(this.g.validate(), "Invalid curve"), i(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
  }
  r.PresetCurve = n;
  function s(p, b) {
    Object.defineProperty(r, p, { configurable: !0, enumerable: !0, get: function() {
      var m = new n(b);
      return Object.defineProperty(r, p, { configurable: !0, enumerable: !0, value: m }), m;
    } });
  }
  s("p192", { type: "short", prime: "p192", p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff", a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc", b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1", n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831", hash: Ms.sha256, gRed: !1, g: ["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012", "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"] }), s("p224", { type: "short", prime: "p224", p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001", a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe", b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4", n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d", hash: Ms.sha256, gRed: !1, g: ["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21", "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"] }), s("p256", { type: "short", prime: null, p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff", a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc", b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b", n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551", hash: Ms.sha256, gRed: !1, g: ["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296", "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"] }), s("p384", { type: "short", prime: null, p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff", a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc", b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef", n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973", hash: Ms.sha384, gRed: !1, g: ["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7", "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"] }), s("p521", { type: "short", prime: null, p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff", a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc", b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00", n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409", hash: Ms.sha512, gRed: !1, g: ["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66", "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"] }), s("curve25519", { type: "mont", prime: "p25519", p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed", a: "76d06", b: "1", n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed", hash: Ms.sha256, gRed: !1, g: ["9"] }), s("ed25519", { type: "edwards", prime: "p25519", p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed", a: "-1", c: "1", d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3", n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed", hash: Ms.sha256, gRed: !1, g: ["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a", "6666666666666666666666666666666666666666666666666666666666666658"] });
  var u;
  try {
    u = null.crash();
  } catch {
    u = void 0;
  }
  s("secp256k1", { type: "short", prime: "k256", p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f", a: "0", b: "7", n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141", h: "1", hash: Ms.sha256, beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee", lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72", basis: [{ a: "3086d221a7d46bcde86c90e49284eb15", b: "-e4437ed6010e88286f547fa90abfe4c3" }, { a: "114ca50f7a8e2f3f657c1108d9d44cfd8", b: "3086d221a7d46bcde86c90e49284eb15" }], gRed: !1, g: ["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798", "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8", u] });
});
function ta(e) {
  if (!(this instanceof ta))
    return new ta(e);
  this.hash = e.hash, this.predResist = !!e.predResist, this.outLen = this.hash.outSize, this.minEntropy = e.minEntropy || this.hash.hmacStrength, this._reseed = null, this.reseedInterval = null, this.K = null, this.V = null;
  var t = ss.toArray(e.entropy, e.entropyEnc || "hex"), r = ss.toArray(e.nonce, e.nonceEnc || "hex"), i = ss.toArray(e.pers, e.persEnc || "hex");
  E2(t.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._init(t, r, i);
}
var f6 = ta;
ta.prototype._init = function(e, t, r) {
  var i = e.concat(t).concat(r);
  this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8);
  for (var n = 0; n < this.V.length; n++)
    this.K[n] = 0, this.V[n] = 1;
  this._update(i), this._reseed = 1, this.reseedInterval = 281474976710656;
}, ta.prototype._hmac = function() {
  return new Ms.hmac(this.hash, this.K);
}, ta.prototype._update = function(e) {
  var t = this._hmac().update(this.V).update([0]);
  e && (t = t.update(e)), this.K = t.digest(), this.V = this._hmac().update(this.V).digest(), e && (this.K = this._hmac().update(this.V).update([1]).update(e).digest(), this.V = this._hmac().update(this.V).digest());
}, ta.prototype.reseed = function(e, t, r, i) {
  typeof t != "string" && (i = r, r = t, t = null), e = ss.toArray(e, t), r = ss.toArray(r, i), E2(e.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits"), this._update(e.concat(r || [])), this._reseed = 1;
}, ta.prototype.generate = function(e, t, r, i) {
  if (this._reseed > this.reseedInterval)
    throw new Error("Reseed is required");
  typeof t != "string" && (i = r, r = t, t = null), r && (r = ss.toArray(r, i || "hex"), this._update(r));
  for (var n = []; n.length < e; )
    this.V = this._hmac().update(this.V).digest(), n = n.concat(this.V);
  var s = n.slice(0, e);
  return this._update(r), this._reseed++, ss.encode(s, t);
};
var F1 = nn.assert;
function li(e, t) {
  this.ec = e, this.priv = null, this.pub = null, t.priv && this._importPrivate(t.priv, t.privEnc), t.pub && this._importPublic(t.pub, t.pubEnc);
}
var U1 = li;
li.fromPublic = function(e, t, r) {
  return t instanceof li ? t : new li(e, { pub: t, pubEnc: r });
}, li.fromPrivate = function(e, t, r) {
  return t instanceof li ? t : new li(e, { priv: t, privEnc: r });
}, li.prototype.validate = function() {
  var e = this.getPublic();
  return e.isInfinity() ? { result: !1, reason: "Invalid public key" } : e.validate() ? e.mul(this.ec.curve.n).isInfinity() ? { result: !0, reason: null } : { result: !1, reason: "Public key * N != O" } : { result: !1, reason: "Public key is not a point" };
}, li.prototype.getPublic = function(e, t) {
  return typeof e == "string" && (t = e, e = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), t ? this.pub.encode(t, e) : this.pub;
}, li.prototype.getPrivate = function(e) {
  return e === "hex" ? this.priv.toString(16, 2) : this.priv;
}, li.prototype._importPrivate = function(e, t) {
  this.priv = new Me(e, t || 16), this.priv = this.priv.umod(this.ec.curve.n);
}, li.prototype._importPublic = function(e, t) {
  if (e.x || e.y) {
    this.ec.curve.type === "mont" ? F1(e.x, "Need x coordinate") : (this.ec.curve.type === "short" || this.ec.curve.type === "edwards") && F1(e.x && e.y, "Need both x and y coordinate"), this.pub = this.ec.curve.point(e.x, e.y);
    return;
  }
  this.pub = this.ec.curve.decodePoint(e, t);
}, li.prototype.derive = function(e) {
  return e.validate() || F1(e.validate(), "public point not validated"), e.mul(this.priv).getX();
}, li.prototype.sign = function(e, t, r) {
  return this.ec.sign(e, this, t, r);
}, li.prototype.verify = function(e, t) {
  return this.ec.verify(e, t, this);
}, li.prototype.inspect = function() {
  return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >";
};
var gz = nn.assert;
function wl(e, t) {
  if (e instanceof wl)
    return e;
  this._importDER(e, t) || (gz(e.r && e.s, "Signature without r or s"), this.r = new Me(e.r, 16), this.s = new Me(e.s, 16), e.recoveryParam === void 0 ? this.recoveryParam = null : this.recoveryParam = e.recoveryParam);
}
var r0 = wl;
function mz() {
  this.place = 0;
}
function q1(e, t) {
  var r = e[t.place++];
  if (!(r & 128))
    return r;
  var i = r & 15;
  if (i === 0 || i > 4)
    return !1;
  for (var n = 0, s = 0, u = t.place; s < i; s++, u++)
    n <<= 8, n |= e[u], n >>>= 0;
  return n <= 127 ? !1 : (t.place = u, n);
}
function u6(e) {
  for (var t = 0, r = e.length - 1; !e[t] && !(e[t + 1] & 128) && t < r; )
    t++;
  return t === 0 ? e : e.slice(t);
}
wl.prototype._importDER = function(e, t) {
  e = nn.toArray(e, t);
  var r = new mz();
  if (e[r.place++] !== 48)
    return !1;
  var i = q1(e, r);
  if (i === !1 || i + r.place !== e.length || e[r.place++] !== 2)
    return !1;
  var n = q1(e, r);
  if (n === !1)
    return !1;
  var s = e.slice(r.place, n + r.place);
  if (r.place += n, e[r.place++] !== 2)
    return !1;
  var u = q1(e, r);
  if (u === !1 || e.length !== u + r.place)
    return !1;
  var p = e.slice(r.place, u + r.place);
  if (s[0] === 0)
    if (s[1] & 128)
      s = s.slice(1);
    else
      return !1;
  if (p[0] === 0)
    if (p[1] & 128)
      p = p.slice(1);
    else
      return !1;
  return this.r = new Me(s), this.s = new Me(p), this.recoveryParam = null, !0;
};
function L1(e, t) {
  if (t < 128) {
    e.push(t);
    return;
  }
  var r = 1 + (Math.log(t) / Math.LN2 >>> 3);
  for (e.push(r | 128); --r; )
    e.push(t >>> (r << 3) & 255);
  e.push(t);
}
wl.prototype.toDER = function(e) {
  var t = this.r.toArray(), r = this.s.toArray();
  for (t[0] & 128 && (t = [0].concat(t)), r[0] & 128 && (r = [0].concat(r)), t = u6(t), r = u6(r); !r[0] && !(r[1] & 128); )
    r = r.slice(1);
  var i = [2];
  L1(i, t.length), i = i.concat(t), i.push(2), L1(i, r.length);
  var n = i.concat(r), s = [48];
  return L1(s, n.length), s = s.concat(n), nn.encode(s, e);
};
var vz = function() {
  throw new Error("unsupported");
}, w5 = nn.assert;
function Sn(e) {
  if (!(this instanceof Sn))
    return new Sn(e);
  typeof e == "string" && (w5(Object.prototype.hasOwnProperty.call(y0, e), "Unknown curve " + e), e = y0[e]), e instanceof y0.PresetCurve && (e = { curve: e }), this.curve = e.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = e.curve.g, this.g.precompute(e.curve.n.bitLength() + 1), this.hash = e.hash || e.curve.hash;
}
var bz = Sn;
Sn.prototype.keyPair = function(e) {
  return new U1(this, e);
}, Sn.prototype.keyFromPrivate = function(e, t) {
  return U1.fromPrivate(this, e, t);
}, Sn.prototype.keyFromPublic = function(e, t) {
  return U1.fromPublic(this, e, t);
}, Sn.prototype.genKeyPair = function(e) {
  e || (e = {});
  for (var t = new f6({ hash: this.hash, pers: e.pers, persEnc: e.persEnc || "utf8", entropy: e.entropy || vz(this.hash.hmacStrength), entropyEnc: e.entropy && e.entropyEnc || "utf8", nonce: this.n.toArray() }), r = this.n.byteLength(), i = this.n.sub(new Me(2)); ; ) {
    var n = new Me(t.generate(r));
    if (!(n.cmp(i) > 0))
      return n.iaddn(1), this.keyFromPrivate(n);
  }
}, Sn.prototype._truncateToN = function(e, t) {
  var r = e.byteLength() * 8 - this.n.bitLength();
  return r > 0 && (e = e.ushrn(r)), !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e;
}, Sn.prototype.sign = function(e, t, r, i) {
  typeof r == "object" && (i = r, r = null), i || (i = {}), t = this.keyFromPrivate(t, r), e = this._truncateToN(new Me(e, 16));
  for (var n = this.n.byteLength(), s = t.getPrivate().toArray("be", n), u = e.toArray("be", n), p = new f6({ hash: this.hash, entropy: s, nonce: u, pers: i.pers, persEnc: i.persEnc || "utf8" }), b = this.n.sub(new Me(1)), m = 0; ; m++) {
    var w = i.k ? i.k(m) : new Me(p.generate(this.n.byteLength()));
    if (w = this._truncateToN(w, !0), !(w.cmpn(1) <= 0 || w.cmp(b) >= 0)) {
      var S = this.g.mul(w);
      if (!S.isInfinity()) {
        var C = S.getX(), D = C.umod(this.n);
        if (D.cmpn(0) !== 0) {
          var P = w.invm(this.n).mul(D.mul(t.getPrivate()).iadd(e));
          if (P = P.umod(this.n), P.cmpn(0) !== 0) {
            var k = (S.getY().isOdd() ? 1 : 0) | (C.cmp(D) !== 0 ? 2 : 0);
            return i.canonical && P.cmp(this.nh) > 0 && (P = this.n.sub(P), k ^= 1), new r0({ r: D, s: P, recoveryParam: k });
          }
        }
      }
    }
  }
}, Sn.prototype.verify = function(e, t, r, i) {
  e = this._truncateToN(new Me(e, 16)), r = this.keyFromPublic(r, i), t = new r0(t, "hex");
  var n = t.r, s = t.s;
  if (n.cmpn(1) < 0 || n.cmp(this.n) >= 0 || s.cmpn(1) < 0 || s.cmp(this.n) >= 0)
    return !1;
  var u = s.invm(this.n), p = u.mul(e).umod(this.n), b = u.mul(n).umod(this.n), m;
  return this.curve._maxwellTrick ? (m = this.g.jmulAdd(p, r.getPublic(), b), m.isInfinity() ? !1 : m.eqXToP(n)) : (m = this.g.mulAdd(p, r.getPublic(), b), m.isInfinity() ? !1 : m.getX().umod(this.n).cmp(n) === 0);
}, Sn.prototype.recoverPubKey = function(e, t, r, i) {
  w5((3 & r) === r, "The recovery param is more than two bits"), t = new r0(t, i);
  var n = this.n, s = new Me(e), u = t.r, p = t.s, b = r & 1, m = r >> 1;
  if (u.cmp(this.curve.p.umod(this.curve.n)) >= 0 && m)
    throw new Error("Unable to find sencond key candinate");
  m ? u = this.curve.pointFromX(u.add(this.curve.n), b) : u = this.curve.pointFromX(u, b);
  var w = t.r.invm(n), S = n.sub(s).mul(w).umod(n), C = p.mul(w).umod(n);
  return this.g.mulAdd(S, u, C);
}, Sn.prototype.getKeyRecoveryParam = function(e, t, r, i) {
  if (t = new r0(t, i), t.recoveryParam !== null)
    return t.recoveryParam;
  for (var n = 0; n < 4; n++) {
    var s;
    try {
      s = this.recoverPubKey(e, t, n);
    } catch {
      continue;
    }
    if (s.eq(r))
      return n;
  }
  throw new Error("Unable to find valid recovery factor");
};
var yz = lf(function(e, t) {
  var r = t;
  r.version = "6.5.4", r.utils = nn, r.rand = function() {
    throw new Error("unsupported");
  }, r.curve = b0, r.curves = y0, r.ec = bz, r.eddsa = null;
}), wz = yz.ec;
const Az = "signing-key/5.7.0", kp = new ii(Az);
let k1 = null;
function Jo() {
  return k1 || (k1 = new wz("secp256k1")), k1;
}
class _z {
  constructor(t) {
    Kf(this, "curve", "secp256k1"), Kf(this, "privateKey", Ui(t)), sL(this.privateKey) !== 32 && kp.throwArgumentError("invalid private key", "privateKey", "[[ REDACTED ]]");
    const r = Jo().keyFromPrivate(mr(this.privateKey));
    Kf(this, "publicKey", "0x" + r.getPublic(!1, "hex")), Kf(this, "compressedPublicKey", "0x" + r.getPublic(!0, "hex")), Kf(this, "_isSigningKey", !0);
  }
  _addPoint(t) {
    const r = Jo().keyFromPublic(mr(this.publicKey)), i = Jo().keyFromPublic(mr(t));
    return "0x" + r.pub.add(i.pub).encodeCompressed("hex");
  }
  signDigest(t) {
    const r = Jo().keyFromPrivate(mr(this.privateKey)), i = mr(t);
    i.length !== 32 && kp.throwArgumentError("bad digest length", "digest", t);
    const n = r.sign(i, { canonical: !0 });
    return Gy({ recoveryParam: n.recoveryParam, r: $s("0x" + n.r.toString(16), 32), s: $s("0x" + n.s.toString(16), 32) });
  }
  computeSharedSecret(t) {
    const r = Jo().keyFromPrivate(mr(this.privateKey)), i = Jo().keyFromPublic(mr(A5(t)));
    return $s("0x" + r.derive(i.getPublic()).toString(16), 32);
  }
  static isSigningKey(t) {
    return !!(t && t._isSigningKey);
  }
}
function Ez(e, t) {
  const r = Gy(t), i = { r: mr(r.r), s: mr(r.s) };
  return "0x" + Jo().recoverPubKey(mr(e), i, r.recoveryParam).encode("hex", !1);
}
function A5(e, t) {
  const r = mr(e);
  return r.length === 32 ? new _z(r).publicKey : r.length === 33 ? "0x" + Jo().keyFromPublic(r).getPublic(!1, "hex") : r.length === 65 ? Ui(r) : kp.throwArgumentError("invalid public or private key", "key", "[REDACTED]");
}
var c6;
(function(e) {
  e[e.legacy = 0] = "legacy", e[e.eip2930 = 1] = "eip2930", e[e.eip1559 = 2] = "eip1559";
})(c6 || (c6 = {}));
function Mz(e) {
  const t = A5(e);
  return TL(Vv(w2(Vv(t, 1)), 12));
}
function Sz(e, t) {
  return Mz(Ez(mr(e), t));
}
const xz = "https://rpc.walletconnect.com/v1";
async function Iz(e, t, r, i, n, s) {
  switch (r.t) {
    case "eip191":
      return Dz(e, t, r.s);
    case "eip1271":
      return await Cz(e, t, r.s, i, n, s);
    default:
      throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`);
  }
}
function Dz(e, t, r) {
  return Sz(t5(t), r).toLowerCase() === e.toLowerCase();
}
async function Cz(e, t, r, i, n, s) {
  try {
    const u = "0x1626ba7e", p = "0000000000000000000000000000000000000000000000000000000000000040", b = "0000000000000000000000000000000000000000000000000000000000000041", m = r.substring(2), w = t5(t).substring(2), S = u + w + p + b + m, C = await fetch(`${s || xz}/?chainId=${i}&projectId=${n}`, { method: "POST", body: JSON.stringify({ id: Nz(), jsonrpc: "2.0", method: "eth_call", params: [{ to: e, data: S }, "latest"] }) }), { result: D } = await C.json();
    return D ? D.slice(0, u.length).toLowerCase() === u.toLowerCase() : !1;
  } catch (u) {
    return console.error("isValidEip1271Signature: ", u), !1;
  }
}
function Nz() {
  return Date.now() + Math.floor(Math.random() * 1e3);
}
var Pz = Object.defineProperty, Rz = Object.defineProperties, Oz = Object.getOwnPropertyDescriptors, l6 = Object.getOwnPropertySymbols, Bz = Object.prototype.hasOwnProperty, Tz = Object.prototype.propertyIsEnumerable, d6 = (e, t, r) => t in e ? Pz(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, Fz = (e, t) => {
  for (var r in t || (t = {}))
    Bz.call(t, r) && d6(e, r, t[r]);
  if (l6)
    for (var r of l6(t))
      Tz.call(t, r) && d6(e, r, t[r]);
  return e;
}, Uz = (e, t) => Rz(e, Oz(t));
const qz = "did:pkh:", S2 = (e) => e == null ? void 0 : e.split(":"), _5 = (e) => {
  const t = e && S2(e);
  if (t)
    return e.includes(qz) ? t[3] : t[1];
}, p6 = (e) => {
  const t = e && S2(e);
  if (t)
    return t[2] + ":" + t[3];
}, H0 = (e) => {
  const t = e && S2(e);
  if (t)
    return t.pop();
};
async function g6(e) {
  const { cacao: t, projectId: r } = e, { s: i, p: n } = t, s = E5(n, n.iss), u = H0(n.iss);
  return await Iz(u, s, i, _5(n.iss), r);
}
const E5 = (e, t) => {
  const r = `${e.domain} wants you to sign in with your Ethereum account:`, i = H0(t);
  if (!e.aud && !e.uri)
    throw new Error("Either `aud` or `uri` is required to construct the message");
  let n = e.statement || void 0;
  const s = `URI: ${e.aud || e.uri}`, u = `Version: ${e.version}`, p = `Chain ID: ${_5(t)}`, b = `Nonce: ${e.nonce}`, m = `Issued At: ${e.iat}`, w = e.exp ? `Expiration Time: ${e.exp}` : void 0, S = e.nbf ? `Not Before: ${e.nbf}` : void 0, C = e.requestId ? `Request ID: ${e.requestId}` : void 0, D = e.resources ? `Resources:${e.resources.map((k) => `
- ${k}`).join("")}` : void 0, P = w0(e.resources);
  if (P) {
    const k = vu(P);
    n = Qz(n, k);
  }
  return [r, i, "", n, "", s, u, p, b, m, w, S, C, D].filter((k) => k != null).join(`
`);
};
function Lz(e) {
  return Buffer.from(JSON.stringify(e)).toString("base64");
}
function kz(e) {
  return JSON.parse(Buffer.from(e, "base64").toString("utf-8"));
}
function Ba(e) {
  if (!e)
    throw new Error("No recap provided, value is undefined");
  if (!e.att)
    throw new Error("No `att` property found");
  const t = Object.keys(e.att);
  if (!(t != null && t.length))
    throw new Error("No resources found in `att` property");
  t.forEach((r) => {
    const i = e.att[r];
    if (Array.isArray(i))
      throw new Error(`Resource must be an object: ${r}`);
    if (typeof i != "object")
      throw new Error(`Resource must be an object: ${r}`);
    if (!Object.keys(i).length)
      throw new Error(`Resource object is empty: ${r}`);
    Object.keys(i).forEach((n) => {
      const s = i[n];
      if (!Array.isArray(s))
        throw new Error(`Ability limits ${n} must be an array of objects, found: ${s}`);
      if (!s.length)
        throw new Error(`Value of ${n} is empty array, must be an array with objects`);
      s.forEach((u) => {
        if (typeof u != "object")
          throw new Error(`Ability limits (${n}) must be an array of objects, found: ${u}`);
      });
    });
  });
}
function zz(e, t, r, i = {}) {
  return r == null || r.sort((n, s) => n.localeCompare(s)), { att: { [e]: $z(t, r, i) } };
}
function $z(e, t, r = {}) {
  t = t == null ? void 0 : t.sort((n, s) => n.localeCompare(s));
  const i = t.map((n) => ({ [`${e}/${n}`]: [r] }));
  return Object.assign({}, ...i);
}
function M5(e) {
  return Ba(e), `urn:recap:${Lz(e).replace(/=/g, "")}`;
}
function vu(e) {
  const t = kz(e.replace("urn:recap:", ""));
  return Ba(t), t;
}
function Hz(e, t, r) {
  const i = zz(e, t, r);
  return M5(i);
}
function jz(e) {
  return e && e.includes("urn:recap:");
}
function Kz(e, t) {
  const r = vu(e), i = vu(t), n = Gz(r, i);
  return M5(n);
}
function Gz(e, t) {
  Ba(e), Ba(t);
  const r = Object.keys(e.att).concat(Object.keys(t.att)).sort((n, s) => n.localeCompare(s)), i = { att: {} };
  return r.forEach((n) => {
    var s, u;
    Object.keys(((s = e.att) == null ? void 0 : s[n]) || {}).concat(Object.keys(((u = t.att) == null ? void 0 : u[n]) || {})).sort((p, b) => p.localeCompare(b)).forEach((p) => {
      var b, m;
      i.att[n] = Uz(Fz({}, i.att[n]), { [p]: ((b = e.att[n]) == null ? void 0 : b[p]) || ((m = t.att[n]) == null ? void 0 : m[p]) });
    });
  }), i;
}
function Qz(e = "", t) {
  Ba(t);
  const r = "I further authorize the stated URI to perform the following actions on my behalf: ";
  if (e.includes(r))
    return e;
  const i = [];
  let n = 0;
  Object.keys(t.att).forEach((p) => {
    const b = Object.keys(t.att[p]).map((S) => ({ ability: S.split("/")[0], action: S.split("/")[1] }));
    b.sort((S, C) => S.action.localeCompare(C.action));
    const m = {};
    b.forEach((S) => {
      m[S.ability] || (m[S.ability] = []), m[S.ability].push(S.action);
    });
    const w = Object.keys(m).map((S) => (n++, `(${n}) '${S}': '${m[S].join("', '")}' for '${p}'.`));
    i.push(w.join(", ").replace(".,", "."));
  });
  const s = i.join(" "), u = `${r}${s}`;
  return `${e ? e + " " : ""}${u}`;
}
function m6(e) {
  var t;
  const r = vu(e);
  Ba(r);
  const i = (t = r.att) == null ? void 0 : t.eip155;
  return i ? Object.keys(i).map((n) => n.split("/")[1]) : [];
}
function v6(e) {
  const t = vu(e);
  Ba(t);
  const r = [];
  return Object.values(t.att).forEach((i) => {
    Object.values(i).forEach((n) => {
      var s;
      (s = n == null ? void 0 : n[0]) != null && s.chains && r.push(n[0].chains);
    });
  }), [...new Set(r.flat())];
}
function w0(e) {
  if (!e)
    return;
  const t = e == null ? void 0 : e[e.length - 1];
  return jz(t) ? t : void 0;
}
const zp = "base16", Jz = "utf8", z1 = 1;
function $1(e) {
  const t = Fa.hash(kr(e, zp));
  return Jr(t, zp);
}
function gh(e) {
  const t = Fa.hash(kr(e, Jz));
  return Jr(t, zp);
}
function df(e) {
  const t = [];
  return e.forEach((r) => {
    const [i, n] = r.split(":");
    t.push(`${i}:${n}`);
  }), t;
}
function Yz(e) {
  const t = [];
  return Object.values(e).forEach((r) => {
    t.push(...df(r.accounts));
  }), t;
}
function Vz(e, t) {
  const r = [];
  return Object.values(e).forEach((i) => {
    df(i.accounts).includes(t) && r.push(...i.methods);
  }), r;
}
function Wz(e, t) {
  const r = [];
  return Object.values(e).forEach((i) => {
    df(i.accounts).includes(t) && r.push(...i.events);
  }), r;
}
function Xz(e) {
  const t = {};
  return e == null || e.forEach((r) => {
    const [i, n] = r.split(":");
    t[i] || (t[i] = { accounts: [], chains: [], events: [] }), t[i].accounts.push(r), t[i].chains.push(`${i}:${n}`);
  }), t;
}
function b6(e, t) {
  t = t.map((i) => i.replace("did:pkh:", ""));
  const r = Xz(t);
  for (const [i, n] of Object.entries(r))
    n.methods ? n.methods = Jq(n.methods, e) : n.methods = e, n.events = ["chainChanged", "accountsChanged"];
  return r;
}
const Zz = { INVALID_METHOD: { message: "Invalid method.", code: 1001 }, INVALID_EVENT: { message: "Invalid event.", code: 1002 }, INVALID_UPDATE_REQUEST: { message: "Invalid update request.", code: 1003 }, INVALID_EXTEND_REQUEST: { message: "Invalid extend request.", code: 1004 }, INVALID_SESSION_SETTLE_REQUEST: { message: "Invalid session settle request.", code: 1005 }, UNAUTHORIZED_METHOD: { message: "Unauthorized method.", code: 3001 }, UNAUTHORIZED_EVENT: { message: "Unauthorized event.", code: 3002 }, UNAUTHORIZED_UPDATE_REQUEST: { message: "Unauthorized update request.", code: 3003 }, UNAUTHORIZED_EXTEND_REQUEST: { message: "Unauthorized extend request.", code: 3004 }, USER_REJECTED: { message: "User rejected.", code: 5e3 }, USER_REJECTED_CHAINS: { message: "User rejected chains.", code: 5001 }, USER_REJECTED_METHODS: { message: "User rejected methods.", code: 5002 }, USER_REJECTED_EVENTS: { message: "User rejected events.", code: 5003 }, UNSUPPORTED_CHAINS: { message: "Unsupported chains.", code: 5100 }, UNSUPPORTED_METHODS: { message: "Unsupported methods.", code: 5101 }, UNSUPPORTED_EVENTS: { message: "Unsupported events.", code: 5102 }, UNSUPPORTED_ACCOUNTS: { message: "Unsupported accounts.", code: 5103 }, UNSUPPORTED_NAMESPACE_KEY: { message: "Unsupported namespace key.", code: 5104 }, USER_DISCONNECTED: { message: "User disconnected.", code: 6e3 }, SESSION_SETTLEMENT_FAILED: { message: "Session settlement failed.", code: 7e3 }, WC_METHOD_UNSUPPORTED: { message: "Unsupported wc_ method.", code: 10001 } }, t$ = { NOT_INITIALIZED: { message: "Not initialized.", code: 1 }, NO_MATCHING_KEY: { message: "No matching key.", code: 2 }, RESTORE_WILL_OVERRIDE: { message: "Restore will override.", code: 3 }, RESUBSCRIBED: { message: "Resubscribed.", code: 4 }, MISSING_OR_INVALID: { message: "Missing or invalid.", code: 5 }, EXPIRED: { message: "Expired.", code: 6 }, UNKNOWN_TYPE: { message: "Unknown type.", code: 7 }, MISMATCHED_TOPIC: { message: "Mismatched topic.", code: 8 }, NON_CONFORMING_NAMESPACES: { message: "Non conforming namespaces.", code: 9 } };
function pe(e, t) {
  const { message: r, code: i } = t$[e];
  return { message: t ? `${r} ${t}` : r, code: i };
}
function Ar(e, t) {
  const { message: r, code: i } = Zz[e];
  return { message: t ? `${r} ${t}` : r, code: i };
}
function Al(e, t) {
  return !!Array.isArray(e);
}
function j0(e) {
  return Object.getPrototypeOf(e) === Object.prototype && Object.keys(e).length;
}
function es(e) {
  return typeof e > "u";
}
function Lr(e, t) {
  return t && es(e) ? !0 : typeof e == "string" && !!e.trim().length;
}
function x2(e, t) {
  return typeof e == "number" && !isNaN(e);
}
function e$(e, t) {
  const { requiredNamespaces: r } = t, i = Object.keys(e.namespaces), n = Object.keys(r);
  let s = !0;
  return Ia(n, i) ? (i.forEach((u) => {
    const { accounts: p, methods: b, events: m } = e.namespaces[u], w = df(p), S = r[u];
    (!Ia(ky(u, S), w) || !Ia(S.methods, b) || !Ia(S.events, m)) && (s = !1);
  }), s) : !1;
}
function K0(e) {
  return Lr(e, !1) && e.includes(":") ? e.split(":").length === 2 : !1;
}
function r$(e) {
  if (Lr(e, !1) && e.includes(":")) {
    const t = e.split(":");
    if (t.length === 3) {
      const r = t[0] + ":" + t[1];
      return !!t[2] && K0(r);
    }
  }
  return !1;
}
function i$(e, t) {
  let r = null;
  return Lr(e == null ? void 0 : e.publicKey, !1) || (r = pe("MISSING_OR_INVALID", `${t} controller public key should be a string`)), r;
}
function y6(e) {
  let t = !0;
  return Al(e) ? e.length && (t = e.every((r) => Lr(r, !1))) : t = !1, t;
}
function n$(e, t, r) {
  let i = null;
  return Al(t) && t.length ? t.forEach((n) => {
    i || K0(n) || (i = Ar("UNSUPPORTED_CHAINS", `${r}, chain ${n} should be a string and conform to "namespace:chainId" format`));
  }) : K0(e) || (i = Ar("UNSUPPORTED_CHAINS", `${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)), i;
}
function s$(e, t, r) {
  let i = null;
  return Object.entries(e).forEach(([n, s]) => {
    if (i)
      return;
    const u = n$(n, ky(n, s), `${t} ${r}`);
    u && (i = u);
  }), i;
}
function o$(e, t) {
  let r = null;
  return Al(e) ? e.forEach((i) => {
    r || r$(i) || (r = Ar("UNSUPPORTED_ACCOUNTS", `${t}, account ${i} should be a string and conform to "namespace:chainId:address" format`));
  }) : r = Ar("UNSUPPORTED_ACCOUNTS", `${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`), r;
}
function a$(e, t) {
  let r = null;
  return Object.values(e).forEach((i) => {
    if (r)
      return;
    const n = o$(i == null ? void 0 : i.accounts, `${t} namespace`);
    n && (r = n);
  }), r;
}
function h$(e, t) {
  let r = null;
  return y6(e == null ? void 0 : e.methods) ? y6(e == null ? void 0 : e.events) || (r = Ar("UNSUPPORTED_EVENTS", `${t}, events should be an array of strings or empty array for no events`)) : r = Ar("UNSUPPORTED_METHODS", `${t}, methods should be an array of strings or empty array for no methods`), r;
}
function S5(e, t) {
  let r = null;
  return Object.values(e).forEach((i) => {
    if (r)
      return;
    const n = h$(i, `${t}, namespace`);
    n && (r = n);
  }), r;
}
function f$(e, t, r) {
  let i = null;
  if (e && j0(e)) {
    const n = S5(e, t);
    n && (i = n);
    const s = s$(e, t, r);
    s && (i = s);
  } else
    i = pe("MISSING_OR_INVALID", `${t}, ${r} should be an object with data`);
  return i;
}
function H1(e, t) {
  let r = null;
  if (e && j0(e)) {
    const i = S5(e, t);
    i && (r = i);
    const n = a$(e, t);
    n && (r = n);
  } else
    r = pe("MISSING_OR_INVALID", `${t}, namespaces should be an object with data`);
  return r;
}
function x5(e) {
  return Lr(e.protocol, !0);
}
function u$(e, t) {
  let r = !1;
  return e ? e && Al(e) && e.length && e.forEach((i) => {
    r = x5(i);
  }) : r = !0, r;
}
function c$(e) {
  return typeof e == "number";
}
function Gn(e) {
  return typeof e < "u" && typeof e !== null;
}
function l$(e) {
  return !(!e || typeof e != "object" || !e.code || !x2(e.code) || !e.message || !Lr(e.message, !1));
}
function d$(e) {
  return !(es(e) || !Lr(e.method, !1));
}
function p$(e) {
  return !(es(e) || es(e.result) && es(e.error) || !x2(e.id) || !Lr(e.jsonrpc, !1));
}
function g$(e) {
  return !(es(e) || !Lr(e.name, !1));
}
function w6(e, t) {
  return !(!K0(t) || !Yz(e).includes(t));
}
function m$(e, t, r) {
  return Lr(r, !1) ? Vz(e, t).includes(r) : !1;
}
function v$(e, t, r) {
  return Lr(r, !1) ? Wz(e, t).includes(r) : !1;
}
function A6(e, t, r) {
  let i = null;
  const n = b$(e), s = y$(t), u = Object.keys(n), p = Object.keys(s), b = _6(Object.keys(e)), m = _6(Object.keys(t)), w = b.filter((S) => !m.includes(S));
  return w.length && (i = pe("NON_CONFORMING_NAMESPACES", `${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${w.toString()}
      Received: ${Object.keys(t).toString()}`)), Ia(u, p) || (i = pe("NON_CONFORMING_NAMESPACES", `${r} namespaces chains don't satisfy required namespaces.
      Required: ${u.toString()}
      Approved: ${p.toString()}`)), Object.keys(t).forEach((S) => {
    if (!S.includes(":") || i)
      return;
    const C = df(t[S].accounts);
    C.includes(S) || (i = pe("NON_CONFORMING_NAMESPACES", `${r} namespaces accounts don't satisfy namespace accounts for ${S}
        Required: ${S}
        Approved: ${C.toString()}`));
  }), u.forEach((S) => {
    i || (Ia(n[S].methods, s[S].methods) ? Ia(n[S].events, s[S].events) || (i = pe("NON_CONFORMING_NAMESPACES", `${r} namespaces events don't satisfy namespace events for ${S}`)) : i = pe("NON_CONFORMING_NAMESPACES", `${r} namespaces methods don't satisfy namespace methods for ${S}`));
  }), i;
}
function b$(e) {
  const t = {};
  return Object.keys(e).forEach((r) => {
    var i;
    r.includes(":") ? t[r] = e[r] : (i = e[r].chains) == null || i.forEach((n) => {
      t[n] = { methods: e[r].methods, events: e[r].events };
    });
  }), t;
}
function _6(e) {
  return [...new Set(e.map((t) => t.includes(":") ? t.split(":")[0] : t))];
}
function y$(e) {
  const t = {};
  return Object.keys(e).forEach((r) => {
    if (r.includes(":"))
      t[r] = e[r];
    else {
      const i = df(e[r].accounts);
      i == null || i.forEach((n) => {
        t[n] = { accounts: e[r].accounts.filter((s) => s.includes(`${n}:`)), methods: e[r].methods, events: e[r].events };
      });
    }
  }), t;
}
function w$(e, t) {
  return x2(e) && e <= t.max && e >= t.min;
}
const j1 = {};
class Jf {
  static get(t) {
    return j1[t];
  }
  static set(t, r) {
    j1[t] = r;
  }
  static delete(t) {
    delete j1[t];
  }
}
const I5 = "wc", D5 = 2, C5 = "client", I2 = `${I5}@${D5}:${C5}:`, K1 = { name: C5, logger: "error", controller: !1, relayUrl: "wss://relay.walletconnect.com" }, E6 = "WALLETCONNECT_DEEPLINK_CHOICE", A$ = "proposal", N5 = "Proposal expired", _$ = "session", mh = Zt.SEVEN_DAYS, E$ = "engine", ei = { wc_sessionPropose: { req: { ttl: Zt.FIVE_MINUTES, prompt: !0, tag: 1100 }, res: { ttl: Zt.FIVE_MINUTES, prompt: !1, tag: 1101 }, reject: { ttl: Zt.FIVE_MINUTES, prompt: !1, tag: 1120 }, autoReject: { ttl: Zt.FIVE_MINUTES, prompt: !1, tag: 1121 } }, wc_sessionSettle: { req: { ttl: Zt.FIVE_MINUTES, prompt: !1, tag: 1102 }, res: { ttl: Zt.FIVE_MINUTES, prompt: !1, tag: 1103 } }, wc_sessionUpdate: { req: { ttl: Zt.ONE_DAY, prompt: !1, tag: 1104 }, res: { ttl: Zt.ONE_DAY, prompt: !1, tag: 1105 } }, wc_sessionExtend: { req: { ttl: Zt.ONE_DAY, prompt: !1, tag: 1106 }, res: { ttl: Zt.ONE_DAY, prompt: !1, tag: 1107 } }, wc_sessionRequest: { req: { ttl: Zt.FIVE_MINUTES, prompt: !0, tag: 1108 }, res: { ttl: Zt.FIVE_MINUTES, prompt: !1, tag: 1109 } }, wc_sessionEvent: { req: { ttl: Zt.FIVE_MINUTES, prompt: !0, tag: 1110 }, res: { ttl: Zt.FIVE_MINUTES, prompt: !1, tag: 1111 } }, wc_sessionDelete: { req: { ttl: Zt.ONE_DAY, prompt: !1, tag: 1112 }, res: { ttl: Zt.ONE_DAY, prompt: !1, tag: 1113 } }, wc_sessionPing: { req: { ttl: Zt.ONE_DAY, prompt: !1, tag: 1114 }, res: { ttl: Zt.ONE_DAY, prompt: !1, tag: 1115 } }, wc_sessionAuthenticate: { req: { ttl: Zt.ONE_HOUR, prompt: !0, tag: 1116 }, res: { ttl: Zt.ONE_HOUR, prompt: !1, tag: 1117 }, reject: { ttl: Zt.FIVE_MINUTES, prompt: !1, tag: 1118 }, autoReject: { ttl: Zt.FIVE_MINUTES, prompt: !1, tag: 1119 } } }, G1 = { min: Zt.FIVE_MINUTES, max: Zt.SEVEN_DAYS }, ms = { idle: "IDLE", active: "ACTIVE" }, M$ = "request", S$ = ["wc_sessionPropose", "wc_sessionRequest", "wc_authRequest", "wc_sessionAuthenticate"], x$ = "wc", I$ = "auth", D$ = "authKeys", C$ = "pairingTopics", N$ = "requests", _l = `${x$}@${1.5}:${I$}:`, A0 = `${_l}:PUB_KEY`;
var P$ = Object.defineProperty, R$ = Object.defineProperties, O$ = Object.getOwnPropertyDescriptors, M6 = Object.getOwnPropertySymbols, B$ = Object.prototype.hasOwnProperty, T$ = Object.prototype.propertyIsEnumerable, S6 = (e, t, r) => t in e ? P$(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, Tr = (e, t) => {
  for (var r in t || (t = {}))
    B$.call(t, r) && S6(e, r, t[r]);
  if (M6)
    for (var r of M6(t))
      T$.call(t, r) && S6(e, r, t[r]);
  return e;
}, Sa = (e, t) => R$(e, O$(t));
class F$ extends zq {
  constructor(t) {
    super(t), this.name = E$, this.events = new Qp(), this.initialized = !1, this.requestQueue = { state: ms.idle, queue: [] }, this.sessionRequestQueue = { state: ms.idle, queue: [] }, this.requestQueueDelay = Zt.ONE_SECOND, this.expectedPairingMethodMap = /* @__PURE__ */ new Map(), this.recentlyDeletedMap = /* @__PURE__ */ new Map(), this.recentlyDeletedLimit = 200, this.relayMessageCache = [], this.init = async () => {
      this.initialized || (await this.cleanup(), this.registerRelayerEvents(), this.registerExpirerEvents(), this.registerPairingEvents(), this.client.core.pairing.register({ methods: Object.keys(ei) }), this.initialized = !0, setTimeout(() => {
        this.sessionRequestQueue.queue = this.getPendingSessionRequests(), this.processSessionRequestQueue();
      }, Zt.toMiliseconds(this.requestQueueDelay)));
    }, this.connect = async (r) => {
      await this.isInitialized();
      const i = Sa(Tr({}, r), { requiredNamespaces: r.requiredNamespaces || {}, optionalNamespaces: r.optionalNamespaces || {} });
      await this.isValidConnect(i);
      const { pairingTopic: n, requiredNamespaces: s, optionalNamespaces: u, sessionProperties: p, relays: b } = i;
      let m = n, w, S = !1;
      try {
        m && (S = this.client.core.pairing.pairings.get(m).active);
      } catch ($) {
        throw this.client.logger.error(`connect() -> pairing.get(${m}) failed`), $;
      }
      if (!m || !S) {
        const { topic: $, uri: j } = await this.client.core.pairing.create();
        m = $, w = j;
      }
      if (!m) {
        const { message: $ } = pe("NO_MATCHING_KEY", `connect() pairing topic: ${m}`);
        throw new Error($);
      }
      const C = await this.client.core.crypto.generateKeyPair(), D = ei.wc_sessionPropose.req.ttl || Zt.FIVE_MINUTES, P = Zi(D), k = Tr({ requiredNamespaces: s, optionalNamespaces: u, relays: b ?? [{ protocol: By }], proposer: { publicKey: C, metadata: this.client.metadata }, expiryTimestamp: P, pairingTopic: m }, p && { sessionProperties: p }), { reject: z, resolve: V, done: Q } = dh(D, N5);
      this.events.once(Ge("session_connect"), async ({ error: $, session: j }) => {
        if ($)
          z($);
        else if (j) {
          j.self.publicKey = C;
          const K = Sa(Tr({}, j), { pairingTopic: k.pairingTopic, requiredNamespaces: k.requiredNamespaces, optionalNamespaces: k.optionalNamespaces });
          await this.client.session.set(j.topic, K), await this.setExpiry(j.topic, j.expiry), m && await this.client.core.pairing.updateMetadata({ topic: m, metadata: j.peer.metadata }), this.cleanupDuplicatePairings(K), V(K);
        }
      });
      const W = await this.sendRequest({ topic: m, method: "wc_sessionPropose", params: k, throwOnFailedPublish: !0 });
      return await this.setProposal(W, Tr({ id: W }, k)), { uri: w, approval: Q };
    }, this.pair = async (r) => {
      await this.isInitialized();
      try {
        return await this.client.core.pairing.pair(r);
      } catch (i) {
        throw this.client.logger.error("pair() failed"), i;
      }
    }, this.approve = async (r) => {
      var i, n, s;
      const u = this.client.core.eventClient.createEvent({ properties: { topic: (i = r == null ? void 0 : r.id) == null ? void 0 : i.toString(), trace: [jn.session_approve_started] } });
      try {
        await this.isInitialized();
      } catch (N) {
        throw u.setError(Ea.no_internet_connection), N;
      }
      try {
        await this.isValidProposalId(r == null ? void 0 : r.id);
      } catch (N) {
        throw this.client.logger.error(`approve() -> proposal.get(${r == null ? void 0 : r.id}) failed`), u.setError(Ea.proposal_not_found), N;
      }
      try {
        await this.isValidApprove(r);
      } catch (N) {
        throw this.client.logger.error("approve() -> isValidApprove() failed"), u.setError(Ea.session_approve_namespace_validation_failure), N;
      }
      const { id: p, relayProtocol: b, namespaces: m, sessionProperties: w, sessionConfig: S } = r, C = this.client.proposal.get(p);
      this.client.core.eventClient.deleteEvent({ eventId: u.eventId });
      const { pairingTopic: D, proposer: P, requiredNamespaces: k, optionalNamespaces: z } = C;
      let V = (n = this.client.core.eventClient) == null ? void 0 : n.getEvent({ topic: D });
      V || (V = (s = this.client.core.eventClient) == null ? void 0 : s.createEvent({ type: jn.session_approve_started, properties: { topic: D, trace: [jn.session_approve_started, jn.session_namespaces_validation_success] } }));
      const Q = await this.client.core.crypto.generateKeyPair(), W = P.publicKey, $ = await this.client.core.crypto.generateSharedKey(Q, W), j = Tr(Tr({ relay: { protocol: b ?? "irn" }, namespaces: m, controller: { publicKey: Q, metadata: this.client.metadata }, expiry: Zi(mh) }, w && { sessionProperties: w }), S && { sessionConfig: S });
      V.addTrace(jn.subscribing_session_topic);
      try {
        await this.client.core.relayer.subscribe($);
      } catch (N) {
        throw V.setError(Ea.subscribe_session_topic_failure), N;
      }
      V.addTrace(jn.subscribe_session_topic_success);
      const K = Sa(Tr({}, j), { topic: $, requiredNamespaces: k, optionalNamespaces: z, pairingTopic: D, acknowledged: !1, self: j.controller, peer: { publicKey: P.publicKey, metadata: P.metadata }, controller: Q });
      await this.client.session.set($, K), V.addTrace(jn.store_session);
      try {
        V.addTrace(jn.publishing_session_settle), await this.sendRequest({ topic: $, method: "wc_sessionSettle", params: j, throwOnFailedPublish: !0 }).catch((N) => {
          throw V == null || V.setError(Ea.session_settle_publish_failure), N;
        }), V.addTrace(jn.session_settle_publish_success), V.addTrace(jn.publishing_session_approve), await this.sendResult({ id: p, topic: D, result: { relay: { protocol: b ?? "irn" }, responderPublicKey: Q }, throwOnFailedPublish: !0 }).catch((N) => {
          throw V == null || V.setError(Ea.session_approve_publish_failure), N;
        }), V.addTrace(jn.session_approve_publish_success);
      } catch (N) {
        throw this.client.logger.error(N), this.client.session.delete($, Ar("USER_DISCONNECTED")), await this.client.core.relayer.unsubscribe($), N;
      }
      return this.client.core.eventClient.deleteEvent({ eventId: V.eventId }), await this.client.core.pairing.updateMetadata({ topic: D, metadata: P.metadata }), await this.client.proposal.delete(p, Ar("USER_DISCONNECTED")), await this.client.core.pairing.activate({ topic: D }), await this.setExpiry($, Zi(mh)), { topic: $, acknowledged: () => Promise.resolve(this.client.session.get($)) };
    }, this.reject = async (r) => {
      await this.isInitialized();
      try {
        await this.isValidReject(r);
      } catch (u) {
        throw this.client.logger.error("reject() -> isValidReject() failed"), u;
      }
      const { id: i, reason: n } = r;
      let s;
      try {
        s = this.client.proposal.get(i).pairingTopic;
      } catch (u) {
        throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`), u;
      }
      s && (await this.sendError({ id: i, topic: s, error: n, rpcOpts: ei.wc_sessionPropose.reject }), await this.client.proposal.delete(i, Ar("USER_DISCONNECTED")));
    }, this.update = async (r) => {
      await this.isInitialized();
      try {
        await this.isValidUpdate(r);
      } catch (S) {
        throw this.client.logger.error("update() -> isValidUpdate() failed"), S;
      }
      const { topic: i, namespaces: n } = r, { done: s, resolve: u, reject: p } = dh(), b = Qo(), m = xa().toString(), w = this.client.session.get(i).namespaces;
      return this.events.once(Ge("session_update", b), ({ error: S }) => {
        S ? p(S) : u();
      }), await this.client.session.update(i, { namespaces: n }), await this.sendRequest({ topic: i, method: "wc_sessionUpdate", params: { namespaces: n }, throwOnFailedPublish: !0, clientRpcId: b, relayRpcId: m }).catch((S) => {
        this.client.logger.error(S), this.client.session.update(i, { namespaces: w }), p(S);
      }), { acknowledged: s };
    }, this.extend = async (r) => {
      await this.isInitialized();
      try {
        await this.isValidExtend(r);
      } catch (b) {
        throw this.client.logger.error("extend() -> isValidExtend() failed"), b;
      }
      const { topic: i } = r, n = Qo(), { done: s, resolve: u, reject: p } = dh();
      return this.events.once(Ge("session_extend", n), ({ error: b }) => {
        b ? p(b) : u();
      }), await this.setExpiry(i, Zi(mh)), this.sendRequest({ topic: i, method: "wc_sessionExtend", params: {}, clientRpcId: n, throwOnFailedPublish: !0 }).catch((b) => {
        p(b);
      }), { acknowledged: s };
    }, this.request = async (r) => {
      await this.isInitialized();
      try {
        await this.isValidRequest(r);
      } catch (D) {
        throw this.client.logger.error("request() -> isValidRequest() failed"), D;
      }
      const { chainId: i, request: n, topic: s, expiry: u = ei.wc_sessionRequest.req.ttl } = r, p = this.client.session.get(s), b = Qo(), m = xa().toString(), { done: w, resolve: S, reject: C } = dh(u, "Request expired. Please try again.");
      return this.events.once(Ge("session_request", b), ({ error: D, result: P }) => {
        D ? C(D) : S(P);
      }), await Promise.all([new Promise(async (D) => {
        await this.sendRequest({ clientRpcId: b, relayRpcId: m, topic: s, method: "wc_sessionRequest", params: { request: Sa(Tr({}, n), { expiryTimestamp: Zi(u) }), chainId: i }, expiry: u, throwOnFailedPublish: !0 }).catch((P) => C(P)), this.client.events.emit("session_request_sent", { topic: s, request: n, chainId: i, id: b }), D();
      }), new Promise(async (D) => {
        var P;
        if (!((P = p.sessionConfig) != null && P.disableDeepLink)) {
          const k = await Vq(this.client.core.storage, E6);
          Yq({ id: b, topic: s, wcDeepLink: k });
        }
        D();
      }), w()]).then((D) => D[2]);
    }, this.respond = async (r) => {
      await this.isInitialized(), await this.isValidRespond(r);
      const { topic: i, response: n } = r, { id: s } = n;
      _s(n) ? await this.sendResult({ id: s, topic: i, result: n.result, throwOnFailedPublish: !0 }) : xn(n) && await this.sendError({ id: s, topic: i, error: n.error }), this.cleanupAfterResponse(r);
    }, this.ping = async (r) => {
      await this.isInitialized();
      try {
        await this.isValidPing(r);
      } catch (n) {
        throw this.client.logger.error("ping() -> isValidPing() failed"), n;
      }
      const { topic: i } = r;
      if (this.client.session.keys.includes(i)) {
        const n = Qo(), s = xa().toString(), { done: u, resolve: p, reject: b } = dh();
        this.events.once(Ge("session_ping", n), ({ error: m }) => {
          m ? b(m) : p();
        }), await Promise.all([this.sendRequest({ topic: i, method: "wc_sessionPing", params: {}, throwOnFailedPublish: !0, clientRpcId: n, relayRpcId: s }), u()]);
      } else
        this.client.core.pairing.pairings.keys.includes(i) && await this.client.core.pairing.ping({ topic: i });
    }, this.emit = async (r) => {
      await this.isInitialized(), await this.isValidEmit(r);
      const { topic: i, event: n, chainId: s } = r, u = xa().toString();
      await this.sendRequest({ topic: i, method: "wc_sessionEvent", params: { event: n, chainId: s }, throwOnFailedPublish: !0, relayRpcId: u });
    }, this.disconnect = async (r) => {
      await this.isInitialized(), await this.isValidDisconnect(r);
      const { topic: i } = r;
      if (this.client.session.keys.includes(i))
        await this.sendRequest({ topic: i, method: "wc_sessionDelete", params: Ar("USER_DISCONNECTED"), throwOnFailedPublish: !0 }), await this.deleteSession({ topic: i, emitEvent: !1 });
      else if (this.client.core.pairing.pairings.keys.includes(i))
        await this.client.core.pairing.disconnect({ topic: i });
      else {
        const { message: n } = pe("MISMATCHED_TOPIC", `Session or pairing topic not found: ${i}`);
        throw new Error(n);
      }
    }, this.find = (r) => (this.isInitialized(), this.client.session.getAll().filter((i) => e$(i, r))), this.getPendingSessionRequests = () => this.client.pendingRequest.getAll(), this.authenticate = async (r) => {
      this.isInitialized(), this.isValidAuthenticate(r);
      const { chains: i, statement: n = "", uri: s, domain: u, nonce: p, type: b, exp: m, nbf: w, methods: S = [], expiry: C } = r, D = [...r.resources || []], { topic: P, uri: k } = await this.client.core.pairing.create({ methods: ["wc_sessionAuthenticate"] });
      this.client.logger.info({ message: "Generated new pairing", pairing: { topic: P, uri: k } });
      const z = await this.client.core.crypto.generateKeyPair(), V = $1(z);
      if (await Promise.all([this.client.auth.authKeys.set(A0, { responseTopic: V, publicKey: z }), this.client.auth.pairingTopics.set(V, { topic: V, pairingTopic: P })]), await this.client.core.relayer.subscribe(V), this.client.logger.info(`sending request to new pairing topic: ${P}`), S.length > 0) {
        const { namespace: o } = S1(i[0]);
        let h = Hz(o, "request", S);
        w0(D) && (h = Kz(h, D.pop())), D.push(h);
      }
      const Q = C && C > ei.wc_sessionAuthenticate.req.ttl ? C : ei.wc_sessionAuthenticate.req.ttl, W = { authPayload: { type: b ?? "caip122", chains: i, statement: n, aud: s, domain: u, version: "1", nonce: p, iat: (/* @__PURE__ */ new Date()).toISOString(), exp: m, nbf: w, resources: D }, requester: { publicKey: z, metadata: this.client.metadata }, expiryTimestamp: Zi(Q) }, $ = { eip155: { chains: i, methods: [.../* @__PURE__ */ new Set(["personal_sign", ...S])], events: ["chainChanged", "accountsChanged"] } }, j = { requiredNamespaces: {}, optionalNamespaces: $, relays: [{ protocol: "irn" }], pairingTopic: P, proposer: { publicKey: z, metadata: this.client.metadata }, expiryTimestamp: Zi(ei.wc_sessionPropose.req.ttl) }, { done: K, resolve: N, reject: H } = dh(Q, "Request expired"), st = async ({ error: o, session: h }) => {
        if (this.events.off(Ge("session_request", L), ct), o)
          H(o);
        else if (h) {
          h.self.publicKey = z, await this.client.session.set(h.topic, h), await this.setExpiry(h.topic, h.expiry), P && await this.client.core.pairing.updateMetadata({ topic: P, metadata: h.peer.metadata });
          const c = this.client.session.get(h.topic);
          await this.deleteProposal(I), N({ session: c });
        }
      }, ct = async (o) => {
        if (await this.deletePendingAuthRequest(L, { message: "fulfilled", code: 0 }), o.error) {
          const d = Ar("WC_METHOD_UNSUPPORTED", "wc_sessionAuthenticate");
          return o.error.code === d.code ? void 0 : (this.events.off(Ge("session_connect"), st), H(o.error.message));
        }
        await this.deleteProposal(I), this.events.off(Ge("session_connect"), st);
        const { cacaos: h, responder: c } = o.result, v = [], y = [];
        for (const d of h) {
          await g6({ cacao: d, projectId: this.client.core.projectId }) || (this.client.logger.error(d, "Signature verification failed"), H(Ar("SESSION_SETTLEMENT_FAILED", "Signature verification failed")));
          const { p: f } = d, _ = w0(f.resources), Y = [p6(f.iss)], X = H0(f.iss);
          if (_) {
            const g = m6(_), F = v6(_);
            v.push(...g), Y.push(...F);
          }
          for (const g of Y)
            y.push(`${g}:${X}`);
        }
        const M = await this.client.core.crypto.generateSharedKey(z, c.publicKey);
        let E;
        v.length > 0 && (E = { topic: M, acknowledged: !0, self: { publicKey: z, metadata: this.client.metadata }, peer: c, controller: c.publicKey, expiry: Zi(mh), requiredNamespaces: {}, optionalNamespaces: {}, relay: { protocol: "irn" }, pairingTopic: P, namespaces: b6([...new Set(v)], [...new Set(y)]) }, await this.client.core.relayer.subscribe(M), await this.client.session.set(M, E), P && await this.client.core.pairing.updateMetadata({ topic: P, metadata: c.metadata }), E = this.client.session.get(M)), N({ auths: h, session: E });
      }, L = Qo(), I = Qo();
      this.events.once(Ge("session_connect"), st), this.events.once(Ge("session_request", L), ct);
      try {
        await Promise.all([this.sendRequest({ topic: P, method: "wc_sessionAuthenticate", params: W, expiry: r.expiry, throwOnFailedPublish: !0, clientRpcId: L }), this.sendRequest({ topic: P, method: "wc_sessionPropose", params: j, expiry: ei.wc_sessionPropose.req.ttl, throwOnFailedPublish: !0, clientRpcId: I })]);
      } catch (o) {
        throw this.events.off(Ge("session_connect"), st), this.events.off(Ge("session_request", L), ct), o;
      }
      return await this.setProposal(I, Tr({ id: I }, j)), await this.setAuthRequest(L, { request: Sa(Tr({}, W), { verifyContext: {} }), pairingTopic: P }), { uri: k, response: K };
    }, this.approveSessionAuthenticate = async (r) => {
      const { id: i, auths: n } = r, s = this.client.core.eventClient.createEvent({ properties: { topic: i.toString(), trace: [Ma.authenticated_session_approve_started] } });
      try {
        this.isInitialized();
      } catch (k) {
        throw s.setError($f.no_internet_connection), k;
      }
      const u = this.getPendingAuthRequest(i);
      if (!u)
        throw s.setError($f.authenticated_session_pending_request_not_found), new Error(`Could not find pending auth request with id ${i}`);
      const p = u.requester.publicKey, b = await this.client.core.crypto.generateKeyPair(), m = $1(p), w = { type: z1, receiverPublicKey: p, senderPublicKey: b }, S = [], C = [];
      for (const k of n) {
        if (!await g6({ cacao: k, projectId: this.client.core.projectId })) {
          s.setError($f.invalid_cacao);
          const $ = Ar("SESSION_SETTLEMENT_FAILED", "Signature verification failed");
          throw await this.sendError({ id: i, topic: m, error: $, encodeOpts: w }), new Error($.message);
        }
        s.addTrace(Ma.cacaos_verified);
        const { p: z } = k, V = w0(z.resources), Q = [p6(z.iss)], W = H0(z.iss);
        if (V) {
          const $ = m6(V), j = v6(V);
          S.push(...$), Q.push(...j);
        }
        for (const $ of Q)
          C.push(`${$}:${W}`);
      }
      const D = await this.client.core.crypto.generateSharedKey(b, p);
      s.addTrace(Ma.create_authenticated_session_topic);
      let P;
      if ((S == null ? void 0 : S.length) > 0) {
        P = { topic: D, acknowledged: !0, self: { publicKey: b, metadata: this.client.metadata }, peer: { publicKey: p, metadata: u.requester.metadata }, controller: p, expiry: Zi(mh), authentication: n, requiredNamespaces: {}, optionalNamespaces: {}, relay: { protocol: "irn" }, pairingTopic: u.pairingTopic, namespaces: b6([...new Set(S)], [...new Set(C)]) }, s.addTrace(Ma.subscribing_authenticated_session_topic);
        try {
          await this.client.core.relayer.subscribe(D);
        } catch (k) {
          throw s.setError($f.subscribe_authenticated_session_topic_failure), k;
        }
        s.addTrace(Ma.subscribe_authenticated_session_topic_success), await this.client.session.set(D, P), s.addTrace(Ma.store_authenticated_session), await this.client.core.pairing.updateMetadata({ topic: u.pairingTopic, metadata: u.requester.metadata });
      }
      s.addTrace(Ma.publishing_authenticated_session_approve);
      try {
        await this.sendResult({ topic: m, id: i, result: { cacaos: n, responder: { publicKey: b, metadata: this.client.metadata } }, encodeOpts: w, throwOnFailedPublish: !0 });
      } catch (k) {
        throw s.setError($f.authenticated_session_approve_publish_failure), k;
      }
      return await this.client.auth.requests.delete(i, { message: "fulfilled", code: 0 }), await this.client.core.pairing.activate({ topic: u.pairingTopic }), this.client.core.eventClient.deleteEvent({ eventId: s.eventId }), { session: P };
    }, this.rejectSessionAuthenticate = async (r) => {
      await this.isInitialized();
      const { id: i, reason: n } = r, s = this.getPendingAuthRequest(i);
      if (!s)
        throw new Error(`Could not find pending auth request with id ${i}`);
      const u = s.requester.publicKey, p = await this.client.core.crypto.generateKeyPair(), b = $1(u), m = { type: z1, receiverPublicKey: u, senderPublicKey: p };
      await this.sendError({ id: i, topic: b, error: n, encodeOpts: m, rpcOpts: ei.wc_sessionAuthenticate.reject }), await this.client.auth.requests.delete(i, { message: "rejected", code: 0 }), await this.client.proposal.delete(i, Ar("USER_DISCONNECTED"));
    }, this.formatAuthMessage = (r) => {
      this.isInitialized();
      const { request: i, iss: n } = r;
      return E5(i, n);
    }, this.processRelayMessageCache = () => {
      setTimeout(async () => {
        if (this.relayMessageCache.length !== 0)
          for (; this.relayMessageCache.length > 0; )
            try {
              const r = this.relayMessageCache.shift();
              r && await this.onRelayMessage(r);
            } catch (r) {
              this.client.logger.error(r);
            }
      }, 50);
    }, this.cleanupDuplicatePairings = async (r) => {
      if (r.pairingTopic)
        try {
          const i = this.client.core.pairing.pairings.get(r.pairingTopic), n = this.client.core.pairing.pairings.getAll().filter((s) => {
            var u, p;
            return ((u = s.peerMetadata) == null ? void 0 : u.url) && ((p = s.peerMetadata) == null ? void 0 : p.url) === r.peer.metadata.url && s.topic && s.topic !== i.topic;
          });
          if (n.length === 0)
            return;
          this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`), await Promise.all(n.map((s) => this.client.core.pairing.disconnect({ topic: s.topic }))), this.client.logger.info("Duplicate pairings clean up finished");
        } catch (i) {
          this.client.logger.error(i);
        }
    }, this.deleteSession = async (r) => {
      var i;
      const { topic: n, expirerHasDeleted: s = !1, emitEvent: u = !0, id: p = 0 } = r, { self: b } = this.client.session.get(n);
      await this.client.core.relayer.unsubscribe(n), await this.client.session.delete(n, Ar("USER_DISCONNECTED")), this.addToRecentlyDeleted(n, "session"), this.client.core.crypto.keychain.has(b.publicKey) && await this.client.core.crypto.deleteKeyPair(b.publicKey), this.client.core.crypto.keychain.has(n) && await this.client.core.crypto.deleteSymKey(n), s || this.client.core.expirer.del(n), this.client.core.storage.removeItem(E6).catch((m) => this.client.logger.warn(m)), this.getPendingSessionRequests().forEach((m) => {
        m.topic === n && this.deletePendingSessionRequest(m.id, Ar("USER_DISCONNECTED"));
      }), n === ((i = this.sessionRequestQueue.queue[0]) == null ? void 0 : i.topic) && (this.sessionRequestQueue.state = ms.idle), u && this.client.events.emit("session_delete", { id: p, topic: n });
    }, this.deleteProposal = async (r, i) => {
      if (i)
        try {
          const n = this.client.proposal.get(r), s = this.client.core.eventClient.getEvent({ topic: n.pairingTopic });
          s == null || s.setError(Ea.proposal_expired);
        } catch {
        }
      await Promise.all([this.client.proposal.delete(r, Ar("USER_DISCONNECTED")), i ? Promise.resolve() : this.client.core.expirer.del(r)]), this.addToRecentlyDeleted(r, "proposal");
    }, this.deletePendingSessionRequest = async (r, i, n = !1) => {
      await Promise.all([this.client.pendingRequest.delete(r, i), n ? Promise.resolve() : this.client.core.expirer.del(r)]), this.addToRecentlyDeleted(r, "request"), this.sessionRequestQueue.queue = this.sessionRequestQueue.queue.filter((s) => s.id !== r), n && (this.sessionRequestQueue.state = ms.idle, this.client.events.emit("session_request_expire", { id: r }));
    }, this.deletePendingAuthRequest = async (r, i, n = !1) => {
      await Promise.all([this.client.auth.requests.delete(r, i), n ? Promise.resolve() : this.client.core.expirer.del(r)]);
    }, this.setExpiry = async (r, i) => {
      this.client.session.keys.includes(r) && (this.client.core.expirer.set(r, i), await this.client.session.update(r, { expiry: i }));
    }, this.setProposal = async (r, i) => {
      this.client.core.expirer.set(r, Zi(ei.wc_sessionPropose.req.ttl)), await this.client.proposal.set(r, i);
    }, this.setAuthRequest = async (r, i) => {
      const { request: n, pairingTopic: s } = i;
      this.client.core.expirer.set(r, n.expiryTimestamp), await this.client.auth.requests.set(r, { authPayload: n.authPayload, requester: n.requester, expiryTimestamp: n.expiryTimestamp, id: r, pairingTopic: s, verifyContext: n.verifyContext });
    }, this.setPendingSessionRequest = async (r) => {
      const { id: i, topic: n, params: s, verifyContext: u } = r, p = s.request.expiryTimestamp || Zi(ei.wc_sessionRequest.req.ttl);
      this.client.core.expirer.set(i, p), await this.client.pendingRequest.set(i, { id: i, topic: n, params: s, verifyContext: u });
    }, this.sendRequest = async (r) => {
      const { topic: i, method: n, params: s, expiry: u, relayRpcId: p, clientRpcId: b, throwOnFailedPublish: m } = r, w = Ch(n, s, b);
      let S;
      try {
        S = await this.client.core.crypto.encode(i, w);
      } catch (P) {
        throw await this.cleanup(), this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`), P;
      }
      let C;
      if (S$.includes(n)) {
        const P = gh(JSON.stringify(w)), k = gh(S);
        C = await this.client.core.verify.register({ id: k, decryptedId: P });
      }
      const D = ei[n].req;
      return D.attestation = C, u && (D.ttl = u), p && (D.id = p), this.client.core.history.set(i, w), m ? (D.internal = Sa(Tr({}, D.internal), { throwOnFailedPublish: !0 }), await this.client.core.relayer.publish(i, S, D)) : this.client.core.relayer.publish(i, S, D).catch((P) => this.client.logger.error(P)), w.id;
    }, this.sendResult = async (r) => {
      const { id: i, topic: n, result: s, throwOnFailedPublish: u, encodeOpts: p } = r, b = ml(i, s);
      let m;
      try {
        m = await this.client.core.crypto.encode(n, b, p);
      } catch (C) {
        throw await this.cleanup(), this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`), C;
      }
      let w;
      try {
        w = await this.client.core.history.get(n, i);
      } catch (C) {
        throw this.client.logger.error(`sendResult() -> history.get(${n}, ${i}) failed`), C;
      }
      const S = ei[w.request.method].res;
      u ? (S.internal = Sa(Tr({}, S.internal), { throwOnFailedPublish: !0 }), await this.client.core.relayer.publish(n, m, S)) : this.client.core.relayer.publish(n, m, S).catch((C) => this.client.logger.error(C)), await this.client.core.history.resolve(b);
    }, this.sendError = async (r) => {
      const { id: i, topic: n, error: s, encodeOpts: u, rpcOpts: p } = r, b = vl(i, s);
      let m;
      try {
        m = await this.client.core.crypto.encode(n, b, u);
      } catch (C) {
        throw await this.cleanup(), this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`), C;
      }
      let w;
      try {
        w = await this.client.core.history.get(n, i);
      } catch (C) {
        throw this.client.logger.error(`sendError() -> history.get(${n}, ${i}) failed`), C;
      }
      const S = p || ei[w.request.method].res;
      this.client.core.relayer.publish(n, m, S), await this.client.core.history.resolve(b);
    }, this.cleanup = async () => {
      const r = [], i = [];
      this.client.session.getAll().forEach((n) => {
        let s = !1;
        ph(n.expiry) && (s = !0), this.client.core.crypto.keychain.has(n.topic) || (s = !0), s && r.push(n.topic);
      }), this.client.proposal.getAll().forEach((n) => {
        ph(n.expiryTimestamp) && i.push(n.id);
      }), await Promise.all([...r.map((n) => this.deleteSession({ topic: n })), ...i.map((n) => this.deleteProposal(n))]);
    }, this.onRelayEventRequest = async (r) => {
      this.requestQueue.queue.push(r), await this.processRequestsQueue();
    }, this.processRequestsQueue = async () => {
      if (this.requestQueue.state === ms.active) {
        this.client.logger.info("Request queue already active, skipping...");
        return;
      }
      for (this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`); this.requestQueue.queue.length > 0; ) {
        this.requestQueue.state = ms.active;
        const r = this.requestQueue.queue.shift();
        if (r)
          try {
            await this.processRequest(r);
          } catch (i) {
            this.client.logger.warn(i);
          }
      }
      this.requestQueue.state = ms.idle;
    }, this.processRequest = async (r) => {
      const { topic: i, payload: n, attestation: s, encryptedId: u } = r, p = n.method;
      if (!this.shouldIgnorePairingRequest({ topic: i, requestMethod: p }))
        switch (p) {
          case "wc_sessionPropose":
            return await this.onSessionProposeRequest({ topic: i, payload: n, attestation: s, encryptedId: u });
          case "wc_sessionSettle":
            return await this.onSessionSettleRequest(i, n);
          case "wc_sessionUpdate":
            return await this.onSessionUpdateRequest(i, n);
          case "wc_sessionExtend":
            return await this.onSessionExtendRequest(i, n);
          case "wc_sessionPing":
            return await this.onSessionPingRequest(i, n);
          case "wc_sessionDelete":
            return await this.onSessionDeleteRequest(i, n);
          case "wc_sessionRequest":
            return await this.onSessionRequest({ topic: i, payload: n, attestation: s, encryptedId: u });
          case "wc_sessionEvent":
            return await this.onSessionEventRequest(i, n);
          case "wc_sessionAuthenticate":
            return await this.onSessionAuthenticateRequest({ topic: i, payload: n, attestation: s, encryptedId: u });
          default:
            return this.client.logger.info(`Unsupported request method ${p}`);
        }
    }, this.onRelayEventResponse = async (r) => {
      const { topic: i, payload: n } = r, s = (await this.client.core.history.get(i, n.id)).request.method;
      switch (s) {
        case "wc_sessionPropose":
          return this.onSessionProposeResponse(i, n);
        case "wc_sessionSettle":
          return this.onSessionSettleResponse(i, n);
        case "wc_sessionUpdate":
          return this.onSessionUpdateResponse(i, n);
        case "wc_sessionExtend":
          return this.onSessionExtendResponse(i, n);
        case "wc_sessionPing":
          return this.onSessionPingResponse(i, n);
        case "wc_sessionRequest":
          return this.onSessionRequestResponse(i, n);
        case "wc_sessionAuthenticate":
          return this.onSessionAuthenticateResponse(i, n);
        default:
          return this.client.logger.info(`Unsupported response method ${s}`);
      }
    }, this.onRelayEventUnknownPayload = (r) => {
      const { topic: i } = r, { message: n } = pe("MISSING_OR_INVALID", `Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);
      throw new Error(n);
    }, this.shouldIgnorePairingRequest = (r) => {
      const { topic: i, requestMethod: n } = r, s = this.expectedPairingMethodMap.get(i);
      return !s || s.includes(n) ? !1 : !!(s.includes("wc_sessionAuthenticate") && this.client.events.listenerCount("session_authenticate") > 0);
    }, this.onSessionProposeRequest = async (r) => {
      const { topic: i, payload: n, attestation: s, encryptedId: u } = r, { params: p, id: b } = n;
      try {
        const m = this.client.core.eventClient.getEvent({ topic: i });
        this.isValidConnect(Tr({}, n.params));
        const w = p.expiryTimestamp || Zi(ei.wc_sessionPropose.req.ttl), S = Tr({ id: b, pairingTopic: i, expiryTimestamp: w }, p);
        await this.setProposal(b, S);
        const C = await this.getVerifyContext({ attestationId: s, hash: gh(JSON.stringify(n)), encryptedId: u, metadata: S.proposer.metadata });
        this.client.events.listenerCount("session_proposal") === 0 && (console.warn("No listener for session_proposal event"), m == null || m.setError(bo.proposal_listener_not_found)), m == null || m.addTrace(vs.emit_session_proposal), this.client.events.emit("session_proposal", { id: b, params: S, verifyContext: C });
      } catch (m) {
        await this.sendError({ id: b, topic: i, error: m, rpcOpts: ei.wc_sessionPropose.autoReject }), this.client.logger.error(m);
      }
    }, this.onSessionProposeResponse = async (r, i) => {
      const { id: n } = i;
      if (_s(i)) {
        const { result: s } = i;
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", result: s });
        const u = this.client.proposal.get(n);
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", proposal: u });
        const p = u.proposer.publicKey;
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", selfPublicKey: p });
        const b = s.responderPublicKey;
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", peerPublicKey: b });
        const m = await this.client.core.crypto.generateSharedKey(p, b);
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", sessionTopic: m });
        const w = await this.client.core.relayer.subscribe(m);
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", subscriptionId: w }), await this.client.core.pairing.activate({ topic: r });
      } else if (xn(i)) {
        await this.client.proposal.delete(n, Ar("USER_DISCONNECTED"));
        const s = Ge("session_connect");
        if (this.events.listenerCount(s) === 0)
          throw new Error(`emitting ${s} without any listeners, 954`);
        this.events.emit(Ge("session_connect"), { error: i.error });
      }
    }, this.onSessionSettleRequest = async (r, i) => {
      const { id: n, params: s } = i;
      try {
        this.isValidSessionSettleRequest(s);
        const { relay: u, controller: p, expiry: b, namespaces: m, sessionProperties: w, sessionConfig: S } = i.params, C = Tr(Tr({ topic: r, relay: u, expiry: b, namespaces: m, acknowledged: !0, pairingTopic: "", requiredNamespaces: {}, optionalNamespaces: {}, controller: p.publicKey, self: { publicKey: "", metadata: this.client.metadata }, peer: { publicKey: p.publicKey, metadata: p.metadata } }, w && { sessionProperties: w }), S && { sessionConfig: S }), D = Ge("session_connect");
        if (this.events.listenerCount(D) === 0)
          throw new Error(`emitting ${D} without any listeners 997`);
        this.events.emit(Ge("session_connect"), { session: C }), await this.sendResult({ id: i.id, topic: r, result: !0, throwOnFailedPublish: !0 });
      } catch (u) {
        await this.sendError({ id: n, topic: r, error: u }), this.client.logger.error(u);
      }
    }, this.onSessionSettleResponse = async (r, i) => {
      const { id: n } = i;
      _s(i) ? (await this.client.session.update(r, { acknowledged: !0 }), this.events.emit(Ge("session_approve", n), {})) : xn(i) && (await this.client.session.delete(r, Ar("USER_DISCONNECTED")), this.events.emit(Ge("session_approve", n), { error: i.error }));
    }, this.onSessionUpdateRequest = async (r, i) => {
      const { params: n, id: s } = i;
      try {
        const u = `${r}_session_update`, p = Jf.get(u);
        if (p && this.isRequestOutOfSync(p, s)) {
          this.client.logger.info(`Discarding out of sync request - ${s}`), this.sendError({ id: s, topic: r, error: Ar("INVALID_UPDATE_REQUEST") });
          return;
        }
        this.isValidUpdate(Tr({ topic: r }, n));
        try {
          Jf.set(u, s), await this.client.session.update(r, { namespaces: n.namespaces }), await this.sendResult({ id: s, topic: r, result: !0, throwOnFailedPublish: !0 });
        } catch (b) {
          throw Jf.delete(u), b;
        }
        this.client.events.emit("session_update", { id: s, topic: r, params: n });
      } catch (u) {
        await this.sendError({ id: s, topic: r, error: u }), this.client.logger.error(u);
      }
    }, this.isRequestOutOfSync = (r, i) => parseInt(i.toString().slice(0, -3)) <= parseInt(r.toString().slice(0, -3)), this.onSessionUpdateResponse = (r, i) => {
      const { id: n } = i, s = Ge("session_update", n);
      if (this.events.listenerCount(s) === 0)
        throw new Error(`emitting ${s} without any listeners`);
      _s(i) ? this.events.emit(Ge("session_update", n), {}) : xn(i) && this.events.emit(Ge("session_update", n), { error: i.error });
    }, this.onSessionExtendRequest = async (r, i) => {
      const { id: n } = i;
      try {
        this.isValidExtend({ topic: r }), await this.setExpiry(r, Zi(mh)), await this.sendResult({ id: n, topic: r, result: !0, throwOnFailedPublish: !0 }), this.client.events.emit("session_extend", { id: n, topic: r });
      } catch (s) {
        await this.sendError({ id: n, topic: r, error: s }), this.client.logger.error(s);
      }
    }, this.onSessionExtendResponse = (r, i) => {
      const { id: n } = i, s = Ge("session_extend", n);
      if (this.events.listenerCount(s) === 0)
        throw new Error(`emitting ${s} without any listeners`);
      _s(i) ? this.events.emit(Ge("session_extend", n), {}) : xn(i) && this.events.emit(Ge("session_extend", n), { error: i.error });
    }, this.onSessionPingRequest = async (r, i) => {
      const { id: n } = i;
      try {
        this.isValidPing({ topic: r }), await this.sendResult({ id: n, topic: r, result: !0, throwOnFailedPublish: !0 }), this.client.events.emit("session_ping", { id: n, topic: r });
      } catch (s) {
        await this.sendError({ id: n, topic: r, error: s }), this.client.logger.error(s);
      }
    }, this.onSessionPingResponse = (r, i) => {
      const { id: n } = i, s = Ge("session_ping", n);
      if (this.events.listenerCount(s) === 0)
        throw new Error(`emitting ${s} without any listeners`);
      setTimeout(() => {
        _s(i) ? this.events.emit(Ge("session_ping", n), {}) : xn(i) && this.events.emit(Ge("session_ping", n), { error: i.error });
      }, 500);
    }, this.onSessionDeleteRequest = async (r, i) => {
      const { id: n } = i;
      try {
        this.isValidDisconnect({ topic: r, reason: i.params }), await Promise.all([new Promise((s) => {
          this.client.core.relayer.once(qi.publish, async () => {
            s(await this.deleteSession({ topic: r, id: n }));
          });
        }), this.sendResult({ id: n, topic: r, result: !0, throwOnFailedPublish: !0 }), this.cleanupPendingSentRequestsForTopic({ topic: r, error: Ar("USER_DISCONNECTED") })]);
      } catch (s) {
        this.client.logger.error(s);
      }
    }, this.onSessionRequest = async (r) => {
      var i;
      const { topic: n, payload: s, attestation: u, encryptedId: p } = r, { id: b, params: m } = s;
      try {
        await this.isValidRequest(Tr({ topic: n }, m));
        const w = this.client.session.get(n), S = await this.getVerifyContext({ attestationId: u, hash: gh(JSON.stringify(Ch("wc_sessionRequest", m, b))), encryptedId: p, metadata: w.peer.metadata }), C = { id: b, topic: n, params: m, verifyContext: S };
        await this.setPendingSessionRequest(C), (i = this.client.signConfig) != null && i.disableRequestQueue ? this.emitSessionRequest(C) : (this.addSessionRequestToSessionRequestQueue(C), this.processSessionRequestQueue());
      } catch (w) {
        await this.sendError({ id: b, topic: n, error: w }), this.client.logger.error(w);
      }
    }, this.onSessionRequestResponse = (r, i) => {
      const { id: n } = i, s = Ge("session_request", n);
      if (this.events.listenerCount(s) === 0)
        throw new Error(`emitting ${s} without any listeners`);
      _s(i) ? this.events.emit(Ge("session_request", n), { result: i.result }) : xn(i) && this.events.emit(Ge("session_request", n), { error: i.error });
    }, this.onSessionEventRequest = async (r, i) => {
      const { id: n, params: s } = i;
      try {
        const u = `${r}_session_event_${s.event.name}`, p = Jf.get(u);
        if (p && this.isRequestOutOfSync(p, n)) {
          this.client.logger.info(`Discarding out of sync request - ${n}`);
          return;
        }
        this.isValidEmit(Tr({ topic: r }, s)), this.client.events.emit("session_event", { id: n, topic: r, params: s }), Jf.set(u, n);
      } catch (u) {
        await this.sendError({ id: n, topic: r, error: u }), this.client.logger.error(u);
      }
    }, this.onSessionAuthenticateResponse = (r, i) => {
      const { id: n } = i;
      this.client.logger.trace({ type: "method", method: "onSessionAuthenticateResponse", topic: r, payload: i }), _s(i) ? this.events.emit(Ge("session_request", n), { result: i.result }) : xn(i) && this.events.emit(Ge("session_request", n), { error: i.error });
    }, this.onSessionAuthenticateRequest = async (r) => {
      const { topic: i, payload: n, attestation: s, encryptedId: u } = r;
      try {
        const { requester: p, authPayload: b, expiryTimestamp: m } = n.params, w = await this.getVerifyContext({ attestationId: s, hash: gh(JSON.stringify(n)), encryptedId: u, metadata: this.client.metadata }), S = { requester: p, pairingTopic: i, id: n.id, authPayload: b, verifyContext: w, expiryTimestamp: m };
        await this.setAuthRequest(n.id, { request: S, pairingTopic: i }), this.client.events.emit("session_authenticate", { topic: i, params: n.params, id: n.id, verifyContext: w });
      } catch (p) {
        this.client.logger.error(p);
        const b = n.params.requester.publicKey, m = await this.client.core.crypto.generateKeyPair(), w = { type: z1, receiverPublicKey: b, senderPublicKey: m };
        await this.sendError({ id: n.id, topic: i, error: p, encodeOpts: w, rpcOpts: ei.wc_sessionAuthenticate.autoReject });
      }
    }, this.addSessionRequestToSessionRequestQueue = (r) => {
      this.sessionRequestQueue.queue.push(r);
    }, this.cleanupAfterResponse = (r) => {
      this.deletePendingSessionRequest(r.response.id, { message: "fulfilled", code: 0 }), setTimeout(() => {
        this.sessionRequestQueue.state = ms.idle, this.processSessionRequestQueue();
      }, Zt.toMiliseconds(this.requestQueueDelay));
    }, this.cleanupPendingSentRequestsForTopic = ({ topic: r, error: i }) => {
      const n = this.client.core.history.pending;
      n.length > 0 && n.filter((s) => s.topic === r && s.request.method === "wc_sessionRequest").forEach((s) => {
        const u = s.request.id, p = Ge("session_request", u);
        if (this.events.listenerCount(p) === 0)
          throw new Error(`emitting ${p} without any listeners`);
        this.events.emit(Ge("session_request", s.request.id), { error: i });
      });
    }, this.processSessionRequestQueue = () => {
      if (this.sessionRequestQueue.state === ms.active) {
        this.client.logger.info("session request queue is already active.");
        return;
      }
      const r = this.sessionRequestQueue.queue[0];
      if (!r) {
        this.client.logger.info("session request queue is empty.");
        return;
      }
      try {
        this.sessionRequestQueue.state = ms.active, this.emitSessionRequest(r);
      } catch (i) {
        this.client.logger.error(i);
      }
    }, this.emitSessionRequest = (r) => {
      this.client.events.emit("session_request", r);
    }, this.onPairingCreated = (r) => {
      if (r.methods && this.expectedPairingMethodMap.set(r.topic, r.methods), r.active)
        return;
      const i = this.client.proposal.getAll().find((n) => n.pairingTopic === r.topic);
      i && this.onSessionProposeRequest({ topic: r.topic, payload: Ch("wc_sessionPropose", { requiredNamespaces: i.requiredNamespaces, optionalNamespaces: i.optionalNamespaces, relays: i.relays, proposer: i.proposer, sessionProperties: i.sessionProperties }, i.id) });
    }, this.isValidConnect = async (r) => {
      if (!Gn(r)) {
        const { message: b } = pe("MISSING_OR_INVALID", `connect() params: ${JSON.stringify(r)}`);
        throw new Error(b);
      }
      const { pairingTopic: i, requiredNamespaces: n, optionalNamespaces: s, sessionProperties: u, relays: p } = r;
      if (es(i) || await this.isValidPairingTopic(i), !u$(p)) {
        const { message: b } = pe("MISSING_OR_INVALID", `connect() relays: ${p}`);
        throw new Error(b);
      }
      !es(n) && j0(n) !== 0 && this.validateNamespaces(n, "requiredNamespaces"), !es(s) && j0(s) !== 0 && this.validateNamespaces(s, "optionalNamespaces"), es(u) || this.validateSessionProps(u, "sessionProperties");
    }, this.validateNamespaces = (r, i) => {
      const n = f$(r, "connect()", i);
      if (n)
        throw new Error(n.message);
    }, this.isValidApprove = async (r) => {
      if (!Gn(r))
        throw new Error(pe("MISSING_OR_INVALID", `approve() params: ${r}`).message);
      const { id: i, namespaces: n, relayProtocol: s, sessionProperties: u } = r;
      this.checkRecentlyDeleted(i), await this.isValidProposalId(i);
      const p = this.client.proposal.get(i), b = H1(n, "approve()");
      if (b)
        throw new Error(b.message);
      const m = A6(p.requiredNamespaces, n, "approve()");
      if (m)
        throw new Error(m.message);
      if (!Lr(s, !0)) {
        const { message: w } = pe("MISSING_OR_INVALID", `approve() relayProtocol: ${s}`);
        throw new Error(w);
      }
      es(u) || this.validateSessionProps(u, "sessionProperties");
    }, this.isValidReject = async (r) => {
      if (!Gn(r)) {
        const { message: s } = pe("MISSING_OR_INVALID", `reject() params: ${r}`);
        throw new Error(s);
      }
      const { id: i, reason: n } = r;
      if (this.checkRecentlyDeleted(i), await this.isValidProposalId(i), !l$(n)) {
        const { message: s } = pe("MISSING_OR_INVALID", `reject() reason: ${JSON.stringify(n)}`);
        throw new Error(s);
      }
    }, this.isValidSessionSettleRequest = (r) => {
      if (!Gn(r)) {
        const { message: m } = pe("MISSING_OR_INVALID", `onSessionSettleRequest() params: ${r}`);
        throw new Error(m);
      }
      const { relay: i, controller: n, namespaces: s, expiry: u } = r;
      if (!x5(i)) {
        const { message: m } = pe("MISSING_OR_INVALID", "onSessionSettleRequest() relay protocol should be a string");
        throw new Error(m);
      }
      const p = i$(n, "onSessionSettleRequest()");
      if (p)
        throw new Error(p.message);
      const b = H1(s, "onSessionSettleRequest()");
      if (b)
        throw new Error(b.message);
      if (ph(u)) {
        const { message: m } = pe("EXPIRED", "onSessionSettleRequest()");
        throw new Error(m);
      }
    }, this.isValidUpdate = async (r) => {
      if (!Gn(r)) {
        const { message: b } = pe("MISSING_OR_INVALID", `update() params: ${r}`);
        throw new Error(b);
      }
      const { topic: i, namespaces: n } = r;
      this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
      const s = this.client.session.get(i), u = H1(n, "update()");
      if (u)
        throw new Error(u.message);
      const p = A6(s.requiredNamespaces, n, "update()");
      if (p)
        throw new Error(p.message);
    }, this.isValidExtend = async (r) => {
      if (!Gn(r)) {
        const { message: n } = pe("MISSING_OR_INVALID", `extend() params: ${r}`);
        throw new Error(n);
      }
      const { topic: i } = r;
      this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
    }, this.isValidRequest = async (r) => {
      if (!Gn(r)) {
        const { message: b } = pe("MISSING_OR_INVALID", `request() params: ${r}`);
        throw new Error(b);
      }
      const { topic: i, request: n, chainId: s, expiry: u } = r;
      this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
      const { namespaces: p } = this.client.session.get(i);
      if (!w6(p, s)) {
        const { message: b } = pe("MISSING_OR_INVALID", `request() chainId: ${s}`);
        throw new Error(b);
      }
      if (!d$(n)) {
        const { message: b } = pe("MISSING_OR_INVALID", `request() ${JSON.stringify(n)}`);
        throw new Error(b);
      }
      if (!m$(p, s, n.method)) {
        const { message: b } = pe("MISSING_OR_INVALID", `request() method: ${n.method}`);
        throw new Error(b);
      }
      if (u && !w$(u, G1)) {
        const { message: b } = pe("MISSING_OR_INVALID", `request() expiry: ${u}. Expiry must be a number (in seconds) between ${G1.min} and ${G1.max}`);
        throw new Error(b);
      }
    }, this.isValidRespond = async (r) => {
      var i;
      if (!Gn(r)) {
        const { message: u } = pe("MISSING_OR_INVALID", `respond() params: ${r}`);
        throw new Error(u);
      }
      const { topic: n, response: s } = r;
      try {
        await this.isValidSessionTopic(n);
      } catch (u) {
        throw (i = r == null ? void 0 : r.response) != null && i.id && this.cleanupAfterResponse(r), u;
      }
      if (!p$(s)) {
        const { message: u } = pe("MISSING_OR_INVALID", `respond() response: ${JSON.stringify(s)}`);
        throw new Error(u);
      }
    }, this.isValidPing = async (r) => {
      if (!Gn(r)) {
        const { message: n } = pe("MISSING_OR_INVALID", `ping() params: ${r}`);
        throw new Error(n);
      }
      const { topic: i } = r;
      await this.isValidSessionOrPairingTopic(i);
    }, this.isValidEmit = async (r) => {
      if (!Gn(r)) {
        const { message: p } = pe("MISSING_OR_INVALID", `emit() params: ${r}`);
        throw new Error(p);
      }
      const { topic: i, event: n, chainId: s } = r;
      await this.isValidSessionTopic(i);
      const { namespaces: u } = this.client.session.get(i);
      if (!w6(u, s)) {
        const { message: p } = pe("MISSING_OR_INVALID", `emit() chainId: ${s}`);
        throw new Error(p);
      }
      if (!g$(n)) {
        const { message: p } = pe("MISSING_OR_INVALID", `emit() event: ${JSON.stringify(n)}`);
        throw new Error(p);
      }
      if (!v$(u, s, n.name)) {
        const { message: p } = pe("MISSING_OR_INVALID", `emit() event: ${JSON.stringify(n)}`);
        throw new Error(p);
      }
    }, this.isValidDisconnect = async (r) => {
      if (!Gn(r)) {
        const { message: n } = pe("MISSING_OR_INVALID", `disconnect() params: ${r}`);
        throw new Error(n);
      }
      const { topic: i } = r;
      await this.isValidSessionOrPairingTopic(i);
    }, this.isValidAuthenticate = (r) => {
      const { chains: i, uri: n, domain: s, nonce: u } = r;
      if (!Array.isArray(i) || i.length === 0)
        throw new Error("chains is required and must be a non-empty array");
      if (!Lr(n, !1))
        throw new Error("uri is required parameter");
      if (!Lr(s, !1))
        throw new Error("domain is required parameter");
      if (!Lr(u, !1))
        throw new Error("nonce is required parameter");
      if ([...new Set(i.map((b) => S1(b).namespace))].length > 1)
        throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");
      const { namespace: p } = S1(i[0]);
      if (p !== "eip155")
        throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.");
    }, this.getVerifyContext = async (r) => {
      const { attestationId: i, hash: n, encryptedId: s, metadata: u } = r, p = { verified: { verifyUrl: u.verifyUrl || su, validation: "UNKNOWN", origin: u.url || "" } };
      try {
        const b = await this.client.core.verify.resolve({ attestationId: i, hash: n, encryptedId: s, verifyUrl: u.verifyUrl });
        b && (p.verified.origin = b.origin, p.verified.isScam = b.isScam, p.verified.validation = b.origin === new URL(u.url).origin ? "VALID" : "INVALID");
      } catch (b) {
        this.client.logger.warn(b);
      }
      return this.client.logger.debug(`Verify context: ${JSON.stringify(p)}`), p;
    }, this.validateSessionProps = (r, i) => {
      Object.values(r).forEach((n) => {
        if (!Lr(n, !1)) {
          const { message: s } = pe("MISSING_OR_INVALID", `${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);
          throw new Error(s);
        }
      });
    }, this.getPendingAuthRequest = (r) => {
      const i = this.client.auth.requests.get(r);
      return typeof i == "object" ? i : void 0;
    }, this.addToRecentlyDeleted = (r, i) => {
      if (this.recentlyDeletedMap.set(r, i), this.recentlyDeletedMap.size >= this.recentlyDeletedLimit) {
        let n = 0;
        const s = this.recentlyDeletedLimit / 2;
        for (const u of this.recentlyDeletedMap.keys()) {
          if (n++ >= s)
            break;
          this.recentlyDeletedMap.delete(u);
        }
      }
    }, this.checkRecentlyDeleted = (r) => {
      const i = this.recentlyDeletedMap.get(r);
      if (i) {
        const { message: n } = pe("MISSING_OR_INVALID", `Record was recently deleted - ${i}: ${r}`);
        throw new Error(n);
      }
    };
  }
  async isInitialized() {
    if (!this.initialized) {
      const { message: t } = pe("NOT_INITIALIZED", this.name);
      throw new Error(t);
    }
    await this.client.core.relayer.confirmOnlineStateOrThrow();
  }
  registerRelayerEvents() {
    this.client.core.relayer.on(qi.message, (t) => {
      !this.initialized || this.relayMessageCache.length > 0 ? this.relayMessageCache.push(t) : this.onRelayMessage(t);
    });
  }
  async onRelayMessage(t) {
    const { topic: r, message: i, attestation: n } = t, { publicKey: s } = this.client.auth.authKeys.keys.includes(A0) ? this.client.auth.authKeys.get(A0) : { responseTopic: void 0, publicKey: void 0 }, u = await this.client.core.crypto.decode(r, i, { receiverPublicKey: s });
    try {
      b2(u) ? (this.client.core.history.set(r, u), this.onRelayEventRequest({ topic: r, payload: u, attestation: n, encryptedId: gh(i) })) : bl(u) ? (await this.client.core.history.resolve(u), await this.onRelayEventResponse({ topic: r, payload: u }), this.client.core.history.delete(r, u.id)) : this.onRelayEventUnknownPayload({ topic: r, payload: u });
    } catch (p) {
      this.client.logger.error(p);
    }
  }
  registerExpirerEvents() {
    this.client.core.expirer.on(_n.expired, async (t) => {
      const { topic: r, id: i } = Qq(t.target);
      if (i && this.client.pendingRequest.keys.includes(i))
        return await this.deletePendingSessionRequest(i, pe("EXPIRED"), !0);
      if (i && this.client.auth.requests.keys.includes(i))
        return await this.deletePendingAuthRequest(i, pe("EXPIRED"), !0);
      r ? this.client.session.keys.includes(r) && (await this.deleteSession({ topic: r, expirerHasDeleted: !0 }), this.client.events.emit("session_expire", { topic: r })) : i && (await this.deleteProposal(i, !0), this.client.events.emit("proposal_expire", { id: i }));
    });
  }
  registerPairingEvents() {
    this.client.core.pairing.events.on(Mh.create, (t) => this.onPairingCreated(t)), this.client.core.pairing.events.on(Mh.delete, (t) => {
      this.addToRecentlyDeleted(t.topic, "pairing");
    });
  }
  isValidPairingTopic(t) {
    if (!Lr(t, !1)) {
      const { message: r } = pe("MISSING_OR_INVALID", `pairing topic should be a string: ${t}`);
      throw new Error(r);
    }
    if (!this.client.core.pairing.pairings.keys.includes(t)) {
      const { message: r } = pe("NO_MATCHING_KEY", `pairing topic doesn't exist: ${t}`);
      throw new Error(r);
    }
    if (ph(this.client.core.pairing.pairings.get(t).expiry)) {
      const { message: r } = pe("EXPIRED", `pairing topic: ${t}`);
      throw new Error(r);
    }
  }
  async isValidSessionTopic(t) {
    if (!Lr(t, !1)) {
      const { message: r } = pe("MISSING_OR_INVALID", `session topic should be a string: ${t}`);
      throw new Error(r);
    }
    if (this.checkRecentlyDeleted(t), !this.client.session.keys.includes(t)) {
      const { message: r } = pe("NO_MATCHING_KEY", `session topic doesn't exist: ${t}`);
      throw new Error(r);
    }
    if (ph(this.client.session.get(t).expiry)) {
      await this.deleteSession({ topic: t });
      const { message: r } = pe("EXPIRED", `session topic: ${t}`);
      throw new Error(r);
    }
    if (!this.client.core.crypto.keychain.has(t)) {
      const { message: r } = pe("MISSING_OR_INVALID", `session topic does not exist in keychain: ${t}`);
      throw await this.deleteSession({ topic: t }), new Error(r);
    }
  }
  async isValidSessionOrPairingTopic(t) {
    if (this.checkRecentlyDeleted(t), this.client.session.keys.includes(t))
      await this.isValidSessionTopic(t);
    else if (this.client.core.pairing.pairings.keys.includes(t))
      this.isValidPairingTopic(t);
    else if (Lr(t, !1)) {
      const { message: r } = pe("NO_MATCHING_KEY", `session or pairing topic doesn't exist: ${t}`);
      throw new Error(r);
    } else {
      const { message: r } = pe("MISSING_OR_INVALID", `session or pairing topic should be a string: ${t}`);
      throw new Error(r);
    }
  }
  async isValidProposalId(t) {
    if (!c$(t)) {
      const { message: r } = pe("MISSING_OR_INVALID", `proposal id should be a number: ${t}`);
      throw new Error(r);
    }
    if (!this.client.proposal.keys.includes(t)) {
      const { message: r } = pe("NO_MATCHING_KEY", `proposal id doesn't exist: ${t}`);
      throw new Error(r);
    }
    if (ph(this.client.proposal.get(t).expiryTimestamp)) {
      await this.deleteProposal(t);
      const { message: r } = pe("EXPIRED", `proposal id: ${t}`);
      throw new Error(r);
    }
  }
}
class U$ extends Ha {
  constructor(t, r) {
    super(t, r, A$, I2), this.core = t, this.logger = r;
  }
}
class q$ extends Ha {
  constructor(t, r) {
    super(t, r, _$, I2), this.core = t, this.logger = r;
  }
}
class L$ extends Ha {
  constructor(t, r) {
    super(t, r, M$, I2, (i) => i.id), this.core = t, this.logger = r;
  }
}
class k$ extends Ha {
  constructor(t, r) {
    super(t, r, D$, _l, () => A0), this.core = t, this.logger = r;
  }
}
class z$ extends Ha {
  constructor(t, r) {
    super(t, r, C$, _l), this.core = t, this.logger = r;
  }
}
class $$ extends Ha {
  constructor(t, r) {
    super(t, r, N$, _l, (i) => i.id), this.core = t, this.logger = r;
  }
}
class H$ {
  constructor(t, r) {
    this.core = t, this.logger = r, this.authKeys = new k$(this.core, this.logger), this.pairingTopics = new z$(this.core, this.logger), this.requests = new $$(this.core, this.logger);
  }
  async init() {
    await this.authKeys.init(), await this.pairingTopics.init(), await this.requests.init();
  }
}
class D2 extends kq {
  constructor(t) {
    super(t), this.protocol = I5, this.version = D5, this.name = K1.name, this.events = new Rn.EventEmitter(), this.on = (i, n) => this.events.on(i, n), this.once = (i, n) => this.events.once(i, n), this.off = (i, n) => this.events.off(i, n), this.removeListener = (i, n) => this.events.removeListener(i, n), this.removeAllListeners = (i) => this.events.removeAllListeners(i), this.connect = async (i) => {
      try {
        return await this.engine.connect(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.pair = async (i) => {
      try {
        return await this.engine.pair(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.approve = async (i) => {
      try {
        return await this.engine.approve(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.reject = async (i) => {
      try {
        return await this.engine.reject(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.update = async (i) => {
      try {
        return await this.engine.update(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.extend = async (i) => {
      try {
        return await this.engine.extend(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.request = async (i) => {
      try {
        return await this.engine.request(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.respond = async (i) => {
      try {
        return await this.engine.respond(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.ping = async (i) => {
      try {
        return await this.engine.ping(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.emit = async (i) => {
      try {
        return await this.engine.emit(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.disconnect = async (i) => {
      try {
        return await this.engine.disconnect(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.find = (i) => {
      try {
        return this.engine.find(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.getPendingSessionRequests = () => {
      try {
        return this.engine.getPendingSessionRequests();
      } catch (i) {
        throw this.logger.error(i.message), i;
      }
    }, this.authenticate = async (i) => {
      try {
        return await this.engine.authenticate(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.formatAuthMessage = (i) => {
      try {
        return this.engine.formatAuthMessage(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.approveSessionAuthenticate = async (i) => {
      try {
        return await this.engine.approveSessionAuthenticate(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.rejectSessionAuthenticate = async (i) => {
      try {
        return await this.engine.rejectSessionAuthenticate(i);
      } catch (n) {
        throw this.logger.error(n.message), n;
      }
    }, this.name = (t == null ? void 0 : t.name) || K1.name, this.metadata = (t == null ? void 0 : t.metadata) || Gq(), this.signConfig = t == null ? void 0 : t.signConfig;
    const r = typeof (t == null ? void 0 : t.logger) < "u" && typeof (t == null ? void 0 : t.logger) != "string" ? t.logger : Du(ll({ level: (t == null ? void 0 : t.logger) || K1.logger }));
    this.core = (t == null ? void 0 : t.core) || new Lq(t), this.logger = Ii(r, this.name), this.session = new q$(this.core, this.logger), this.proposal = new U$(this.core, this.logger), this.pendingRequest = new L$(this.core, this.logger), this.engine = new F$(this), this.auth = new H$(this.core, this.logger);
  }
  static async init(t) {
    const r = new D2(t);
    return await r.initialize(), r;
  }
  get context() {
    return Gi(this.logger);
  }
  get pairing() {
    return this.core.pairing.pairings;
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.core.start(), await this.session.init(), await this.proposal.init(), await this.pendingRequest.init(), await this.engine.init(), await this.auth.init(), this.logger.info("SignClient Initialization Success"), this.engine.processRelayMessageCache();
    } catch (t) {
      throw this.logger.info("SignClient Initialization Failure"), this.logger.error(t.message), t;
    }
  }
}
var $p = { exports: {} };
(function(e, t) {
  var r = typeof self < "u" ? self : Nn, i = function() {
    function s() {
      this.fetch = !1, this.DOMException = r.DOMException;
    }
    return s.prototype = r, new s();
  }();
  (function(s) {
    (function(u) {
      var p = {
        searchParams: "URLSearchParams" in s,
        iterable: "Symbol" in s && "iterator" in Symbol,
        blob: "FileReader" in s && "Blob" in s && function() {
          try {
            return new Blob(), !0;
          } catch {
            return !1;
          }
        }(),
        formData: "FormData" in s,
        arrayBuffer: "ArrayBuffer" in s
      };
      function b(h) {
        return h && DataView.prototype.isPrototypeOf(h);
      }
      if (p.arrayBuffer)
        var m = [
          "[object Int8Array]",
          "[object Uint8Array]",
          "[object Uint8ClampedArray]",
          "[object Int16Array]",
          "[object Uint16Array]",
          "[object Int32Array]",
          "[object Uint32Array]",
          "[object Float32Array]",
          "[object Float64Array]"
        ], w = ArrayBuffer.isView || function(h) {
          return h && m.indexOf(Object.prototype.toString.call(h)) > -1;
        };
      function S(h) {
        if (typeof h != "string" && (h = String(h)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(h))
          throw new TypeError("Invalid character in header field name");
        return h.toLowerCase();
      }
      function C(h) {
        return typeof h != "string" && (h = String(h)), h;
      }
      function D(h) {
        var c = {
          next: function() {
            var v = h.shift();
            return { done: v === void 0, value: v };
          }
        };
        return p.iterable && (c[Symbol.iterator] = function() {
          return c;
        }), c;
      }
      function P(h) {
        this.map = {}, h instanceof P ? h.forEach(function(c, v) {
          this.append(v, c);
        }, this) : Array.isArray(h) ? h.forEach(function(c) {
          this.append(c[0], c[1]);
        }, this) : h && Object.getOwnPropertyNames(h).forEach(function(c) {
          this.append(c, h[c]);
        }, this);
      }
      P.prototype.append = function(h, c) {
        h = S(h), c = C(c);
        var v = this.map[h];
        this.map[h] = v ? v + ", " + c : c;
      }, P.prototype.delete = function(h) {
        delete this.map[S(h)];
      }, P.prototype.get = function(h) {
        return h = S(h), this.has(h) ? this.map[h] : null;
      }, P.prototype.has = function(h) {
        return this.map.hasOwnProperty(S(h));
      }, P.prototype.set = function(h, c) {
        this.map[S(h)] = C(c);
      }, P.prototype.forEach = function(h, c) {
        for (var v in this.map)
          this.map.hasOwnProperty(v) && h.call(c, this.map[v], v, this);
      }, P.prototype.keys = function() {
        var h = [];
        return this.forEach(function(c, v) {
          h.push(v);
        }), D(h);
      }, P.prototype.values = function() {
        var h = [];
        return this.forEach(function(c) {
          h.push(c);
        }), D(h);
      }, P.prototype.entries = function() {
        var h = [];
        return this.forEach(function(c, v) {
          h.push([v, c]);
        }), D(h);
      }, p.iterable && (P.prototype[Symbol.iterator] = P.prototype.entries);
      function k(h) {
        if (h.bodyUsed)
          return Promise.reject(new TypeError("Already read"));
        h.bodyUsed = !0;
      }
      function z(h) {
        return new Promise(function(c, v) {
          h.onload = function() {
            c(h.result);
          }, h.onerror = function() {
            v(h.error);
          };
        });
      }
      function V(h) {
        var c = new FileReader(), v = z(c);
        return c.readAsArrayBuffer(h), v;
      }
      function Q(h) {
        var c = new FileReader(), v = z(c);
        return c.readAsText(h), v;
      }
      function W(h) {
        for (var c = new Uint8Array(h), v = new Array(c.length), y = 0; y < c.length; y++)
          v[y] = String.fromCharCode(c[y]);
        return v.join("");
      }
      function $(h) {
        if (h.slice)
          return h.slice(0);
        var c = new Uint8Array(h.byteLength);
        return c.set(new Uint8Array(h)), c.buffer;
      }
      function j() {
        return this.bodyUsed = !1, this._initBody = function(h) {
          this._bodyInit = h, h ? typeof h == "string" ? this._bodyText = h : p.blob && Blob.prototype.isPrototypeOf(h) ? this._bodyBlob = h : p.formData && FormData.prototype.isPrototypeOf(h) ? this._bodyFormData = h : p.searchParams && URLSearchParams.prototype.isPrototypeOf(h) ? this._bodyText = h.toString() : p.arrayBuffer && p.blob && b(h) ? (this._bodyArrayBuffer = $(h.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : p.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(h) || w(h)) ? this._bodyArrayBuffer = $(h) : this._bodyText = h = Object.prototype.toString.call(h) : this._bodyText = "", this.headers.get("content-type") || (typeof h == "string" ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : p.searchParams && URLSearchParams.prototype.isPrototypeOf(h) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"));
        }, p.blob && (this.blob = function() {
          var h = k(this);
          if (h)
            return h;
          if (this._bodyBlob)
            return Promise.resolve(this._bodyBlob);
          if (this._bodyArrayBuffer)
            return Promise.resolve(new Blob([this._bodyArrayBuffer]));
          if (this._bodyFormData)
            throw new Error("could not read FormData body as blob");
          return Promise.resolve(new Blob([this._bodyText]));
        }, this.arrayBuffer = function() {
          return this._bodyArrayBuffer ? k(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(V);
        }), this.text = function() {
          var h = k(this);
          if (h)
            return h;
          if (this._bodyBlob)
            return Q(this._bodyBlob);
          if (this._bodyArrayBuffer)
            return Promise.resolve(W(this._bodyArrayBuffer));
          if (this._bodyFormData)
            throw new Error("could not read FormData body as text");
          return Promise.resolve(this._bodyText);
        }, p.formData && (this.formData = function() {
          return this.text().then(st);
        }), this.json = function() {
          return this.text().then(JSON.parse);
        }, this;
      }
      var K = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
      function N(h) {
        var c = h.toUpperCase();
        return K.indexOf(c) > -1 ? c : h;
      }
      function H(h, c) {
        c = c || {};
        var v = c.body;
        if (h instanceof H) {
          if (h.bodyUsed)
            throw new TypeError("Already read");
          this.url = h.url, this.credentials = h.credentials, c.headers || (this.headers = new P(h.headers)), this.method = h.method, this.mode = h.mode, this.signal = h.signal, !v && h._bodyInit != null && (v = h._bodyInit, h.bodyUsed = !0);
        } else
          this.url = String(h);
        if (this.credentials = c.credentials || this.credentials || "same-origin", (c.headers || !this.headers) && (this.headers = new P(c.headers)), this.method = N(c.method || this.method || "GET"), this.mode = c.mode || this.mode || null, this.signal = c.signal || this.signal, this.referrer = null, (this.method === "GET" || this.method === "HEAD") && v)
          throw new TypeError("Body not allowed for GET or HEAD requests");
        this._initBody(v);
      }
      H.prototype.clone = function() {
        return new H(this, { body: this._bodyInit });
      };
      function st(h) {
        var c = new FormData();
        return h.trim().split("&").forEach(function(v) {
          if (v) {
            var y = v.split("="), M = y.shift().replace(/\+/g, " "), E = y.join("=").replace(/\+/g, " ");
            c.append(decodeURIComponent(M), decodeURIComponent(E));
          }
        }), c;
      }
      function ct(h) {
        var c = new P(), v = h.replace(/\r?\n[\t ]+/g, " ");
        return v.split(/\r?\n/).forEach(function(y) {
          var M = y.split(":"), E = M.shift().trim();
          if (E) {
            var d = M.join(":").trim();
            c.append(E, d);
          }
        }), c;
      }
      j.call(H.prototype);
      function L(h, c) {
        c || (c = {}), this.type = "default", this.status = c.status === void 0 ? 200 : c.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in c ? c.statusText : "OK", this.headers = new P(c.headers), this.url = c.url || "", this._initBody(h);
      }
      j.call(L.prototype), L.prototype.clone = function() {
        return new L(this._bodyInit, {
          status: this.status,
          statusText: this.statusText,
          headers: new P(this.headers),
          url: this.url
        });
      }, L.error = function() {
        var h = new L(null, { status: 0, statusText: "" });
        return h.type = "error", h;
      };
      var I = [301, 302, 303, 307, 308];
      L.redirect = function(h, c) {
        if (I.indexOf(c) === -1)
          throw new RangeError("Invalid status code");
        return new L(null, { status: c, headers: { location: h } });
      }, u.DOMException = s.DOMException;
      try {
        new u.DOMException();
      } catch {
        u.DOMException = function(c, v) {
          this.message = c, this.name = v;
          var y = Error(c);
          this.stack = y.stack;
        }, u.DOMException.prototype = Object.create(Error.prototype), u.DOMException.prototype.constructor = u.DOMException;
      }
      function o(h, c) {
        return new Promise(function(v, y) {
          var M = new H(h, c);
          if (M.signal && M.signal.aborted)
            return y(new u.DOMException("Aborted", "AbortError"));
          var E = new XMLHttpRequest();
          function d() {
            E.abort();
          }
          E.onload = function() {
            var f = {
              status: E.status,
              statusText: E.statusText,
              headers: ct(E.getAllResponseHeaders() || "")
            };
            f.url = "responseURL" in E ? E.responseURL : f.headers.get("X-Request-URL");
            var _ = "response" in E ? E.response : E.responseText;
            v(new L(_, f));
          }, E.onerror = function() {
            y(new TypeError("Network request failed"));
          }, E.ontimeout = function() {
            y(new TypeError("Network request failed"));
          }, E.onabort = function() {
            y(new u.DOMException("Aborted", "AbortError"));
          }, E.open(M.method, M.url, !0), M.credentials === "include" ? E.withCredentials = !0 : M.credentials === "omit" && (E.withCredentials = !1), "responseType" in E && p.blob && (E.responseType = "blob"), M.headers.forEach(function(f, _) {
            E.setRequestHeader(_, f);
          }), M.signal && (M.signal.addEventListener("abort", d), E.onreadystatechange = function() {
            E.readyState === 4 && M.signal.removeEventListener("abort", d);
          }), E.send(typeof M._bodyInit > "u" ? null : M._bodyInit);
        });
      }
      return o.polyfill = !0, s.fetch || (s.fetch = o, s.Headers = P, s.Request = H, s.Response = L), u.Headers = P, u.Request = H, u.Response = L, u.fetch = o, Object.defineProperty(u, "__esModule", { value: !0 }), u;
    })({});
  })(i), i.fetch.ponyfill = !0, delete i.fetch.polyfill;
  var n = i;
  t = n.fetch, t.default = n.fetch, t.fetch = n.fetch, t.Headers = n.Headers, t.Request = n.Request, t.Response = n.Response, e.exports = t;
})($p, $p.exports);
var j$ = $p.exports;
const x6 = /* @__PURE__ */ Jp(j$);
var K$ = Object.defineProperty, G$ = Object.defineProperties, Q$ = Object.getOwnPropertyDescriptors, I6 = Object.getOwnPropertySymbols, J$ = Object.prototype.hasOwnProperty, Y$ = Object.prototype.propertyIsEnumerable, D6 = (e, t, r) => t in e ? K$(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, C6 = (e, t) => {
  for (var r in t || (t = {}))
    J$.call(t, r) && D6(e, r, t[r]);
  if (I6)
    for (var r of I6(t))
      Y$.call(t, r) && D6(e, r, t[r]);
  return e;
}, N6 = (e, t) => G$(e, Q$(t));
const V$ = { Accept: "application/json", "Content-Type": "application/json" }, W$ = "POST", P6 = { headers: V$, method: W$ }, R6 = 10;
class eo {
  constructor(t, r = !1) {
    if (this.url = t, this.disableProviderPing = r, this.events = new Rn.EventEmitter(), this.isAvailable = !1, this.registering = !1, !Av(t))
      throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);
    this.url = t, this.disableProviderPing = r;
  }
  get connected() {
    return this.isAvailable;
  }
  get connecting() {
    return this.registering;
  }
  on(t, r) {
    this.events.on(t, r);
  }
  once(t, r) {
    this.events.once(t, r);
  }
  off(t, r) {
    this.events.off(t, r);
  }
  removeListener(t, r) {
    this.events.removeListener(t, r);
  }
  async open(t = this.url) {
    await this.register(t);
  }
  async close() {
    if (!this.isAvailable)
      throw new Error("Connection already closed");
    this.onClose();
  }
  async send(t) {
    this.isAvailable || await this.register();
    try {
      const r = Po(t), i = await (await x6(this.url, N6(C6({}, P6), { body: r }))).json();
      this.onPayload({ data: i });
    } catch (r) {
      this.onError(t.id, r);
    }
  }
  async register(t = this.url) {
    if (!Av(t))
      throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);
    if (this.registering) {
      const r = this.events.getMaxListeners();
      return (this.events.listenerCount("register_error") >= r || this.events.listenerCount("open") >= r) && this.events.setMaxListeners(r + 1), new Promise((i, n) => {
        this.events.once("register_error", (s) => {
          this.resetMaxListeners(), n(s);
        }), this.events.once("open", () => {
          if (this.resetMaxListeners(), typeof this.isAvailable > "u")
            return n(new Error("HTTP connection is missing or invalid"));
          i();
        });
      });
    }
    this.url = t, this.registering = !0;
    try {
      if (!this.disableProviderPing) {
        const r = Po({ id: 1, jsonrpc: "2.0", method: "test", params: [] });
        await x6(t, N6(C6({}, P6), { body: r }));
      }
      this.onOpen();
    } catch (r) {
      const i = this.parseError(r);
      throw this.events.emit("register_error", i), this.onClose(), i;
    }
  }
  onOpen() {
    this.isAvailable = !0, this.registering = !1, this.events.emit("open");
  }
  onClose() {
    this.isAvailable = !1, this.registering = !1, this.events.emit("close");
  }
  onPayload(t) {
    if (typeof t.data > "u")
      return;
    const r = typeof t.data == "string" ? Xh(t.data) : t.data;
    this.events.emit("payload", r);
  }
  onError(t, r) {
    const i = this.parseError(r), n = i.message || i.toString(), s = vl(t, n);
    this.events.emit("payload", s);
  }
  parseError(t, r = this.url) {
    return by(t, r, "HTTP");
  }
  resetMaxListeners() {
    this.events.getMaxListeners() > R6 && this.events.setMaxListeners(R6);
  }
}
const O6 = "error", X$ = "wss://relay.walletconnect.com", Z$ = "wc", tH = "universal_provider", B6 = `${Z$}@2:${tH}:`, eH = "https://rpc.walletconnect.com/v1/", Ah = "generic", fs = { DEFAULT_CHAIN_CHANGED: "default_chain_changed" };
var Yf = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}, Hp = { exports: {} };
/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/
(function(e, t) {
  (function() {
    var r, i = "4.17.21", n = 200, s = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.", u = "Expected a function", p = "Invalid `variable` option passed into `_.template`", b = "__lodash_hash_undefined__", m = 500, w = "__lodash_placeholder__", S = 1, C = 2, D = 4, P = 1, k = 2, z = 1, V = 2, Q = 4, W = 8, $ = 16, j = 32, K = 64, N = 128, H = 256, st = 512, ct = 30, L = "...", I = 800, o = 16, h = 1, c = 2, v = 3, y = 1 / 0, M = 9007199254740991, E = 17976931348623157e292, d = NaN, f = 4294967295, _ = f - 1, Y = f >>> 1, X = [["ary", N], ["bind", z], ["bindKey", V], ["curry", W], ["curryRight", $], ["flip", st], ["partial", j], ["partialRight", K], ["rearg", H]], g = "[object Arguments]", F = "[object Array]", O = "[object AsyncFunction]", B = "[object Boolean]", q = "[object Date]", x = "[object DOMException]", T = "[object Error]", Z = "[object Function]", it = "[object GeneratorFunction]", et = "[object Map]", pt = "[object Number]", gt = "[object Null]", _t = "[object Object]", re = "[object Promise]", bt = "[object Proxy]", Et = "[object RegExp]", Qt = "[object Set]", lt = "[object String]", yt = "[object Symbol]", Wt = "[object Undefined]", ft = "[object WeakMap]", wt = "[object WeakSet]", Kt = "[object ArrayBuffer]", ut = "[object DataView]", It = "[object Float32Array]", Jt = "[object Float64Array]", mt = "[object Int8Array]", Pt = "[object Int16Array]", te = "[object Int32Array]", vt = "[object Uint8Array]", Rt = "[object Uint8ClampedArray]", ue = "[object Uint16Array]", Tt = "[object Uint32Array]", Yt = /\b__p \+= '';/g, ce = /\b(__p \+=) '' \+/g, Ft = /(__e\(.*?\)|\b__t\)) \+\n'';/g, Vt = /&(?:amp|lt|gt|quot|#39);/g, de = /[&<>"']/g, Mt = RegExp(Vt.source), Lt = RegExp(de.source), se = /<%-([\s\S]+?)%>/g, St = /<%([\s\S]+?)%>/g, kt = /<%=([\s\S]+?)%>/g, ie = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Dt = /^\w*$/, jt = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, oe = /[\\^$.*+?()[\]{}|]/g, Ct = RegExp(oe.source), zt = /^\s+/, he = /\s/, xt = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, qt = /\{\n\/\* \[wrapped with (.+)\] \*/, fe = /,? & /, Nt = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, Xt = /[()=,{}\[\]\/\s]/, be = /\\(\\)?/g, Ht = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Gt = /\w*$/, ze = /^[-+]0x[0-9a-f]+$/i, $e = /^0b[01]+$/i, He = /^\[object .+?Constructor\]$/, je = /^0o[0-7]+$/i, Ke = /^(?:0|[1-9]\d*)$/, Ie = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, lr = /($^)/, Ir = /['\n\r\u2028\u2029\\]/g, dr = "\\ud800-\\udfff", Dr = "\\u0300-\\u036f", Cr = "\\ufe20-\\ufe2f", pr = "\\u20d0-\\u20ff", Er = Dr + Cr + pr, Mr = "\\u2700-\\u27bf", Ze = "a-z\\xdf-\\xf6\\xf8-\\xff", Nr = "\\xac\\xb1\\xd7\\xf7", Pr = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf", Rr = "\\u2000-\\u206f", pi = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", Fu = "A-Z\\xc0-\\xd6\\xd8-\\xde", Uu = "\\ufe0e\\ufe0f", aa = Nr + Pr + Rr + pi, pf = "['’]", ha = "[" + dr + "]", gf = "[" + aa + "]", fa = "[" + Er + "]", qu = "\\d+", El = "[" + Mr + "]", Lu = "[" + Ze + "]", ku = "[^" + dr + aa + qu + Mr + Ze + Fu + "]", Qa = "\\ud83c[\\udffb-\\udfff]", Ml = "(?:" + fa + "|" + Qa + ")", zu = "[^" + dr + "]", Ja = "(?:\\ud83c[\\udde6-\\uddff]){2}", Oo = "[\\ud800-\\udbff][\\udc00-\\udfff]", Qi = "[" + Fu + "]", $u = "\\u200d", Hu = "(?:" + Lu + "|" + ku + ")", us = "(?:" + Qi + "|" + ku + ")", ju = "(?:" + pf + "(?:d|ll|m|re|s|t|ve))?", Ku = "(?:" + pf + "(?:D|LL|M|RE|S|T|VE))?", Gu = Ml + "?", Qu = "[" + Uu + "]?", Sl = "(?:" + $u + "(?:" + [zu, Ja, Oo].join("|") + ")" + Qu + Gu + ")*", ro = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", Ju = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", Yu = Qu + Gu + Sl, Ya = "(?:" + [El, Ja, Oo].join("|") + ")" + Yu, xl = "(?:" + [zu + fa + "?", fa, Ja, Oo, ha].join("|") + ")", mf = RegExp(pf, "g"), Il = RegExp(fa, "g"), Va = RegExp(Qa + "(?=" + Qa + ")|" + xl + Yu, "g"), Vu = RegExp([Qi + "?" + Lu + "+" + ju + "(?=" + [gf, Qi, "$"].join("|") + ")", us + "+" + Ku + "(?=" + [gf, Qi + Hu, "$"].join("|") + ")", Qi + "?" + Hu + "+" + ju, Qi + "+" + Ku, Ju, ro, qu, Ya].join("|"), "g"), Wu = RegExp("[" + $u + dr + Er + Uu + "]"), ua = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, Xu = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"], Dl = -1, tr = {};
    tr[It] = tr[Jt] = tr[mt] = tr[Pt] = tr[te] = tr[vt] = tr[Rt] = tr[ue] = tr[Tt] = !0, tr[g] = tr[F] = tr[Kt] = tr[B] = tr[ut] = tr[q] = tr[T] = tr[Z] = tr[et] = tr[pt] = tr[_t] = tr[Et] = tr[Qt] = tr[lt] = tr[ft] = !1;
    var Xe = {};
    Xe[g] = Xe[F] = Xe[Kt] = Xe[ut] = Xe[B] = Xe[q] = Xe[It] = Xe[Jt] = Xe[mt] = Xe[Pt] = Xe[te] = Xe[et] = Xe[pt] = Xe[_t] = Xe[Et] = Xe[Qt] = Xe[lt] = Xe[yt] = Xe[vt] = Xe[Rt] = Xe[ue] = Xe[Tt] = !0, Xe[T] = Xe[Z] = Xe[ft] = !1;
    var tt = { À: "A", Á: "A", Â: "A", Ã: "A", Ä: "A", Å: "A", à: "a", á: "a", â: "a", ã: "a", ä: "a", å: "a", Ç: "C", ç: "c", Ð: "D", ð: "d", È: "E", É: "E", Ê: "E", Ë: "E", è: "e", é: "e", ê: "e", ë: "e", Ì: "I", Í: "I", Î: "I", Ï: "I", ì: "i", í: "i", î: "i", ï: "i", Ñ: "N", ñ: "n", Ò: "O", Ó: "O", Ô: "O", Õ: "O", Ö: "O", Ø: "O", ò: "o", ó: "o", ô: "o", õ: "o", ö: "o", ø: "o", Ù: "U", Ú: "U", Û: "U", Ü: "U", ù: "u", ú: "u", û: "u", ü: "u", Ý: "Y", ý: "y", ÿ: "y", Æ: "Ae", æ: "ae", Þ: "Th", þ: "th", ß: "ss", Ā: "A", Ă: "A", Ą: "A", ā: "a", ă: "a", ą: "a", Ć: "C", Ĉ: "C", Ċ: "C", Č: "C", ć: "c", ĉ: "c", ċ: "c", č: "c", Ď: "D", Đ: "D", ď: "d", đ: "d", Ē: "E", Ĕ: "E", Ė: "E", Ę: "E", Ě: "E", ē: "e", ĕ: "e", ė: "e", ę: "e", ě: "e", Ĝ: "G", Ğ: "G", Ġ: "G", Ģ: "G", ĝ: "g", ğ: "g", ġ: "g", ģ: "g", Ĥ: "H", Ħ: "H", ĥ: "h", ħ: "h", Ĩ: "I", Ī: "I", Ĭ: "I", Į: "I", İ: "I", ĩ: "i", ī: "i", ĭ: "i", į: "i", ı: "i", Ĵ: "J", ĵ: "j", Ķ: "K", ķ: "k", ĸ: "k", Ĺ: "L", Ļ: "L", Ľ: "L", Ŀ: "L", Ł: "L", ĺ: "l", ļ: "l", ľ: "l", ŀ: "l", ł: "l", Ń: "N", Ņ: "N", Ň: "N", Ŋ: "N", ń: "n", ņ: "n", ň: "n", ŋ: "n", Ō: "O", Ŏ: "O", Ő: "O", ō: "o", ŏ: "o", ő: "o", Ŕ: "R", Ŗ: "R", Ř: "R", ŕ: "r", ŗ: "r", ř: "r", Ś: "S", Ŝ: "S", Ş: "S", Š: "S", ś: "s", ŝ: "s", ş: "s", š: "s", Ţ: "T", Ť: "T", Ŧ: "T", ţ: "t", ť: "t", ŧ: "t", Ũ: "U", Ū: "U", Ŭ: "U", Ů: "U", Ű: "U", Ų: "U", ũ: "u", ū: "u", ŭ: "u", ů: "u", ű: "u", ų: "u", Ŵ: "W", ŵ: "w", Ŷ: "Y", ŷ: "y", Ÿ: "Y", Ź: "Z", Ż: "Z", Ž: "Z", ź: "z", ż: "z", ž: "z", Ĳ: "IJ", ĳ: "ij", Œ: "Oe", œ: "oe", ŉ: "'n", ſ: "s" }, ot = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }, Ut = { "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'" }, ne = { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\u2028": "u2028", "\u2029": "u2029" }, er = parseFloat, we = parseInt, ar = typeof Yf == "object" && Yf && Yf.Object === Object && Yf, Sr = typeof self == "object" && self && self.Object === Object && self, Le = ar || Sr || Function("return this")(), rr = t && !t.nodeType && t, br = rr && !0 && e && !e.nodeType && e, Di = br && br.exports === rr, xr = Di && ar.process, hr = function() {
      try {
        var at = br && br.require && br.require("util").types;
        return at || xr && xr.binding && xr.binding("util");
      } catch {
      }
    }(), gi = hr && hr.isArrayBuffer, Tn = hr && hr.isDate, an = hr && hr.isMap, cs = hr && hr.isRegExp, vf = hr && hr.isSet, ca = hr && hr.isTypedArray;
    function zr(at, At, dt) {
      switch (dt.length) {
        case 0:
          return at.call(At);
        case 1:
          return at.call(At, dt[0]);
        case 2:
          return at.call(At, dt[0], dt[1]);
        case 3:
          return at.call(At, dt[0], dt[1], dt[2]);
      }
      return at.apply(At, dt);
    }
    function O5(at, At, dt, ae) {
      for (var ye = -1, Qe = at == null ? 0 : at.length; ++ye < Qe; ) {
        var Or = at[ye];
        At(ae, Or, dt(Or), at);
      }
      return ae;
    }
    function hn(at, At) {
      for (var dt = -1, ae = at == null ? 0 : at.length; ++dt < ae && At(at[dt], dt, at) !== !1; )
        ;
      return at;
    }
    function B5(at, At) {
      for (var dt = at == null ? 0 : at.length; dt-- && At(at[dt], dt, at) !== !1; )
        ;
      return at;
    }
    function P2(at, At) {
      for (var dt = -1, ae = at == null ? 0 : at.length; ++dt < ae; )
        if (!At(at[dt], dt, at))
          return !1;
      return !0;
    }
    function Bo(at, At) {
      for (var dt = -1, ae = at == null ? 0 : at.length, ye = 0, Qe = []; ++dt < ae; ) {
        var Or = at[dt];
        At(Or, dt, at) && (Qe[ye++] = Or);
      }
      return Qe;
    }
    function Zu(at, At) {
      var dt = at == null ? 0 : at.length;
      return !!dt && Wa(at, At, 0) > -1;
    }
    function Cl(at, At, dt) {
      for (var ae = -1, ye = at == null ? 0 : at.length; ++ae < ye; )
        if (dt(At, at[ae]))
          return !0;
      return !1;
    }
    function ur(at, At) {
      for (var dt = -1, ae = at == null ? 0 : at.length, ye = Array(ae); ++dt < ae; )
        ye[dt] = At(at[dt], dt, at);
      return ye;
    }
    function To(at, At) {
      for (var dt = -1, ae = At.length, ye = at.length; ++dt < ae; )
        at[ye + dt] = At[dt];
      return at;
    }
    function Nl(at, At, dt, ae) {
      var ye = -1, Qe = at == null ? 0 : at.length;
      for (ae && Qe && (dt = at[++ye]); ++ye < Qe; )
        dt = At(dt, at[ye], ye, at);
      return dt;
    }
    function T5(at, At, dt, ae) {
      var ye = at == null ? 0 : at.length;
      for (ae && ye && (dt = at[--ye]); ye--; )
        dt = At(dt, at[ye], ye, at);
      return dt;
    }
    function Pl(at, At) {
      for (var dt = -1, ae = at == null ? 0 : at.length; ++dt < ae; )
        if (At(at[dt], dt, at))
          return !0;
      return !1;
    }
    var F5 = Rl("length");
    function U5(at) {
      return at.split("");
    }
    function q5(at) {
      return at.match(Nt) || [];
    }
    function R2(at, At, dt) {
      var ae;
      return dt(at, function(ye, Qe, Or) {
        if (At(ye, Qe, Or))
          return ae = Qe, !1;
      }), ae;
    }
    function tc(at, At, dt, ae) {
      for (var ye = at.length, Qe = dt + (ae ? 1 : -1); ae ? Qe-- : ++Qe < ye; )
        if (At(at[Qe], Qe, at))
          return Qe;
      return -1;
    }
    function Wa(at, At, dt) {
      return At === At ? V5(at, At, dt) : tc(at, O2, dt);
    }
    function L5(at, At, dt, ae) {
      for (var ye = dt - 1, Qe = at.length; ++ye < Qe; )
        if (ae(at[ye], At))
          return ye;
      return -1;
    }
    function O2(at) {
      return at !== at;
    }
    function B2(at, At) {
      var dt = at == null ? 0 : at.length;
      return dt ? Bl(at, At) / dt : d;
    }
    function Rl(at) {
      return function(At) {
        return At == null ? r : At[at];
      };
    }
    function Ol(at) {
      return function(At) {
        return at == null ? r : at[At];
      };
    }
    function T2(at, At, dt, ae, ye) {
      return ye(at, function(Qe, Or, ir) {
        dt = ae ? (ae = !1, Qe) : At(dt, Qe, Or, ir);
      }), dt;
    }
    function k5(at, At) {
      var dt = at.length;
      for (at.sort(At); dt--; )
        at[dt] = at[dt].value;
      return at;
    }
    function Bl(at, At) {
      for (var dt, ae = -1, ye = at.length; ++ae < ye; ) {
        var Qe = At(at[ae]);
        Qe !== r && (dt = dt === r ? Qe : dt + Qe);
      }
      return dt;
    }
    function Tl(at, At) {
      for (var dt = -1, ae = Array(at); ++dt < at; )
        ae[dt] = At(dt);
      return ae;
    }
    function z5(at, At) {
      return ur(At, function(dt) {
        return [dt, at[dt]];
      });
    }
    function F2(at) {
      return at && at.slice(0, k2(at) + 1).replace(zt, "");
    }
    function Ji(at) {
      return function(At) {
        return at(At);
      };
    }
    function Fl(at, At) {
      return ur(At, function(dt) {
        return at[dt];
      });
    }
    function bf(at, At) {
      return at.has(At);
    }
    function U2(at, At) {
      for (var dt = -1, ae = at.length; ++dt < ae && Wa(At, at[dt], 0) > -1; )
        ;
      return dt;
    }
    function q2(at, At) {
      for (var dt = at.length; dt-- && Wa(At, at[dt], 0) > -1; )
        ;
      return dt;
    }
    function $5(at, At) {
      for (var dt = at.length, ae = 0; dt--; )
        at[dt] === At && ++ae;
      return ae;
    }
    var H5 = Ol(tt), j5 = Ol(ot);
    function K5(at) {
      return "\\" + ne[at];
    }
    function G5(at, At) {
      return at == null ? r : at[At];
    }
    function Xa(at) {
      return Wu.test(at);
    }
    function Q5(at) {
      return ua.test(at);
    }
    function J5(at) {
      for (var At, dt = []; !(At = at.next()).done; )
        dt.push(At.value);
      return dt;
    }
    function Ul(at) {
      var At = -1, dt = Array(at.size);
      return at.forEach(function(ae, ye) {
        dt[++At] = [ye, ae];
      }), dt;
    }
    function L2(at, At) {
      return function(dt) {
        return at(At(dt));
      };
    }
    function Fo(at, At) {
      for (var dt = -1, ae = at.length, ye = 0, Qe = []; ++dt < ae; ) {
        var Or = at[dt];
        (Or === At || Or === w) && (at[dt] = w, Qe[ye++] = dt);
      }
      return Qe;
    }
    function ec(at) {
      var At = -1, dt = Array(at.size);
      return at.forEach(function(ae) {
        dt[++At] = ae;
      }), dt;
    }
    function Y5(at) {
      var At = -1, dt = Array(at.size);
      return at.forEach(function(ae) {
        dt[++At] = [ae, ae];
      }), dt;
    }
    function V5(at, At, dt) {
      for (var ae = dt - 1, ye = at.length; ++ae < ye; )
        if (at[ae] === At)
          return ae;
      return -1;
    }
    function W5(at, At, dt) {
      for (var ae = dt + 1; ae--; )
        if (at[ae] === At)
          return ae;
      return ae;
    }
    function Za(at) {
      return Xa(at) ? Z5(at) : F5(at);
    }
    function Fn(at) {
      return Xa(at) ? t4(at) : U5(at);
    }
    function k2(at) {
      for (var At = at.length; At-- && he.test(at.charAt(At)); )
        ;
      return At;
    }
    var X5 = Ol(Ut);
    function Z5(at) {
      for (var At = Va.lastIndex = 0; Va.test(at); )
        ++At;
      return At;
    }
    function t4(at) {
      return at.match(Va) || [];
    }
    function e4(at) {
      return at.match(Vu) || [];
    }
    var r4 = function at(At) {
      At = At == null ? Le : th.defaults(Le.Object(), At, th.pick(Le, Xu));
      var dt = At.Array, ae = At.Date, ye = At.Error, Qe = At.Function, Or = At.Math, ir = At.Object, ql = At.RegExp, i4 = At.String, fn = At.TypeError, rc = dt.prototype, n4 = Qe.prototype, eh = ir.prototype, ic = At["__core-js_shared__"], nc = n4.toString, We = eh.hasOwnProperty, s4 = 0, z2 = function() {
        var a = /[^.]+$/.exec(ic && ic.keys && ic.keys.IE_PROTO || "");
        return a ? "Symbol(src)_1." + a : "";
      }(), sc = eh.toString, o4 = nc.call(ir), a4 = Le._, h4 = ql("^" + nc.call(We).replace(oe, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), oc = Di ? At.Buffer : r, Uo = At.Symbol, ac = At.Uint8Array, $2 = oc ? oc.allocUnsafe : r, hc = L2(ir.getPrototypeOf, ir), H2 = ir.create, j2 = eh.propertyIsEnumerable, fc = rc.splice, K2 = Uo ? Uo.isConcatSpreadable : r, yf = Uo ? Uo.iterator : r, la = Uo ? Uo.toStringTag : r, uc = function() {
        try {
          var a = va(ir, "defineProperty");
          return a({}, "", {}), a;
        } catch {
        }
      }(), f4 = At.clearTimeout !== Le.clearTimeout && At.clearTimeout, u4 = ae && ae.now !== Le.Date.now && ae.now, c4 = At.setTimeout !== Le.setTimeout && At.setTimeout, cc = Or.ceil, lc = Or.floor, Ll = ir.getOwnPropertySymbols, l4 = oc ? oc.isBuffer : r, G2 = At.isFinite, d4 = rc.join, p4 = L2(ir.keys, ir), Br = Or.max, ai = Or.min, g4 = ae.now, m4 = At.parseInt, Q2 = Or.random, v4 = rc.reverse, kl = va(At, "DataView"), wf = va(At, "Map"), zl = va(At, "Promise"), rh = va(At, "Set"), Af = va(At, "WeakMap"), _f = va(ir, "create"), dc = Af && new Af(), ih = {}, b4 = ba(kl), y4 = ba(wf), w4 = ba(zl), A4 = ba(rh), _4 = ba(Af), pc = Uo ? Uo.prototype : r, Ef = pc ? pc.valueOf : r, J2 = pc ? pc.toString : r;
      function G(a) {
        if (gr(a) && !Ae(a) && !(a instanceof Pe)) {
          if (a instanceof un)
            return a;
          if (We.call(a, "__wrapped__"))
            return Yg(a);
        }
        return new un(a);
      }
      var nh = /* @__PURE__ */ function() {
        function a() {
        }
        return function(l) {
          if (!cr(l))
            return {};
          if (H2)
            return H2(l);
          a.prototype = l;
          var A = new a();
          return a.prototype = r, A;
        };
      }();
      function gc() {
      }
      function un(a, l) {
        this.__wrapped__ = a, this.__actions__ = [], this.__chain__ = !!l, this.__index__ = 0, this.__values__ = r;
      }
      G.templateSettings = { escape: se, evaluate: St, interpolate: kt, variable: "", imports: { _: G } }, G.prototype = gc.prototype, G.prototype.constructor = G, un.prototype = nh(gc.prototype), un.prototype.constructor = un;
      function Pe(a) {
        this.__wrapped__ = a, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = f, this.__views__ = [];
      }
      function E4() {
        var a = new Pe(this.__wrapped__);
        return a.__actions__ = Ci(this.__actions__), a.__dir__ = this.__dir__, a.__filtered__ = this.__filtered__, a.__iteratees__ = Ci(this.__iteratees__), a.__takeCount__ = this.__takeCount__, a.__views__ = Ci(this.__views__), a;
      }
      function M4() {
        if (this.__filtered__) {
          var a = new Pe(this);
          a.__dir__ = -1, a.__filtered__ = !0;
        } else
          a = this.clone(), a.__dir__ *= -1;
        return a;
      }
      function S4() {
        var a = this.__wrapped__.value(), l = this.__dir__, A = Ae(a), R = l < 0, U = A ? a.length : 0, J = Uw(0, U, this.__views__), rt = J.start, nt = J.end, ht = nt - rt, Ot = R ? nt : rt - 1, Bt = this.__iteratees__, $t = Bt.length, ee = 0, le = ai(ht, this.__takeCount__);
        if (!A || !R && U == ht && le == ht)
          return bg(a, this.__actions__);
        var me = [];
        t:
          for (; ht-- && ee < le; ) {
            Ot += l;
            for (var De = -1, ve = a[Ot]; ++De < $t; ) {
              var Ne = Bt[De], ke = Ne.iteratee, Wi = Ne.type, bi = ke(ve);
              if (Wi == c)
                ve = bi;
              else if (!bi) {
                if (Wi == h)
                  continue t;
                break t;
              }
            }
            me[ee++] = ve;
          }
        return me;
      }
      Pe.prototype = nh(gc.prototype), Pe.prototype.constructor = Pe;
      function da(a) {
        var l = -1, A = a == null ? 0 : a.length;
        for (this.clear(); ++l < A; ) {
          var R = a[l];
          this.set(R[0], R[1]);
        }
      }
      function x4() {
        this.__data__ = _f ? _f(null) : {}, this.size = 0;
      }
      function I4(a) {
        var l = this.has(a) && delete this.__data__[a];
        return this.size -= l ? 1 : 0, l;
      }
      function D4(a) {
        var l = this.__data__;
        if (_f) {
          var A = l[a];
          return A === b ? r : A;
        }
        return We.call(l, a) ? l[a] : r;
      }
      function C4(a) {
        var l = this.__data__;
        return _f ? l[a] !== r : We.call(l, a);
      }
      function N4(a, l) {
        var A = this.__data__;
        return this.size += this.has(a) ? 0 : 1, A[a] = _f && l === r ? b : l, this;
      }
      da.prototype.clear = x4, da.prototype.delete = I4, da.prototype.get = D4, da.prototype.has = C4, da.prototype.set = N4;
      function io(a) {
        var l = -1, A = a == null ? 0 : a.length;
        for (this.clear(); ++l < A; ) {
          var R = a[l];
          this.set(R[0], R[1]);
        }
      }
      function P4() {
        this.__data__ = [], this.size = 0;
      }
      function R4(a) {
        var l = this.__data__, A = mc(l, a);
        if (A < 0)
          return !1;
        var R = l.length - 1;
        return A == R ? l.pop() : fc.call(l, A, 1), --this.size, !0;
      }
      function O4(a) {
        var l = this.__data__, A = mc(l, a);
        return A < 0 ? r : l[A][1];
      }
      function B4(a) {
        return mc(this.__data__, a) > -1;
      }
      function T4(a, l) {
        var A = this.__data__, R = mc(A, a);
        return R < 0 ? (++this.size, A.push([a, l])) : A[R][1] = l, this;
      }
      io.prototype.clear = P4, io.prototype.delete = R4, io.prototype.get = O4, io.prototype.has = B4, io.prototype.set = T4;
      function no(a) {
        var l = -1, A = a == null ? 0 : a.length;
        for (this.clear(); ++l < A; ) {
          var R = a[l];
          this.set(R[0], R[1]);
        }
      }
      function F4() {
        this.size = 0, this.__data__ = { hash: new da(), map: new (wf || io)(), string: new da() };
      }
      function U4(a) {
        var l = Dc(this, a).delete(a);
        return this.size -= l ? 1 : 0, l;
      }
      function q4(a) {
        return Dc(this, a).get(a);
      }
      function L4(a) {
        return Dc(this, a).has(a);
      }
      function k4(a, l) {
        var A = Dc(this, a), R = A.size;
        return A.set(a, l), this.size += A.size == R ? 0 : 1, this;
      }
      no.prototype.clear = F4, no.prototype.delete = U4, no.prototype.get = q4, no.prototype.has = L4, no.prototype.set = k4;
      function pa(a) {
        var l = -1, A = a == null ? 0 : a.length;
        for (this.__data__ = new no(); ++l < A; )
          this.add(a[l]);
      }
      function z4(a) {
        return this.__data__.set(a, b), this;
      }
      function $4(a) {
        return this.__data__.has(a);
      }
      pa.prototype.add = pa.prototype.push = z4, pa.prototype.has = $4;
      function Un(a) {
        var l = this.__data__ = new io(a);
        this.size = l.size;
      }
      function H4() {
        this.__data__ = new io(), this.size = 0;
      }
      function j4(a) {
        var l = this.__data__, A = l.delete(a);
        return this.size = l.size, A;
      }
      function K4(a) {
        return this.__data__.get(a);
      }
      function G4(a) {
        return this.__data__.has(a);
      }
      function Q4(a, l) {
        var A = this.__data__;
        if (A instanceof io) {
          var R = A.__data__;
          if (!wf || R.length < n - 1)
            return R.push([a, l]), this.size = ++A.size, this;
          A = this.__data__ = new no(R);
        }
        return A.set(a, l), this.size = A.size, this;
      }
      Un.prototype.clear = H4, Un.prototype.delete = j4, Un.prototype.get = K4, Un.prototype.has = G4, Un.prototype.set = Q4;
      function Y2(a, l) {
        var A = Ae(a), R = !A && ya(a), U = !A && !R && $o(a), J = !A && !R && !U && hh(a), rt = A || R || U || J, nt = rt ? Tl(a.length, i4) : [], ht = nt.length;
        for (var Ot in a)
          (l || We.call(a, Ot)) && !(rt && (Ot == "length" || U && (Ot == "offset" || Ot == "parent") || J && (Ot == "buffer" || Ot == "byteLength" || Ot == "byteOffset") || ho(Ot, ht))) && nt.push(Ot);
        return nt;
      }
      function V2(a) {
        var l = a.length;
        return l ? a[Xl(0, l - 1)] : r;
      }
      function J4(a, l) {
        return Cc(Ci(a), ga(l, 0, a.length));
      }
      function Y4(a) {
        return Cc(Ci(a));
      }
      function $l(a, l, A) {
        (A !== r && !qn(a[l], A) || A === r && !(l in a)) && so(a, l, A);
      }
      function Mf(a, l, A) {
        var R = a[l];
        (!(We.call(a, l) && qn(R, A)) || A === r && !(l in a)) && so(a, l, A);
      }
      function mc(a, l) {
        for (var A = a.length; A--; )
          if (qn(a[A][0], l))
            return A;
        return -1;
      }
      function V4(a, l, A, R) {
        return qo(a, function(U, J, rt) {
          l(R, U, A(U), rt);
        }), R;
      }
      function W2(a, l) {
        return a && ds(l, $r(l), a);
      }
      function W4(a, l) {
        return a && ds(l, Pi(l), a);
      }
      function so(a, l, A) {
        l == "__proto__" && uc ? uc(a, l, { configurable: !0, enumerable: !0, value: A, writable: !0 }) : a[l] = A;
      }
      function Hl(a, l) {
        for (var A = -1, R = l.length, U = dt(R), J = a == null; ++A < R; )
          U[A] = J ? r : Ed(a, l[A]);
        return U;
      }
      function ga(a, l, A) {
        return a === a && (A !== r && (a = a <= A ? a : A), l !== r && (a = a >= l ? a : l)), a;
      }
      function cn(a, l, A, R, U, J) {
        var rt, nt = l & S, ht = l & C, Ot = l & D;
        if (A && (rt = U ? A(a, R, U, J) : A(a)), rt !== r)
          return rt;
        if (!cr(a))
          return a;
        var Bt = Ae(a);
        if (Bt) {
          if (rt = Lw(a), !nt)
            return Ci(a, rt);
        } else {
          var $t = hi(a), ee = $t == Z || $t == it;
          if ($o(a))
            return Ag(a, nt);
          if ($t == _t || $t == g || ee && !U) {
            if (rt = ht || ee ? {} : kg(a), !nt)
              return ht ? Dw(a, W4(rt, a)) : Iw(a, W2(rt, a));
          } else {
            if (!Xe[$t])
              return U ? a : {};
            rt = kw(a, $t, nt);
          }
        }
        J || (J = new Un());
        var le = J.get(a);
        if (le)
          return le;
        J.set(a, rt), g3(a) ? a.forEach(function(ve) {
          rt.add(cn(ve, l, A, ve, a, J));
        }) : d3(a) && a.forEach(function(ve, Ne) {
          rt.set(Ne, cn(ve, l, A, Ne, a, J));
        });
        var me = Ot ? ht ? fd : hd : ht ? Pi : $r, De = Bt ? r : me(a);
        return hn(De || a, function(ve, Ne) {
          De && (Ne = ve, ve = a[Ne]), Mf(rt, Ne, cn(ve, l, A, Ne, a, J));
        }), rt;
      }
      function X4(a) {
        var l = $r(a);
        return function(A) {
          return X2(A, a, l);
        };
      }
      function X2(a, l, A) {
        var R = A.length;
        if (a == null)
          return !R;
        for (a = ir(a); R--; ) {
          var U = A[R], J = l[U], rt = a[U];
          if (rt === r && !(U in a) || !J(rt))
            return !1;
        }
        return !0;
      }
      function Z2(a, l, A) {
        if (typeof a != "function")
          throw new fn(u);
        return Pf(function() {
          a.apply(r, A);
        }, l);
      }
      function Sf(a, l, A, R) {
        var U = -1, J = Zu, rt = !0, nt = a.length, ht = [], Ot = l.length;
        if (!nt)
          return ht;
        A && (l = ur(l, Ji(A))), R ? (J = Cl, rt = !1) : l.length >= n && (J = bf, rt = !1, l = new pa(l));
        t:
          for (; ++U < nt; ) {
            var Bt = a[U], $t = A == null ? Bt : A(Bt);
            if (Bt = R || Bt !== 0 ? Bt : 0, rt && $t === $t) {
              for (var ee = Ot; ee--; )
                if (l[ee] === $t)
                  continue t;
              ht.push(Bt);
            } else
              J(l, $t, R) || ht.push(Bt);
          }
        return ht;
      }
      var qo = xg(ls), tg = xg(Kl, !0);
      function Z4(a, l) {
        var A = !0;
        return qo(a, function(R, U, J) {
          return A = !!l(R, U, J), A;
        }), A;
      }
      function vc(a, l, A) {
        for (var R = -1, U = a.length; ++R < U; ) {
          var J = a[R], rt = l(J);
          if (rt != null && (nt === r ? rt === rt && !Vi(rt) : A(rt, nt)))
            var nt = rt, ht = J;
        }
        return ht;
      }
      function tw(a, l, A, R) {
        var U = a.length;
        for (A = xe(A), A < 0 && (A = -A > U ? 0 : U + A), R = R === r || R > U ? U : xe(R), R < 0 && (R += U), R = A > R ? 0 : v3(R); A < R; )
          a[A++] = l;
        return a;
      }
      function eg(a, l) {
        var A = [];
        return qo(a, function(R, U, J) {
          l(R, U, J) && A.push(R);
        }), A;
      }
      function Wr(a, l, A, R, U) {
        var J = -1, rt = a.length;
        for (A || (A = $w), U || (U = []); ++J < rt; ) {
          var nt = a[J];
          l > 0 && A(nt) ? l > 1 ? Wr(nt, l - 1, A, R, U) : To(U, nt) : R || (U[U.length] = nt);
        }
        return U;
      }
      var jl = Ig(), rg = Ig(!0);
      function ls(a, l) {
        return a && jl(a, l, $r);
      }
      function Kl(a, l) {
        return a && rg(a, l, $r);
      }
      function bc(a, l) {
        return Bo(l, function(A) {
          return fo(a[A]);
        });
      }
      function ma(a, l) {
        l = ko(l, a);
        for (var A = 0, R = l.length; a != null && A < R; )
          a = a[ps(l[A++])];
        return A && A == R ? a : r;
      }
      function ig(a, l, A) {
        var R = l(a);
        return Ae(a) ? R : To(R, A(a));
      }
      function mi(a) {
        return a == null ? a === r ? Wt : gt : la && la in ir(a) ? Fw(a) : Yw(a);
      }
      function Gl(a, l) {
        return a > l;
      }
      function ew(a, l) {
        return a != null && We.call(a, l);
      }
      function rw(a, l) {
        return a != null && l in ir(a);
      }
      function iw(a, l, A) {
        return a >= ai(l, A) && a < Br(l, A);
      }
      function Ql(a, l, A) {
        for (var R = A ? Cl : Zu, U = a[0].length, J = a.length, rt = J, nt = dt(J), ht = 1 / 0, Ot = []; rt--; ) {
          var Bt = a[rt];
          rt && l && (Bt = ur(Bt, Ji(l))), ht = ai(Bt.length, ht), nt[rt] = !A && (l || U >= 120 && Bt.length >= 120) ? new pa(rt && Bt) : r;
        }
        Bt = a[0];
        var $t = -1, ee = nt[0];
        t:
          for (; ++$t < U && Ot.length < ht; ) {
            var le = Bt[$t], me = l ? l(le) : le;
            if (le = A || le !== 0 ? le : 0, !(ee ? bf(ee, me) : R(Ot, me, A))) {
              for (rt = J; --rt; ) {
                var De = nt[rt];
                if (!(De ? bf(De, me) : R(a[rt], me, A)))
                  continue t;
              }
              ee && ee.push(me), Ot.push(le);
            }
          }
        return Ot;
      }
      function nw(a, l, A, R) {
        return ls(a, function(U, J, rt) {
          l(R, A(U), J, rt);
        }), R;
      }
      function xf(a, l, A) {
        l = ko(l, a), a = jg(a, l);
        var R = a == null ? a : a[ps(dn(l))];
        return R == null ? r : zr(R, a, A);
      }
      function ng(a) {
        return gr(a) && mi(a) == g;
      }
      function sw(a) {
        return gr(a) && mi(a) == Kt;
      }
      function ow(a) {
        return gr(a) && mi(a) == q;
      }
      function If(a, l, A, R, U) {
        return a === l ? !0 : a == null || l == null || !gr(a) && !gr(l) ? a !== a && l !== l : aw(a, l, A, R, If, U);
      }
      function aw(a, l, A, R, U, J) {
        var rt = Ae(a), nt = Ae(l), ht = rt ? F : hi(a), Ot = nt ? F : hi(l);
        ht = ht == g ? _t : ht, Ot = Ot == g ? _t : Ot;
        var Bt = ht == _t, $t = Ot == _t, ee = ht == Ot;
        if (ee && $o(a)) {
          if (!$o(l))
            return !1;
          rt = !0, Bt = !1;
        }
        if (ee && !Bt)
          return J || (J = new Un()), rt || hh(a) ? Ug(a, l, A, R, U, J) : Bw(a, l, ht, A, R, U, J);
        if (!(A & P)) {
          var le = Bt && We.call(a, "__wrapped__"), me = $t && We.call(l, "__wrapped__");
          if (le || me) {
            var De = le ? a.value() : a, ve = me ? l.value() : l;
            return J || (J = new Un()), U(De, ve, A, R, J);
          }
        }
        return ee ? (J || (J = new Un()), Tw(a, l, A, R, U, J)) : !1;
      }
      function hw(a) {
        return gr(a) && hi(a) == et;
      }
      function Jl(a, l, A, R) {
        var U = A.length, J = U, rt = !R;
        if (a == null)
          return !J;
        for (a = ir(a); U--; ) {
          var nt = A[U];
          if (rt && nt[2] ? nt[1] !== a[nt[0]] : !(nt[0] in a))
            return !1;
        }
        for (; ++U < J; ) {
          nt = A[U];
          var ht = nt[0], Ot = a[ht], Bt = nt[1];
          if (rt && nt[2]) {
            if (Ot === r && !(ht in a))
              return !1;
          } else {
            var $t = new Un();
            if (R)
              var ee = R(Ot, Bt, ht, a, l, $t);
            if (!(ee === r ? If(Bt, Ot, P | k, R, $t) : ee))
              return !1;
          }
        }
        return !0;
      }
      function sg(a) {
        if (!cr(a) || jw(a))
          return !1;
        var l = fo(a) ? h4 : He;
        return l.test(ba(a));
      }
      function fw(a) {
        return gr(a) && mi(a) == Et;
      }
      function uw(a) {
        return gr(a) && hi(a) == Qt;
      }
      function cw(a) {
        return gr(a) && Tc(a.length) && !!tr[mi(a)];
      }
      function og(a) {
        return typeof a == "function" ? a : a == null ? Ri : typeof a == "object" ? Ae(a) ? fg(a[0], a[1]) : hg(a) : D3(a);
      }
      function Yl(a) {
        if (!Nf(a))
          return p4(a);
        var l = [];
        for (var A in ir(a))
          We.call(a, A) && A != "constructor" && l.push(A);
        return l;
      }
      function lw(a) {
        if (!cr(a))
          return Jw(a);
        var l = Nf(a), A = [];
        for (var R in a)
          R == "constructor" && (l || !We.call(a, R)) || A.push(R);
        return A;
      }
      function Vl(a, l) {
        return a < l;
      }
      function ag(a, l) {
        var A = -1, R = Ni(a) ? dt(a.length) : [];
        return qo(a, function(U, J, rt) {
          R[++A] = l(U, J, rt);
        }), R;
      }
      function hg(a) {
        var l = cd(a);
        return l.length == 1 && l[0][2] ? $g(l[0][0], l[0][1]) : function(A) {
          return A === a || Jl(A, a, l);
        };
      }
      function fg(a, l) {
        return dd(a) && zg(l) ? $g(ps(a), l) : function(A) {
          var R = Ed(A, a);
          return R === r && R === l ? Md(A, a) : If(l, R, P | k);
        };
      }
      function yc(a, l, A, R, U) {
        a !== l && jl(l, function(J, rt) {
          if (U || (U = new Un()), cr(J))
            dw(a, l, rt, A, yc, R, U);
          else {
            var nt = R ? R(gd(a, rt), J, rt + "", a, l, U) : r;
            nt === r && (nt = J), $l(a, rt, nt);
          }
        }, Pi);
      }
      function dw(a, l, A, R, U, J, rt) {
        var nt = gd(a, A), ht = gd(l, A), Ot = rt.get(ht);
        if (Ot) {
          $l(a, A, Ot);
          return;
        }
        var Bt = J ? J(nt, ht, A + "", a, l, rt) : r, $t = Bt === r;
        if ($t) {
          var ee = Ae(ht), le = !ee && $o(ht), me = !ee && !le && hh(ht);
          Bt = ht, ee || le || me ? Ae(nt) ? Bt = nt : yr(nt) ? Bt = Ci(nt) : le ? ($t = !1, Bt = Ag(ht, !0)) : me ? ($t = !1, Bt = _g(ht, !0)) : Bt = [] : Rf(ht) || ya(ht) ? (Bt = nt, ya(nt) ? Bt = b3(nt) : (!cr(nt) || fo(nt)) && (Bt = kg(ht))) : $t = !1;
        }
        $t && (rt.set(ht, Bt), U(Bt, ht, R, J, rt), rt.delete(ht)), $l(a, A, Bt);
      }
      function ug(a, l) {
        var A = a.length;
        if (A)
          return l += l < 0 ? A : 0, ho(l, A) ? a[l] : r;
      }
      function cg(a, l, A) {
        l.length ? l = ur(l, function(J) {
          return Ae(J) ? function(rt) {
            return ma(rt, J.length === 1 ? J[0] : J);
          } : J;
        }) : l = [Ri];
        var R = -1;
        l = ur(l, Ji(ge()));
        var U = ag(a, function(J, rt, nt) {
          var ht = ur(l, function(Ot) {
            return Ot(J);
          });
          return { criteria: ht, index: ++R, value: J };
        });
        return k5(U, function(J, rt) {
          return xw(J, rt, A);
        });
      }
      function pw(a, l) {
        return lg(a, l, function(A, R) {
          return Md(a, R);
        });
      }
      function lg(a, l, A) {
        for (var R = -1, U = l.length, J = {}; ++R < U; ) {
          var rt = l[R], nt = ma(a, rt);
          A(nt, rt) && Df(J, ko(rt, a), nt);
        }
        return J;
      }
      function gw(a) {
        return function(l) {
          return ma(l, a);
        };
      }
      function Wl(a, l, A, R) {
        var U = R ? L5 : Wa, J = -1, rt = l.length, nt = a;
        for (a === l && (l = Ci(l)), A && (nt = ur(a, Ji(A))); ++J < rt; )
          for (var ht = 0, Ot = l[J], Bt = A ? A(Ot) : Ot; (ht = U(nt, Bt, ht, R)) > -1; )
            nt !== a && fc.call(nt, ht, 1), fc.call(a, ht, 1);
        return a;
      }
      function dg(a, l) {
        for (var A = a ? l.length : 0, R = A - 1; A--; ) {
          var U = l[A];
          if (A == R || U !== J) {
            var J = U;
            ho(U) ? fc.call(a, U, 1) : ed(a, U);
          }
        }
        return a;
      }
      function Xl(a, l) {
        return a + lc(Q2() * (l - a + 1));
      }
      function mw(a, l, A, R) {
        for (var U = -1, J = Br(cc((l - a) / (A || 1)), 0), rt = dt(J); J--; )
          rt[R ? J : ++U] = a, a += A;
        return rt;
      }
      function Zl(a, l) {
        var A = "";
        if (!a || l < 1 || l > M)
          return A;
        do
          l % 2 && (A += a), l = lc(l / 2), l && (a += a);
        while (l);
        return A;
      }
      function Ce(a, l) {
        return md(Hg(a, l, Ri), a + "");
      }
      function vw(a) {
        return V2(fh(a));
      }
      function bw(a, l) {
        var A = fh(a);
        return Cc(A, ga(l, 0, A.length));
      }
      function Df(a, l, A, R) {
        if (!cr(a))
          return a;
        l = ko(l, a);
        for (var U = -1, J = l.length, rt = J - 1, nt = a; nt != null && ++U < J; ) {
          var ht = ps(l[U]), Ot = A;
          if (ht === "__proto__" || ht === "constructor" || ht === "prototype")
            return a;
          if (U != rt) {
            var Bt = nt[ht];
            Ot = R ? R(Bt, ht, nt) : r, Ot === r && (Ot = cr(Bt) ? Bt : ho(l[U + 1]) ? [] : {});
          }
          Mf(nt, ht, Ot), nt = nt[ht];
        }
        return a;
      }
      var pg = dc ? function(a, l) {
        return dc.set(a, l), a;
      } : Ri, yw = uc ? function(a, l) {
        return uc(a, "toString", { configurable: !0, enumerable: !1, value: xd(l), writable: !0 });
      } : Ri;
      function ww(a) {
        return Cc(fh(a));
      }
      function ln(a, l, A) {
        var R = -1, U = a.length;
        l < 0 && (l = -l > U ? 0 : U + l), A = A > U ? U : A, A < 0 && (A += U), U = l > A ? 0 : A - l >>> 0, l >>>= 0;
        for (var J = dt(U); ++R < U; )
          J[R] = a[R + l];
        return J;
      }
      function Aw(a, l) {
        var A;
        return qo(a, function(R, U, J) {
          return A = l(R, U, J), !A;
        }), !!A;
      }
      function wc(a, l, A) {
        var R = 0, U = a == null ? R : a.length;
        if (typeof l == "number" && l === l && U <= Y) {
          for (; R < U; ) {
            var J = R + U >>> 1, rt = a[J];
            rt !== null && !Vi(rt) && (A ? rt <= l : rt < l) ? R = J + 1 : U = J;
          }
          return U;
        }
        return td(a, l, Ri, A);
      }
      function td(a, l, A, R) {
        var U = 0, J = a == null ? 0 : a.length;
        if (J === 0)
          return 0;
        l = A(l);
        for (var rt = l !== l, nt = l === null, ht = Vi(l), Ot = l === r; U < J; ) {
          var Bt = lc((U + J) / 2), $t = A(a[Bt]), ee = $t !== r, le = $t === null, me = $t === $t, De = Vi($t);
          if (rt)
            var ve = R || me;
          else
            Ot ? ve = me && (R || ee) : nt ? ve = me && ee && (R || !le) : ht ? ve = me && ee && !le && (R || !De) : le || De ? ve = !1 : ve = R ? $t <= l : $t < l;
          ve ? U = Bt + 1 : J = Bt;
        }
        return ai(J, _);
      }
      function gg(a, l) {
        for (var A = -1, R = a.length, U = 0, J = []; ++A < R; ) {
          var rt = a[A], nt = l ? l(rt) : rt;
          if (!A || !qn(nt, ht)) {
            var ht = nt;
            J[U++] = rt === 0 ? 0 : rt;
          }
        }
        return J;
      }
      function mg(a) {
        return typeof a == "number" ? a : Vi(a) ? d : +a;
      }
      function Yi(a) {
        if (typeof a == "string")
          return a;
        if (Ae(a))
          return ur(a, Yi) + "";
        if (Vi(a))
          return J2 ? J2.call(a) : "";
        var l = a + "";
        return l == "0" && 1 / a == -y ? "-0" : l;
      }
      function Lo(a, l, A) {
        var R = -1, U = Zu, J = a.length, rt = !0, nt = [], ht = nt;
        if (A)
          rt = !1, U = Cl;
        else if (J >= n) {
          var Ot = l ? null : Rw(a);
          if (Ot)
            return ec(Ot);
          rt = !1, U = bf, ht = new pa();
        } else
          ht = l ? [] : nt;
        t:
          for (; ++R < J; ) {
            var Bt = a[R], $t = l ? l(Bt) : Bt;
            if (Bt = A || Bt !== 0 ? Bt : 0, rt && $t === $t) {
              for (var ee = ht.length; ee--; )
                if (ht[ee] === $t)
                  continue t;
              l && ht.push($t), nt.push(Bt);
            } else
              U(ht, $t, A) || (ht !== nt && ht.push($t), nt.push(Bt));
          }
        return nt;
      }
      function ed(a, l) {
        return l = ko(l, a), a = jg(a, l), a == null || delete a[ps(dn(l))];
      }
      function vg(a, l, A, R) {
        return Df(a, l, A(ma(a, l)), R);
      }
      function Ac(a, l, A, R) {
        for (var U = a.length, J = R ? U : -1; (R ? J-- : ++J < U) && l(a[J], J, a); )
          ;
        return A ? ln(a, R ? 0 : J, R ? J + 1 : U) : ln(a, R ? J + 1 : 0, R ? U : J);
      }
      function bg(a, l) {
        var A = a;
        return A instanceof Pe && (A = A.value()), Nl(l, function(R, U) {
          return U.func.apply(U.thisArg, To([R], U.args));
        }, A);
      }
      function rd(a, l, A) {
        var R = a.length;
        if (R < 2)
          return R ? Lo(a[0]) : [];
        for (var U = -1, J = dt(R); ++U < R; )
          for (var rt = a[U], nt = -1; ++nt < R; )
            nt != U && (J[U] = Sf(J[U] || rt, a[nt], l, A));
        return Lo(Wr(J, 1), l, A);
      }
      function yg(a, l, A) {
        for (var R = -1, U = a.length, J = l.length, rt = {}; ++R < U; ) {
          var nt = R < J ? l[R] : r;
          A(rt, a[R], nt);
        }
        return rt;
      }
      function id(a) {
        return yr(a) ? a : [];
      }
      function nd(a) {
        return typeof a == "function" ? a : Ri;
      }
      function ko(a, l) {
        return Ae(a) ? a : dd(a, l) ? [a] : Jg(Je(a));
      }
      var _w = Ce;
      function zo(a, l, A) {
        var R = a.length;
        return A = A === r ? R : A, !l && A >= R ? a : ln(a, l, A);
      }
      var wg = f4 || function(a) {
        return Le.clearTimeout(a);
      };
      function Ag(a, l) {
        if (l)
          return a.slice();
        var A = a.length, R = $2 ? $2(A) : new a.constructor(A);
        return a.copy(R), R;
      }
      function sd(a) {
        var l = new a.constructor(a.byteLength);
        return new ac(l).set(new ac(a)), l;
      }
      function Ew(a, l) {
        var A = l ? sd(a.buffer) : a.buffer;
        return new a.constructor(A, a.byteOffset, a.byteLength);
      }
      function Mw(a) {
        var l = new a.constructor(a.source, Gt.exec(a));
        return l.lastIndex = a.lastIndex, l;
      }
      function Sw(a) {
        return Ef ? ir(Ef.call(a)) : {};
      }
      function _g(a, l) {
        var A = l ? sd(a.buffer) : a.buffer;
        return new a.constructor(A, a.byteOffset, a.length);
      }
      function Eg(a, l) {
        if (a !== l) {
          var A = a !== r, R = a === null, U = a === a, J = Vi(a), rt = l !== r, nt = l === null, ht = l === l, Ot = Vi(l);
          if (!nt && !Ot && !J && a > l || J && rt && ht && !nt && !Ot || R && rt && ht || !A && ht || !U)
            return 1;
          if (!R && !J && !Ot && a < l || Ot && A && U && !R && !J || nt && A && U || !rt && U || !ht)
            return -1;
        }
        return 0;
      }
      function xw(a, l, A) {
        for (var R = -1, U = a.criteria, J = l.criteria, rt = U.length, nt = A.length; ++R < rt; ) {
          var ht = Eg(U[R], J[R]);
          if (ht) {
            if (R >= nt)
              return ht;
            var Ot = A[R];
            return ht * (Ot == "desc" ? -1 : 1);
          }
        }
        return a.index - l.index;
      }
      function Mg(a, l, A, R) {
        for (var U = -1, J = a.length, rt = A.length, nt = -1, ht = l.length, Ot = Br(J - rt, 0), Bt = dt(ht + Ot), $t = !R; ++nt < ht; )
          Bt[nt] = l[nt];
        for (; ++U < rt; )
          ($t || U < J) && (Bt[A[U]] = a[U]);
        for (; Ot--; )
          Bt[nt++] = a[U++];
        return Bt;
      }
      function Sg(a, l, A, R) {
        for (var U = -1, J = a.length, rt = -1, nt = A.length, ht = -1, Ot = l.length, Bt = Br(J - nt, 0), $t = dt(Bt + Ot), ee = !R; ++U < Bt; )
          $t[U] = a[U];
        for (var le = U; ++ht < Ot; )
          $t[le + ht] = l[ht];
        for (; ++rt < nt; )
          (ee || U < J) && ($t[le + A[rt]] = a[U++]);
        return $t;
      }
      function Ci(a, l) {
        var A = -1, R = a.length;
        for (l || (l = dt(R)); ++A < R; )
          l[A] = a[A];
        return l;
      }
      function ds(a, l, A, R) {
        var U = !A;
        A || (A = {});
        for (var J = -1, rt = l.length; ++J < rt; ) {
          var nt = l[J], ht = R ? R(A[nt], a[nt], nt, A, a) : r;
          ht === r && (ht = a[nt]), U ? so(A, nt, ht) : Mf(A, nt, ht);
        }
        return A;
      }
      function Iw(a, l) {
        return ds(a, ld(a), l);
      }
      function Dw(a, l) {
        return ds(a, qg(a), l);
      }
      function _c(a, l) {
        return function(A, R) {
          var U = Ae(A) ? O5 : V4, J = l ? l() : {};
          return U(A, a, ge(R, 2), J);
        };
      }
      function sh(a) {
        return Ce(function(l, A) {
          var R = -1, U = A.length, J = U > 1 ? A[U - 1] : r, rt = U > 2 ? A[2] : r;
          for (J = a.length > 3 && typeof J == "function" ? (U--, J) : r, rt && vi(A[0], A[1], rt) && (J = U < 3 ? r : J, U = 1), l = ir(l); ++R < U; ) {
            var nt = A[R];
            nt && a(l, nt, R, J);
          }
          return l;
        });
      }
      function xg(a, l) {
        return function(A, R) {
          if (A == null)
            return A;
          if (!Ni(A))
            return a(A, R);
          for (var U = A.length, J = l ? U : -1, rt = ir(A); (l ? J-- : ++J < U) && R(rt[J], J, rt) !== !1; )
            ;
          return A;
        };
      }
      function Ig(a) {
        return function(l, A, R) {
          for (var U = -1, J = ir(l), rt = R(l), nt = rt.length; nt--; ) {
            var ht = rt[a ? nt : ++U];
            if (A(J[ht], ht, J) === !1)
              break;
          }
          return l;
        };
      }
      function Cw(a, l, A) {
        var R = l & z, U = Cf(a);
        function J() {
          var rt = this && this !== Le && this instanceof J ? U : a;
          return rt.apply(R ? A : this, arguments);
        }
        return J;
      }
      function Dg(a) {
        return function(l) {
          l = Je(l);
          var A = Xa(l) ? Fn(l) : r, R = A ? A[0] : l.charAt(0), U = A ? zo(A, 1).join("") : l.slice(1);
          return R[a]() + U;
        };
      }
      function oh(a) {
        return function(l) {
          return Nl(x3(S3(l).replace(mf, "")), a, "");
        };
      }
      function Cf(a) {
        return function() {
          var l = arguments;
          switch (l.length) {
            case 0:
              return new a();
            case 1:
              return new a(l[0]);
            case 2:
              return new a(l[0], l[1]);
            case 3:
              return new a(l[0], l[1], l[2]);
            case 4:
              return new a(l[0], l[1], l[2], l[3]);
            case 5:
              return new a(l[0], l[1], l[2], l[3], l[4]);
            case 6:
              return new a(l[0], l[1], l[2], l[3], l[4], l[5]);
            case 7:
              return new a(l[0], l[1], l[2], l[3], l[4], l[5], l[6]);
          }
          var A = nh(a.prototype), R = a.apply(A, l);
          return cr(R) ? R : A;
        };
      }
      function Nw(a, l, A) {
        var R = Cf(a);
        function U() {
          for (var J = arguments.length, rt = dt(J), nt = J, ht = ah(U); nt--; )
            rt[nt] = arguments[nt];
          var Ot = J < 3 && rt[0] !== ht && rt[J - 1] !== ht ? [] : Fo(rt, ht);
          if (J -= Ot.length, J < A)
            return Og(a, l, Ec, U.placeholder, r, rt, Ot, r, r, A - J);
          var Bt = this && this !== Le && this instanceof U ? R : a;
          return zr(Bt, this, rt);
        }
        return U;
      }
      function Cg(a) {
        return function(l, A, R) {
          var U = ir(l);
          if (!Ni(l)) {
            var J = ge(A, 3);
            l = $r(l), A = function(nt) {
              return J(U[nt], nt, U);
            };
          }
          var rt = a(l, A, R);
          return rt > -1 ? U[J ? l[rt] : rt] : r;
        };
      }
      function Ng(a) {
        return ao(function(l) {
          var A = l.length, R = A, U = un.prototype.thru;
          for (a && l.reverse(); R--; ) {
            var J = l[R];
            if (typeof J != "function")
              throw new fn(u);
            if (U && !rt && Ic(J) == "wrapper")
              var rt = new un([], !0);
          }
          for (R = rt ? R : A; ++R < A; ) {
            J = l[R];
            var nt = Ic(J), ht = nt == "wrapper" ? ud(J) : r;
            ht && pd(ht[0]) && ht[1] == (N | W | j | H) && !ht[4].length && ht[9] == 1 ? rt = rt[Ic(ht[0])].apply(rt, ht[3]) : rt = J.length == 1 && pd(J) ? rt[nt]() : rt.thru(J);
          }
          return function() {
            var Ot = arguments, Bt = Ot[0];
            if (rt && Ot.length == 1 && Ae(Bt))
              return rt.plant(Bt).value();
            for (var $t = 0, ee = A ? l[$t].apply(this, Ot) : Bt; ++$t < A; )
              ee = l[$t].call(this, ee);
            return ee;
          };
        });
      }
      function Ec(a, l, A, R, U, J, rt, nt, ht, Ot) {
        var Bt = l & N, $t = l & z, ee = l & V, le = l & (W | $), me = l & st, De = ee ? r : Cf(a);
        function ve() {
          for (var Ne = arguments.length, ke = dt(Ne), Wi = Ne; Wi--; )
            ke[Wi] = arguments[Wi];
          if (le)
            var bi = ah(ve), Xi = $5(ke, bi);
          if (R && (ke = Mg(ke, R, U, le)), J && (ke = Sg(ke, J, rt, le)), Ne -= Xi, le && Ne < Ot) {
            var wr = Fo(ke, bi);
            return Og(a, l, Ec, ve.placeholder, A, ke, wr, nt, ht, Ot - Ne);
          }
          var Ln = $t ? A : this, co = ee ? Ln[a] : a;
          return Ne = ke.length, nt ? ke = Vw(ke, nt) : me && Ne > 1 && ke.reverse(), Bt && ht < Ne && (ke.length = ht), this && this !== Le && this instanceof ve && (co = De || Cf(co)), co.apply(Ln, ke);
        }
        return ve;
      }
      function Pg(a, l) {
        return function(A, R) {
          return nw(A, a, l(R), {});
        };
      }
      function Mc(a, l) {
        return function(A, R) {
          var U;
          if (A === r && R === r)
            return l;
          if (A !== r && (U = A), R !== r) {
            if (U === r)
              return R;
            typeof A == "string" || typeof R == "string" ? (A = Yi(A), R = Yi(R)) : (A = mg(A), R = mg(R)), U = a(A, R);
          }
          return U;
        };
      }
      function od(a) {
        return ao(function(l) {
          return l = ur(l, Ji(ge())), Ce(function(A) {
            var R = this;
            return a(l, function(U) {
              return zr(U, R, A);
            });
          });
        });
      }
      function Sc(a, l) {
        l = l === r ? " " : Yi(l);
        var A = l.length;
        if (A < 2)
          return A ? Zl(l, a) : l;
        var R = Zl(l, cc(a / Za(l)));
        return Xa(l) ? zo(Fn(R), 0, a).join("") : R.slice(0, a);
      }
      function Pw(a, l, A, R) {
        var U = l & z, J = Cf(a);
        function rt() {
          for (var nt = -1, ht = arguments.length, Ot = -1, Bt = R.length, $t = dt(Bt + ht), ee = this && this !== Le && this instanceof rt ? J : a; ++Ot < Bt; )
            $t[Ot] = R[Ot];
          for (; ht--; )
            $t[Ot++] = arguments[++nt];
          return zr(ee, U ? A : this, $t);
        }
        return rt;
      }
      function Rg(a) {
        return function(l, A, R) {
          return R && typeof R != "number" && vi(l, A, R) && (A = R = r), l = uo(l), A === r ? (A = l, l = 0) : A = uo(A), R = R === r ? l < A ? 1 : -1 : uo(R), mw(l, A, R, a);
        };
      }
      function xc(a) {
        return function(l, A) {
          return typeof l == "string" && typeof A == "string" || (l = pn(l), A = pn(A)), a(l, A);
        };
      }
      function Og(a, l, A, R, U, J, rt, nt, ht, Ot) {
        var Bt = l & W, $t = Bt ? rt : r, ee = Bt ? r : rt, le = Bt ? J : r, me = Bt ? r : J;
        l |= Bt ? j : K, l &= ~(Bt ? K : j), l & Q || (l &= ~(z | V));
        var De = [a, l, U, le, $t, me, ee, nt, ht, Ot], ve = A.apply(r, De);
        return pd(a) && Kg(ve, De), ve.placeholder = R, Gg(ve, a, l);
      }
      function ad(a) {
        var l = Or[a];
        return function(A, R) {
          if (A = pn(A), R = R == null ? 0 : ai(xe(R), 292), R && G2(A)) {
            var U = (Je(A) + "e").split("e"), J = l(U[0] + "e" + (+U[1] + R));
            return U = (Je(J) + "e").split("e"), +(U[0] + "e" + (+U[1] - R));
          }
          return l(A);
        };
      }
      var Rw = rh && 1 / ec(new rh([, -0]))[1] == y ? function(a) {
        return new rh(a);
      } : Cd;
      function Bg(a) {
        return function(l) {
          var A = hi(l);
          return A == et ? Ul(l) : A == Qt ? Y5(l) : z5(l, a(l));
        };
      }
      function oo(a, l, A, R, U, J, rt, nt) {
        var ht = l & V;
        if (!ht && typeof a != "function")
          throw new fn(u);
        var Ot = R ? R.length : 0;
        if (Ot || (l &= ~(j | K), R = U = r), rt = rt === r ? rt : Br(xe(rt), 0), nt = nt === r ? nt : xe(nt), Ot -= U ? U.length : 0, l & K) {
          var Bt = R, $t = U;
          R = U = r;
        }
        var ee = ht ? r : ud(a), le = [a, l, A, R, U, Bt, $t, J, rt, nt];
        if (ee && Qw(le, ee), a = le[0], l = le[1], A = le[2], R = le[3], U = le[4], nt = le[9] = le[9] === r ? ht ? 0 : a.length : Br(le[9] - Ot, 0), !nt && l & (W | $) && (l &= ~(W | $)), !l || l == z)
          var me = Cw(a, l, A);
        else
          l == W || l == $ ? me = Nw(a, l, nt) : (l == j || l == (z | j)) && !U.length ? me = Pw(a, l, A, R) : me = Ec.apply(r, le);
        var De = ee ? pg : Kg;
        return Gg(De(me, le), a, l);
      }
      function Tg(a, l, A, R) {
        return a === r || qn(a, eh[A]) && !We.call(R, A) ? l : a;
      }
      function Fg(a, l, A, R, U, J) {
        return cr(a) && cr(l) && (J.set(l, a), yc(a, l, r, Fg, J), J.delete(l)), a;
      }
      function Ow(a) {
        return Rf(a) ? r : a;
      }
      function Ug(a, l, A, R, U, J) {
        var rt = A & P, nt = a.length, ht = l.length;
        if (nt != ht && !(rt && ht > nt))
          return !1;
        var Ot = J.get(a), Bt = J.get(l);
        if (Ot && Bt)
          return Ot == l && Bt == a;
        var $t = -1, ee = !0, le = A & k ? new pa() : r;
        for (J.set(a, l), J.set(l, a); ++$t < nt; ) {
          var me = a[$t], De = l[$t];
          if (R)
            var ve = rt ? R(De, me, $t, l, a, J) : R(me, De, $t, a, l, J);
          if (ve !== r) {
            if (ve)
              continue;
            ee = !1;
            break;
          }
          if (le) {
            if (!Pl(l, function(Ne, ke) {
              if (!bf(le, ke) && (me === Ne || U(me, Ne, A, R, J)))
                return le.push(ke);
            })) {
              ee = !1;
              break;
            }
          } else if (!(me === De || U(me, De, A, R, J))) {
            ee = !1;
            break;
          }
        }
        return J.delete(a), J.delete(l), ee;
      }
      function Bw(a, l, A, R, U, J, rt) {
        switch (A) {
          case ut:
            if (a.byteLength != l.byteLength || a.byteOffset != l.byteOffset)
              return !1;
            a = a.buffer, l = l.buffer;
          case Kt:
            return !(a.byteLength != l.byteLength || !J(new ac(a), new ac(l)));
          case B:
          case q:
          case pt:
            return qn(+a, +l);
          case T:
            return a.name == l.name && a.message == l.message;
          case Et:
          case lt:
            return a == l + "";
          case et:
            var nt = Ul;
          case Qt:
            var ht = R & P;
            if (nt || (nt = ec), a.size != l.size && !ht)
              return !1;
            var Ot = rt.get(a);
            if (Ot)
              return Ot == l;
            R |= k, rt.set(a, l);
            var Bt = Ug(nt(a), nt(l), R, U, J, rt);
            return rt.delete(a), Bt;
          case yt:
            if (Ef)
              return Ef.call(a) == Ef.call(l);
        }
        return !1;
      }
      function Tw(a, l, A, R, U, J) {
        var rt = A & P, nt = hd(a), ht = nt.length, Ot = hd(l), Bt = Ot.length;
        if (ht != Bt && !rt)
          return !1;
        for (var $t = ht; $t--; ) {
          var ee = nt[$t];
          if (!(rt ? ee in l : We.call(l, ee)))
            return !1;
        }
        var le = J.get(a), me = J.get(l);
        if (le && me)
          return le == l && me == a;
        var De = !0;
        J.set(a, l), J.set(l, a);
        for (var ve = rt; ++$t < ht; ) {
          ee = nt[$t];
          var Ne = a[ee], ke = l[ee];
          if (R)
            var Wi = rt ? R(ke, Ne, ee, l, a, J) : R(Ne, ke, ee, a, l, J);
          if (!(Wi === r ? Ne === ke || U(Ne, ke, A, R, J) : Wi)) {
            De = !1;
            break;
          }
          ve || (ve = ee == "constructor");
        }
        if (De && !ve) {
          var bi = a.constructor, Xi = l.constructor;
          bi != Xi && "constructor" in a && "constructor" in l && !(typeof bi == "function" && bi instanceof bi && typeof Xi == "function" && Xi instanceof Xi) && (De = !1);
        }
        return J.delete(a), J.delete(l), De;
      }
      function ao(a) {
        return md(Hg(a, r, Xg), a + "");
      }
      function hd(a) {
        return ig(a, $r, ld);
      }
      function fd(a) {
        return ig(a, Pi, qg);
      }
      var ud = dc ? function(a) {
        return dc.get(a);
      } : Cd;
      function Ic(a) {
        for (var l = a.name + "", A = ih[l], R = We.call(ih, l) ? A.length : 0; R--; ) {
          var U = A[R], J = U.func;
          if (J == null || J == a)
            return U.name;
        }
        return l;
      }
      function ah(a) {
        var l = We.call(G, "placeholder") ? G : a;
        return l.placeholder;
      }
      function ge() {
        var a = G.iteratee || Id;
        return a = a === Id ? og : a, arguments.length ? a(arguments[0], arguments[1]) : a;
      }
      function Dc(a, l) {
        var A = a.__data__;
        return Hw(l) ? A[typeof l == "string" ? "string" : "hash"] : A.map;
      }
      function cd(a) {
        for (var l = $r(a), A = l.length; A--; ) {
          var R = l[A], U = a[R];
          l[A] = [R, U, zg(U)];
        }
        return l;
      }
      function va(a, l) {
        var A = G5(a, l);
        return sg(A) ? A : r;
      }
      function Fw(a) {
        var l = We.call(a, la), A = a[la];
        try {
          a[la] = r;
          var R = !0;
        } catch {
        }
        var U = sc.call(a);
        return R && (l ? a[la] = A : delete a[la]), U;
      }
      var ld = Ll ? function(a) {
        return a == null ? [] : (a = ir(a), Bo(Ll(a), function(l) {
          return j2.call(a, l);
        }));
      } : Nd, qg = Ll ? function(a) {
        for (var l = []; a; )
          To(l, ld(a)), a = hc(a);
        return l;
      } : Nd, hi = mi;
      (kl && hi(new kl(new ArrayBuffer(1))) != ut || wf && hi(new wf()) != et || zl && hi(zl.resolve()) != re || rh && hi(new rh()) != Qt || Af && hi(new Af()) != ft) && (hi = function(a) {
        var l = mi(a), A = l == _t ? a.constructor : r, R = A ? ba(A) : "";
        if (R)
          switch (R) {
            case b4:
              return ut;
            case y4:
              return et;
            case w4:
              return re;
            case A4:
              return Qt;
            case _4:
              return ft;
          }
        return l;
      });
      function Uw(a, l, A) {
        for (var R = -1, U = A.length; ++R < U; ) {
          var J = A[R], rt = J.size;
          switch (J.type) {
            case "drop":
              a += rt;
              break;
            case "dropRight":
              l -= rt;
              break;
            case "take":
              l = ai(l, a + rt);
              break;
            case "takeRight":
              a = Br(a, l - rt);
              break;
          }
        }
        return { start: a, end: l };
      }
      function qw(a) {
        var l = a.match(qt);
        return l ? l[1].split(fe) : [];
      }
      function Lg(a, l, A) {
        l = ko(l, a);
        for (var R = -1, U = l.length, J = !1; ++R < U; ) {
          var rt = ps(l[R]);
          if (!(J = a != null && A(a, rt)))
            break;
          a = a[rt];
        }
        return J || ++R != U ? J : (U = a == null ? 0 : a.length, !!U && Tc(U) && ho(rt, U) && (Ae(a) || ya(a)));
      }
      function Lw(a) {
        var l = a.length, A = new a.constructor(l);
        return l && typeof a[0] == "string" && We.call(a, "index") && (A.index = a.index, A.input = a.input), A;
      }
      function kg(a) {
        return typeof a.constructor == "function" && !Nf(a) ? nh(hc(a)) : {};
      }
      function kw(a, l, A) {
        var R = a.constructor;
        switch (l) {
          case Kt:
            return sd(a);
          case B:
          case q:
            return new R(+a);
          case ut:
            return Ew(a, A);
          case It:
          case Jt:
          case mt:
          case Pt:
          case te:
          case vt:
          case Rt:
          case ue:
          case Tt:
            return _g(a, A);
          case et:
            return new R();
          case pt:
          case lt:
            return new R(a);
          case Et:
            return Mw(a);
          case Qt:
            return new R();
          case yt:
            return Sw(a);
        }
      }
      function zw(a, l) {
        var A = l.length;
        if (!A)
          return a;
        var R = A - 1;
        return l[R] = (A > 1 ? "& " : "") + l[R], l = l.join(A > 2 ? ", " : " "), a.replace(xt, `{
/* [wrapped with ` + l + `] */
`);
      }
      function $w(a) {
        return Ae(a) || ya(a) || !!(K2 && a && a[K2]);
      }
      function ho(a, l) {
        var A = typeof a;
        return l = l ?? M, !!l && (A == "number" || A != "symbol" && Ke.test(a)) && a > -1 && a % 1 == 0 && a < l;
      }
      function vi(a, l, A) {
        if (!cr(A))
          return !1;
        var R = typeof l;
        return (R == "number" ? Ni(A) && ho(l, A.length) : R == "string" && l in A) ? qn(A[l], a) : !1;
      }
      function dd(a, l) {
        if (Ae(a))
          return !1;
        var A = typeof a;
        return A == "number" || A == "symbol" || A == "boolean" || a == null || Vi(a) ? !0 : Dt.test(a) || !ie.test(a) || l != null && a in ir(l);
      }
      function Hw(a) {
        var l = typeof a;
        return l == "string" || l == "number" || l == "symbol" || l == "boolean" ? a !== "__proto__" : a === null;
      }
      function pd(a) {
        var l = Ic(a), A = G[l];
        if (typeof A != "function" || !(l in Pe.prototype))
          return !1;
        if (a === A)
          return !0;
        var R = ud(A);
        return !!R && a === R[0];
      }
      function jw(a) {
        return !!z2 && z2 in a;
      }
      var Kw = ic ? fo : Pd;
      function Nf(a) {
        var l = a && a.constructor, A = typeof l == "function" && l.prototype || eh;
        return a === A;
      }
      function zg(a) {
        return a === a && !cr(a);
      }
      function $g(a, l) {
        return function(A) {
          return A == null ? !1 : A[a] === l && (l !== r || a in ir(A));
        };
      }
      function Gw(a) {
        var l = Oc(a, function(R) {
          return A.size === m && A.clear(), R;
        }), A = l.cache;
        return l;
      }
      function Qw(a, l) {
        var A = a[1], R = l[1], U = A | R, J = U < (z | V | N), rt = R == N && A == W || R == N && A == H && a[7].length <= l[8] || R == (N | H) && l[7].length <= l[8] && A == W;
        if (!(J || rt))
          return a;
        R & z && (a[2] = l[2], U |= A & z ? 0 : Q);
        var nt = l[3];
        if (nt) {
          var ht = a[3];
          a[3] = ht ? Mg(ht, nt, l[4]) : nt, a[4] = ht ? Fo(a[3], w) : l[4];
        }
        return nt = l[5], nt && (ht = a[5], a[5] = ht ? Sg(ht, nt, l[6]) : nt, a[6] = ht ? Fo(a[5], w) : l[6]), nt = l[7], nt && (a[7] = nt), R & N && (a[8] = a[8] == null ? l[8] : ai(a[8], l[8])), a[9] == null && (a[9] = l[9]), a[0] = l[0], a[1] = U, a;
      }
      function Jw(a) {
        var l = [];
        if (a != null)
          for (var A in ir(a))
            l.push(A);
        return l;
      }
      function Yw(a) {
        return sc.call(a);
      }
      function Hg(a, l, A) {
        return l = Br(l === r ? a.length - 1 : l, 0), function() {
          for (var R = arguments, U = -1, J = Br(R.length - l, 0), rt = dt(J); ++U < J; )
            rt[U] = R[l + U];
          U = -1;
          for (var nt = dt(l + 1); ++U < l; )
            nt[U] = R[U];
          return nt[l] = A(rt), zr(a, this, nt);
        };
      }
      function jg(a, l) {
        return l.length < 2 ? a : ma(a, ln(l, 0, -1));
      }
      function Vw(a, l) {
        for (var A = a.length, R = ai(l.length, A), U = Ci(a); R--; ) {
          var J = l[R];
          a[R] = ho(J, A) ? U[J] : r;
        }
        return a;
      }
      function gd(a, l) {
        if (!(l === "constructor" && typeof a[l] == "function") && l != "__proto__")
          return a[l];
      }
      var Kg = Qg(pg), Pf = c4 || function(a, l) {
        return Le.setTimeout(a, l);
      }, md = Qg(yw);
      function Gg(a, l, A) {
        var R = l + "";
        return md(a, zw(R, Ww(qw(R), A)));
      }
      function Qg(a) {
        var l = 0, A = 0;
        return function() {
          var R = g4(), U = o - (R - A);
          if (A = R, U > 0) {
            if (++l >= I)
              return arguments[0];
          } else
            l = 0;
          return a.apply(r, arguments);
        };
      }
      function Cc(a, l) {
        var A = -1, R = a.length, U = R - 1;
        for (l = l === r ? R : l; ++A < l; ) {
          var J = Xl(A, U), rt = a[J];
          a[J] = a[A], a[A] = rt;
        }
        return a.length = l, a;
      }
      var Jg = Gw(function(a) {
        var l = [];
        return a.charCodeAt(0) === 46 && l.push(""), a.replace(jt, function(A, R, U, J) {
          l.push(U ? J.replace(be, "$1") : R || A);
        }), l;
      });
      function ps(a) {
        if (typeof a == "string" || Vi(a))
          return a;
        var l = a + "";
        return l == "0" && 1 / a == -y ? "-0" : l;
      }
      function ba(a) {
        if (a != null) {
          try {
            return nc.call(a);
          } catch {
          }
          try {
            return a + "";
          } catch {
          }
        }
        return "";
      }
      function Ww(a, l) {
        return hn(X, function(A) {
          var R = "_." + A[0];
          l & A[1] && !Zu(a, R) && a.push(R);
        }), a.sort();
      }
      function Yg(a) {
        if (a instanceof Pe)
          return a.clone();
        var l = new un(a.__wrapped__, a.__chain__);
        return l.__actions__ = Ci(a.__actions__), l.__index__ = a.__index__, l.__values__ = a.__values__, l;
      }
      function Xw(a, l, A) {
        (A ? vi(a, l, A) : l === r) ? l = 1 : l = Br(xe(l), 0);
        var R = a == null ? 0 : a.length;
        if (!R || l < 1)
          return [];
        for (var U = 0, J = 0, rt = dt(cc(R / l)); U < R; )
          rt[J++] = ln(a, U, U += l);
        return rt;
      }
      function Zw(a) {
        for (var l = -1, A = a == null ? 0 : a.length, R = 0, U = []; ++l < A; ) {
          var J = a[l];
          J && (U[R++] = J);
        }
        return U;
      }
      function t7() {
        var a = arguments.length;
        if (!a)
          return [];
        for (var l = dt(a - 1), A = arguments[0], R = a; R--; )
          l[R - 1] = arguments[R];
        return To(Ae(A) ? Ci(A) : [A], Wr(l, 1));
      }
      var e7 = Ce(function(a, l) {
        return yr(a) ? Sf(a, Wr(l, 1, yr, !0)) : [];
      }), r7 = Ce(function(a, l) {
        var A = dn(l);
        return yr(A) && (A = r), yr(a) ? Sf(a, Wr(l, 1, yr, !0), ge(A, 2)) : [];
      }), i7 = Ce(function(a, l) {
        var A = dn(l);
        return yr(A) && (A = r), yr(a) ? Sf(a, Wr(l, 1, yr, !0), r, A) : [];
      });
      function n7(a, l, A) {
        var R = a == null ? 0 : a.length;
        return R ? (l = A || l === r ? 1 : xe(l), ln(a, l < 0 ? 0 : l, R)) : [];
      }
      function s7(a, l, A) {
        var R = a == null ? 0 : a.length;
        return R ? (l = A || l === r ? 1 : xe(l), l = R - l, ln(a, 0, l < 0 ? 0 : l)) : [];
      }
      function o7(a, l) {
        return a && a.length ? Ac(a, ge(l, 3), !0, !0) : [];
      }
      function a7(a, l) {
        return a && a.length ? Ac(a, ge(l, 3), !0) : [];
      }
      function h7(a, l, A, R) {
        var U = a == null ? 0 : a.length;
        return U ? (A && typeof A != "number" && vi(a, l, A) && (A = 0, R = U), tw(a, l, A, R)) : [];
      }
      function Vg(a, l, A) {
        var R = a == null ? 0 : a.length;
        if (!R)
          return -1;
        var U = A == null ? 0 : xe(A);
        return U < 0 && (U = Br(R + U, 0)), tc(a, ge(l, 3), U);
      }
      function Wg(a, l, A) {
        var R = a == null ? 0 : a.length;
        if (!R)
          return -1;
        var U = R - 1;
        return A !== r && (U = xe(A), U = A < 0 ? Br(R + U, 0) : ai(U, R - 1)), tc(a, ge(l, 3), U, !0);
      }
      function Xg(a) {
        var l = a == null ? 0 : a.length;
        return l ? Wr(a, 1) : [];
      }
      function f7(a) {
        var l = a == null ? 0 : a.length;
        return l ? Wr(a, y) : [];
      }
      function u7(a, l) {
        var A = a == null ? 0 : a.length;
        return A ? (l = l === r ? 1 : xe(l), Wr(a, l)) : [];
      }
      function c7(a) {
        for (var l = -1, A = a == null ? 0 : a.length, R = {}; ++l < A; ) {
          var U = a[l];
          R[U[0]] = U[1];
        }
        return R;
      }
      function Zg(a) {
        return a && a.length ? a[0] : r;
      }
      function l7(a, l, A) {
        var R = a == null ? 0 : a.length;
        if (!R)
          return -1;
        var U = A == null ? 0 : xe(A);
        return U < 0 && (U = Br(R + U, 0)), Wa(a, l, U);
      }
      function d7(a) {
        var l = a == null ? 0 : a.length;
        return l ? ln(a, 0, -1) : [];
      }
      var p7 = Ce(function(a) {
        var l = ur(a, id);
        return l.length && l[0] === a[0] ? Ql(l) : [];
      }), g7 = Ce(function(a) {
        var l = dn(a), A = ur(a, id);
        return l === dn(A) ? l = r : A.pop(), A.length && A[0] === a[0] ? Ql(A, ge(l, 2)) : [];
      }), m7 = Ce(function(a) {
        var l = dn(a), A = ur(a, id);
        return l = typeof l == "function" ? l : r, l && A.pop(), A.length && A[0] === a[0] ? Ql(A, r, l) : [];
      });
      function v7(a, l) {
        return a == null ? "" : d4.call(a, l);
      }
      function dn(a) {
        var l = a == null ? 0 : a.length;
        return l ? a[l - 1] : r;
      }
      function b7(a, l, A) {
        var R = a == null ? 0 : a.length;
        if (!R)
          return -1;
        var U = R;
        return A !== r && (U = xe(A), U = U < 0 ? Br(R + U, 0) : ai(U, R - 1)), l === l ? W5(a, l, U) : tc(a, O2, U, !0);
      }
      function y7(a, l) {
        return a && a.length ? ug(a, xe(l)) : r;
      }
      var w7 = Ce(t3);
      function t3(a, l) {
        return a && a.length && l && l.length ? Wl(a, l) : a;
      }
      function A7(a, l, A) {
        return a && a.length && l && l.length ? Wl(a, l, ge(A, 2)) : a;
      }
      function _7(a, l, A) {
        return a && a.length && l && l.length ? Wl(a, l, r, A) : a;
      }
      var E7 = ao(function(a, l) {
        var A = a == null ? 0 : a.length, R = Hl(a, l);
        return dg(a, ur(l, function(U) {
          return ho(U, A) ? +U : U;
        }).sort(Eg)), R;
      });
      function M7(a, l) {
        var A = [];
        if (!(a && a.length))
          return A;
        var R = -1, U = [], J = a.length;
        for (l = ge(l, 3); ++R < J; ) {
          var rt = a[R];
          l(rt, R, a) && (A.push(rt), U.push(R));
        }
        return dg(a, U), A;
      }
      function vd(a) {
        return a == null ? a : v4.call(a);
      }
      function S7(a, l, A) {
        var R = a == null ? 0 : a.length;
        return R ? (A && typeof A != "number" && vi(a, l, A) ? (l = 0, A = R) : (l = l == null ? 0 : xe(l), A = A === r ? R : xe(A)), ln(a, l, A)) : [];
      }
      function x7(a, l) {
        return wc(a, l);
      }
      function I7(a, l, A) {
        return td(a, l, ge(A, 2));
      }
      function D7(a, l) {
        var A = a == null ? 0 : a.length;
        if (A) {
          var R = wc(a, l);
          if (R < A && qn(a[R], l))
            return R;
        }
        return -1;
      }
      function C7(a, l) {
        return wc(a, l, !0);
      }
      function N7(a, l, A) {
        return td(a, l, ge(A, 2), !0);
      }
      function P7(a, l) {
        var A = a == null ? 0 : a.length;
        if (A) {
          var R = wc(a, l, !0) - 1;
          if (qn(a[R], l))
            return R;
        }
        return -1;
      }
      function R7(a) {
        return a && a.length ? gg(a) : [];
      }
      function O7(a, l) {
        return a && a.length ? gg(a, ge(l, 2)) : [];
      }
      function B7(a) {
        var l = a == null ? 0 : a.length;
        return l ? ln(a, 1, l) : [];
      }
      function T7(a, l, A) {
        return a && a.length ? (l = A || l === r ? 1 : xe(l), ln(a, 0, l < 0 ? 0 : l)) : [];
      }
      function F7(a, l, A) {
        var R = a == null ? 0 : a.length;
        return R ? (l = A || l === r ? 1 : xe(l), l = R - l, ln(a, l < 0 ? 0 : l, R)) : [];
      }
      function U7(a, l) {
        return a && a.length ? Ac(a, ge(l, 3), !1, !0) : [];
      }
      function q7(a, l) {
        return a && a.length ? Ac(a, ge(l, 3)) : [];
      }
      var L7 = Ce(function(a) {
        return Lo(Wr(a, 1, yr, !0));
      }), k7 = Ce(function(a) {
        var l = dn(a);
        return yr(l) && (l = r), Lo(Wr(a, 1, yr, !0), ge(l, 2));
      }), z7 = Ce(function(a) {
        var l = dn(a);
        return l = typeof l == "function" ? l : r, Lo(Wr(a, 1, yr, !0), r, l);
      });
      function $7(a) {
        return a && a.length ? Lo(a) : [];
      }
      function H7(a, l) {
        return a && a.length ? Lo(a, ge(l, 2)) : [];
      }
      function j7(a, l) {
        return l = typeof l == "function" ? l : r, a && a.length ? Lo(a, r, l) : [];
      }
      function bd(a) {
        if (!(a && a.length))
          return [];
        var l = 0;
        return a = Bo(a, function(A) {
          if (yr(A))
            return l = Br(A.length, l), !0;
        }), Tl(l, function(A) {
          return ur(a, Rl(A));
        });
      }
      function e3(a, l) {
        if (!(a && a.length))
          return [];
        var A = bd(a);
        return l == null ? A : ur(A, function(R) {
          return zr(l, r, R);
        });
      }
      var K7 = Ce(function(a, l) {
        return yr(a) ? Sf(a, l) : [];
      }), G7 = Ce(function(a) {
        return rd(Bo(a, yr));
      }), Q7 = Ce(function(a) {
        var l = dn(a);
        return yr(l) && (l = r), rd(Bo(a, yr), ge(l, 2));
      }), J7 = Ce(function(a) {
        var l = dn(a);
        return l = typeof l == "function" ? l : r, rd(Bo(a, yr), r, l);
      }), Y7 = Ce(bd);
      function V7(a, l) {
        return yg(a || [], l || [], Mf);
      }
      function W7(a, l) {
        return yg(a || [], l || [], Df);
      }
      var X7 = Ce(function(a) {
        var l = a.length, A = l > 1 ? a[l - 1] : r;
        return A = typeof A == "function" ? (a.pop(), A) : r, e3(a, A);
      });
      function r3(a) {
        var l = G(a);
        return l.__chain__ = !0, l;
      }
      function Z7(a, l) {
        return l(a), a;
      }
      function Nc(a, l) {
        return l(a);
      }
      var t9 = ao(function(a) {
        var l = a.length, A = l ? a[0] : 0, R = this.__wrapped__, U = function(J) {
          return Hl(J, a);
        };
        return l > 1 || this.__actions__.length || !(R instanceof Pe) || !ho(A) ? this.thru(U) : (R = R.slice(A, +A + (l ? 1 : 0)), R.__actions__.push({ func: Nc, args: [U], thisArg: r }), new un(R, this.__chain__).thru(function(J) {
          return l && !J.length && J.push(r), J;
        }));
      });
      function e9() {
        return r3(this);
      }
      function r9() {
        return new un(this.value(), this.__chain__);
      }
      function i9() {
        this.__values__ === r && (this.__values__ = m3(this.value()));
        var a = this.__index__ >= this.__values__.length, l = a ? r : this.__values__[this.__index__++];
        return { done: a, value: l };
      }
      function n9() {
        return this;
      }
      function s9(a) {
        for (var l, A = this; A instanceof gc; ) {
          var R = Yg(A);
          R.__index__ = 0, R.__values__ = r, l ? U.__wrapped__ = R : l = R;
          var U = R;
          A = A.__wrapped__;
        }
        return U.__wrapped__ = a, l;
      }
      function o9() {
        var a = this.__wrapped__;
        if (a instanceof Pe) {
          var l = a;
          return this.__actions__.length && (l = new Pe(this)), l = l.reverse(), l.__actions__.push({ func: Nc, args: [vd], thisArg: r }), new un(l, this.__chain__);
        }
        return this.thru(vd);
      }
      function a9() {
        return bg(this.__wrapped__, this.__actions__);
      }
      var h9 = _c(function(a, l, A) {
        We.call(a, A) ? ++a[A] : so(a, A, 1);
      });
      function f9(a, l, A) {
        var R = Ae(a) ? P2 : Z4;
        return A && vi(a, l, A) && (l = r), R(a, ge(l, 3));
      }
      function u9(a, l) {
        var A = Ae(a) ? Bo : eg;
        return A(a, ge(l, 3));
      }
      var c9 = Cg(Vg), l9 = Cg(Wg);
      function d9(a, l) {
        return Wr(Pc(a, l), 1);
      }
      function p9(a, l) {
        return Wr(Pc(a, l), y);
      }
      function g9(a, l, A) {
        return A = A === r ? 1 : xe(A), Wr(Pc(a, l), A);
      }
      function i3(a, l) {
        var A = Ae(a) ? hn : qo;
        return A(a, ge(l, 3));
      }
      function n3(a, l) {
        var A = Ae(a) ? B5 : tg;
        return A(a, ge(l, 3));
      }
      var m9 = _c(function(a, l, A) {
        We.call(a, A) ? a[A].push(l) : so(a, A, [l]);
      });
      function v9(a, l, A, R) {
        a = Ni(a) ? a : fh(a), A = A && !R ? xe(A) : 0;
        var U = a.length;
        return A < 0 && (A = Br(U + A, 0)), Fc(a) ? A <= U && a.indexOf(l, A) > -1 : !!U && Wa(a, l, A) > -1;
      }
      var b9 = Ce(function(a, l, A) {
        var R = -1, U = typeof l == "function", J = Ni(a) ? dt(a.length) : [];
        return qo(a, function(rt) {
          J[++R] = U ? zr(l, rt, A) : xf(rt, l, A);
        }), J;
      }), y9 = _c(function(a, l, A) {
        so(a, A, l);
      });
      function Pc(a, l) {
        var A = Ae(a) ? ur : ag;
        return A(a, ge(l, 3));
      }
      function w9(a, l, A, R) {
        return a == null ? [] : (Ae(l) || (l = l == null ? [] : [l]), A = R ? r : A, Ae(A) || (A = A == null ? [] : [A]), cg(a, l, A));
      }
      var A9 = _c(function(a, l, A) {
        a[A ? 0 : 1].push(l);
      }, function() {
        return [[], []];
      });
      function _9(a, l, A) {
        var R = Ae(a) ? Nl : T2, U = arguments.length < 3;
        return R(a, ge(l, 4), A, U, qo);
      }
      function E9(a, l, A) {
        var R = Ae(a) ? T5 : T2, U = arguments.length < 3;
        return R(a, ge(l, 4), A, U, tg);
      }
      function M9(a, l) {
        var A = Ae(a) ? Bo : eg;
        return A(a, Bc(ge(l, 3)));
      }
      function S9(a) {
        var l = Ae(a) ? V2 : vw;
        return l(a);
      }
      function x9(a, l, A) {
        (A ? vi(a, l, A) : l === r) ? l = 1 : l = xe(l);
        var R = Ae(a) ? J4 : bw;
        return R(a, l);
      }
      function I9(a) {
        var l = Ae(a) ? Y4 : ww;
        return l(a);
      }
      function D9(a) {
        if (a == null)
          return 0;
        if (Ni(a))
          return Fc(a) ? Za(a) : a.length;
        var l = hi(a);
        return l == et || l == Qt ? a.size : Yl(a).length;
      }
      function C9(a, l, A) {
        var R = Ae(a) ? Pl : Aw;
        return A && vi(a, l, A) && (l = r), R(a, ge(l, 3));
      }
      var N9 = Ce(function(a, l) {
        if (a == null)
          return [];
        var A = l.length;
        return A > 1 && vi(a, l[0], l[1]) ? l = [] : A > 2 && vi(l[0], l[1], l[2]) && (l = [l[0]]), cg(a, Wr(l, 1), []);
      }), Rc = u4 || function() {
        return Le.Date.now();
      };
      function P9(a, l) {
        if (typeof l != "function")
          throw new fn(u);
        return a = xe(a), function() {
          if (--a < 1)
            return l.apply(this, arguments);
        };
      }
      function s3(a, l, A) {
        return l = A ? r : l, l = a && l == null ? a.length : l, oo(a, N, r, r, r, r, l);
      }
      function o3(a, l) {
        var A;
        if (typeof l != "function")
          throw new fn(u);
        return a = xe(a), function() {
          return --a > 0 && (A = l.apply(this, arguments)), a <= 1 && (l = r), A;
        };
      }
      var yd = Ce(function(a, l, A) {
        var R = z;
        if (A.length) {
          var U = Fo(A, ah(yd));
          R |= j;
        }
        return oo(a, R, l, A, U);
      }), a3 = Ce(function(a, l, A) {
        var R = z | V;
        if (A.length) {
          var U = Fo(A, ah(a3));
          R |= j;
        }
        return oo(l, R, a, A, U);
      });
      function h3(a, l, A) {
        l = A ? r : l;
        var R = oo(a, W, r, r, r, r, r, l);
        return R.placeholder = h3.placeholder, R;
      }
      function f3(a, l, A) {
        l = A ? r : l;
        var R = oo(a, $, r, r, r, r, r, l);
        return R.placeholder = f3.placeholder, R;
      }
      function u3(a, l, A) {
        var R, U, J, rt, nt, ht, Ot = 0, Bt = !1, $t = !1, ee = !0;
        if (typeof a != "function")
          throw new fn(u);
        l = pn(l) || 0, cr(A) && (Bt = !!A.leading, $t = "maxWait" in A, J = $t ? Br(pn(A.maxWait) || 0, l) : J, ee = "trailing" in A ? !!A.trailing : ee);
        function le(wr) {
          var Ln = R, co = U;
          return R = U = r, Ot = wr, rt = a.apply(co, Ln), rt;
        }
        function me(wr) {
          return Ot = wr, nt = Pf(Ne, l), Bt ? le(wr) : rt;
        }
        function De(wr) {
          var Ln = wr - ht, co = wr - Ot, C3 = l - Ln;
          return $t ? ai(C3, J - co) : C3;
        }
        function ve(wr) {
          var Ln = wr - ht, co = wr - Ot;
          return ht === r || Ln >= l || Ln < 0 || $t && co >= J;
        }
        function Ne() {
          var wr = Rc();
          if (ve(wr))
            return ke(wr);
          nt = Pf(Ne, De(wr));
        }
        function ke(wr) {
          return nt = r, ee && R ? le(wr) : (R = U = r, rt);
        }
        function Wi() {
          nt !== r && wg(nt), Ot = 0, R = ht = U = nt = r;
        }
        function bi() {
          return nt === r ? rt : ke(Rc());
        }
        function Xi() {
          var wr = Rc(), Ln = ve(wr);
          if (R = arguments, U = this, ht = wr, Ln) {
            if (nt === r)
              return me(ht);
            if ($t)
              return wg(nt), nt = Pf(Ne, l), le(ht);
          }
          return nt === r && (nt = Pf(Ne, l)), rt;
        }
        return Xi.cancel = Wi, Xi.flush = bi, Xi;
      }
      var R9 = Ce(function(a, l) {
        return Z2(a, 1, l);
      }), O9 = Ce(function(a, l, A) {
        return Z2(a, pn(l) || 0, A);
      });
      function B9(a) {
        return oo(a, st);
      }
      function Oc(a, l) {
        if (typeof a != "function" || l != null && typeof l != "function")
          throw new fn(u);
        var A = function() {
          var R = arguments, U = l ? l.apply(this, R) : R[0], J = A.cache;
          if (J.has(U))
            return J.get(U);
          var rt = a.apply(this, R);
          return A.cache = J.set(U, rt) || J, rt;
        };
        return A.cache = new (Oc.Cache || no)(), A;
      }
      Oc.Cache = no;
      function Bc(a) {
        if (typeof a != "function")
          throw new fn(u);
        return function() {
          var l = arguments;
          switch (l.length) {
            case 0:
              return !a.call(this);
            case 1:
              return !a.call(this, l[0]);
            case 2:
              return !a.call(this, l[0], l[1]);
            case 3:
              return !a.call(this, l[0], l[1], l[2]);
          }
          return !a.apply(this, l);
        };
      }
      function T9(a) {
        return o3(2, a);
      }
      var F9 = _w(function(a, l) {
        l = l.length == 1 && Ae(l[0]) ? ur(l[0], Ji(ge())) : ur(Wr(l, 1), Ji(ge()));
        var A = l.length;
        return Ce(function(R) {
          for (var U = -1, J = ai(R.length, A); ++U < J; )
            R[U] = l[U].call(this, R[U]);
          return zr(a, this, R);
        });
      }), wd = Ce(function(a, l) {
        var A = Fo(l, ah(wd));
        return oo(a, j, r, l, A);
      }), c3 = Ce(function(a, l) {
        var A = Fo(l, ah(c3));
        return oo(a, K, r, l, A);
      }), U9 = ao(function(a, l) {
        return oo(a, H, r, r, r, l);
      });
      function q9(a, l) {
        if (typeof a != "function")
          throw new fn(u);
        return l = l === r ? l : xe(l), Ce(a, l);
      }
      function L9(a, l) {
        if (typeof a != "function")
          throw new fn(u);
        return l = l == null ? 0 : Br(xe(l), 0), Ce(function(A) {
          var R = A[l], U = zo(A, 0, l);
          return R && To(U, R), zr(a, this, U);
        });
      }
      function k9(a, l, A) {
        var R = !0, U = !0;
        if (typeof a != "function")
          throw new fn(u);
        return cr(A) && (R = "leading" in A ? !!A.leading : R, U = "trailing" in A ? !!A.trailing : U), u3(a, l, { leading: R, maxWait: l, trailing: U });
      }
      function z9(a) {
        return s3(a, 1);
      }
      function $9(a, l) {
        return wd(nd(l), a);
      }
      function H9() {
        if (!arguments.length)
          return [];
        var a = arguments[0];
        return Ae(a) ? a : [a];
      }
      function j9(a) {
        return cn(a, D);
      }
      function K9(a, l) {
        return l = typeof l == "function" ? l : r, cn(a, D, l);
      }
      function G9(a) {
        return cn(a, S | D);
      }
      function Q9(a, l) {
        return l = typeof l == "function" ? l : r, cn(a, S | D, l);
      }
      function J9(a, l) {
        return l == null || X2(a, l, $r(l));
      }
      function qn(a, l) {
        return a === l || a !== a && l !== l;
      }
      var Y9 = xc(Gl), V9 = xc(function(a, l) {
        return a >= l;
      }), ya = ng(/* @__PURE__ */ function() {
        return arguments;
      }()) ? ng : function(a) {
        return gr(a) && We.call(a, "callee") && !j2.call(a, "callee");
      }, Ae = dt.isArray, W9 = gi ? Ji(gi) : sw;
      function Ni(a) {
        return a != null && Tc(a.length) && !fo(a);
      }
      function yr(a) {
        return gr(a) && Ni(a);
      }
      function X9(a) {
        return a === !0 || a === !1 || gr(a) && mi(a) == B;
      }
      var $o = l4 || Pd, Z9 = Tn ? Ji(Tn) : ow;
      function tA(a) {
        return gr(a) && a.nodeType === 1 && !Rf(a);
      }
      function eA(a) {
        if (a == null)
          return !0;
        if (Ni(a) && (Ae(a) || typeof a == "string" || typeof a.splice == "function" || $o(a) || hh(a) || ya(a)))
          return !a.length;
        var l = hi(a);
        if (l == et || l == Qt)
          return !a.size;
        if (Nf(a))
          return !Yl(a).length;
        for (var A in a)
          if (We.call(a, A))
            return !1;
        return !0;
      }
      function rA(a, l) {
        return If(a, l);
      }
      function iA(a, l, A) {
        A = typeof A == "function" ? A : r;
        var R = A ? A(a, l) : r;
        return R === r ? If(a, l, r, A) : !!R;
      }
      function Ad(a) {
        if (!gr(a))
          return !1;
        var l = mi(a);
        return l == T || l == x || typeof a.message == "string" && typeof a.name == "string" && !Rf(a);
      }
      function nA(a) {
        return typeof a == "number" && G2(a);
      }
      function fo(a) {
        if (!cr(a))
          return !1;
        var l = mi(a);
        return l == Z || l == it || l == O || l == bt;
      }
      function l3(a) {
        return typeof a == "number" && a == xe(a);
      }
      function Tc(a) {
        return typeof a == "number" && a > -1 && a % 1 == 0 && a <= M;
      }
      function cr(a) {
        var l = typeof a;
        return a != null && (l == "object" || l == "function");
      }
      function gr(a) {
        return a != null && typeof a == "object";
      }
      var d3 = an ? Ji(an) : hw;
      function sA(a, l) {
        return a === l || Jl(a, l, cd(l));
      }
      function oA(a, l, A) {
        return A = typeof A == "function" ? A : r, Jl(a, l, cd(l), A);
      }
      function aA(a) {
        return p3(a) && a != +a;
      }
      function hA(a) {
        if (Kw(a))
          throw new ye(s);
        return sg(a);
      }
      function fA(a) {
        return a === null;
      }
      function uA(a) {
        return a == null;
      }
      function p3(a) {
        return typeof a == "number" || gr(a) && mi(a) == pt;
      }
      function Rf(a) {
        if (!gr(a) || mi(a) != _t)
          return !1;
        var l = hc(a);
        if (l === null)
          return !0;
        var A = We.call(l, "constructor") && l.constructor;
        return typeof A == "function" && A instanceof A && nc.call(A) == o4;
      }
      var _d = cs ? Ji(cs) : fw;
      function cA(a) {
        return l3(a) && a >= -M && a <= M;
      }
      var g3 = vf ? Ji(vf) : uw;
      function Fc(a) {
        return typeof a == "string" || !Ae(a) && gr(a) && mi(a) == lt;
      }
      function Vi(a) {
        return typeof a == "symbol" || gr(a) && mi(a) == yt;
      }
      var hh = ca ? Ji(ca) : cw;
      function lA(a) {
        return a === r;
      }
      function dA(a) {
        return gr(a) && hi(a) == ft;
      }
      function pA(a) {
        return gr(a) && mi(a) == wt;
      }
      var gA = xc(Vl), mA = xc(function(a, l) {
        return a <= l;
      });
      function m3(a) {
        if (!a)
          return [];
        if (Ni(a))
          return Fc(a) ? Fn(a) : Ci(a);
        if (yf && a[yf])
          return J5(a[yf]());
        var l = hi(a), A = l == et ? Ul : l == Qt ? ec : fh;
        return A(a);
      }
      function uo(a) {
        if (!a)
          return a === 0 ? a : 0;
        if (a = pn(a), a === y || a === -y) {
          var l = a < 0 ? -1 : 1;
          return l * E;
        }
        return a === a ? a : 0;
      }
      function xe(a) {
        var l = uo(a), A = l % 1;
        return l === l ? A ? l - A : l : 0;
      }
      function v3(a) {
        return a ? ga(xe(a), 0, f) : 0;
      }
      function pn(a) {
        if (typeof a == "number")
          return a;
        if (Vi(a))
          return d;
        if (cr(a)) {
          var l = typeof a.valueOf == "function" ? a.valueOf() : a;
          a = cr(l) ? l + "" : l;
        }
        if (typeof a != "string")
          return a === 0 ? a : +a;
        a = F2(a);
        var A = $e.test(a);
        return A || je.test(a) ? we(a.slice(2), A ? 2 : 8) : ze.test(a) ? d : +a;
      }
      function b3(a) {
        return ds(a, Pi(a));
      }
      function vA(a) {
        return a ? ga(xe(a), -M, M) : a === 0 ? a : 0;
      }
      function Je(a) {
        return a == null ? "" : Yi(a);
      }
      var bA = sh(function(a, l) {
        if (Nf(l) || Ni(l)) {
          ds(l, $r(l), a);
          return;
        }
        for (var A in l)
          We.call(l, A) && Mf(a, A, l[A]);
      }), y3 = sh(function(a, l) {
        ds(l, Pi(l), a);
      }), Uc = sh(function(a, l, A, R) {
        ds(l, Pi(l), a, R);
      }), yA = sh(function(a, l, A, R) {
        ds(l, $r(l), a, R);
      }), wA = ao(Hl);
      function AA(a, l) {
        var A = nh(a);
        return l == null ? A : W2(A, l);
      }
      var _A = Ce(function(a, l) {
        a = ir(a);
        var A = -1, R = l.length, U = R > 2 ? l[2] : r;
        for (U && vi(l[0], l[1], U) && (R = 1); ++A < R; )
          for (var J = l[A], rt = Pi(J), nt = -1, ht = rt.length; ++nt < ht; ) {
            var Ot = rt[nt], Bt = a[Ot];
            (Bt === r || qn(Bt, eh[Ot]) && !We.call(a, Ot)) && (a[Ot] = J[Ot]);
          }
        return a;
      }), EA = Ce(function(a) {
        return a.push(r, Fg), zr(w3, r, a);
      });
      function MA(a, l) {
        return R2(a, ge(l, 3), ls);
      }
      function SA(a, l) {
        return R2(a, ge(l, 3), Kl);
      }
      function xA(a, l) {
        return a == null ? a : jl(a, ge(l, 3), Pi);
      }
      function IA(a, l) {
        return a == null ? a : rg(a, ge(l, 3), Pi);
      }
      function DA(a, l) {
        return a && ls(a, ge(l, 3));
      }
      function CA(a, l) {
        return a && Kl(a, ge(l, 3));
      }
      function NA(a) {
        return a == null ? [] : bc(a, $r(a));
      }
      function PA(a) {
        return a == null ? [] : bc(a, Pi(a));
      }
      function Ed(a, l, A) {
        var R = a == null ? r : ma(a, l);
        return R === r ? A : R;
      }
      function RA(a, l) {
        return a != null && Lg(a, l, ew);
      }
      function Md(a, l) {
        return a != null && Lg(a, l, rw);
      }
      var OA = Pg(function(a, l, A) {
        l != null && typeof l.toString != "function" && (l = sc.call(l)), a[l] = A;
      }, xd(Ri)), BA = Pg(function(a, l, A) {
        l != null && typeof l.toString != "function" && (l = sc.call(l)), We.call(a, l) ? a[l].push(A) : a[l] = [A];
      }, ge), TA = Ce(xf);
      function $r(a) {
        return Ni(a) ? Y2(a) : Yl(a);
      }
      function Pi(a) {
        return Ni(a) ? Y2(a, !0) : lw(a);
      }
      function FA(a, l) {
        var A = {};
        return l = ge(l, 3), ls(a, function(R, U, J) {
          so(A, l(R, U, J), R);
        }), A;
      }
      function UA(a, l) {
        var A = {};
        return l = ge(l, 3), ls(a, function(R, U, J) {
          so(A, U, l(R, U, J));
        }), A;
      }
      var qA = sh(function(a, l, A) {
        yc(a, l, A);
      }), w3 = sh(function(a, l, A, R) {
        yc(a, l, A, R);
      }), LA = ao(function(a, l) {
        var A = {};
        if (a == null)
          return A;
        var R = !1;
        l = ur(l, function(J) {
          return J = ko(J, a), R || (R = J.length > 1), J;
        }), ds(a, fd(a), A), R && (A = cn(A, S | C | D, Ow));
        for (var U = l.length; U--; )
          ed(A, l[U]);
        return A;
      });
      function kA(a, l) {
        return A3(a, Bc(ge(l)));
      }
      var zA = ao(function(a, l) {
        return a == null ? {} : pw(a, l);
      });
      function A3(a, l) {
        if (a == null)
          return {};
        var A = ur(fd(a), function(R) {
          return [R];
        });
        return l = ge(l), lg(a, A, function(R, U) {
          return l(R, U[0]);
        });
      }
      function $A(a, l, A) {
        l = ko(l, a);
        var R = -1, U = l.length;
        for (U || (U = 1, a = r); ++R < U; ) {
          var J = a == null ? r : a[ps(l[R])];
          J === r && (R = U, J = A), a = fo(J) ? J.call(a) : J;
        }
        return a;
      }
      function HA(a, l, A) {
        return a == null ? a : Df(a, l, A);
      }
      function jA(a, l, A, R) {
        return R = typeof R == "function" ? R : r, a == null ? a : Df(a, l, A, R);
      }
      var _3 = Bg($r), E3 = Bg(Pi);
      function KA(a, l, A) {
        var R = Ae(a), U = R || $o(a) || hh(a);
        if (l = ge(l, 4), A == null) {
          var J = a && a.constructor;
          U ? A = R ? new J() : [] : cr(a) ? A = fo(J) ? nh(hc(a)) : {} : A = {};
        }
        return (U ? hn : ls)(a, function(rt, nt, ht) {
          return l(A, rt, nt, ht);
        }), A;
      }
      function GA(a, l) {
        return a == null ? !0 : ed(a, l);
      }
      function QA(a, l, A) {
        return a == null ? a : vg(a, l, nd(A));
      }
      function JA(a, l, A, R) {
        return R = typeof R == "function" ? R : r, a == null ? a : vg(a, l, nd(A), R);
      }
      function fh(a) {
        return a == null ? [] : Fl(a, $r(a));
      }
      function YA(a) {
        return a == null ? [] : Fl(a, Pi(a));
      }
      function VA(a, l, A) {
        return A === r && (A = l, l = r), A !== r && (A = pn(A), A = A === A ? A : 0), l !== r && (l = pn(l), l = l === l ? l : 0), ga(pn(a), l, A);
      }
      function WA(a, l, A) {
        return l = uo(l), A === r ? (A = l, l = 0) : A = uo(A), a = pn(a), iw(a, l, A);
      }
      function XA(a, l, A) {
        if (A && typeof A != "boolean" && vi(a, l, A) && (l = A = r), A === r && (typeof l == "boolean" ? (A = l, l = r) : typeof a == "boolean" && (A = a, a = r)), a === r && l === r ? (a = 0, l = 1) : (a = uo(a), l === r ? (l = a, a = 0) : l = uo(l)), a > l) {
          var R = a;
          a = l, l = R;
        }
        if (A || a % 1 || l % 1) {
          var U = Q2();
          return ai(a + U * (l - a + er("1e-" + ((U + "").length - 1))), l);
        }
        return Xl(a, l);
      }
      var ZA = oh(function(a, l, A) {
        return l = l.toLowerCase(), a + (A ? M3(l) : l);
      });
      function M3(a) {
        return Sd(Je(a).toLowerCase());
      }
      function S3(a) {
        return a = Je(a), a && a.replace(Ie, H5).replace(Il, "");
      }
      function t_(a, l, A) {
        a = Je(a), l = Yi(l);
        var R = a.length;
        A = A === r ? R : ga(xe(A), 0, R);
        var U = A;
        return A -= l.length, A >= 0 && a.slice(A, U) == l;
      }
      function e_(a) {
        return a = Je(a), a && Lt.test(a) ? a.replace(de, j5) : a;
      }
      function r_(a) {
        return a = Je(a), a && Ct.test(a) ? a.replace(oe, "\\$&") : a;
      }
      var i_ = oh(function(a, l, A) {
        return a + (A ? "-" : "") + l.toLowerCase();
      }), n_ = oh(function(a, l, A) {
        return a + (A ? " " : "") + l.toLowerCase();
      }), s_ = Dg("toLowerCase");
      function o_(a, l, A) {
        a = Je(a), l = xe(l);
        var R = l ? Za(a) : 0;
        if (!l || R >= l)
          return a;
        var U = (l - R) / 2;
        return Sc(lc(U), A) + a + Sc(cc(U), A);
      }
      function a_(a, l, A) {
        a = Je(a), l = xe(l);
        var R = l ? Za(a) : 0;
        return l && R < l ? a + Sc(l - R, A) : a;
      }
      function h_(a, l, A) {
        a = Je(a), l = xe(l);
        var R = l ? Za(a) : 0;
        return l && R < l ? Sc(l - R, A) + a : a;
      }
      function f_(a, l, A) {
        return A || l == null ? l = 0 : l && (l = +l), m4(Je(a).replace(zt, ""), l || 0);
      }
      function u_(a, l, A) {
        return (A ? vi(a, l, A) : l === r) ? l = 1 : l = xe(l), Zl(Je(a), l);
      }
      function c_() {
        var a = arguments, l = Je(a[0]);
        return a.length < 3 ? l : l.replace(a[1], a[2]);
      }
      var l_ = oh(function(a, l, A) {
        return a + (A ? "_" : "") + l.toLowerCase();
      });
      function d_(a, l, A) {
        return A && typeof A != "number" && vi(a, l, A) && (l = A = r), A = A === r ? f : A >>> 0, A ? (a = Je(a), a && (typeof l == "string" || l != null && !_d(l)) && (l = Yi(l), !l && Xa(a)) ? zo(Fn(a), 0, A) : a.split(l, A)) : [];
      }
      var p_ = oh(function(a, l, A) {
        return a + (A ? " " : "") + Sd(l);
      });
      function g_(a, l, A) {
        return a = Je(a), A = A == null ? 0 : ga(xe(A), 0, a.length), l = Yi(l), a.slice(A, A + l.length) == l;
      }
      function m_(a, l, A) {
        var R = G.templateSettings;
        A && vi(a, l, A) && (l = r), a = Je(a), l = Uc({}, l, R, Tg);
        var U = Uc({}, l.imports, R.imports, Tg), J = $r(U), rt = Fl(U, J), nt, ht, Ot = 0, Bt = l.interpolate || lr, $t = "__p += '", ee = ql((l.escape || lr).source + "|" + Bt.source + "|" + (Bt === kt ? Ht : lr).source + "|" + (l.evaluate || lr).source + "|$", "g"), le = "//# sourceURL=" + (We.call(l, "sourceURL") ? (l.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++Dl + "]") + `
`;
        a.replace(ee, function(ve, Ne, ke, Wi, bi, Xi) {
          return ke || (ke = Wi), $t += a.slice(Ot, Xi).replace(Ir, K5), Ne && (nt = !0, $t += `' +
__e(` + Ne + `) +
'`), bi && (ht = !0, $t += `';
` + bi + `;
__p += '`), ke && ($t += `' +
((__t = (` + ke + `)) == null ? '' : __t) +
'`), Ot = Xi + ve.length, ve;
        }), $t += `';
`;
        var me = We.call(l, "variable") && l.variable;
        if (!me)
          $t = `with (obj) {
` + $t + `
}
`;
        else if (Xt.test(me))
          throw new ye(p);
        $t = (ht ? $t.replace(Yt, "") : $t).replace(ce, "$1").replace(Ft, "$1;"), $t = "function(" + (me || "obj") + `) {
` + (me ? "" : `obj || (obj = {});
`) + "var __t, __p = ''" + (nt ? ", __e = _.escape" : "") + (ht ? `, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
` : `;
`) + $t + `return __p
}`;
        var De = I3(function() {
          return Qe(J, le + "return " + $t).apply(r, rt);
        });
        if (De.source = $t, Ad(De))
          throw De;
        return De;
      }
      function v_(a) {
        return Je(a).toLowerCase();
      }
      function b_(a) {
        return Je(a).toUpperCase();
      }
      function y_(a, l, A) {
        if (a = Je(a), a && (A || l === r))
          return F2(a);
        if (!a || !(l = Yi(l)))
          return a;
        var R = Fn(a), U = Fn(l), J = U2(R, U), rt = q2(R, U) + 1;
        return zo(R, J, rt).join("");
      }
      function w_(a, l, A) {
        if (a = Je(a), a && (A || l === r))
          return a.slice(0, k2(a) + 1);
        if (!a || !(l = Yi(l)))
          return a;
        var R = Fn(a), U = q2(R, Fn(l)) + 1;
        return zo(R, 0, U).join("");
      }
      function A_(a, l, A) {
        if (a = Je(a), a && (A || l === r))
          return a.replace(zt, "");
        if (!a || !(l = Yi(l)))
          return a;
        var R = Fn(a), U = U2(R, Fn(l));
        return zo(R, U).join("");
      }
      function __(a, l) {
        var A = ct, R = L;
        if (cr(l)) {
          var U = "separator" in l ? l.separator : U;
          A = "length" in l ? xe(l.length) : A, R = "omission" in l ? Yi(l.omission) : R;
        }
        a = Je(a);
        var J = a.length;
        if (Xa(a)) {
          var rt = Fn(a);
          J = rt.length;
        }
        if (A >= J)
          return a;
        var nt = A - Za(R);
        if (nt < 1)
          return R;
        var ht = rt ? zo(rt, 0, nt).join("") : a.slice(0, nt);
        if (U === r)
          return ht + R;
        if (rt && (nt += ht.length - nt), _d(U)) {
          if (a.slice(nt).search(U)) {
            var Ot, Bt = ht;
            for (U.global || (U = ql(U.source, Je(Gt.exec(U)) + "g")), U.lastIndex = 0; Ot = U.exec(Bt); )
              var $t = Ot.index;
            ht = ht.slice(0, $t === r ? nt : $t);
          }
        } else if (a.indexOf(Yi(U), nt) != nt) {
          var ee = ht.lastIndexOf(U);
          ee > -1 && (ht = ht.slice(0, ee));
        }
        return ht + R;
      }
      function E_(a) {
        return a = Je(a), a && Mt.test(a) ? a.replace(Vt, X5) : a;
      }
      var M_ = oh(function(a, l, A) {
        return a + (A ? " " : "") + l.toUpperCase();
      }), Sd = Dg("toUpperCase");
      function x3(a, l, A) {
        return a = Je(a), l = A ? r : l, l === r ? Q5(a) ? e4(a) : q5(a) : a.match(l) || [];
      }
      var I3 = Ce(function(a, l) {
        try {
          return zr(a, r, l);
        } catch (A) {
          return Ad(A) ? A : new ye(A);
        }
      }), S_ = ao(function(a, l) {
        return hn(l, function(A) {
          A = ps(A), so(a, A, yd(a[A], a));
        }), a;
      });
      function x_(a) {
        var l = a == null ? 0 : a.length, A = ge();
        return a = l ? ur(a, function(R) {
          if (typeof R[1] != "function")
            throw new fn(u);
          return [A(R[0]), R[1]];
        }) : [], Ce(function(R) {
          for (var U = -1; ++U < l; ) {
            var J = a[U];
            if (zr(J[0], this, R))
              return zr(J[1], this, R);
          }
        });
      }
      function I_(a) {
        return X4(cn(a, S));
      }
      function xd(a) {
        return function() {
          return a;
        };
      }
      function D_(a, l) {
        return a == null || a !== a ? l : a;
      }
      var C_ = Ng(), N_ = Ng(!0);
      function Ri(a) {
        return a;
      }
      function Id(a) {
        return og(typeof a == "function" ? a : cn(a, S));
      }
      function P_(a) {
        return hg(cn(a, S));
      }
      function R_(a, l) {
        return fg(a, cn(l, S));
      }
      var O_ = Ce(function(a, l) {
        return function(A) {
          return xf(A, a, l);
        };
      }), B_ = Ce(function(a, l) {
        return function(A) {
          return xf(a, A, l);
        };
      });
      function Dd(a, l, A) {
        var R = $r(l), U = bc(l, R);
        A == null && !(cr(l) && (U.length || !R.length)) && (A = l, l = a, a = this, U = bc(l, $r(l)));
        var J = !(cr(A) && "chain" in A) || !!A.chain, rt = fo(a);
        return hn(U, function(nt) {
          var ht = l[nt];
          a[nt] = ht, rt && (a.prototype[nt] = function() {
            var Ot = this.__chain__;
            if (J || Ot) {
              var Bt = a(this.__wrapped__), $t = Bt.__actions__ = Ci(this.__actions__);
              return $t.push({ func: ht, args: arguments, thisArg: a }), Bt.__chain__ = Ot, Bt;
            }
            return ht.apply(a, To([this.value()], arguments));
          });
        }), a;
      }
      function T_() {
        return Le._ === this && (Le._ = a4), this;
      }
      function Cd() {
      }
      function F_(a) {
        return a = xe(a), Ce(function(l) {
          return ug(l, a);
        });
      }
      var U_ = od(ur), q_ = od(P2), L_ = od(Pl);
      function D3(a) {
        return dd(a) ? Rl(ps(a)) : gw(a);
      }
      function k_(a) {
        return function(l) {
          return a == null ? r : ma(a, l);
        };
      }
      var z_ = Rg(), $_ = Rg(!0);
      function Nd() {
        return [];
      }
      function Pd() {
        return !1;
      }
      function H_() {
        return {};
      }
      function j_() {
        return "";
      }
      function K_() {
        return !0;
      }
      function G_(a, l) {
        if (a = xe(a), a < 1 || a > M)
          return [];
        var A = f, R = ai(a, f);
        l = ge(l), a -= f;
        for (var U = Tl(R, l); ++A < a; )
          l(A);
        return U;
      }
      function Q_(a) {
        return Ae(a) ? ur(a, ps) : Vi(a) ? [a] : Ci(Jg(Je(a)));
      }
      function J_(a) {
        var l = ++s4;
        return Je(a) + l;
      }
      var Y_ = Mc(function(a, l) {
        return a + l;
      }, 0), V_ = ad("ceil"), W_ = Mc(function(a, l) {
        return a / l;
      }, 1), X_ = ad("floor");
      function Z_(a) {
        return a && a.length ? vc(a, Ri, Gl) : r;
      }
      function tE(a, l) {
        return a && a.length ? vc(a, ge(l, 2), Gl) : r;
      }
      function eE(a) {
        return B2(a, Ri);
      }
      function rE(a, l) {
        return B2(a, ge(l, 2));
      }
      function iE(a) {
        return a && a.length ? vc(a, Ri, Vl) : r;
      }
      function nE(a, l) {
        return a && a.length ? vc(a, ge(l, 2), Vl) : r;
      }
      var sE = Mc(function(a, l) {
        return a * l;
      }, 1), oE = ad("round"), aE = Mc(function(a, l) {
        return a - l;
      }, 0);
      function hE(a) {
        return a && a.length ? Bl(a, Ri) : 0;
      }
      function fE(a, l) {
        return a && a.length ? Bl(a, ge(l, 2)) : 0;
      }
      return G.after = P9, G.ary = s3, G.assign = bA, G.assignIn = y3, G.assignInWith = Uc, G.assignWith = yA, G.at = wA, G.before = o3, G.bind = yd, G.bindAll = S_, G.bindKey = a3, G.castArray = H9, G.chain = r3, G.chunk = Xw, G.compact = Zw, G.concat = t7, G.cond = x_, G.conforms = I_, G.constant = xd, G.countBy = h9, G.create = AA, G.curry = h3, G.curryRight = f3, G.debounce = u3, G.defaults = _A, G.defaultsDeep = EA, G.defer = R9, G.delay = O9, G.difference = e7, G.differenceBy = r7, G.differenceWith = i7, G.drop = n7, G.dropRight = s7, G.dropRightWhile = o7, G.dropWhile = a7, G.fill = h7, G.filter = u9, G.flatMap = d9, G.flatMapDeep = p9, G.flatMapDepth = g9, G.flatten = Xg, G.flattenDeep = f7, G.flattenDepth = u7, G.flip = B9, G.flow = C_, G.flowRight = N_, G.fromPairs = c7, G.functions = NA, G.functionsIn = PA, G.groupBy = m9, G.initial = d7, G.intersection = p7, G.intersectionBy = g7, G.intersectionWith = m7, G.invert = OA, G.invertBy = BA, G.invokeMap = b9, G.iteratee = Id, G.keyBy = y9, G.keys = $r, G.keysIn = Pi, G.map = Pc, G.mapKeys = FA, G.mapValues = UA, G.matches = P_, G.matchesProperty = R_, G.memoize = Oc, G.merge = qA, G.mergeWith = w3, G.method = O_, G.methodOf = B_, G.mixin = Dd, G.negate = Bc, G.nthArg = F_, G.omit = LA, G.omitBy = kA, G.once = T9, G.orderBy = w9, G.over = U_, G.overArgs = F9, G.overEvery = q_, G.overSome = L_, G.partial = wd, G.partialRight = c3, G.partition = A9, G.pick = zA, G.pickBy = A3, G.property = D3, G.propertyOf = k_, G.pull = w7, G.pullAll = t3, G.pullAllBy = A7, G.pullAllWith = _7, G.pullAt = E7, G.range = z_, G.rangeRight = $_, G.rearg = U9, G.reject = M9, G.remove = M7, G.rest = q9, G.reverse = vd, G.sampleSize = x9, G.set = HA, G.setWith = jA, G.shuffle = I9, G.slice = S7, G.sortBy = N9, G.sortedUniq = R7, G.sortedUniqBy = O7, G.split = d_, G.spread = L9, G.tail = B7, G.take = T7, G.takeRight = F7, G.takeRightWhile = U7, G.takeWhile = q7, G.tap = Z7, G.throttle = k9, G.thru = Nc, G.toArray = m3, G.toPairs = _3, G.toPairsIn = E3, G.toPath = Q_, G.toPlainObject = b3, G.transform = KA, G.unary = z9, G.union = L7, G.unionBy = k7, G.unionWith = z7, G.uniq = $7, G.uniqBy = H7, G.uniqWith = j7, G.unset = GA, G.unzip = bd, G.unzipWith = e3, G.update = QA, G.updateWith = JA, G.values = fh, G.valuesIn = YA, G.without = K7, G.words = x3, G.wrap = $9, G.xor = G7, G.xorBy = Q7, G.xorWith = J7, G.zip = Y7, G.zipObject = V7, G.zipObjectDeep = W7, G.zipWith = X7, G.entries = _3, G.entriesIn = E3, G.extend = y3, G.extendWith = Uc, Dd(G, G), G.add = Y_, G.attempt = I3, G.camelCase = ZA, G.capitalize = M3, G.ceil = V_, G.clamp = VA, G.clone = j9, G.cloneDeep = G9, G.cloneDeepWith = Q9, G.cloneWith = K9, G.conformsTo = J9, G.deburr = S3, G.defaultTo = D_, G.divide = W_, G.endsWith = t_, G.eq = qn, G.escape = e_, G.escapeRegExp = r_, G.every = f9, G.find = c9, G.findIndex = Vg, G.findKey = MA, G.findLast = l9, G.findLastIndex = Wg, G.findLastKey = SA, G.floor = X_, G.forEach = i3, G.forEachRight = n3, G.forIn = xA, G.forInRight = IA, G.forOwn = DA, G.forOwnRight = CA, G.get = Ed, G.gt = Y9, G.gte = V9, G.has = RA, G.hasIn = Md, G.head = Zg, G.identity = Ri, G.includes = v9, G.indexOf = l7, G.inRange = WA, G.invoke = TA, G.isArguments = ya, G.isArray = Ae, G.isArrayBuffer = W9, G.isArrayLike = Ni, G.isArrayLikeObject = yr, G.isBoolean = X9, G.isBuffer = $o, G.isDate = Z9, G.isElement = tA, G.isEmpty = eA, G.isEqual = rA, G.isEqualWith = iA, G.isError = Ad, G.isFinite = nA, G.isFunction = fo, G.isInteger = l3, G.isLength = Tc, G.isMap = d3, G.isMatch = sA, G.isMatchWith = oA, G.isNaN = aA, G.isNative = hA, G.isNil = uA, G.isNull = fA, G.isNumber = p3, G.isObject = cr, G.isObjectLike = gr, G.isPlainObject = Rf, G.isRegExp = _d, G.isSafeInteger = cA, G.isSet = g3, G.isString = Fc, G.isSymbol = Vi, G.isTypedArray = hh, G.isUndefined = lA, G.isWeakMap = dA, G.isWeakSet = pA, G.join = v7, G.kebabCase = i_, G.last = dn, G.lastIndexOf = b7, G.lowerCase = n_, G.lowerFirst = s_, G.lt = gA, G.lte = mA, G.max = Z_, G.maxBy = tE, G.mean = eE, G.meanBy = rE, G.min = iE, G.minBy = nE, G.stubArray = Nd, G.stubFalse = Pd, G.stubObject = H_, G.stubString = j_, G.stubTrue = K_, G.multiply = sE, G.nth = y7, G.noConflict = T_, G.noop = Cd, G.now = Rc, G.pad = o_, G.padEnd = a_, G.padStart = h_, G.parseInt = f_, G.random = XA, G.reduce = _9, G.reduceRight = E9, G.repeat = u_, G.replace = c_, G.result = $A, G.round = oE, G.runInContext = at, G.sample = S9, G.size = D9, G.snakeCase = l_, G.some = C9, G.sortedIndex = x7, G.sortedIndexBy = I7, G.sortedIndexOf = D7, G.sortedLastIndex = C7, G.sortedLastIndexBy = N7, G.sortedLastIndexOf = P7, G.startCase = p_, G.startsWith = g_, G.subtract = aE, G.sum = hE, G.sumBy = fE, G.template = m_, G.times = G_, G.toFinite = uo, G.toInteger = xe, G.toLength = v3, G.toLower = v_, G.toNumber = pn, G.toSafeInteger = vA, G.toString = Je, G.toUpper = b_, G.trim = y_, G.trimEnd = w_, G.trimStart = A_, G.truncate = __, G.unescape = E_, G.uniqueId = J_, G.upperCase = M_, G.upperFirst = Sd, G.each = i3, G.eachRight = n3, G.first = Zg, Dd(G, function() {
        var a = {};
        return ls(G, function(l, A) {
          We.call(G.prototype, A) || (a[A] = l);
        }), a;
      }(), { chain: !1 }), G.VERSION = i, hn(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(a) {
        G[a].placeholder = G;
      }), hn(["drop", "take"], function(a, l) {
        Pe.prototype[a] = function(A) {
          A = A === r ? 1 : Br(xe(A), 0);
          var R = this.__filtered__ && !l ? new Pe(this) : this.clone();
          return R.__filtered__ ? R.__takeCount__ = ai(A, R.__takeCount__) : R.__views__.push({ size: ai(A, f), type: a + (R.__dir__ < 0 ? "Right" : "") }), R;
        }, Pe.prototype[a + "Right"] = function(A) {
          return this.reverse()[a](A).reverse();
        };
      }), hn(["filter", "map", "takeWhile"], function(a, l) {
        var A = l + 1, R = A == h || A == v;
        Pe.prototype[a] = function(U) {
          var J = this.clone();
          return J.__iteratees__.push({ iteratee: ge(U, 3), type: A }), J.__filtered__ = J.__filtered__ || R, J;
        };
      }), hn(["head", "last"], function(a, l) {
        var A = "take" + (l ? "Right" : "");
        Pe.prototype[a] = function() {
          return this[A](1).value()[0];
        };
      }), hn(["initial", "tail"], function(a, l) {
        var A = "drop" + (l ? "" : "Right");
        Pe.prototype[a] = function() {
          return this.__filtered__ ? new Pe(this) : this[A](1);
        };
      }), Pe.prototype.compact = function() {
        return this.filter(Ri);
      }, Pe.prototype.find = function(a) {
        return this.filter(a).head();
      }, Pe.prototype.findLast = function(a) {
        return this.reverse().find(a);
      }, Pe.prototype.invokeMap = Ce(function(a, l) {
        return typeof a == "function" ? new Pe(this) : this.map(function(A) {
          return xf(A, a, l);
        });
      }), Pe.prototype.reject = function(a) {
        return this.filter(Bc(ge(a)));
      }, Pe.prototype.slice = function(a, l) {
        a = xe(a);
        var A = this;
        return A.__filtered__ && (a > 0 || l < 0) ? new Pe(A) : (a < 0 ? A = A.takeRight(-a) : a && (A = A.drop(a)), l !== r && (l = xe(l), A = l < 0 ? A.dropRight(-l) : A.take(l - a)), A);
      }, Pe.prototype.takeRightWhile = function(a) {
        return this.reverse().takeWhile(a).reverse();
      }, Pe.prototype.toArray = function() {
        return this.take(f);
      }, ls(Pe.prototype, function(a, l) {
        var A = /^(?:filter|find|map|reject)|While$/.test(l), R = /^(?:head|last)$/.test(l), U = G[R ? "take" + (l == "last" ? "Right" : "") : l], J = R || /^find/.test(l);
        U && (G.prototype[l] = function() {
          var rt = this.__wrapped__, nt = R ? [1] : arguments, ht = rt instanceof Pe, Ot = nt[0], Bt = ht || Ae(rt), $t = function(Ne) {
            var ke = U.apply(G, To([Ne], nt));
            return R && ee ? ke[0] : ke;
          };
          Bt && A && typeof Ot == "function" && Ot.length != 1 && (ht = Bt = !1);
          var ee = this.__chain__, le = !!this.__actions__.length, me = J && !ee, De = ht && !le;
          if (!J && Bt) {
            rt = De ? rt : new Pe(this);
            var ve = a.apply(rt, nt);
            return ve.__actions__.push({ func: Nc, args: [$t], thisArg: r }), new un(ve, ee);
          }
          return me && De ? a.apply(this, nt) : (ve = this.thru($t), me ? R ? ve.value()[0] : ve.value() : ve);
        });
      }), hn(["pop", "push", "shift", "sort", "splice", "unshift"], function(a) {
        var l = rc[a], A = /^(?:push|sort|unshift)$/.test(a) ? "tap" : "thru", R = /^(?:pop|shift)$/.test(a);
        G.prototype[a] = function() {
          var U = arguments;
          if (R && !this.__chain__) {
            var J = this.value();
            return l.apply(Ae(J) ? J : [], U);
          }
          return this[A](function(rt) {
            return l.apply(Ae(rt) ? rt : [], U);
          });
        };
      }), ls(Pe.prototype, function(a, l) {
        var A = G[l];
        if (A) {
          var R = A.name + "";
          We.call(ih, R) || (ih[R] = []), ih[R].push({ name: l, func: A });
        }
      }), ih[Ec(r, V).name] = [{ name: "wrapper", func: r }], Pe.prototype.clone = E4, Pe.prototype.reverse = M4, Pe.prototype.value = S4, G.prototype.at = t9, G.prototype.chain = e9, G.prototype.commit = r9, G.prototype.next = i9, G.prototype.plant = s9, G.prototype.reverse = o9, G.prototype.toJSON = G.prototype.valueOf = G.prototype.value = a9, G.prototype.first = G.prototype.head, yf && (G.prototype[yf] = n9), G;
    }, th = r4();
    br ? ((br.exports = th)._ = th, rr._ = th) : Le._ = th;
  }).call(Yf);
})(Hp, Hp.exports);
var rH = Object.defineProperty, iH = Object.defineProperties, nH = Object.getOwnPropertyDescriptors, T6 = Object.getOwnPropertySymbols, sH = Object.prototype.hasOwnProperty, oH = Object.prototype.propertyIsEnumerable, F6 = (e, t, r) => t in e ? rH(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, i0 = (e, t) => {
  for (var r in t || (t = {}))
    sH.call(t, r) && F6(e, r, t[r]);
  if (T6)
    for (var r of T6(t))
      oH.call(t, r) && F6(e, r, t[r]);
  return e;
}, aH = (e, t) => iH(e, nH(t));
function as(e, t, r) {
  var i;
  const n = Gb(e);
  return ((i = t.rpcMap) == null ? void 0 : i[n.reference]) || `${eH}?chainId=${n.namespace}:${n.reference}&projectId=${r}`;
}
function Ga(e) {
  return e.includes(":") ? e.split(":")[1] : e;
}
function P5(e) {
  return e.map((t) => `${t.split(":")[0]}:${t.split(":")[1]}`);
}
function hH(e, t) {
  const r = Object.keys(t.namespaces).filter((n) => n.includes(e));
  if (!r.length)
    return [];
  const i = [];
  return r.forEach((n) => {
    const s = t.namespaces[n].accounts;
    i.push(...s);
  }), i;
}
function Q1(e = {}, t = {}) {
  const r = U6(e), i = U6(t);
  return Hp.exports.merge(r, i);
}
function U6(e) {
  var t, r, i, n;
  const s = {};
  if (!HN(e))
    return s;
  for (const [u, p] of Object.entries(e)) {
    const b = u2(u) ? [u] : p.chains, m = p.methods || [], w = p.events || [], S = p.rpcMap || {}, C = Vf(u);
    s[C] = aH(i0(i0({}, s[C]), p), { chains: Kd(b, (t = s[C]) == null ? void 0 : t.chains), methods: Kd(m, (r = s[C]) == null ? void 0 : r.methods), events: Kd(w, (i = s[C]) == null ? void 0 : i.events), rpcMap: i0(i0({}, S), (n = s[C]) == null ? void 0 : n.rpcMap) });
  }
  return s;
}
function fH(e) {
  return e.includes(":") ? e.split(":")[2] : e;
}
function q6(e) {
  const t = {};
  for (const [r, i] of Object.entries(e)) {
    const n = i.methods || [], s = i.events || [], u = i.accounts || [], p = u2(r) ? [r] : i.chains ? i.chains : P5(i.accounts);
    t[r] = { chains: p, methods: n, events: s, accounts: u };
  }
  return t;
}
function J1(e) {
  return typeof e == "number" ? e : e.includes("0x") ? parseInt(e, 16) : (e = e.includes(":") ? e.split(":")[1] : e, isNaN(Number(e)) ? e : Number(e));
}
const R5 = {}, Ve = (e) => R5[e], Y1 = (e, t) => {
  R5[e] = t;
};
class uH {
  constructor(t) {
    this.name = "polkadot", this.namespace = t.namespace, this.events = Ve("events"), this.client = Ve("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(t) {
    this.namespace = Object.assign(this.namespace, t);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const t = this.namespace.chains[0];
    if (!t)
      throw new Error("ChainId not found");
    return t.split(":")[1];
  }
  request(t) {
    return this.namespace.methods.includes(t.request.method) ? this.client.request(t) : this.getHttpProvider().request(t.request);
  }
  setDefaultChain(t, r) {
    this.httpProviders[t] || this.setHttpProvider(t, r), this.chainId = t, this.events.emit(fs.DEFAULT_CHAIN_CHANGED, `${this.name}:${t}`);
  }
  getAccounts() {
    const t = this.namespace.accounts;
    return t ? t.filter((r) => r.split(":")[1] === this.chainId.toString()).map((r) => r.split(":")[2]) || [] : [];
  }
  createHttpProviders() {
    const t = {};
    return this.namespace.chains.forEach((r) => {
      var i;
      const n = Ga(r);
      t[n] = this.createHttpProvider(n, (i = this.namespace.rpcMap) == null ? void 0 : i[r]);
    }), t;
  }
  getHttpProvider() {
    const t = `${this.name}:${this.chainId}`, r = this.httpProviders[t];
    if (typeof r > "u")
      throw new Error(`JSON-RPC provider for ${t} not found`);
    return r;
  }
  setHttpProvider(t, r) {
    const i = this.createHttpProvider(t, r);
    i && (this.httpProviders[t] = i);
  }
  createHttpProvider(t, r) {
    const i = r || as(t, this.namespace, this.client.core.projectId);
    if (!i)
      throw new Error(`No RPC url provided for chainId: ${t}`);
    return new hs(new eo(i, Ve("disableProviderPing")));
  }
}
var cH = Object.defineProperty, lH = Object.defineProperties, dH = Object.getOwnPropertyDescriptors, L6 = Object.getOwnPropertySymbols, pH = Object.prototype.hasOwnProperty, gH = Object.prototype.propertyIsEnumerable, k6 = (e, t, r) => t in e ? cH(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, z6 = (e, t) => {
  for (var r in t || (t = {}))
    pH.call(t, r) && k6(e, r, t[r]);
  if (L6)
    for (var r of L6(t))
      gH.call(t, r) && k6(e, r, t[r]);
  return e;
}, $6 = (e, t) => lH(e, dH(t));
class mH {
  constructor(t) {
    this.name = "eip155", this.namespace = t.namespace, this.events = Ve("events"), this.client = Ve("client"), this.httpProviders = this.createHttpProviders(), this.chainId = parseInt(this.getDefaultChain());
  }
  async request(t) {
    switch (t.request.method) {
      case "eth_requestAccounts":
        return this.getAccounts();
      case "eth_accounts":
        return this.getAccounts();
      case "wallet_switchEthereumChain":
        return await this.handleSwitchChain(t);
      case "eth_chainId":
        return parseInt(this.getDefaultChain());
      case "wallet_getCapabilities":
        return await this.getCapabilities(t);
    }
    return this.namespace.methods.includes(t.request.method) ? await this.client.request(t) : this.getHttpProvider().request(t.request);
  }
  updateNamespace(t) {
    this.namespace = Object.assign(this.namespace, t);
  }
  setDefaultChain(t, r) {
    this.httpProviders[t] || this.setHttpProvider(parseInt(t), r), this.chainId = parseInt(t), this.events.emit(fs.DEFAULT_CHAIN_CHANGED, `${this.name}:${t}`);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId.toString();
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const t = this.namespace.chains[0];
    if (!t)
      throw new Error("ChainId not found");
    return t.split(":")[1];
  }
  createHttpProvider(t, r) {
    const i = r || as(`${this.name}:${t}`, this.namespace, this.client.core.projectId);
    if (!i)
      throw new Error(`No RPC url provided for chainId: ${t}`);
    return new hs(new eo(i, Ve("disableProviderPing")));
  }
  setHttpProvider(t, r) {
    const i = this.createHttpProvider(t, r);
    i && (this.httpProviders[t] = i);
  }
  createHttpProviders() {
    const t = {};
    return this.namespace.chains.forEach((r) => {
      var i;
      const n = parseInt(Ga(r));
      t[n] = this.createHttpProvider(n, (i = this.namespace.rpcMap) == null ? void 0 : i[r]);
    }), t;
  }
  getAccounts() {
    const t = this.namespace.accounts;
    return t ? [...new Set(t.filter((r) => r.split(":")[1] === this.chainId.toString()).map((r) => r.split(":")[2]))] : [];
  }
  getHttpProvider() {
    const t = this.chainId, r = this.httpProviders[t];
    if (typeof r > "u")
      throw new Error(`JSON-RPC provider for ${t} not found`);
    return r;
  }
  async handleSwitchChain(t) {
    var r, i;
    let n = t.request.params ? (r = t.request.params[0]) == null ? void 0 : r.chainId : "0x0";
    n = n.startsWith("0x") ? n : `0x${n}`;
    const s = parseInt(n, 16);
    if (this.isChainApproved(s))
      this.setDefaultChain(`${s}`);
    else if (this.namespace.methods.includes("wallet_switchEthereumChain"))
      await this.client.request({ topic: t.topic, request: { method: t.request.method, params: [{ chainId: n }] }, chainId: (i = this.namespace.chains) == null ? void 0 : i[0] }), this.setDefaultChain(`${s}`);
    else
      throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);
    return null;
  }
  isChainApproved(t) {
    return this.namespace.chains.includes(`${this.name}:${t}`);
  }
  async getCapabilities(t) {
    var r, i, n;
    const s = (i = (r = t.request) == null ? void 0 : r.params) == null ? void 0 : i[0];
    if (!s)
      throw new Error("Missing address parameter in `wallet_getCapabilities` request");
    const u = this.client.session.get(t.topic), p = ((n = u == null ? void 0 : u.sessionProperties) == null ? void 0 : n.capabilities) || {};
    if (p != null && p[s])
      return p == null ? void 0 : p[s];
    const b = await this.client.request(t);
    try {
      await this.client.session.update(t.topic, { sessionProperties: $6(z6({}, u.sessionProperties || {}), { capabilities: $6(z6({}, p || {}), { [s]: b }) }) });
    } catch (m) {
      console.warn("Failed to update session with capabilities", m);
    }
    return b;
  }
}
class vH {
  constructor(t) {
    this.name = "solana", this.namespace = t.namespace, this.events = Ve("events"), this.client = Ve("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(t) {
    this.namespace = Object.assign(this.namespace, t);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(t) {
    return this.namespace.methods.includes(t.request.method) ? this.client.request(t) : this.getHttpProvider().request(t.request);
  }
  setDefaultChain(t, r) {
    this.httpProviders[t] || this.setHttpProvider(t, r), this.chainId = t, this.events.emit(fs.DEFAULT_CHAIN_CHANGED, `${this.name}:${t}`);
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const t = this.namespace.chains[0];
    if (!t)
      throw new Error("ChainId not found");
    return t.split(":")[1];
  }
  getAccounts() {
    const t = this.namespace.accounts;
    return t ? [...new Set(t.filter((r) => r.split(":")[1] === this.chainId.toString()).map((r) => r.split(":")[2]))] : [];
  }
  createHttpProviders() {
    const t = {};
    return this.namespace.chains.forEach((r) => {
      var i;
      const n = Ga(r);
      t[n] = this.createHttpProvider(n, (i = this.namespace.rpcMap) == null ? void 0 : i[r]);
    }), t;
  }
  getHttpProvider() {
    const t = `${this.name}:${this.chainId}`, r = this.httpProviders[t];
    if (typeof r > "u")
      throw new Error(`JSON-RPC provider for ${t} not found`);
    return r;
  }
  setHttpProvider(t, r) {
    const i = this.createHttpProvider(t, r);
    i && (this.httpProviders[t] = i);
  }
  createHttpProvider(t, r) {
    const i = r || as(t, this.namespace, this.client.core.projectId);
    if (!i)
      throw new Error(`No RPC url provided for chainId: ${t}`);
    return new hs(new eo(i, Ve("disableProviderPing")));
  }
}
class bH {
  constructor(t) {
    this.name = "cosmos", this.namespace = t.namespace, this.events = Ve("events"), this.client = Ve("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(t) {
    this.namespace = Object.assign(this.namespace, t);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const t = this.namespace.chains[0];
    if (!t)
      throw new Error("ChainId not found");
    return t.split(":")[1];
  }
  request(t) {
    return this.namespace.methods.includes(t.request.method) ? this.client.request(t) : this.getHttpProvider().request(t.request);
  }
  setDefaultChain(t, r) {
    this.httpProviders[t] || this.setHttpProvider(t, r), this.chainId = t, this.events.emit(fs.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getAccounts() {
    const t = this.namespace.accounts;
    return t ? [...new Set(t.filter((r) => r.split(":")[1] === this.chainId.toString()).map((r) => r.split(":")[2]))] : [];
  }
  createHttpProviders() {
    const t = {};
    return this.namespace.chains.forEach((r) => {
      var i;
      const n = Ga(r);
      t[n] = this.createHttpProvider(n, (i = this.namespace.rpcMap) == null ? void 0 : i[r]);
    }), t;
  }
  getHttpProvider() {
    const t = `${this.name}:${this.chainId}`, r = this.httpProviders[t];
    if (typeof r > "u")
      throw new Error(`JSON-RPC provider for ${t} not found`);
    return r;
  }
  setHttpProvider(t, r) {
    const i = this.createHttpProvider(t, r);
    i && (this.httpProviders[t] = i);
  }
  createHttpProvider(t, r) {
    const i = r || as(t, this.namespace, this.client.core.projectId);
    if (!i)
      throw new Error(`No RPC url provided for chainId: ${t}`);
    return new hs(new eo(i, Ve("disableProviderPing")));
  }
}
class yH {
  constructor(t) {
    this.name = "algorand", this.namespace = t.namespace, this.events = Ve("events"), this.client = Ve("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(t) {
    this.namespace = Object.assign(this.namespace, t);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(t) {
    return this.namespace.methods.includes(t.request.method) ? this.client.request(t) : this.getHttpProvider().request(t.request);
  }
  setDefaultChain(t, r) {
    if (!this.httpProviders[t]) {
      const i = r || as(`${this.name}:${t}`, this.namespace, this.client.core.projectId);
      if (!i)
        throw new Error(`No RPC url provided for chainId: ${t}`);
      this.setHttpProvider(t, i);
    }
    this.chainId = t, this.events.emit(fs.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const t = this.namespace.chains[0];
    if (!t)
      throw new Error("ChainId not found");
    return t.split(":")[1];
  }
  getAccounts() {
    const t = this.namespace.accounts;
    return t ? [...new Set(t.filter((r) => r.split(":")[1] === this.chainId.toString()).map((r) => r.split(":")[2]))] : [];
  }
  createHttpProviders() {
    const t = {};
    return this.namespace.chains.forEach((r) => {
      var i;
      t[r] = this.createHttpProvider(r, (i = this.namespace.rpcMap) == null ? void 0 : i[r]);
    }), t;
  }
  getHttpProvider() {
    const t = `${this.name}:${this.chainId}`, r = this.httpProviders[t];
    if (typeof r > "u")
      throw new Error(`JSON-RPC provider for ${t} not found`);
    return r;
  }
  setHttpProvider(t, r) {
    const i = this.createHttpProvider(t, r);
    i && (this.httpProviders[t] = i);
  }
  createHttpProvider(t, r) {
    const i = r || as(t, this.namespace, this.client.core.projectId);
    return typeof i > "u" ? void 0 : new hs(new eo(i, Ve("disableProviderPing")));
  }
}
class wH {
  constructor(t) {
    this.name = "cip34", this.namespace = t.namespace, this.events = Ve("events"), this.client = Ve("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(t) {
    this.namespace = Object.assign(this.namespace, t);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const t = this.namespace.chains[0];
    if (!t)
      throw new Error("ChainId not found");
    return t.split(":")[1];
  }
  request(t) {
    return this.namespace.methods.includes(t.request.method) ? this.client.request(t) : this.getHttpProvider().request(t.request);
  }
  setDefaultChain(t, r) {
    this.httpProviders[t] || this.setHttpProvider(t, r), this.chainId = t, this.events.emit(fs.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getAccounts() {
    const t = this.namespace.accounts;
    return t ? [...new Set(t.filter((r) => r.split(":")[1] === this.chainId.toString()).map((r) => r.split(":")[2]))] : [];
  }
  createHttpProviders() {
    const t = {};
    return this.namespace.chains.forEach((r) => {
      const i = this.getCardanoRPCUrl(r), n = Ga(r);
      t[n] = this.createHttpProvider(n, i);
    }), t;
  }
  getHttpProvider() {
    const t = `${this.name}:${this.chainId}`, r = this.httpProviders[t];
    if (typeof r > "u")
      throw new Error(`JSON-RPC provider for ${t} not found`);
    return r;
  }
  getCardanoRPCUrl(t) {
    const r = this.namespace.rpcMap;
    if (r)
      return r[t];
  }
  setHttpProvider(t, r) {
    const i = this.createHttpProvider(t, r);
    i && (this.httpProviders[t] = i);
  }
  createHttpProvider(t, r) {
    const i = r || this.getCardanoRPCUrl(t);
    if (!i)
      throw new Error(`No RPC url provided for chainId: ${t}`);
    return new hs(new eo(i, Ve("disableProviderPing")));
  }
}
class AH {
  constructor(t) {
    this.name = "elrond", this.namespace = t.namespace, this.events = Ve("events"), this.client = Ve("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(t) {
    this.namespace = Object.assign(this.namespace, t);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(t) {
    return this.namespace.methods.includes(t.request.method) ? this.client.request(t) : this.getHttpProvider().request(t.request);
  }
  setDefaultChain(t, r) {
    this.httpProviders[t] || this.setHttpProvider(t, r), this.chainId = t, this.events.emit(fs.DEFAULT_CHAIN_CHANGED, `${this.name}:${t}`);
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const t = this.namespace.chains[0];
    if (!t)
      throw new Error("ChainId not found");
    return t.split(":")[1];
  }
  getAccounts() {
    const t = this.namespace.accounts;
    return t ? [...new Set(t.filter((r) => r.split(":")[1] === this.chainId.toString()).map((r) => r.split(":")[2]))] : [];
  }
  createHttpProviders() {
    const t = {};
    return this.namespace.chains.forEach((r) => {
      var i;
      const n = Ga(r);
      t[n] = this.createHttpProvider(n, (i = this.namespace.rpcMap) == null ? void 0 : i[r]);
    }), t;
  }
  getHttpProvider() {
    const t = `${this.name}:${this.chainId}`, r = this.httpProviders[t];
    if (typeof r > "u")
      throw new Error(`JSON-RPC provider for ${t} not found`);
    return r;
  }
  setHttpProvider(t, r) {
    const i = this.createHttpProvider(t, r);
    i && (this.httpProviders[t] = i);
  }
  createHttpProvider(t, r) {
    const i = r || as(t, this.namespace, this.client.core.projectId);
    if (!i)
      throw new Error(`No RPC url provided for chainId: ${t}`);
    return new hs(new eo(i, Ve("disableProviderPing")));
  }
}
class _H {
  constructor(t) {
    this.name = "multiversx", this.namespace = t.namespace, this.events = Ve("events"), this.client = Ve("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(t) {
    this.namespace = Object.assign(this.namespace, t);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(t) {
    return this.namespace.methods.includes(t.request.method) ? this.client.request(t) : this.getHttpProvider().request(t.request);
  }
  setDefaultChain(t, r) {
    this.httpProviders[t] || this.setHttpProvider(t, r), this.chainId = t, this.events.emit(fs.DEFAULT_CHAIN_CHANGED, `${this.name}:${t}`);
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const t = this.namespace.chains[0];
    if (!t)
      throw new Error("ChainId not found");
    return t.split(":")[1];
  }
  getAccounts() {
    const t = this.namespace.accounts;
    return t ? [...new Set(t.filter((r) => r.split(":")[1] === this.chainId.toString()).map((r) => r.split(":")[2]))] : [];
  }
  createHttpProviders() {
    const t = {};
    return this.namespace.chains.forEach((r) => {
      var i;
      const n = Ga(r);
      t[n] = this.createHttpProvider(n, (i = this.namespace.rpcMap) == null ? void 0 : i[r]);
    }), t;
  }
  getHttpProvider() {
    const t = `${this.name}:${this.chainId}`, r = this.httpProviders[t];
    if (typeof r > "u")
      throw new Error(`JSON-RPC provider for ${t} not found`);
    return r;
  }
  setHttpProvider(t, r) {
    const i = this.createHttpProvider(t, r);
    i && (this.httpProviders[t] = i);
  }
  createHttpProvider(t, r) {
    const i = r || as(t, this.namespace, this.client.core.projectId);
    if (!i)
      throw new Error(`No RPC url provided for chainId: ${t}`);
    return new hs(new eo(i, Ve("disableProviderPing")));
  }
}
class EH {
  constructor(t) {
    this.name = "near", this.namespace = t.namespace, this.events = Ve("events"), this.client = Ve("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(t) {
    this.namespace = Object.assign(this.namespace, t);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const t = this.namespace.chains[0];
    if (!t)
      throw new Error("ChainId not found");
    return t.split(":")[1];
  }
  request(t) {
    return this.namespace.methods.includes(t.request.method) ? this.client.request(t) : this.getHttpProvider().request(t.request);
  }
  setDefaultChain(t, r) {
    if (this.chainId = t, !this.httpProviders[t]) {
      const i = r || as(`${this.name}:${t}`, this.namespace);
      if (!i)
        throw new Error(`No RPC url provided for chainId: ${t}`);
      this.setHttpProvider(t, i);
    }
    this.events.emit(fs.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getAccounts() {
    const t = this.namespace.accounts;
    return t ? t.filter((r) => r.split(":")[1] === this.chainId.toString()).map((r) => r.split(":")[2]) || [] : [];
  }
  createHttpProviders() {
    const t = {};
    return this.namespace.chains.forEach((r) => {
      var i;
      t[r] = this.createHttpProvider(r, (i = this.namespace.rpcMap) == null ? void 0 : i[r]);
    }), t;
  }
  getHttpProvider() {
    const t = `${this.name}:${this.chainId}`, r = this.httpProviders[t];
    if (typeof r > "u")
      throw new Error(`JSON-RPC provider for ${t} not found`);
    return r;
  }
  setHttpProvider(t, r) {
    const i = this.createHttpProvider(t, r);
    i && (this.httpProviders[t] = i);
  }
  createHttpProvider(t, r) {
    const i = r || as(t, this.namespace);
    return typeof i > "u" ? void 0 : new hs(new eo(i, Ve("disableProviderPing")));
  }
}
class MH {
  constructor(t) {
    this.name = Ah, this.namespace = t.namespace, this.events = Ve("events"), this.client = Ve("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(t) {
    this.namespace.chains = [...new Set((this.namespace.chains || []).concat(t.chains || []))], this.namespace.accounts = [...new Set((this.namespace.accounts || []).concat(t.accounts || []))], this.namespace.methods = [...new Set((this.namespace.methods || []).concat(t.methods || []))], this.namespace.events = [...new Set((this.namespace.events || []).concat(t.events || []))], this.httpProviders = this.createHttpProviders();
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(t) {
    return this.namespace.methods.includes(t.request.method) ? this.client.request(t) : this.getHttpProvider(t.chainId).request(t.request);
  }
  setDefaultChain(t, r) {
    this.httpProviders[t] || this.setHttpProvider(t, r), this.chainId = t, this.events.emit(fs.DEFAULT_CHAIN_CHANGED, `${this.name}:${t}`);
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const t = this.namespace.chains[0];
    if (!t)
      throw new Error("ChainId not found");
    return t.split(":")[1];
  }
  getAccounts() {
    const t = this.namespace.accounts;
    return t ? [...new Set(t.filter((r) => r.split(":")[1] === this.chainId.toString()).map((r) => r.split(":")[2]))] : [];
  }
  createHttpProviders() {
    var t, r;
    const i = {};
    return (r = (t = this.namespace) == null ? void 0 : t.accounts) == null || r.forEach((n) => {
      const s = Gb(n);
      i[`${s.namespace}:${s.reference}`] = this.createHttpProvider(n);
    }), i;
  }
  getHttpProvider(t) {
    const r = this.httpProviders[t];
    if (typeof r > "u")
      throw new Error(`JSON-RPC provider for ${t} not found`);
    return r;
  }
  setHttpProvider(t, r) {
    const i = this.createHttpProvider(t, r);
    i && (this.httpProviders[t] = i);
  }
  createHttpProvider(t, r) {
    const i = r || as(t, this.namespace, this.client.core.projectId);
    if (!i)
      throw new Error(`No RPC url provided for chainId: ${t}`);
    return new hs(new eo(i, Ve("disableProviderPing")));
  }
}
var SH = Object.defineProperty, xH = Object.defineProperties, IH = Object.getOwnPropertyDescriptors, H6 = Object.getOwnPropertySymbols, DH = Object.prototype.hasOwnProperty, CH = Object.prototype.propertyIsEnumerable, j6 = (e, t, r) => t in e ? SH(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, n0 = (e, t) => {
  for (var r in t || (t = {}))
    DH.call(t, r) && j6(e, r, t[r]);
  if (H6)
    for (var r of H6(t))
      CH.call(t, r) && j6(e, r, t[r]);
  return e;
}, V1 = (e, t) => xH(e, IH(t));
class C2 {
  constructor(t) {
    this.events = new Qp(), this.rpcProviders = {}, this.shouldAbortPairingAttempt = !1, this.maxPairingAttempts = 10, this.disableProviderPing = !1, this.providerOpts = t, this.logger = typeof (t == null ? void 0 : t.logger) < "u" && typeof (t == null ? void 0 : t.logger) != "string" ? t.logger : Du(ll({ level: (t == null ? void 0 : t.logger) || O6 })), this.disableProviderPing = (t == null ? void 0 : t.disableProviderPing) || !1;
  }
  static async init(t) {
    const r = new C2(t);
    return await r.initialize(), r;
  }
  async request(t, r, i) {
    const [n, s] = this.validateChain(r);
    if (!this.session)
      throw new Error("Please call connect() before request()");
    return await this.getProvider(n).request({ request: n0({}, t), chainId: `${n}:${s}`, topic: this.session.topic, expiry: i });
  }
  sendAsync(t, r, i, n) {
    const s = (/* @__PURE__ */ new Date()).getTime();
    this.request(t, i, n).then((u) => r(null, ml(s, u))).catch((u) => r(u, void 0));
  }
  async enable() {
    if (!this.client)
      throw new Error("Sign Client not initialized");
    return this.session || await this.connect({ namespaces: this.namespaces, optionalNamespaces: this.optionalNamespaces, sessionProperties: this.sessionProperties }), await this.requestAccounts();
  }
  async disconnect() {
    var t;
    if (!this.session)
      throw new Error("Please call connect() before enable()");
    await this.client.disconnect({ topic: (t = this.session) == null ? void 0 : t.topic, reason: bp("USER_DISCONNECTED") }), await this.cleanup();
  }
  async connect(t) {
    if (!this.client)
      throw new Error("Sign Client not initialized");
    if (this.setNamespaces(t), await this.cleanupPendingPairings(), !t.skipPairing)
      return await this.pair(t.pairingTopic);
  }
  async authenticate(t) {
    if (!this.client)
      throw new Error("Sign Client not initialized");
    this.setNamespaces(t), await this.cleanupPendingPairings();
    const { uri: r, response: i } = await this.client.authenticate(t);
    r && (this.uri = r, this.events.emit("display_uri", r));
    const n = await i();
    if (this.session = n.session, this.session) {
      const s = q6(this.session.namespaces);
      this.namespaces = Q1(this.namespaces, s), this.persist("namespaces", this.namespaces), this.onConnect();
    }
    return n;
  }
  on(t, r) {
    this.events.on(t, r);
  }
  once(t, r) {
    this.events.once(t, r);
  }
  removeListener(t, r) {
    this.events.removeListener(t, r);
  }
  off(t, r) {
    this.events.off(t, r);
  }
  get isWalletConnect() {
    return !0;
  }
  async pair(t) {
    this.shouldAbortPairingAttempt = !1;
    let r = 0;
    do {
      if (this.shouldAbortPairingAttempt)
        throw new Error("Pairing aborted");
      if (r >= this.maxPairingAttempts)
        throw new Error("Max auto pairing attempts reached");
      const { uri: i, approval: n } = await this.client.connect({ pairingTopic: t, requiredNamespaces: this.namespaces, optionalNamespaces: this.optionalNamespaces, sessionProperties: this.sessionProperties });
      i && (this.uri = i, this.events.emit("display_uri", i)), await n().then((s) => {
        this.session = s;
        const u = q6(s.namespaces);
        this.namespaces = Q1(this.namespaces, u), this.persist("namespaces", this.namespaces);
      }).catch((s) => {
        if (s.message !== N5)
          throw s;
        r++;
      });
    } while (!this.session);
    return this.onConnect(), this.session;
  }
  setDefaultChain(t, r) {
    try {
      if (!this.session)
        return;
      const [i, n] = this.validateChain(t), s = this.getProvider(i);
      s.name === Ah ? s.setDefaultChain(`${i}:${n}`, r) : s.setDefaultChain(n, r);
    } catch (i) {
      if (!/Please call connect/.test(i.message))
        throw i;
    }
  }
  async cleanupPendingPairings(t = {}) {
    this.logger.info("Cleaning up inactive pairings...");
    const r = this.client.pairing.getAll();
    if (cu(r)) {
      for (const i of r)
        t.deletePairings ? this.client.core.expirer.set(i.topic, 0) : await this.client.core.relayer.subscriber.unsubscribe(i.topic);
      this.logger.info(`Inactive pairings cleared: ${r.length}`);
    }
  }
  abortPairingAttempt() {
    this.shouldAbortPairingAttempt = !0;
  }
  async checkStorage() {
    if (this.namespaces = await this.getFromStore("namespaces"), this.optionalNamespaces = await this.getFromStore("optionalNamespaces") || {}, this.client.session.length) {
      const t = this.client.session.keys.length - 1;
      this.session = this.client.session.get(this.client.session.keys[t]), this.createProviders();
    }
  }
  async initialize() {
    this.logger.trace("Initialized"), await this.createClient(), await this.checkStorage(), this.registerEventListeners();
  }
  async createClient() {
    this.client = this.providerOpts.client || await D2.init({ core: this.providerOpts.core, logger: this.providerOpts.logger || O6, relayUrl: this.providerOpts.relayUrl || X$, projectId: this.providerOpts.projectId, metadata: this.providerOpts.metadata, storageOptions: this.providerOpts.storageOptions, storage: this.providerOpts.storage, name: this.providerOpts.name, customStoragePrefix: this.providerOpts.customStoragePrefix, telemetryEnabled: this.providerOpts.telemetryEnabled }), this.logger.trace("SignClient Initialized");
  }
  createProviders() {
    if (!this.client)
      throw new Error("Sign Client not initialized");
    if (!this.session)
      throw new Error("Session not initialized. Please call connect() before enable()");
    const t = [...new Set(Object.keys(this.session.namespaces).map((r) => Vf(r)))];
    Y1("client", this.client), Y1("events", this.events), Y1("disableProviderPing", this.disableProviderPing), t.forEach((r) => {
      if (!this.session)
        return;
      const i = hH(r, this.session), n = P5(i), s = Q1(this.namespaces, this.optionalNamespaces), u = V1(n0({}, s[r]), { accounts: i, chains: n });
      switch (r) {
        case "eip155":
          this.rpcProviders[r] = new mH({ namespace: u });
          break;
        case "algorand":
          this.rpcProviders[r] = new yH({ namespace: u });
          break;
        case "solana":
          this.rpcProviders[r] = new vH({ namespace: u });
          break;
        case "cosmos":
          this.rpcProviders[r] = new bH({ namespace: u });
          break;
        case "polkadot":
          this.rpcProviders[r] = new uH({ namespace: u });
          break;
        case "cip34":
          this.rpcProviders[r] = new wH({ namespace: u });
          break;
        case "elrond":
          this.rpcProviders[r] = new AH({ namespace: u });
          break;
        case "multiversx":
          this.rpcProviders[r] = new _H({ namespace: u });
          break;
        case "near":
          this.rpcProviders[r] = new EH({ namespace: u });
          break;
        default:
          this.rpcProviders[Ah] ? this.rpcProviders[Ah].updateNamespace(u) : this.rpcProviders[Ah] = new MH({ namespace: u });
      }
    });
  }
  registerEventListeners() {
    if (typeof this.client > "u")
      throw new Error("Sign Client is not initialized");
    this.client.on("session_ping", (t) => {
      this.events.emit("session_ping", t);
    }), this.client.on("session_event", (t) => {
      const { params: r } = t, { event: i } = r;
      if (i.name === "accountsChanged") {
        const n = i.data;
        n && cu(n) && this.events.emit("accountsChanged", n.map(fH));
      } else if (i.name === "chainChanged") {
        const n = r.chainId, s = r.event.data, u = Vf(n), p = J1(n) !== J1(s) ? `${u}:${J1(s)}` : n;
        this.onChainChanged(p);
      } else
        this.events.emit(i.name, i.data);
      this.events.emit("session_event", t);
    }), this.client.on("session_update", ({ topic: t, params: r }) => {
      var i;
      const { namespaces: n } = r, s = (i = this.client) == null ? void 0 : i.session.get(t);
      this.session = V1(n0({}, s), { namespaces: n }), this.onSessionUpdate(), this.events.emit("session_update", { topic: t, params: r });
    }), this.client.on("session_delete", async (t) => {
      await this.cleanup(), this.events.emit("session_delete", t), this.events.emit("disconnect", V1(n0({}, bp("USER_DISCONNECTED")), { data: t.topic }));
    }), this.on(fs.DEFAULT_CHAIN_CHANGED, (t) => {
      this.onChainChanged(t, !0);
    });
  }
  getProvider(t) {
    return this.rpcProviders[t] || this.rpcProviders[Ah];
  }
  onSessionUpdate() {
    Object.keys(this.rpcProviders).forEach((t) => {
      var r;
      this.getProvider(t).updateNamespace((r = this.session) == null ? void 0 : r.namespaces[t]);
    });
  }
  setNamespaces(t) {
    const { namespaces: r, optionalNamespaces: i, sessionProperties: n } = t;
    r && Object.keys(r).length && (this.namespaces = r), i && Object.keys(i).length && (this.optionalNamespaces = i), this.sessionProperties = n, this.persist("namespaces", r), this.persist("optionalNamespaces", i);
  }
  validateChain(t) {
    const [r, i] = (t == null ? void 0 : t.split(":")) || ["", ""];
    if (!this.namespaces || !Object.keys(this.namespaces).length)
      return [r, i];
    if (r && !Object.keys(this.namespaces || {}).map((u) => Vf(u)).includes(r))
      throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);
    if (r && i)
      return [r, i];
    const n = Vf(Object.keys(this.namespaces)[0]), s = this.rpcProviders[n].getDefaultChain();
    return [n, s];
  }
  async requestAccounts() {
    const [t] = this.validateChain();
    return await this.getProvider(t).requestAccounts();
  }
  onChainChanged(t, r = !1) {
    if (!this.namespaces)
      return;
    const [i, n] = this.validateChain(t);
    n && (r || this.getProvider(i).setDefaultChain(n), this.namespaces[i] ? this.namespaces[i].defaultChain = n : this.namespaces[`${i}:${n}`] ? this.namespaces[`${i}:${n}`].defaultChain = n : this.namespaces[`${i}:${n}`] = { defaultChain: n }, this.persist("namespaces", this.namespaces), this.events.emit("chainChanged", n));
  }
  onConnect() {
    this.createProviders(), this.events.emit("connect", { session: this.session });
  }
  async cleanup() {
    this.session = void 0, this.namespaces = void 0, this.optionalNamespaces = void 0, this.sessionProperties = void 0, this.persist("namespaces", void 0), this.persist("optionalNamespaces", void 0), this.persist("sessionProperties", void 0), await this.cleanupPendingPairings({ deletePairings: !0 });
  }
  persist(t, r) {
    this.client.core.storage.setItem(`${B6}/${t}`, r);
  }
  async getFromStore(t) {
    return await this.client.core.storage.getItem(`${B6}/${t}`);
  }
}
const NH = C2, PH = "wc", RH = "ethereum_provider", OH = `${PH}@2:${RH}:`, BH = "https://rpc.walletconnect.com/v1/", jp = ["eth_sendTransaction", "personal_sign"], TH = ["eth_accounts", "eth_requestAccounts", "eth_sendRawTransaction", "eth_sign", "eth_signTransaction", "eth_signTypedData", "eth_signTypedData_v3", "eth_signTypedData_v4", "eth_sendTransaction", "personal_sign", "wallet_switchEthereumChain", "wallet_addEthereumChain", "wallet_getPermissions", "wallet_requestPermissions", "wallet_registerOnboarding", "wallet_watchAsset", "wallet_scanQRCode", "wallet_sendCalls", "wallet_getCapabilities", "wallet_getCallsStatus", "wallet_showCallsStatus"], Kp = ["chainChanged", "accountsChanged"], FH = ["chainChanged", "accountsChanged", "message", "disconnect", "connect"];
var UH = Object.defineProperty, qH = Object.defineProperties, LH = Object.getOwnPropertyDescriptors, K6 = Object.getOwnPropertySymbols, kH = Object.prototype.hasOwnProperty, zH = Object.prototype.propertyIsEnumerable, G6 = (e, t, r) => t in e ? UH(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, _h = (e, t) => {
  for (var r in t || (t = {}))
    kH.call(t, r) && G6(e, r, t[r]);
  if (K6)
    for (var r of K6(t))
      zH.call(t, r) && G6(e, r, t[r]);
  return e;
}, W1 = (e, t) => qH(e, LH(t));
function G0(e) {
  return Number(e[0].split(":")[1]);
}
function s0(e) {
  return `0x${e.toString(16)}`;
}
function $H(e) {
  const { chains: t, optionalChains: r, methods: i, optionalMethods: n, events: s, optionalEvents: u, rpcMap: p } = e;
  if (!cu(t))
    throw new Error("Invalid chains");
  const b = { chains: t, methods: i || jp, events: s || Kp, rpcMap: _h({}, t.length ? { [G0(t)]: p[G0(t)] } : {}) }, m = s == null ? void 0 : s.filter((D) => !Kp.includes(D)), w = i == null ? void 0 : i.filter((D) => !jp.includes(D));
  if (!r && !u && !n && !(m != null && m.length) && !(w != null && w.length))
    return { required: t.length ? b : void 0 };
  const S = (m == null ? void 0 : m.length) && (w == null ? void 0 : w.length) || !r, C = { chains: [...new Set(S ? b.chains.concat(r || []) : r)], methods: [...new Set(b.methods.concat(n != null && n.length ? n : TH))], events: [...new Set(b.events.concat(u != null && u.length ? u : FH))], rpcMap: p };
  return { required: t.length ? b : void 0, optional: r.length ? C : void 0 };
}
class N2 {
  constructor() {
    this.events = new Rn.EventEmitter(), this.namespace = "eip155", this.accounts = [], this.chainId = 1, this.STORAGE_KEY = OH, this.on = (t, r) => (this.events.on(t, r), this), this.once = (t, r) => (this.events.once(t, r), this), this.removeListener = (t, r) => (this.events.removeListener(t, r), this), this.off = (t, r) => (this.events.off(t, r), this), this.parseAccount = (t) => this.isCompatibleChainId(t) ? this.parseAccountId(t).address : t, this.signer = {}, this.rpc = {};
  }
  static async init(t) {
    const r = new N2();
    return await r.initialize(t), r;
  }
  async request(t, r) {
    return await this.signer.request(t, this.formatChainId(this.chainId), r);
  }
  sendAsync(t, r, i) {
    this.signer.sendAsync(t, r, this.formatChainId(this.chainId), i);
  }
  get connected() {
    return this.signer.client ? this.signer.client.core.relayer.connected : !1;
  }
  get connecting() {
    return this.signer.client ? this.signer.client.core.relayer.connecting : !1;
  }
  async enable() {
    return this.session || await this.connect(), await this.request({ method: "eth_requestAccounts" });
  }
  async connect(t) {
    if (!this.signer.client)
      throw new Error("Provider not initialized. Call init() first");
    this.loadConnectOpts(t);
    const { required: r, optional: i } = $H(this.rpc);
    try {
      const n = await new Promise(async (u, p) => {
        var b;
        this.rpc.showQrModal && ((b = this.modal) == null || b.subscribeModal((m) => {
          !m.open && !this.signer.session && (this.signer.abortPairingAttempt(), p(new Error("Connection request reset. Please try again.")));
        })), await this.signer.connect(W1(_h({ namespaces: _h({}, r && { [this.namespace]: r }) }, i && { optionalNamespaces: { [this.namespace]: i } }), { pairingTopic: t == null ? void 0 : t.pairingTopic })).then((m) => {
          u(m);
        }).catch((m) => {
          p(new Error(m.message));
        });
      });
      if (!n)
        return;
      const s = fm(n.namespaces, [this.namespace]);
      this.setChainIds(this.rpc.chains.length ? this.rpc.chains : s), this.setAccounts(s), this.events.emit("connect", { chainId: s0(this.chainId) });
    } catch (n) {
      throw this.signer.logger.error(n), n;
    } finally {
      this.modal && this.modal.closeModal();
    }
  }
  async authenticate(t) {
    if (!this.signer.client)
      throw new Error("Provider not initialized. Call init() first");
    this.loadConnectOpts({ chains: t == null ? void 0 : t.chains });
    try {
      const r = await new Promise(async (n, s) => {
        var u;
        this.rpc.showQrModal && ((u = this.modal) == null || u.subscribeModal((p) => {
          !p.open && !this.signer.session && (this.signer.abortPairingAttempt(), s(new Error("Connection request reset. Please try again.")));
        })), await this.signer.authenticate(W1(_h({}, t), { chains: this.rpc.chains })).then((p) => {
          n(p);
        }).catch((p) => {
          s(new Error(p.message));
        });
      }), i = r.session;
      if (i) {
        const n = fm(i.namespaces, [this.namespace]);
        this.setChainIds(this.rpc.chains.length ? this.rpc.chains : n), this.setAccounts(n), this.events.emit("connect", { chainId: s0(this.chainId) });
      }
      return r;
    } catch (r) {
      throw this.signer.logger.error(r), r;
    } finally {
      this.modal && this.modal.closeModal();
    }
  }
  async disconnect() {
    this.session && await this.signer.disconnect(), this.reset();
  }
  get isWalletConnect() {
    return !0;
  }
  get session() {
    return this.signer.session;
  }
  registerEventListeners() {
    this.signer.on("session_event", (t) => {
      const { params: r } = t, { event: i } = r;
      i.name === "accountsChanged" ? (this.accounts = this.parseAccounts(i.data), this.events.emit("accountsChanged", this.accounts)) : i.name === "chainChanged" ? this.setChainId(this.formatChainId(i.data)) : this.events.emit(i.name, i.data), this.events.emit("session_event", t);
    }), this.signer.on("chainChanged", (t) => {
      const r = parseInt(t);
      this.chainId = r, this.events.emit("chainChanged", s0(this.chainId)), this.persist();
    }), this.signer.on("session_update", (t) => {
      this.events.emit("session_update", t);
    }), this.signer.on("session_delete", (t) => {
      this.reset(), this.events.emit("session_delete", t), this.events.emit("disconnect", W1(_h({}, bp("USER_DISCONNECTED")), { data: t.topic, name: "USER_DISCONNECTED" }));
    }), this.signer.on("display_uri", (t) => {
      var r, i;
      this.rpc.showQrModal && ((r = this.modal) == null || r.closeModal(), (i = this.modal) == null || i.openModal({ uri: t })), this.events.emit("display_uri", t);
    });
  }
  switchEthereumChain(t) {
    this.request({ method: "wallet_switchEthereumChain", params: [{ chainId: t.toString(16) }] });
  }
  isCompatibleChainId(t) {
    return typeof t == "string" ? t.startsWith(`${this.namespace}:`) : !1;
  }
  formatChainId(t) {
    return `${this.namespace}:${t}`;
  }
  parseChainId(t) {
    return Number(t.split(":")[1]);
  }
  setChainIds(t) {
    const r = t.filter((i) => this.isCompatibleChainId(i)).map((i) => this.parseChainId(i));
    r.length && (this.chainId = r[0], this.events.emit("chainChanged", s0(this.chainId)), this.persist());
  }
  setChainId(t) {
    if (this.isCompatibleChainId(t)) {
      const r = this.parseChainId(t);
      this.chainId = r, this.switchEthereumChain(r);
    }
  }
  parseAccountId(t) {
    const [r, i, n] = t.split(":");
    return { chainId: `${r}:${i}`, address: n };
  }
  setAccounts(t) {
    this.accounts = t.filter((r) => this.parseChainId(this.parseAccountId(r).chainId) === this.chainId).map((r) => this.parseAccountId(r).address), this.events.emit("accountsChanged", this.accounts);
  }
  getRpcConfig(t) {
    var r, i;
    const n = (r = t == null ? void 0 : t.chains) != null ? r : [], s = (i = t == null ? void 0 : t.optionalChains) != null ? i : [], u = n.concat(s);
    if (!u.length)
      throw new Error("No chains specified in either `chains` or `optionalChains`");
    const p = n.length ? (t == null ? void 0 : t.methods) || jp : [], b = n.length ? (t == null ? void 0 : t.events) || Kp : [], m = (t == null ? void 0 : t.optionalMethods) || [], w = (t == null ? void 0 : t.optionalEvents) || [], S = (t == null ? void 0 : t.rpcMap) || this.buildRpcMap(u, t.projectId), C = (t == null ? void 0 : t.qrModalOptions) || void 0;
    return { chains: n == null ? void 0 : n.map((D) => this.formatChainId(D)), optionalChains: s.map((D) => this.formatChainId(D)), methods: p, events: b, optionalMethods: m, optionalEvents: w, rpcMap: S, showQrModal: !!(t != null && t.showQrModal), qrModalOptions: C, projectId: t.projectId, metadata: t.metadata };
  }
  buildRpcMap(t, r) {
    const i = {};
    return t.forEach((n) => {
      i[n] = this.getRpcUrl(n, r);
    }), i;
  }
  async initialize(t) {
    if (this.rpc = this.getRpcConfig(t), this.chainId = this.rpc.chains.length ? G0(this.rpc.chains) : G0(this.rpc.optionalChains), this.signer = await NH.init({ projectId: this.rpc.projectId, metadata: this.rpc.metadata, disableProviderPing: t.disableProviderPing, relayUrl: t.relayUrl, storageOptions: t.storageOptions, customStoragePrefix: t.customStoragePrefix, telemetryEnabled: t.telemetryEnabled }), this.registerEventListeners(), await this.loadPersistedSession(), this.rpc.showQrModal) {
      let r;
      try {
        const { WalletConnectModal: i } = await import("./index-BGqagnC8.js").then((n) => n.i);
        r = i;
      } catch {
        throw new Error("To use QR modal, please install @walletconnect/modal package");
      }
      if (r)
        try {
          this.modal = new r(_h({ projectId: this.rpc.projectId }, this.rpc.qrModalOptions));
        } catch (i) {
          throw this.signer.logger.error(i), new Error("Could not generate WalletConnectModal Instance");
        }
    }
  }
  loadConnectOpts(t) {
    if (!t)
      return;
    const { chains: r, optionalChains: i, rpcMap: n } = t;
    r && cu(r) && (this.rpc.chains = r.map((s) => this.formatChainId(s)), r.forEach((s) => {
      this.rpc.rpcMap[s] = (n == null ? void 0 : n[s]) || this.getRpcUrl(s);
    })), i && cu(i) && (this.rpc.optionalChains = [], this.rpc.optionalChains = i == null ? void 0 : i.map((s) => this.formatChainId(s)), i.forEach((s) => {
      this.rpc.rpcMap[s] = (n == null ? void 0 : n[s]) || this.getRpcUrl(s);
    }));
  }
  getRpcUrl(t, r) {
    var i;
    return ((i = this.rpc.rpcMap) == null ? void 0 : i[t]) || `${BH}?chainId=eip155:${t}&projectId=${r || this.rpc.projectId}`;
  }
  async loadPersistedSession() {
    if (this.session)
      try {
        const t = await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`), r = this.session.namespaces[`${this.namespace}:${t}`] ? this.session.namespaces[`${this.namespace}:${t}`] : this.session.namespaces[this.namespace];
        this.setChainIds(t ? [this.formatChainId(t)] : r == null ? void 0 : r.accounts), this.setAccounts(r == null ? void 0 : r.accounts);
      } catch (t) {
        this.signer.logger.error("Failed to load persisted session, clearing state..."), this.signer.logger.error(t), await this.disconnect().catch((r) => this.signer.logger.warn(r));
      }
  }
  reset() {
    this.chainId = 1, this.accounts = [];
  }
  persist() {
    this.session && this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`, this.chainId);
  }
  parseAccounts(t) {
    return typeof t == "string" || t instanceof String ? [this.parseAccount(t)] : t.map((r) => this.parseAccount(r));
  }
}
const Ej = N2;
export {
  Ej as EthereumProvider,
  FH as OPTIONAL_EVENTS,
  TH as OPTIONAL_METHODS,
  Kp as REQUIRED_EVENTS,
  jp as REQUIRED_METHODS,
  N2 as default
};
